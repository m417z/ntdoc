<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="RtlIpv4AddressToString - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>RtlIpv4AddressToString - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            RtlIpv4AddressToString - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">#ifndef _NTRTL_H

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">#define RtlIpv4AddressToString <a href="rtlipv4addresstostringw" title="NTSYSAPI&#10;PWSTR&#10;NTAPI&#10;RtlIpv4AddressToStringW(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PWSTR AddressString&#10;    );">RtlIpv4AddressToStringW</a>
</span><span class="ntdoc-code-footer">
#endif
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://github.com/winsiderss/systeminformer/blob/443d121781061210978931c1766974f1372e359a/phnt/include/ntrtl.h#L7692">View code on GitHub</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ip2string.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">NTSYSAPI PSTR <a href="rtlipv4addresstostringa" title="NTSYSAPI&#10;PSTR&#10;NTAPI&#10;RtlIpv4AddressToStringA(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PSTR AddressString&#10;    );">RtlIpv4AddressToStringA</a>(
  [in]  const in_addr *Addr,
  [out] PSTR          S
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/ip2string/nf-ip2string-rtlipv4addresstostringa">View the official Win32 API reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ip2string.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">NTSYSAPI PWSTR <a href="rtlipv4addresstostringw" title="NTSYSAPI&#10;PWSTR&#10;NTAPI&#10;RtlIpv4AddressToStringW(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PWSTR AddressString&#10;    );">RtlIpv4AddressToStringW</a>(
  [in]  const in_addr *Addr,
  [out] PWSTR         S
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/ip2string/nf-ip2string-rtlipv4addresstostringw">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/rtlipv4addresstostring.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (nf-ip2string-rtlipv4addresstostringa)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="rtlipv4addresstostringa-function"><a href="rtlipv4addresstostringa" title="NTSYSAPI&#10;PSTR&#10;NTAPI&#10;RtlIpv4AddressToStringA(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PSTR AddressString&#10;    );">RtlIpv4AddressToStringA</a> function</h1>

<h2 id="description">Description</h2>

<p>The
<strong>RtlIpv4AddressToString</strong> function converts an IPv4 address to a string in Internet standard dotted-decimal format.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="addr-in"><code>Addr</code> [in]</h3>

<p>The IPv4 address in network byte order.</p>

<h3 id="s-out"><code>S</code> [out]</h3>

<p>A pointer to a buffer in which to store the <strong>NULL</strong>-terminated string representation of the IPv4 address. This buffer should be large enough to hold at least 16 characters.</p>

<h2 id="return-value">Return value</h2>

<p>A pointer to the NULL character inserted at the end of the string representation of the IPv4 address.
This can be used by the caller to easily append more information to the string.</p>

<h2 id="remarks">Remarks</h2>

<p>The <strong>RtlIpv4AddressToString</strong> function is used to convert an IPv4 address to the string representation of the IPv4 address in Internet dotted-decimal format.</p>

<p><strong>RtlIpv4AddressToString</strong> is a convenience function that does not require that the Windows Sockets DLL be loaded to access a function provided in Windows Sockets to perform IP address to string conversion.</p>

<p>When either UNICODE or _UNICODE is defined, <strong>RtlIpv4AddressToString</strong> is defined to <strong><a href="rtlipv4addresstostringw" title="NTSYSAPI&#10;PWSTR&#10;NTAPI&#10;RtlIpv4AddressToStringW(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PWSTR AddressString&#10;    );">RtlIpv4AddressToStringW</a></strong>, the Unicode version of this function. The string parameter <em>S</em> and the function return value are defined to the PWSTR data type.</p>

<p>When both UNICODE and _UNICODE are not defined, <strong>RtlIpv4AddressToString</strong> is defined to <strong><a href="rtlipv4addresstostringa" title="NTSYSAPI&#10;PSTR&#10;NTAPI&#10;RtlIpv4AddressToStringA(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PSTR AddressString&#10;    );">RtlIpv4AddressToStringA</a></strong>, the ANSI version of this function. The string parameter <em>S</em> and the function return value are defined to the PSTR data type.</p>

<p>The <strong><a href="in_addr" title="typedef struct in_addr&#10;{&#10;    union&#10;    {&#10;        struct { UCHAR s_b1, s_b2, s_b3, s_b4; } S_un_b;&#10;        struct { USHORT s_w1, s_w2; } S_un_w;&#10;        ULONG S_addr;&#10;    } S_un;&#10;#define s_addr  S_un.S_addr /* can be used for most tcp &amp; ip code */&#10;#define s_host  S_un.S_un_b.s_b2    // host on imp&#10;#define s_net   S_un.S_un_b.s_b1    // network&#10;#define s_imp   S_un.S_un_w.s_w2    // imp&#10;#define s_impno S_un.S_un_b.s_b4    // imp #&#10;#define s_lh    S_un.S_un_b.s_b3    // logical host&#10;} IN_ADDR, * PIN_ADDR, FAR* LPIN_ADDR;">IN_ADDR</a></strong> structure is defined in the <em>Inaddr.h</em> header file.</p>

<blockquote>
  <p>[!NOTE]
  The ip2string.h header defines RtlIpv4AddressToString as an alias that automatically selects the ANSI or Unicode version of this function based on the definition of the UNICODE preprocessor constant. Mixing usage of the encoding-neutral alias with code that is not encoding-neutral can lead to mismatches that result in compilation or runtime errors. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/intl/conventions-for-function-prototypes">Conventions for Function Prototypes</a>.</p>
</blockquote>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/libloaderapi/nf-libloaderapi-getmodulehandlea">GetModuleHandle</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress">GetProcAddress</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ws2tcpip/nf-ws2tcpip-inetntopw">InetNtop</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ws2tcpip/nf-ws2tcpip-inetptonw">InetPton</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya">LoadLibrary</a></p>

<p><a href="rtlipv4addresstostringex" title="#define RtlIpv4AddressToStringEx RtlIpv4AddressToStringExW">RtlIpv4AddressToStringEx</a></p>

<p><a href="rtlipv4stringtoaddress" title="#define RtlIpv4StringToAddress RtlIpv4StringToAddressW">RtlIpv4StringToAddress</a></p>

<p><a href="rtlipv4stringtoaddressex" title="#define RtlIpv4StringToAddressEx RtlIpv4StringToAddressExW">RtlIpv4StringToAddressEx</a></p>

<p><a href="rtlipv6addresstostring" title="#define RtlIpv6AddressToString RtlIpv6AddressToStringW">RtlIpv6AddressToString</a></p>

<p><a href="rtlipv6addresstostringex" title="#define RtlIpv6AddressToStringEx RtlIpv6AddressToStringExW">RtlIpv6AddressToStringEx</a></p>

<p><a href="rtlipv6stringtoaddress" title="#define RtlIpv6StringToAddress RtlIpv6StringToAddressW">RtlIpv6StringToAddress</a></p>

<p><a href="rtlipv6stringtoaddressex" title="#define RtlIpv6StringToAddressEx RtlIpv6StringToAddressExW">RtlIpv6StringToAddressEx</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wsipv6ok/nf-wsipv6ok-inet_addr">inet_addr</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wsipv6ok/nf-wsipv6ok-inet_ntoa">inet_ntoa</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/ip2string/nf-ip2string-rtlipv4addresstostringa">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/ip2string/nf-ip2string-rtlipv4addresstostringa.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (nf-ip2string-rtlipv4addresstostringw)</h1>
</div>
<div class="ntdoc-description">
<h1><a href="rtlipv4addresstostringw" title="NTSYSAPI&#10;PWSTR&#10;NTAPI&#10;RtlIpv4AddressToStringW(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PWSTR AddressString&#10;    );">RtlIpv4AddressToStringW</a> function</h1>

<h2>Description</h2>

<p>The
<strong>RtlIpv4AddressToString</strong> function converts an IPv4 address to a string in Internet standard dotted-decimal format.</p>

<h2>Parameters</h2>

<h3><code>Addr</code> [in]</h3>

<p>The IPv4 address in network byte order.</p>

<h3><code>S</code> [out]</h3>

<p>A pointer to a buffer in which to store the <strong>NULL</strong>-terminated string representation of the IPv4 address. This buffer should be large enough to hold at least 16 characters.</p>

<h2>Return value</h2>

<p>A pointer to the NULL character inserted at the end of the string representation of the IPv4 address.
This can be used by the caller to easily append more information to the string.</p>

<h2>Remarks</h2>

<p>The <strong>RtlIpv4AddressToString</strong> function is used to convert an IPv4 address to the string representation of the IPv4 address in Internet dotted-decimal format.</p>

<p><strong>RtlIpv4AddressToString</strong> is a convenience function that does not require that the Windows Sockets DLL be loaded to access a function provided in Windows Sockets to perform IP address to string conversion.</p>

<p>When either UNICODE or _UNICODE is defined, <strong>RtlIpv4AddressToString</strong> is defined to <strong><a href="rtlipv4addresstostringw" title="NTSYSAPI&#10;PWSTR&#10;NTAPI&#10;RtlIpv4AddressToStringW(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PWSTR AddressString&#10;    );">RtlIpv4AddressToStringW</a></strong>, the Unicode version of this function. The string parameter <em>S</em> and the function return value are defined to the PWSTR data type.</p>

<p>When both UNICODE and _UNICODE are not defined, <strong>RtlIpv4AddressToString</strong> is defined to <strong><a href="rtlipv4addresstostringa" title="NTSYSAPI&#10;PSTR&#10;NTAPI&#10;RtlIpv4AddressToStringA(&#10;    _In_ PCIN_ADDR Address,&#10;    _Out_writes_(16) PSTR AddressString&#10;    );">RtlIpv4AddressToStringA</a></strong>, the ANSI version of this function. The string parameter <em>S</em> and the function return value are defined to the PSTR data type.</p>

<p>The <strong><a href="in_addr" title="typedef struct in_addr&#10;{&#10;    union&#10;    {&#10;        struct { UCHAR s_b1, s_b2, s_b3, s_b4; } S_un_b;&#10;        struct { USHORT s_w1, s_w2; } S_un_w;&#10;        ULONG S_addr;&#10;    } S_un;&#10;#define s_addr  S_un.S_addr /* can be used for most tcp &amp; ip code */&#10;#define s_host  S_un.S_un_b.s_b2    // host on imp&#10;#define s_net   S_un.S_un_b.s_b1    // network&#10;#define s_imp   S_un.S_un_w.s_w2    // imp&#10;#define s_impno S_un.S_un_b.s_b4    // imp #&#10;#define s_lh    S_un.S_un_b.s_b3    // logical host&#10;} IN_ADDR, * PIN_ADDR, FAR* LPIN_ADDR;">IN_ADDR</a></strong> structure is defined in the <em>Inaddr.h</em> header file.</p>

<blockquote>
  <p>[!NOTE]
  The ip2string.h header defines RtlIpv4AddressToString as an alias that automatically selects the ANSI or Unicode version of this function based on the definition of the UNICODE preprocessor constant. Mixing usage of the encoding-neutral alias with code that is not encoding-neutral can lead to mismatches that result in compilation or runtime errors. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/intl/conventions-for-function-prototypes">Conventions for Function Prototypes</a>.</p>
</blockquote>

<h2>See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/libloaderapi/nf-libloaderapi-getmodulehandlea">GetModuleHandle</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress">GetProcAddress</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ws2tcpip/nf-ws2tcpip-inetntopw">InetNtop</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ws2tcpip/nf-ws2tcpip-inetptonw">InetPton</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya">LoadLibrary</a></p>

<p><a href="rtlipv4addresstostringex" title="#define RtlIpv4AddressToStringEx RtlIpv4AddressToStringExW">RtlIpv4AddressToStringEx</a></p>

<p><a href="rtlipv4stringtoaddress" title="#define RtlIpv4StringToAddress RtlIpv4StringToAddressW">RtlIpv4StringToAddress</a></p>

<p><a href="rtlipv4stringtoaddressex" title="#define RtlIpv4StringToAddressEx RtlIpv4StringToAddressExW">RtlIpv4StringToAddressEx</a></p>

<p><a href="rtlipv6addresstostring" title="#define RtlIpv6AddressToString RtlIpv6AddressToStringW">RtlIpv6AddressToString</a></p>

<p><a href="rtlipv6addresstostringex" title="#define RtlIpv6AddressToStringEx RtlIpv6AddressToStringExW">RtlIpv6AddressToStringEx</a></p>

<p><a href="rtlipv6stringtoaddress" title="#define RtlIpv6StringToAddress RtlIpv6StringToAddressW">RtlIpv6StringToAddress</a></p>

<p><a href="rtlipv6stringtoaddressex" title="#define RtlIpv6StringToAddressEx RtlIpv6StringToAddressExW">RtlIpv6StringToAddressEx</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wsipv6ok/nf-wsipv6ok-inet_addr">inet_addr</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wsipv6ok/nf-wsipv6ok-inet_ntoa">inet_ntoa</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/ip2string/nf-ip2string-rtlipv4addresstostringw">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/ip2string/nf-ip2string-rtlipv4addresstostringw.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
