<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_RECEIVE_FILTER_CAPABILITIES - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_RECEIVE_FILTER_CAPABILITIES - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_RECEIVE_FILTER_CAPABILITIES - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NDIS_RECEIVE_FILTER_CAPABILITIES {
  <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> Header;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              Flags;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              EnabledFilterTypes;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              EnabledQueueTypes;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NumQueues;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              SupportedQueueProperties;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              SupportedFilterTests;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              SupportedHeaders;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              SupportedMacHeaderFields;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxMacHeaderFilters;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxQueueGroups;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxQueuesPerQueueGroup;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MinLookaheadSplitSize;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxLookaheadSplitSize;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              SupportedARPHeaderFields;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              SupportedIPv4HeaderFields;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              SupportedIPv6HeaderFields;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              SupportedUdpHeaderFields;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxFieldTestsPerPacketCoalescingFilter;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxPacketCoalescingFilters;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved;
} NDIS_RECEIVE_FILTER_CAPABILITIES, *PNDIS_RECEIVE_FILTER_CAPABILITIES;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_receive_filter_capabilities">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_receive_filter_capabilities.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddndis-_ndis_receive_filter_capabilities)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ndis_receive_filter_capabilities-structure">_NDIS_RECEIVE_FILTER_CAPABILITIES structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>NDIS_RECEIVE_FILTER_CAPABILITIES</strong> structure specifies the receive filtering capabilities of a
network adapter.</p>

<p>NDIS receive filters are used in the following NDIS interfaces:</p>

<ul>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/ndis-packet-coalescing">NDIS Packet Coalescing</a>. For more information about how to use receive filters in this interface, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/managing-packet-coalescing-receive-filters">Managing Packet Coalescing Receive Filters</a>.</li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/single-root-i-o-virtualization--sr-iov-">Single Root I/O Virtualization (SR-IOV)</a>. For more information about how to use receive filters in this interface, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/setting-a-receive-filter-on-a-virtual-port">Setting a Receive Filter on a Virtual Port</a>.</li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/virtual-machine-queue-architecture">Virtual Machine Queue (VMQ)</a>. For more information about how to use receive filters in this interface, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/setting-and-clearing-vmq-filters">Setting and Clearing VMQ Filters</a>.</li>
</ul>

<h2 id="members">Members</h2>

<h3 id="header"><code>Header</code></h3>

<p>The
<a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> structure for the
<strong>NDIS_RECEIVE_FILTER_CAPABILITIES</strong> structure. The driver sets the
<strong>Type</strong> member of the structure that
<strong>Header</strong> specifies to NDIS_OBJECT_TYPE_DEFAULT.</p>

<p>To indicate the version of the <strong>NDIS_RECEIVE_FILTER_CAPABILITIES</strong> structure, the driver sets the
<strong>Revision</strong> member to one of the following values:</p>

<h4 id="ndis_receive_filter_capabilities_revision_2">NDIS_RECEIVE_FILTER_CAPABILITIES_REVISION_2</h4>

<p>Added
various members for NDIS 6.30 and later.</p>

<p>The driver sets the
<strong>Size</strong> member to NDIS_SIZEOF_RECEIVE_FILTER_CAPABILITIES_REVISION_2.</p>

<h4 id="ndis_receive_filter_capabilities_revision_1">NDIS_RECEIVE_FILTER_CAPABILITIES_REVISION_1</h4>

<p>Original version for NDIS 6.20.</p>

<p>The driver sets the
<strong>Size</strong> member to NDIS_SIZEOF_RECEIVE_FILTER_CAPABILITIES_REVISION_1.</p>

<h3 id="flags"><code>Flags</code></h3>

<p>A bitwise OR of flags. This member is reserved for NDIS.</p>

<h3 id="enabledfiltertypes"><code>EnabledFilterTypes</code></h3>

<p>A bitwise OR of flags that specify the types of receive filters that are enabled. The
following filter type flag is valid.</p>

<h4 id="ndis_receive_filter_vmq_filters_enabled">NDIS_RECEIVE_FILTER_VMQ_FILTERS_ENABLED</h4>

<p>Specifies that VMQ filters are enabled.</p>

<p><strong>Note</strong> The miniport driver should set this flag if the miniport driver is enabled to use the SR-IOV interface.</p>

<h4 id="ndis_receive_filter_packet_coalescing_filters_enabled">NDIS_RECEIVE_FILTER_PACKET_COALESCING_FILTERS_ENABLED</h4>

<p>Specifies that NDIS packet coalescing receive filters are enabled.</p>

<h3 id="enabledqueuetypes"><code>EnabledQueueTypes</code></h3>

<p>A bitwise OR of flags that specify the types of receive queues that are enabled. The
following queue type flag is valid.</p>

<h4 id="ndis_receive_filter_vm_queues_enabled">NDIS_RECEIVE_FILTER_VM_QUEUES_ENABLED</h4>

<p>Specifies that virtual machine (VM) queues are enabled. VM queues are used when the miniport driver is enabled to use the VMQ interface.</p>

<p><strong>Note</strong> The miniport driver must not set this flag if the miniport driver is enabled to only use the SR-IOV interface. For more information on how these interfaces are enabled, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/handling-sr-iov--vmq--and-rss-standardized-inf-keywords">Handling SR-IOV, VMQ, and RSS Standardized INF Keywords</a>.</p>

<h3 id="numqueues"><code>NumQueues</code></h3>

<p>The number of VM queues that the network adapter supports.</p>

<p><strong>Note</strong> If the miniport driver is enabled to use the SR-IOV interface, it must set this member to zero. When use of the SR-IOV interface is enabled, NDIS uses virtual ports (VPorts) for receive and transmit queues instead of VM queues.</p>

<h3 id="supportedqueueproperties"><code>SupportedQueueProperties</code></h3>

<p>A bitwise OR of flags that specify the VM queue properties that the network adapter supports. The
following flags are defined:</p>

<h4 id="ndis_receive_filter_msi_x_supported">NDIS_RECEIVE_FILTER_MSI_X_SUPPORTED</h4>

<p>The network adapter uses MSI-X for receive queue interrupt generation. This flag is mandatory for miniport drivers that support the VMQ or SR-IOV interface.</p>

<h4 id="ndis_receive_filter_vm_queue_supported">NDIS_RECEIVE_FILTER_VM_QUEUE_SUPPORTED</h4>

<p>The network adapter provides the minimum requirements to support VM queue packet filtering.</p>

<p>The miniport driver must set this flag if it is enabled to use the VMQ or SR-IOV interface.</p>

<p>For more information about VMQ requirements for VM queue packet filtering, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/setting-and-clearing-vmq-filters">Setting and Clearing VMQ Filters</a>.</p>

<p>For more information about SR-IOV requirements for VM queue packet filtering, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/setting-a-receive-filter-on-a-virtual-port">Setting a Receive Filter on a Virtual Port</a>.</p>

<h4 id="ndis_receive_filter_lookahead_split_supported">NDIS_RECEIVE_FILTER_LOOKAHEAD_SPLIT_SUPPORTED</h4>

<p>The network adapter supports VM queues that split an incoming received packet at the lookahead
offset. This offset is equal to or greater than the requested lookahead size. The network adapter uses DMA to transfer the lookahead
and post-lookahead data to separate shared memory segments.</p>

<p><strong>Note</strong> Starting with NDIS 6.30, splitting packet data into separate lookahead buffers is no longer supported. Miniport drivers that support this version of NDIS must not set this flag.</p>

<h4 id="ndis_receive_filter_dynamic_processor_affinity_change_supported">NDIS_RECEIVE_FILTER_DYNAMIC_PROCESSOR_AFFINITY_CHANGE_SUPPORTED</h4>

<p>The network adapter supports the ability to dynamically change one of the following processor affinity attributes:</p>

<ul>
<li>The processor affinity of a VM queue in the VMQ interface. The processor affinity is changed through an OID set request of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-queue-parameters">OID_RECEIVE_FILTER_QUEUE_PARAMETERS</a>.</li>
<li>The processor affinity of a nondefault virtual port (VPort), which was created in the SR-IOV interface and is attached to the PCI Express (PCIe) physical function (PF) of the network adapter. The processor affinity is changed through an OID set request of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-vport-parameters">OID_NIC_SWITCH_VPORT_PARAMETERS</a>.</li>
</ul>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later. Miniport drivers that support the VMQ or SR-IOV interface must set this flag.</p>

<h4 id="ndis_receive_filter_interrupt_vector_coalescing_supported">NDIS_RECEIVE_FILTER_INTERRUPT_VECTOR_COALESCING_SUPPORTED</h4>

<p>The network adapter supports interrupt coalescing for received packets on any of the following:</p>

<ul>
<li>Multiple VM queues in the VMQ interface.</li>
<li>Multiple VPorts that are attached to the PF in the SR-IOV interface.</li>
</ul>

<p>If this flag is set, the network adapter must coalesce receive interrupts for VM queues or VPorts that have the same processor affinity.</p>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later. Miniport drivers that support the VMQ or SR-IOV interface must set this flag.</p>

<h4 id="ndis_receive_filter_implat_min_of_queues_mode">NDIS_RECEIVE_FILTER_IMPLAT_MIN_OF_QUEUES_MODE</h4>

<p>Indicates that the number of VM queues available is the minimum number of queues available from any member of a Load Balancing Failover (LBFO) team. This flag applies to LBFO filters only. This flag is not set for miniports.</p>

<h4 id="ndis_receive_filter_implat_sum_of_queues_mode">NDIS_RECEIVE_FILTER_IMPLAT_SUM_OF_QUEUES_MODE</h4>

<p>Indicates that the number of VM queues available is the sum of all the queues available from every member of an LBFO team. This flag applies to LBFO filters only. This flag is not set for miniports.</p>

<h4 id="ndis_receive_filter_packet_coalescing_supported_on_default_queue">NDIS_RECEIVE_FILTER_PACKET_COALESCING_SUPPORTED_ON_DEFAULT_QUEUE</h4>

<p>The network adapter supports NDIS packet coalescing. Packet coalescing is only supported on the default receive queue of the network adapter. This receive queue has an identifier of NDIS_DEFAULT_RECEIVE_QUEUE_ID.</p>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later.</p>

<h3 id="supportedfiltertests"><code>SupportedFilterTests</code></h3>

<p>A bitwise OR of flags that specify the test operations that a miniport
driver supports. The following flags are defined:</p>

<h4 id="ndis_receive_filter_test_header_field_equal_supported">NDIS_RECEIVE_FILTER_TEST_HEADER_FIELD_EQUAL_SUPPORTED</h4>

<p>The network adapter supports testing the selected header field to determine whether it is equal to a
given value.</p>

<p><strong>Note</strong> If the miniport driver supports the VMQ or SR-IOV interfaces, it must set this flag.</p>

<h4 id="ndis_receive_filter_test_header_field_mask_equal_supported">NDIS_RECEIVE_FILTER_TEST_HEADER_FIELD_MASK_EQUAL_SUPPORTED</h4>

<p>The network adapter supports masking (that is, a bitwise AND) of the selected header field to
determine whether the result is equal to a specified value.</p>

<h4 id="ndis_receive_filter_test_header_field_not_equal_supported">NDIS_RECEIVE_FILTER_TEST_HEADER_FIELD_NOT_EQUAL_SUPPORTED</h4>

<p>The network adapter supports testing the selected header field to determine whether it is not equal to a
specified value.</p>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later.</p>

<h3 id="supportedheaders"><code>SupportedHeaders</code></h3>

<p>A bitwise OR of flags that specify the types of network packet headers that
a miniport driver can inspect. The following flags are defined:</p>

<h4 id="ndis_receive_filter_mac_header_supported">NDIS_RECEIVE_FILTER_MAC_HEADER_SUPPORTED</h4>

<p>The network adapter can inspect the media access control (MAC) header of a network packet. The <strong>SupportedMacHeaderFields</strong> member defines the various fields from the MAC header that can be inspected.</p>

<h4 id="ndis_receive_filter_arp_header_supported">NDIS_RECEIVE_FILTER_ARP_HEADER_SUPPORTED</h4>

<p>The network adapter can inspect the Address Resolution Protocol (ARP) header of a network packet. The <strong>SupportedArpHeaderFields</strong> member defines the various fields from the ARP header that can be inspected.</p>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later.</p>

<h4 id="ndis_receive_filter_ipv4_header_supported">NDIS_RECEIVE_FILTER_IPV4_HEADER_SUPPORTED</h4>

<p>The network adapter can inspect the IP version 4 (IPv4) header of a network packet. The <strong>SupportedIPv4HeaderFields</strong> member defines the various fields from the IPv4 header that can be inspected.</p>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later.</p>

<h4 id="ndis_receive_filter_ipv6_header_supported">NDIS_RECEIVE_FILTER_IPV6_HEADER_SUPPORTED</h4>

<p>The network adapter can inspect the IP version 6 (IPv6) header of a network packet. The <strong>SupportedIPv6HeaderFields</strong> member defines the various fields from the IPv6 header that can be inspected.</p>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later.</p>

<h4 id="ndis_receive_filter_udp_header_supported">NDIS_RECEIVE_FILTER_UDP_HEADER_SUPPORTED</h4>

<p>The network adapter can inspect the User Datagram Protocol
(UDP) header of a network packet. The <strong>SupportedIPv6HeaderFields</strong> member defines the various fields from the UDP header that can be inspected.</p>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later.</p>

<h3 id="supportedmacheaderfields"><code>SupportedMacHeaderFields</code></h3>

<p>A bitwise OR of flags that specify the types of MAC header fields that a
miniport driver can inspect. The following flags are defined:</p>

<h4 id="ndis_receive_filter_mac_header_dest_addr_supported">NDIS_RECEIVE_FILTER_MAC_HEADER_DEST_ADDR_SUPPORTED</h4>

<p>The network adapter supports inspecting and filtering that are based on the destination MAC
address in the MAC header.</p>

<p><strong>Note</strong> Starting with NDIS 6.30, miniport drivers that support the VMQ or SR-IOV interface must set this flag.</p>

<h4 id="ndis_receive_filter_mac_header_source_addr_supported">NDIS_RECEIVE_FILTER_MAC_HEADER_SOURCE_ADDR_SUPPORTED</h4>

<p>The network adapter supports inspecting and filtering that are based on the source MAC address
in the MAC header.</p>

<h4 id="ndis_receive_filter_mac_header_protocol_supported">NDIS_RECEIVE_FILTER_MAC_HEADER_PROTOCOL_SUPPORTED</h4>

<p>The network adapter supports inspecting and filtering that are based on the EtherType identifier
in the MAC header. For example, the EtherType identifier for IPv4 packets is 0x0800.</p>

<h4 id="ndis_receive_filter_mac_header_vlan_id_supported">NDIS_RECEIVE_FILTER_MAC_HEADER_VLAN_ID_SUPPORTED</h4>

<p>The network adapter supports inspecting and filtering that are based on the VLAN identifier in
the MAC header.</p>

<p><strong>Note</strong> Starting with NDIS 6.30, this flag is optional. If the miniport driver does not set this flag, the network adapter should inspect and filter the specified MAC address fields. If a VLAN tag is present in the received packet, the network adapter must remove it from the packet data. The miniport driver must put the VLAN tag in an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_net_buffer_list_8021q_info">NDIS_NET_BUFFER_LIST_8021Q_INFO</a> structure that is associated with the packet's <a href="net_buffer_list" title="typedef struct _NET_BUFFER_LIST {&#10;  union {&#10;    struct {&#10;      NET_BUFFER_LIST *Next;&#10;      NET_BUFFER      *FirstNetBuffer;&#10;    };&#10;    SLIST_HEADER           Link;&#10;    NET_BUFFER_LIST_HEADER NetBufferListHeader;&#10;  };&#10;  NET_BUFFER_LIST_CONTEXT *Context;&#10;  NET_BUFFER_LIST         *ParentNetBufferList;&#10;  NDIS_HANDLE             NdisPoolHandle;&#10;  PVOID                   NdisReserved[2];&#10;  PVOID                   ProtocolReserved[4];&#10;  PVOID                   MiniportReserved[2];&#10;  PVOID                   Scratch;&#10;  NDIS_HANDLE             SourceHandle;&#10;  ULONG                   NblFlags;&#10;  LONG                    ChildRefCount;&#10;  ULONG                   Flags;&#10;...">NET_BUFFER_LIST</a> structure.</p>

<h4 id="ndis_receive_filter_mac_header_priority_supported">NDIS_RECEIVE_FILTER_MAC_HEADER_PRIORITY_SUPPORTED</h4>

<p>The network adapter supports inspecting and filtering that are based on the priority tag in the
MAC header.</p>

<h4 id="ndis_receive_filter_mac_header_packet_type_supported">NDIS_RECEIVE_FILTER_MAC_HEADER_PACKET_TYPE_SUPPORTED</h4>

<p>The network adapter supports inspecting and filtering that are based on the packet type field of the IEEE 802.2 subnetwork access protocol (SNAP) header in an 802.3 MAC header.</p>

<p><strong>Note</strong> This flag is supported in NDIS 6.30 and later.</p>

<h3 id="maxmacheaderfilters"><code>MaxMacHeaderFilters</code></h3>

<p>The maximum number of MAC header filters that the miniport driver
supports.</p>

<h3 id="maxqueuegroups"><code>MaxQueueGroups</code></h3>

<p>This member is reserved for NDIS.</p>

<h3 id="maxqueuesperqueuegroup"><code>MaxQueuesPerQueueGroup</code></h3>

<p>This member is reserved for NDIS.</p>

<h3 id="minlookaheadsplitsize"><code>MinLookaheadSplitSize</code></h3>

<p>The minimum size, in bytes, that the network adapter supports for lookahead
packet buffers.</p>

<p><strong>Note</strong> Starting with NDIS 6.30, splitting packet data into separate lookahead buffers is no longer supported. Miniport drivers that support this version of NDIS must set this member to zero.</p>

<h3 id="maxlookaheadsplitsize"><code>MaxLookaheadSplitSize</code></h3>

<p>The maximum size, in bytes, that the network adapter supports for lookahead
packet buffers.</p>

<p><strong>Note</strong> Starting with NDIS 6.30, splitting packet data into separate lookahead buffers is no longer supported. Miniport drivers that support this version of NDIS must set this member to zero.</p>

<h3 id="supportedarpheaderfields"><code>SupportedARPHeaderFields</code></h3>

<p>A bitwise OR of flags that specify the types of ARP header fields that a
miniport driver can inspect. The following flags are defined:</p>

<h4 id="ndis_receive_filter_arp_header_operation_supported">NDIS_RECEIVE_FILTER_ARP_HEADER_OPERATION_SUPPORTED</h4>

<p>The network adapter supports receive filtering on the ARP operation field.</p>

<h4 id="ndis_receive_filter_arp_header_spa_supported">NDIS_RECEIVE_FILTER_ARP_HEADER_SPA_SUPPORTED</h4>

<p>The network adapter supports receive filtering on the ARP source protocol address (SPA) field.</p>

<h4 id="ndis_receive_filter_arp_header_tpa_supported">NDIS_RECEIVE_FILTER_ARP_HEADER_TPA_SUPPORTED</h4>

<p>The network adapter supports receive filtering on the ARP target protocol address (TPA) field.</p>

<h3 id="supportedipv4headerfields"><code>SupportedIPv4HeaderFields</code></h3>

<p>A bitwise OR of flags that specify the types of IPv4 header fields that a
miniport driver can inspect. The following flags are defined:</p>

<h4 id="ndis_receive_filter_ipv4_header_protocol_supported">NDIS_RECEIVE_FILTER_IPV4_HEADER_PROTOCOL_SUPPORTED</h4>

<p>The network adapter supports receive filtering on the IPv4 protocol field.</p>

<h3 id="supportedipv6headerfields"><code>SupportedIPv6HeaderFields</code></h3>

<p>A bitwise OR of flags that specify the types of IPv6 header fields that a
miniport driver can inspect. The following flags are defined:</p>

<h4 id="ndis_receive_filter_ipv6_header_protocol_supported">NDIS_RECEIVE_FILTER_IPV6_HEADER_PROTOCOL_SUPPORTED</h4>

<p>The network adapter supports receive filtering on the IPv6 protocol field.</p>

<h3 id="supportedudpheaderfields"><code>SupportedUdpHeaderFields</code></h3>

<p>A bitwise OR of flags that specify the types of IPv6 header fields that a
miniport driver can inspect. The following flags are defined:</p>

<h4 id="ndis_receive_filter_udp_header_dest_port_supported">NDIS_RECEIVE_FILTER_UDP_HEADER_DEST_PORT_SUPPORTED</h4>

<p>The network adapter supports receive filtering on the UDP destination port field.</p>

<p><strong>Note</strong> If the received UDP packet contains IPv4 options or IPv6 extension headers, the network adapter can automatically drop the received packet and treat it as if it failed the UDP filter test.</p>

<h3 id="maxfieldtestsperpacketcoalescingfilter"><code>MaxFieldTestsPerPacketCoalescingFilter</code></h3>

<p>The maximum number of tests on packet header fields that can be specified for a single packet coalescing filter. For more information about packet coalescing, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/ndis-packet-coalescing">NDIS Packet Coalescing</a>.</p>

<p><strong>Note</strong> Network adapters that support packet coalescing must support five or more packet header fields that can be specified for a single packet coalescing filter. If the adapter does not support packet coalescing, the miniport driver must set this value to zero.</p>

<h3 id="maxpacketcoalescingfilters"><code>MaxPacketCoalescingFilters</code></h3>

<p>The maximum number of packet coalescing receive filters that are supported by the network adapter.</p>

<p><strong>Note</strong> Network adapters that support packet coalescing must support ten or more packet coalescing filters. If the adapter does not support packet coalescing, the miniport driver must set this value to zero.</p>

<h3 id="ndisreserved"><code>NdisReserved</code></h3>

<p>Reserved. Set to 0.</p>

<h2 id="remarks">Remarks</h2>

<p>The <strong>NDIS_RECEIVE_FILTER_CAPABILITIES</strong> structure is used in the
<strong>ReceiveFilterCapabilities</strong> member of the
<a href="ndis_miniport_adapter_hardware_assist_attributes" title="typedef struct _NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_HD_SPLIT_ATTRIBUTES         HDSplitAttributes;&#10;  PNDIS_RECEIVE_FILTER_CAPABILITIES HardwareReceiveFilterCapabilities;&#10;  PNDIS_RECEIVE_FILTER_CAPABILITIES CurrentReceiveFilterCapabilities;&#10;  PNDIS_NIC_SWITCH_CAPABILITIES     HardwareNicSwitchCapabilities;&#10;  PNDIS_NIC_SWITCH_CAPABILITIES     CurrentNicSwitchCapabilities;&#10;  PNDIS_SRIOV_CAPABILITIES          HardwareSriovCapabilities;&#10;  PNDIS_SRIOV_CAPABILITIES          CurrentSriovCapabilities;&#10;  PNDIS_QOS_CAPABILITIES            HardwareQosCapabilities;&#10;  PNDIS_QOS_CAPABILITIES            CurrentQosCapabilities;&#10;  PNDIS_GFT_OFFLOAD_CAPABILITIES    HardwareGftOffloadCapabilities;&#10;  PNDIS_GFT_OFFLOAD_CAPABILITIES    CurrentGftOffloadCapabilities;&#10;} NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES, *PNDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES;">NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES</a>,
<a href="ndis_filter_attach_parameters" title="typedef struct _NDIS_FILTER_ATTACH_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  NET_IFINDEX                       IfIndex;&#10;  NET_LUID                          NetLuid;&#10;  PNDIS_STRING                      FilterModuleGuidName;&#10;  NET_IFINDEX                       BaseMiniportIfIndex;&#10;  PNDIS_STRING                      BaseMiniportInstanceName;&#10;  PNDIS_STRING                      BaseMiniportName;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NET_IF_MEDIA_DUPLEX_STATE         MediaDuplexState;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIUM                       MiniportMediaType;&#10;  NDIS_PHYSICAL_MEDIUM              MiniportPhysicalMediaType;&#10;  NDIS_HANDLE                       MiniportMediaSpecificAttributes;&#10;  PNDIS_OFFLOAD                     DefaultOffloadConfiguration;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NET_LUID                          BaseMiniportNetLuid;&#10;  NET_IFINDEX                       LowerIfIndex;&#10;...">NDIS_FILTER_ATTACH_PARAMETERS</a>, and
<a href="ndis_bind_parameters" title="typedef struct _NDIS_BIND_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_STRING                      ProtocolSection;&#10;  PNDIS_STRING                      AdapterName;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  NDIS_MEDIUM                       MediaType;&#10;  ULONG                             MtuSize;&#10;  ULONG64                           MaxXmitLinkSpeed;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           MaxRcvLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NDIS_MEDIA_DUPLEX_STATE           MediaDuplexState;&#10;  ULONG                             LookaheadSize;&#10;  PNDIS_PNP_CAPABILITIES            PowerManagementCapabilities;&#10;  ULONG                             SupportedPacketFilters;&#10;  ULONG                             MaxMulticastListSize;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NDIS_PHYSICAL_MEDIUM              PhysicalMediumType;&#10;...">NDIS_BIND_PARAMETERS</a> structures and the
return result of the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-hardware-capabilities">OID_RECEIVE_FILTER_HARDWARE_CAPABILITIES</a> OID query.</p>

<p>Many of the members and flag settings of the <strong>NDIS_RECEIVE_FILTER_CAPABILITIES</strong> structure are valid only if the miniport driver is enabled to use the VMQ or SR-IOV interface. The miniport driver is enabled to use these interfaces through standardized INF keywords. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/handling-sr-iov--vmq--and-rss-standardized-inf-keywords">Handling SR-IOV, VMQ, and RSS Standardized INF Keywords</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="ndis_bind_parameters" title="typedef struct _NDIS_BIND_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_STRING                      ProtocolSection;&#10;  PNDIS_STRING                      AdapterName;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  NDIS_MEDIUM                       MediaType;&#10;  ULONG                             MtuSize;&#10;  ULONG64                           MaxXmitLinkSpeed;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           MaxRcvLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NDIS_MEDIA_DUPLEX_STATE           MediaDuplexState;&#10;  ULONG                             LookaheadSize;&#10;  PNDIS_PNP_CAPABILITIES            PowerManagementCapabilities;&#10;  ULONG                             SupportedPacketFilters;&#10;  ULONG                             MaxMulticastListSize;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NDIS_PHYSICAL_MEDIUM              PhysicalMediumType;&#10;...">NDIS_BIND_PARAMETERS</a></p>

<p><a href="ndis_filter_attach_parameters" title="typedef struct _NDIS_FILTER_ATTACH_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  NET_IFINDEX                       IfIndex;&#10;  NET_LUID                          NetLuid;&#10;  PNDIS_STRING                      FilterModuleGuidName;&#10;  NET_IFINDEX                       BaseMiniportIfIndex;&#10;  PNDIS_STRING                      BaseMiniportInstanceName;&#10;  PNDIS_STRING                      BaseMiniportName;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NET_IF_MEDIA_DUPLEX_STATE         MediaDuplexState;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIUM                       MiniportMediaType;&#10;  NDIS_PHYSICAL_MEDIUM              MiniportPhysicalMediaType;&#10;  NDIS_HANDLE                       MiniportMediaSpecificAttributes;&#10;  PNDIS_OFFLOAD                     DefaultOffloadConfiguration;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NET_LUID                          BaseMiniportNetLuid;&#10;  NET_IFINDEX                       LowerIfIndex;&#10;...">NDIS_FILTER_ATTACH_PARAMETERS</a></p>

<p><a href="ndis_miniport_adapter_hardware_assist_attributes" title="typedef struct _NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_HD_SPLIT_ATTRIBUTES         HDSplitAttributes;&#10;  PNDIS_RECEIVE_FILTER_CAPABILITIES HardwareReceiveFilterCapabilities;&#10;  PNDIS_RECEIVE_FILTER_CAPABILITIES CurrentReceiveFilterCapabilities;&#10;  PNDIS_NIC_SWITCH_CAPABILITIES     HardwareNicSwitchCapabilities;&#10;  PNDIS_NIC_SWITCH_CAPABILITIES     CurrentNicSwitchCapabilities;&#10;  PNDIS_SRIOV_CAPABILITIES          HardwareSriovCapabilities;&#10;  PNDIS_SRIOV_CAPABILITIES          CurrentSriovCapabilities;&#10;  PNDIS_QOS_CAPABILITIES            HardwareQosCapabilities;&#10;  PNDIS_QOS_CAPABILITIES            CurrentQosCapabilities;&#10;  PNDIS_GFT_OFFLOAD_CAPABILITIES    HardwareGftOffloadCapabilities;&#10;  PNDIS_GFT_OFFLOAD_CAPABILITIES    CurrentGftOffloadCapabilities;&#10;} NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES, *PNDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES;">NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES</a></p>

<p><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></p>

<p><a href="ndis_receive_queue_info" title="typedef struct _NDIS_RECEIVE_QUEUE_INFO {&#10;  NDIS_OBJECT_HEADER                   Header;&#10;  ULONG                                Flags;&#10;  NDIS_RECEIVE_QUEUE_TYPE              QueueType;&#10;  NDIS_RECEIVE_QUEUE_ID                QueueId;&#10;  NDIS_RECEIVE_QUEUE_GROUP_ID          QueueGroupId;&#10;  NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE QueueState;&#10;  GROUP_AFFINITY                       ProcessorAffinity;&#10;  ULONG                                NumSuggestedReceiveBuffers;&#10;  ULONG                                MSIXTableEntry;&#10;  ULONG                                LookaheadSize;&#10;  NDIS_VM_NAME                         VmName;&#10;  NDIS_QUEUE_NAME                      QueueName;&#10;  ULONG                                NumFilters;&#10;  ULONG                                InterruptCoalescingDomainId;&#10;} NDIS_RECEIVE_QUEUE_INFO, *PNDIS_RECEIVE_QUEUE_INFO;">NDIS_RECEIVE_QUEUE_INFO</a></p>

<p><a href="ndis_receive_queue_parameters" title="typedef struct _NDIS_RECEIVE_QUEUE_PARAMETERS {&#10;  NDIS_OBJECT_HEADER          Header;&#10;  ULONG                       Flags;&#10;  NDIS_RECEIVE_QUEUE_TYPE     QueueType;&#10;  NDIS_RECEIVE_QUEUE_ID       QueueId;&#10;  NDIS_RECEIVE_QUEUE_GROUP_ID QueueGroupId;&#10;  GROUP_AFFINITY              ProcessorAffinity;&#10;  ULONG                       NumSuggestedReceiveBuffers;&#10;  ULONG                       MSIXTableEntry;&#10;  ULONG                       LookaheadSize;&#10;  NDIS_VM_NAME                VmName;&#10;  NDIS_QUEUE_NAME             QueueName;&#10;  ULONG                       PortId;&#10;  ULONG                       InterruptCoalescingDomainId;&#10;  NDIS_QOS_SQ_ID              QosSqId;&#10;} NDIS_RECEIVE_QUEUE_PARAMETERS, *PNDIS_RECEIVE_QUEUE_PARAMETERS;">NDIS_RECEIVE_QUEUE_PARAMETERS</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-hardware-capabilities">OID_RECEIVE_FILTER_HARDWARE_CAPABILITIES</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_receive_filter_capabilities">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddndis/ns-ntddndis-_ndis_receive_filter_capabilities.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
