<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WHEA_GENERIC_ERROR_DESCRIPTOR_V2 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WHEA_GENERIC_ERROR_DESCRIPTOR_V2 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WHEA_GENERIC_ERROR_DESCRIPTOR_V2 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _WHEA_GENERIC_ERROR_DESCRIPTOR_V2 {
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                       Type;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        Reserved;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        Enabled;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                        ErrStatusBlockLength;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                        RelatedErrorSourceId;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        ErrStatusAddressSpaceID;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        ErrStatusAddressBitWidth;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        ErrStatusAddressBitOffset;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        ErrStatusAddressAccessSize;
  WHEA_PHYSICAL_ADDRESS        ErrStatusAddress;
  <a href="whea_notification_descriptor" title="typedef struct _WHEA_NOTIFICATION_DESCRIPTOR {&#10;  UCHAR                   Type;&#10;  UCHAR                   Length;&#10;  WHEA_NOTIFICATION_FLAGS Flags;&#10;  union {&#10;    struct {&#10;      ULONG PollInterval;&#10;    } Polled;&#10;    struct {&#10;      ULONG PollInterval;&#10;      ULONG Vector;&#10;      ULONG SwitchToPollingThreshold;&#10;      ULONG SwitchToPollingWindow;&#10;      ULONG ErrorThreshold;&#10;      ULONG ErrorThresholdWindow;&#10;    } Interrupt;&#10;    struct {&#10;      ULONG PollInterval;&#10;      ULONG Vector;&#10;      ULONG SwitchToPollingThreshold;&#10;...">WHEA_NOTIFICATION_DESCRIPTOR</a> Notify;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        ReadAckAddressSpaceID;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        ReadAckAddressBitWidth;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        ReadAckAddressBitOffset;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                        ReadAckAddressAccessSize;
  WHEA_PHYSICAL_ADDRESS        ReadAckAddress;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                    ReadAckPreserveMask;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                    ReadAckWriteMask;
} WHEA_GENERIC_ERROR_DESCRIPTOR_V2, *PWHEA_GENERIC_ERROR_DESCRIPTOR_V2;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/ns-ntddk-whea_generic_error_descriptor_v2">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/whea_generic_error_descriptor_v2.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddk-whea_generic_error_descriptor_v2)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The WHEA_GENERIC_ERROR_DESCRIPTOR_V2 structure describes a generic error source.</p>

<h2 id="members">Members</h2>

<h3 id="type"><code>Type</code></h3>

<p>The type of error source descriptor. This member is always set to WHEA_ERROR_SOURCE_DESCRIPTOR_TYPE_GENERIC_V2.</p>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Reserved for system use.</p>

<h3 id="enabled"><code>Enabled</code></h3>

<p>A Boolean value that indicates if the error source is enabled.</p>

<h3 id="errstatusblocklength"><code>ErrStatusBlockLength</code></h3>

<p>The size, in bytes, of the block of error status registers that contain the error data for the error source.</p>

<h3 id="relatederrorsourceid"><code>RelatedErrorSourceId</code></h3>

<p>The identifier of the related error source. If the generic error source does not relate back to another error source, this member is not used.</p>

<h3 id="errstatusaddressspaceid"><code>ErrStatusAddressSpaceID</code></h3>

<p>The address space of the address that is specified in the <strong>ErrStatusAddress</strong> member.</p>

<h3 id="errstatusaddressbitwidth"><code>ErrStatusAddressBitWidth</code></h3>

<p>The size, in bits, of the register at the address that is specified in the <strong>ErrStatusAddress</strong> member.</p>

<h3 id="errstatusaddressbitoffset"><code>ErrStatusAddressBitOffset</code></h3>

<p>The offset, in bits, of the register at the address that is specified in the <strong>ErrStatusAddress</strong> member.</p>

<h3 id="errstatusaddressaccesssize"><code>ErrStatusAddressAccessSize</code></h3>

<p>The access size for reading the register at the address that is specified in the <strong>ErrStatusAddress</strong> member.</p>

<h3 id="errstatusaddress"><code>ErrStatusAddress</code></h3>

<p>The 64-bit address of a register that contains the physical address of a block of memory that contains the error status data for the error source. This block of memory must reside in firmware reserved memory so that it is not reclaimed by the operating system's memory manager. The error status data contained in this block of memory is described by a <a href="whea_generic_error" title="typedef struct _WHEA_GENERIC_ERROR {&#10;  WHEA_GENERIC_ERROR_BLOCKSTATUS BlockStatus;&#10;  ULONG                          RawDataOffset;&#10;  ULONG                          RawDataLength;&#10;  ULONG                          DataLength;&#10;  WHEA_ERROR_SEVERITY            ErrorSeverity;&#10;  UCHAR                          Data[1];&#10;} WHEA_GENERIC_ERROR, *PWHEA_GENERIC_ERROR;">WHEA_GENERIC_ERROR</a> structure.</p>

<h3 id="notify"><code>Notify</code></h3>

<p>A <a href="whea_notification_descriptor" title="typedef struct _WHEA_NOTIFICATION_DESCRIPTOR {&#10;  UCHAR                   Type;&#10;  UCHAR                   Length;&#10;  WHEA_NOTIFICATION_FLAGS Flags;&#10;  union {&#10;    struct {&#10;      ULONG PollInterval;&#10;    } Polled;&#10;    struct {&#10;      ULONG PollInterval;&#10;      ULONG Vector;&#10;      ULONG SwitchToPollingThreshold;&#10;      ULONG SwitchToPollingWindow;&#10;      ULONG ErrorThreshold;&#10;      ULONG ErrorThresholdWindow;&#10;    } Interrupt;&#10;    struct {&#10;      ULONG PollInterval;&#10;      ULONG Vector;&#10;      ULONG SwitchToPollingThreshold;&#10;...">WHEA_NOTIFICATION_DESCRIPTOR</a> structure that describes the notification mechanism that is used by the error source.</p>

<h3 id="readackaddressspaceid"><code>ReadAckAddressSpaceID</code></h3>

<p>The address space of the address that is specified in the <strong>ReadAckAddress</strong> member.</p>

<h3 id="readackaddressbitwidth"><code>ReadAckAddressBitWidth</code></h3>

<p>The size, in bits, of the register at the address that is specified in the <strong>ReadAckAddress</strong> member.</p>

<h3 id="readackaddressbitoffset"><code>ReadAckAddressBitOffset</code></h3>

<p>The offset, in bits, of the register at the address that is specified in the <strong>ReadAckAddress</strong> member.</p>

<h3 id="readackaddressaccesssize"><code>ReadAckAddressAccessSize</code></h3>

<p>The access size for reading the register at the address that is specified in the <strong>ReadAckAddress</strong> member.</p>

<h3 id="readackaddress"><code>ReadAckAddress</code></h3>

<p>The 64-bit address of a register that is used to notify the RAS controller that Windows has processed the Error Status Block.</p>

<h3 id="readackpreservemask"><code>ReadAckPreserveMask</code></h3>

<p>Contains a mask of bits to preserve when writing the Read Ack register.</p>

<h3 id="readackwritemask"><code>ReadAckWriteMask</code></h3>

<p>Contains a mask of bits to set when writing the Read Ack register.</p>

<h2 id="remarks">Remarks</h2>

<p>This structure corresponds to the Generic Hardware Error Source version 2 (GHESv2) structure that is defined in <a rel="noopener" target="_blank" href="https://uefi.org/sites/default/files/resources/ACPI%206_2_A_Sept29.pdf">Advanced Configuration and Power Interface (ACPI) Specification version 6.2</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="whea_error_source_descriptor" title="typedef struct _WHEA_ERROR_SOURCE_DESCRIPTOR {&#10;  ULONG                   Length;&#10;  ULONG                   Version;&#10;  WHEA_ERROR_SOURCE_TYPE  Type;&#10;  WHEA_ERROR_SOURCE_STATE State;&#10;  ULONG                   MaxRawDataLength;&#10;  ULONG                   NumRecordsToPreallocate;&#10;  ULONG                   MaxSectionsPerRecord;&#10;  ULONG                   ErrorSourceId;&#10;  ULONG                   PlatformErrorSourceId;&#10;  ULONG                   Flags;&#10;  union {&#10;    WHEA_XPF_MCE_DESCRIPTOR          XpfMceDescriptor;&#10;    WHEA_XPF_CMC_DESCRIPTOR          XpfCmcDescriptor;&#10;    WHEA_XPF_NMI_DESCRIPTOR          XpfNmiDescriptor;&#10;    WHEA_IPF_MCA_DESCRIPTOR          IpfMcaDescriptor;&#10;    WHEA_IPF_CMC_DESCRIPTOR          IpfCmcDescriptor;&#10;    WHEA_IPF_CPE_DESCRIPTOR          IpfCpeDescriptor;&#10;    WHEA_AER_ROOTPORT_DESCRIPTOR     AerRootportDescriptor;&#10;    WHEA_AER_ENDPOINT_DESCRIPTOR     AerEndpointDescriptor;&#10;...">WHEA_ERROR_SOURCE_DESCRIPTOR</a></p>

<p><strong><a href="whea_generic_error_descriptor" title="typedef struct _WHEA_GENERIC_ERROR_DESCRIPTOR {&#10;  USHORT                       Type;&#10;  UCHAR                        Reserved;&#10;  UCHAR                        Enabled;&#10;  ULONG                        ErrStatusBlockLength;&#10;  ULONG                        RelatedErrorSourceId;&#10;  UCHAR                        ErrStatusAddressSpaceID;&#10;  UCHAR                        ErrStatusAddressBitWidth;&#10;  UCHAR                        ErrStatusAddressBitOffset;&#10;  UCHAR                        ErrStatusAddressAccessSize;&#10;  WHEA_PHYSICAL_ADDRESS        ErrStatusAddress;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;} WHEA_GENERIC_ERROR_DESCRIPTOR, *PWHEA_GENERIC_ERROR_DESCRIPTOR;">WHEA_GENERIC_ERROR_DESCRIPTOR</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/ns-ntddk-whea_generic_error_descriptor_v2">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddk/ns-ntddk-whea_generic_error_descriptor_v2.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
