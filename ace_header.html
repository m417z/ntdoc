<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="ACE_HEADER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ACE_HEADER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            ACE_HEADER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntifs.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _ACE_HEADER {
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  AceType;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  AceFlags;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> AceSize;
} ACE_HEADER;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/ns-ntifs-_ace_header">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ace_header.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntifs-_ace_header)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ace_header-structure">_ACE_HEADER structure</h1>

<h2 id="description">Description</h2>

<p>The ACE_HEADER structure describes the type and size of an access-control entry (ACE).</p>

<h2 id="members">Members</h2>

<h3 id="acetype"><code>AceType</code></h3>

<p>ACE type. This member can be one of the following values:</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>ACCESS_ALLOWED_ACE_TYPE</td>
  <td>Access-allowed ACE that uses the <a href="access_allowed_ace" title="typedef struct _ACCESS_ALLOWED_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} ACCESS_ALLOWED_ACE;">ACCESS_ALLOWED_ACE</a> structure.</td>
</tr>
<tr>
  <td>ACCESS_DENIED_ACE_TYPE</td>
  <td>Access-denied ACE that uses the <a href="access_denied_ace" title="typedef struct _ACCESS_DENIED_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} ACCESS_DENIED_ACE;">ACCESS_DENIED_ACE</a> structure.</td>
</tr>
<tr>
  <td>SYSTEM_AUDIT_ACE_TYPE</td>
  <td>System-audit ACE that uses the <a href="system_audit_ace" title="typedef struct _SYSTEM_AUDIT_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} SYSTEM_AUDIT_ACE;">SYSTEM_AUDIT_ACE</a> structure.</td>
</tr>
</tbody>
</table>

<h3 id="aceflags"><code>AceFlags</code></h3>

<p>Set of ACE type-specific control flags. This member can be a combination of the following values:</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>CONTAINER_INHERIT_ACE</td>
  <td>Child objects that are containers, such as directories, inherit the ACE as an effective ACE. The inherited ACE is inheritable unless the NO_PROPAGATE_INHERIT_ACE bit flag is also set.</td>
</tr>
<tr>
  <td>FAILED_ACCESS_ACE_FLAG</td>
  <td>Used with system-audit ACEs in a SACL to generate audit messages for failed access attempts.</td>
</tr>
<tr>
  <td>INHERIT_ONLY_ACE</td>
  <td>Indicates an inherit-only ACE which does not control access to the object to which it is attached. If this flag is not set, the ACE is an effective ACE which controls access to the object to which it is attached. <br><br>Both effective and inherit-only ACEs can be inherited depending on the state of the other inheritance flags.</td>
</tr>
<tr>
  <td>INHERITED_ACE</td>
  <td><strong>Microsoft Windows 2000 or later:</strong> Indicates that the ACE was inherited. The system sets this bit when it propagates an inherited ACE to a child object.</td>
</tr>
<tr>
  <td>NO_PROPAGATE_INHERIT_ACE</td>
  <td>If the ACE is inherited by a child object, the system clears the OBJECT_INHERIT_ACE and CONTAINER_INHERIT_ACE flags in the inherited ACE. This prevents the ACE from being inherited by subsequent generations of objects.</td>
</tr>
<tr>
  <td>OBJECT_INHERIT_ACE</td>
  <td>Noncontainer child objects inherit the ACE as an effective ACE. <br><br>For child objects that are containers, the ACE is inherited as an inherit-only ACE unless the NO_PROPAGATE_INHERIT_ACE bit flag is also set.</td>
</tr>
<tr>
  <td>SUCCESSFUL_ACCESS_ACE_FLAG</td>
  <td>Used with system-audit ACEs in a SACL to generate audit messages for successful access attempts.</td>
</tr>
</tbody>
</table>

<h3 id="acesize"><code>AceSize</code></h3>

<p>Size, in bytes, of the ACE.</p>

<h2 id="remarks">Remarks</h2>

<p>The ACE_HEADER structure is the first member of the various types of ACE structures, such as <a href="access_allowed_ace" title="typedef struct _ACCESS_ALLOWED_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} ACCESS_ALLOWED_ACE;">ACCESS_ALLOWED_ACE</a>.</p>

<p>System-alarm ACEs are not currently supported. The <strong>AceType</strong> member cannot specify the SYSTEM_ALARM_ACE_TYPE. Do not use the <a href="system_alarm_ace" title="typedef struct _SYSTEM_ALARM_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} SYSTEM_ALARM_ACE;">SYSTEM_ALARM_ACE</a> structure.</p>

<h2 id="see-also">See also</h2>

<p><a href="access_allowed_ace" title="typedef struct _ACCESS_ALLOWED_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} ACCESS_ALLOWED_ACE;">ACCESS_ALLOWED_ACE</a></p>

<p><a href="access_denied_ace" title="typedef struct _ACCESS_DENIED_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} ACCESS_DENIED_ACE;">ACCESS_DENIED_ACE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ifs/ace">ACE</a></p>

<p><a href="acl" title="typedef struct _ACL {&#10;  UCHAR  AclRevision;&#10;  UCHAR  Sbz1;&#10;  USHORT AclSize;&#10;  USHORT AceCount;&#10;  USHORT Sbz2;&#10;} ACL;">ACL</a></p>

<p><a href="system_alarm_ace" title="typedef struct _SYSTEM_ALARM_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} SYSTEM_ALARM_ACE;">SYSTEM_ALARM_ACE</a></p>

<p><a href="system_audit_ace" title="typedef struct _SYSTEM_AUDIT_ACE {&#10;  ACE_HEADER  Header;&#10;  ACCESS_MASK Mask;&#10;  ULONG       SidStart;&#10;} SYSTEM_AUDIT_ACE;">SYSTEM_AUDIT_ACE</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/ns-ntifs-_ace_header">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntifs/ns-ntifs-_ace_header.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
