<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3DHAL_DP2SETSTREAMSOURCEUM - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3DHAL_DP2SETSTREAMSOURCEUM - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3DHAL_DP2SETSTREAMSOURCEUM - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dhal.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _D3DHAL_DP2SETSTREAMSOURCEUM {
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwStream;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwStride;
} D3DHAL_DP2SETSTREAMSOURCEUM;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dhal/ns-d3dhal-_d3dhal_dp2setstreamsourceum">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3dhal_dp2setstreamsourceum.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dhal-_d3dhal_dp2setstreamsourceum)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_d3dhal_dp2setstreamsourceum-structure">_D3DHAL_DP2SETSTREAMSOURCEUM structure</h1>

<h2 id="description">Description</h2>

<p>DirectX 8.0 and later versions only.</p>

<p>The D3DHAL_DP2SETSTREAMSOURCEUM structure is used to bind a vertex stream source to a user memory buffer for <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dhal/nc-d3dhal-lpd3dhal_drawprimitives2cb">D3dDrawPrimitives2</a>.</p>

<h2 id="members">Members</h2>

<h3 id="dwstream"><code>dwStream</code></h3>

<p>Specifies the stream being bound. For DirectX 8.0 it is always zero.</p>

<h3 id="dwstride"><code>dwStride</code></h3>

<p>Specifies the vertex size in bytes.</p>

<h2 id="remarks">Remarks</h2>

<p>In addition to binding a stream to a vertex buffer, it is possible for the vertex data of stream zero to be supplied in a user memory (UM) buffer. In this case, another DP2 token is used to notify the driver of stream binding. That token is D3DDP2OP_SETSTREAMSOURCEUM.</p>

<p>DirectX 8.0 does not support multiple vertex streams with user supplied buffers rather than vertex buffers. Additionally, it is not possible to mix user memory buffers with vertex buffers. When a user memory buffer is supplied, it is guaranteed to be stream zero and to be the only stream that should be accessed by subsequent drawing primitives. It is possible that other streams have non-NULL vertex buffers bound to them at the time when a user memory buffer is bound to stream. However, those other streams must be ignored by the driver and hardware.</p>

<p>The actual user memory pointer to the vertex data should be extracted from the <a href="d3dhal_drawprimitives2data" title="typedef struct _D3DHAL_DRAWPRIMITIVES2DATA {&#10;  ULONG_PTR                 dwhContext;&#10;  DWORD                     dwFlags;&#10;  DWORD                     dwVertexType;&#10;  LPDDRAWI_DDRAWSURFACE_LCL lpDDCommands;&#10;  DWORD                     dwCommandOffset;&#10;  DWORD                     dwCommandLength;&#10;  union {&#10;    LPDDRAWI_DDRAWSURFACE_LCL lpDDVertex;&#10;    LPVOID                    lpVertices;&#10;  };&#10;  DWORD                     dwVertexOffset;&#10;  DWORD                     dwVertexLength;&#10;  DWORD                     dwReqVertexBufSize;&#10;  DWORD                     dwReqCommandBufSize;&#10;  LPDWORD                   lpdwRStates;&#10;  union {&#10;    DWORD   dwVertexSize;&#10;    HRESULT ddrval;&#10;  };&#10;...">D3DHAL_DRAWPRIMITIVES2DATA</a> passed when actually drawing primitives.</p>

<h2 id="see-also">See also</h2>

<p>D3DDP2OP_SETSTREAMSOURCEUM</p>

<p><a href="d3dhal_dp2setstreamsource" title="typedef struct _D3DHAL_DP2SETSTREAMSOURCE {&#10;  DWORD dwStream;&#10;  DWORD dwVBHandle;&#10;  DWORD dwStride;&#10;} D3DHAL_DP2SETSTREAMSOURCE;">D3DHAL_DP2SETSTREAMSOURCE</a></p>

<p><a href="d3dhal_drawprimitives2data" title="typedef struct _D3DHAL_DRAWPRIMITIVES2DATA {&#10;  ULONG_PTR                 dwhContext;&#10;  DWORD                     dwFlags;&#10;  DWORD                     dwVertexType;&#10;  LPDDRAWI_DDRAWSURFACE_LCL lpDDCommands;&#10;  DWORD                     dwCommandOffset;&#10;  DWORD                     dwCommandLength;&#10;  union {&#10;    LPDDRAWI_DDRAWSURFACE_LCL lpDDVertex;&#10;    LPVOID                    lpVertices;&#10;  };&#10;  DWORD                     dwVertexOffset;&#10;  DWORD                     dwVertexLength;&#10;  DWORD                     dwReqVertexBufSize;&#10;  DWORD                     dwReqCommandBufSize;&#10;  LPDWORD                   lpdwRStates;&#10;  union {&#10;    DWORD   dwVertexSize;&#10;    HRESULT ddrval;&#10;  };&#10;...">D3DHAL_DRAWPRIMITIVES2DATA</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dhal/nc-d3dhal-lpd3dhal_drawprimitives2cb">D3dDrawPrimitives2</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dhal/ns-d3dhal-_d3dhal_dp2setstreamsourceum">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dhal/ns-d3dhal-_d3dhal_dp2setstreamsourceum.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
