<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGKARG_RENDER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGKARG_RENDER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGKARG_RENDER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXGKARG_RENDER {
  [in]     const VOID               *pCommand;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     CommandLength;
  [out]    VOID                     *pDmaBuffer;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     DmaSize;
  [in]     VOID                     *pDmaBufferPrivateData;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     DmaBufferPrivateDataSize;
  [in]     <a href="dxgk_allocationlist" title="typedef struct _DXGK_ALLOCATIONLIST&#10;{&#10;    HANDLE              hDeviceSpecificAllocation;&#10;    struct&#10;    {&#10;        UINT            WriteOperation  : 1;    // 0x00000001&#10;        UINT            SegmentId       : 5;    // 0x0000002E&#10;        UINT            Reserved        : 26;   // 0xFFFFFFC0&#10;    };&#10;#if (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    union&#10;    {&#10;        PHYSICAL_ADDRESS        PhysicalAddress;&#10;        D3DGPU_VIRTUAL_ADDRESS  VirtualAddress;&#10;    };&#10;#else // (DXGKDDI_INTERFACE_VERSION &lt; DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    PHYSICAL_ADDRESS    PhysicalAddress;&#10;#endif // (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;} DXGK_ALLOCATIONLIST;">DXGK_ALLOCATIONLIST</a>      *pAllocationList;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     AllocationListSize;
  [in]     <a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a> *pPatchLocationListIn;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     PatchLocationListInSize;
  [in/out] <a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a> *pPatchLocationListOut;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     PatchLocationListOutSize;
  [in/out] <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     MultipassOffset;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     DmaBufferSegmentId;
  [in]     <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a>         DmaBufferPhysicalAddress;
} DXGKARG_RENDER;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgkarg_render">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgkarg_render.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmddi-_dxgkarg_render)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_DXGKARG_RENDER structure</h1>

<h2>Description</h2>

<p>The DXGKARG_RENDER structure describes members for generating a direct memory access (DMA) buffer from a command buffer.</p>

<h2>Members</h2>

<h3><code>pCommand</code> [in]</h3>

<p>A pointer to the start of the command buffer.</p>

<p><strong>Note</strong> When <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_render">DxgkDdiRender</a> is called, the display miniport driver must validate the buffer. See Remarks in <strong>DxgkDdiRender</strong> for important info on how the driver should access this member.</p>

<h3><code>CommandLength</code> [in]</h3>

<p>The size, in bytes, of the command buffer that <strong>pCommand</strong> points to.</p>

<h3><code>pDmaBuffer</code> [out]</h3>

<p>A pointer to the start of the DMA buffer, which is aligned on 4 KB. This buffer can be sent through DMA to the graphics hardware. Before the display miniport driver returns from the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_render">DxgkDdiRender</a> or <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_renderkm">DxgkDdiRenderKm</a> functions, the driver should set <strong>pDmaBuffer</strong> to the next empty byte that follows the last byte that the driver wrote to, or the driver should point to the location (one byte beyond the buffer space) if no more space is available. This location would have been correct if the buffer was large enough.</p>

<h3><code>DmaSize</code> [in]</h3>

<p>The size, in bytes, of the DMA buffer that <strong>pDmaBuffer</strong> points to.</p>

<h3><code>pDmaBufferPrivateData</code> [in]</h3>

<p>A pointer to a driver-resident private data structure that is used for generating the DMA buffer that <strong>pDmaBuffer</strong> points to.</p>

<h3><code>DmaBufferPrivateDataSize</code> [in]</h3>

<p>The number of bytes that remain in the private data structure that <strong>pDmaBufferPrivateData</strong> points to for the current operation.</p>

<h3><code>pAllocationList</code> [in]</h3>

<p>An array of <a href="dxgk_allocationlist" title="typedef struct _DXGK_ALLOCATIONLIST&#10;{&#10;    HANDLE              hDeviceSpecificAllocation;&#10;    struct&#10;    {&#10;        UINT            WriteOperation  : 1;    // 0x00000001&#10;        UINT            SegmentId       : 5;    // 0x0000002E&#10;        UINT            Reserved        : 26;   // 0xFFFFFFC0&#10;    };&#10;#if (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    union&#10;    {&#10;        PHYSICAL_ADDRESS        PhysicalAddress;&#10;        D3DGPU_VIRTUAL_ADDRESS  VirtualAddress;&#10;    };&#10;#else // (DXGKDDI_INTERFACE_VERSION &lt; DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    PHYSICAL_ADDRESS    PhysicalAddress;&#10;#endif // (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;} DXGK_ALLOCATIONLIST;">DXGK_ALLOCATIONLIST</a> structures for the list of allocations that the DMA buffer references. Each allocation that is referenced should appear once for optimal performance.</p>

<h3><code>AllocationListSize</code> [in]</h3>

<p>The available number of elements in the array that <strong>pAllocationList</strong> specifies, which represents the number of allocation specifications to send through DMA to the graphics hardware.</p>

<h3><code>pPatchLocationListIn</code> [in]</h3>

<p>An array of <a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a> structures for the patch-location list that the user-mode display driver provides in a call to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_rendercb">pfnRenderCb</a> function.</p>

<p><strong>Note</strong> When <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_render">DxgkDdiRender</a> is called, the display miniport driver must validate the buffer. See Remarks in <strong>DxgkDdiRender</strong> for important info on how the driver should access this member.</p>

<h3><code>PatchLocationListInSize</code> [in]</h3>

<p>The number of elements in the patch-location list that <strong>pPatchLocationListIn</strong> specifies.</p>

<h3><code>pPatchLocationListOut</code> [in/out]</h3>

<p>An array of <a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a> structures for the patch-location list that the display miniport driver fills in. Before the driver returns from a call to its <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_render">DxgkDdiRender</a> or <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_renderkm">DxgkDdiRenderKm</a> functions, the driver must set <strong>pPatchLocationListOut</strong> to the next <strong><a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a></strong> element that follows the last <strong><a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a></strong> element that the driver updated.</p>

<h3><code>PatchLocationListOutSize</code> [in]</h3>

<p>The number of elements in the patch-location list that <strong>pPatchLocationListOut</strong> specifies. The display miniport driver is not required to fill all of the elements in the entire list; the driver must use only elements that are necessary to describe the patch location within the DMA buffer.</p>

<h3><code>MultipassOffset</code> [in/out]</h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies the progress of the rendering operation if the display miniport driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_render">DxgkDdiRender</a> or <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_renderkm">DxgkDdiRenderKm</a> functions must return <strong>STATUS_GRAPHICS_INSUFFICIENT_DMA_BUFFER</strong> to obtain a new DMA buffer. When the driver's <em>DxgkDdiRender</em> or <em>DxgkDdiRenderKm</em> function is first called with a new command buffer, <strong>MultipassOffset</strong> is initialized to zero. Before the driver returns from the <em>DxgkDdiRender</em> or <em>DxgkDdiRenderKm</em> calls, the driver sets this member to show translation progress for subsequent <em>DxgkDdiRender</em> or <em>DxgkDdiRenderKm</em> call with the same command buffer. The DirectX graphics kernel subsystem does not change the value further.</p>

<h3><code>DmaBufferSegmentId</code> [in]</h3>

<p>The identifier of the memory segment that the DMA buffer was paged in. If the identifier is zero, the DMA buffer is not correctly paged in.</p>

<h3><code>DmaBufferPhysicalAddress</code> [in]</h3>

<p>A <strong><a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a></strong> data type (which is defined as <strong>LARGE_INTEGER</strong>) that indicates the physical address where the DMA buffer was paged in. If the physical address is zero, the DMA buffer is not correctly paged in.</p>

<h2>Remarks</h2>

<p>Support for the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_renderkm">DxgkDdiRenderKm</a> function is added beginning with Windows 7 for display adapters that support <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/gdi-hardware-acceleration">GDI Hardware Acceleration</a>.</p>

<h2>See also</h2>

<p><a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a></p>

<p><a href="dxgk_allocationlist" title="typedef struct _DXGK_ALLOCATIONLIST&#10;{&#10;    HANDLE              hDeviceSpecificAllocation;&#10;    struct&#10;    {&#10;        UINT            WriteOperation  : 1;    // 0x00000001&#10;        UINT            SegmentId       : 5;    // 0x0000002E&#10;        UINT            Reserved        : 26;   // 0xFFFFFFC0&#10;    };&#10;#if (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    union&#10;    {&#10;        PHYSICAL_ADDRESS        PhysicalAddress;&#10;        D3DGPU_VIRTUAL_ADDRESS  VirtualAddress;&#10;    };&#10;#else // (DXGKDDI_INTERFACE_VERSION &lt; DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    PHYSICAL_ADDRESS    PhysicalAddress;&#10;#endif // (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;} DXGK_ALLOCATIONLIST;">DXGK_ALLOCATIONLIST</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_render">DxgkDdiRender</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_renderkm">DxgkDdiRenderKm</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_rendercb">pfnRenderCb</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgkarg_render">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ns-d3dkmddi-_dxgkarg_render.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
