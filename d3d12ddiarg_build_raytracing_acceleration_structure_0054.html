<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3D12DDIARG_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_0054 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3D12DDIARG_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_0054 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3D12DDIARG_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_0054 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d12umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct D3D12DDIARG_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_0054 {
  D3D12DDI_GPU_VIRTUAL_ADDRESS                                              DestAccelerationStructureData;
  <a href="d3d12ddi_build_raytracing_acceleration_structure_inputs_0054" title="typedef struct D3D12DDI_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_INPUTS_0054 {&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_TYPE        Type;&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAGS Flags;&#10;  UINT                                                   NumDescs;&#10;  D3D12DDI_ELEMENTS_LAYOUT                               DescsLayout;&#10;  union {&#10;    D3D12DDI_GPU_VIRTUAL_ADDRESS                 InstanceDescs;&#10;    const D3D12DDI_RAYTRACING_GEOMETRY_DESC_0054 *pGeometryDescs;&#10;    const D3D12DDI_RAYTRACING_GEOMETRY_DESC_0054 const * * ppGeometryDescs;&#10;  };&#10;} D3D12DDI_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_INPUTS_0054;">D3D12DDI_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_INPUTS_0054</a>              Inputs;
  D3D12DDI_GPU_VIRTUAL_ADDRESS                                              SourceAccelerationStructureData;
  D3D12DDI_GPU_VIRTUAL_ADDRESS                                              ScratchAccelerationStructureData;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                                                      NumPostbuildInfoDescs;
  const <a href="d3d12ddi_raytracing_acceleration_structure_postbuild_info_desc_0054" title="typedef struct D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054 {&#10;  D3D12DDI_GPU_VIRTUAL_ADDRESS                                   DestBuffer;&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_TYPE InfoType;&#10;} D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054;">D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054</a> *pPostbuildInfoDescs;
} D3D12DDIARG_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_0054;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddiarg_build_raytracing_acceleration_structure_0054">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3d12ddiarg_build_raytracing_acceleration_structure_0054.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3d12umddi-d3d12ddiarg_build_raytracing_acceleration_structure_0054)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>D3D12DDIARG_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_0054 structure</h1>
<h2>Description</h2>
<p>Description of the acceleration structure to build.</p>
<h2>Members</h2>
<h3><code>DestAccelerationStructureData</code></h3>
<p>Location to store the resulting acceleration structure from <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/nc-d3d12umddi-pfnd3d12ddi_build_raytracing_acceleration_structure_0054">BuildRaytracingAccelerationStructure</a>. <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/nc-d3d12umddi-pfnd3d12ddi_get_raytracing_acceleration_structure_prebuild_info_0054">GetRaytracingAccelerationStructurePrebuildInfo</a> reports the amount of memory required for the result here, given a set of acceleration structure build parameters.</p>
<p>The start address must be aligned to 256 bytes.</p>
<p>The memory pointed to must be in <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_resource_states">resource state</a> D3D12DDI_RESOURCE_STATE_RAYTRACING_ACCELERATION_STRUCTURE.</p>
<h3><code>Inputs</code></h3>
<p>A <a href="d3d12ddi_build_raytracing_acceleration_structure_inputs_0054" title="typedef struct D3D12DDI_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_INPUTS_0054 {&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_TYPE        Type;&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAGS Flags;&#10;  UINT                                                   NumDescs;&#10;  D3D12DDI_ELEMENTS_LAYOUT                               DescsLayout;&#10;  union {&#10;    D3D12DDI_GPU_VIRTUAL_ADDRESS                 InstanceDescs;&#10;    const D3D12DDI_RAYTRACING_GEOMETRY_DESC_0054 *pGeometryDescs;&#10;    const D3D12DDI_RAYTRACING_GEOMETRY_DESC_0054 const * * ppGeometryDescs;&#10;  };&#10;} D3D12DDI_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_INPUTS_0054;">D3D12DDI_BUILD_RAYTRACING_ACCELERATION_STRUCTURE_INPUTS_0054</a> structure that represents the ray tracing acceleration build inputs.</p>
<h3><code>SourceAccelerationStructureData</code></h3>
<p>Address of an existing acceleration structure if an acceleration structure update like an incremental build is being requested, by setting D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAG_PERFORM_UPDATE in the <a href="d3d12ddi_raytracing_acceleration_structure_build_flags" title="typedef enum D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAGS {&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAG_NONE,&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAG_ALLOW_UPDATE,&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAG_ALLOW_COMPACTION,&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAG_PREFER_FAST_TRACE,&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAG_PREFER_FAST_BUILD,&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAG_MINIMIZE_MEMORY,&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAG_PERFORM_UPDATE&#10;} ;">D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_BUILD_FLAGS</a> enumeration. Otherwise, this address must be NULL.</p>
<p>If this address is the same as <em>DestAccelerationStructureData</em>, the update is to be performed in-place. Any other form of overlap of the source and destination memory is invalid and produces undefined behavior.</p>
<p>The address must be aligned to 256 bytes.</p>
<p>The memory pointed to must be in <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_resource_states">resource state</a> D3D12DDI_RESOURCE_STATE_RAYTRACING_ACCELERATION_STRUCTURE.</p>
<h3><code>ScratchAccelerationStructureData</code></h3>
<p>Location where the build will store temporary data. <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/nc-d3d12umddi-pfnd3d12ddi_get_raytracing_acceleration_structure_prebuild_info_0054">GetRaytracingAccelerationStructurePrebuildInfo</a> reports the amount of scratch memory the implementation will need for a given set of acceleration structure build parameters.</p>
<p>The start address must be aligned to 256 bytes. Contents of this memory going into a build on the GPU timeline are irrelevant and will not be preserved. After the build is complete on the GPU timeline, the memory is left with whatever undefined contents the build finished with.</p>
<p>The memory pointed to must be in <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_resource_states">resource state</a> D3D12DDI_RESOURCE_STATE_UNORDERED_ACCESS.</p>
<h3><code>NumPostbuildInfoDescs</code></h3>
<p>The number of contiguous <a href="d3d12ddi_raytracing_acceleration_structure_postbuild_info_desc_0054" title="typedef struct D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054 {&#10;  D3D12DDI_GPU_VIRTUAL_ADDRESS                                   DestBuffer;&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_TYPE InfoType;&#10;} D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054;">D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054</a> structures.</p>
<h3><code>pPostbuildInfoDescs</code></h3>
<p>Points to an array of <em>NumPostbuildInfoDescs</em> pointers to <a href="d3d12ddi_raytracing_acceleration_structure_postbuild_info_desc_0054" title="typedef struct D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054 {&#10;  D3D12DDI_GPU_VIRTUAL_ADDRESS                                   DestBuffer;&#10;  D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_TYPE InfoType;&#10;} D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054;">D3D12DDI_RAYTRACING_ACCELERATION_STRUCTURE_POSTBUILD_INFO_DESC_0054</a> structures.</p>
<h2>Remarks</h2>
<h2>See also</h2>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddiarg_build_raytracing_acceleration_structure_0054">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/ns-d3d12umddi-d3d12ddiarg_build_raytracing_acceleration_structure_0054.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
