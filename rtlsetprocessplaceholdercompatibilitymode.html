<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="RtlSetProcessPlaceholderCompatibilityMode - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>RtlSetProcessPlaceholderCompatibilityMode - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            RtlSetProcessPlaceholderCompatibilityMode - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">#ifndef _NTRTL_H
#if (PHNT_VERSION &gt;= PHNT_WINDOWS_10_RS4)

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">NTSYSAPI
<a href="char" title="typedef char CHAR;">CHAR</a>
NTAPI
RtlSetProcessPlaceholderCompatibilityMode(
    _In_ <a href="char" title="typedef char CHAR;">CHAR</a> Mode
    );
</span><span class="ntdoc-code-footer">
#endif
#endif
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://github.com/winsiderss/systeminformer/blob/addd49805cb586a891f7c6f31d88a43545cc1c80/phnt/include/ntrtl.h#L11624">View code on GitHub</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntifs.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">NTSYSAPI <a href="char" title="typedef char CHAR;">CHAR</a> RtlSetProcessPlaceholderCompatibilityMode(
  <a href="char" title="typedef char CHAR;">CHAR</a> Mode
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/nf-ntifs-rtlsetprocessplaceholdercompatibilitymode">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<p>This function is <a rel="noopener" target="_blank" href="https://learn.microsoft.com/en-us/windows-hardware/drivers/ddi/ntifs/nf-ntifs-rtlsetprocessplaceholdercompatibilitymode">documented in Windows Driver Kit</a>.</p>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/rtlsetprocessplaceholdercompatibilitymode.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-ntifs-rtlsetprocessplaceholdercompatibilitymode)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="rtlsetprocessplaceholdercompatibilitymode-function">RtlSetProcessPlaceholderCompatibilityMode function</h1>

<h2 id="description">Description</h2>

<p><strong>RtlSetProcessPlaceholderCompatibilityMode</strong> sets the placeholder compatibility mode for the current process.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="mode"><code>Mode</code></h3>

<p>The placeholder compatibility mode to set.</p>

<h2 id="return-value">Return value</h2>

<p>This function returns the process's previous placeholder compatibility mode (PHCM_xxx), or a negative value on error (PCHM_ERROR_xxx).</p>

<p>It can be one of the following values:</p>

<table>
<thead>
<tr>
  <th>Compatibility Mode</th>
  <th>Value</th>
</tr>
</thead>
<tbody>
<tr>
  <td><a href="phcm_application_default" title="#define PHCM_APPLICATION_DEFAULT ((CHAR)0)">PHCM_APPLICATION_DEFAULT</a></td>
  <td>0</td>
</tr>
<tr>
  <td>PHCM_DISGUISE_PLACEHOLDER</td>
  <td>1</td>
</tr>
<tr>
  <td><a href="phcm_expose_placeholders" title="#define PHCM_EXPOSE_PLACEHOLDERS ((CHAR)2)">PHCM_EXPOSE_PLACEHOLDERS</a></td>
  <td>2</td>
</tr>
<tr>
  <td><a href="phcm_max" title="#define PHCM_MAX ((CHAR)2)">PHCM_MAX</a></td>
  <td>2</td>
</tr>
<tr>
  <td><a href="phcm_error_invalid_parameter" title="#define PHCM_ERROR_INVALID_PARAMETER ((CHAR)-1)">PHCM_ERROR_INVALID_PARAMETER</a></td>
  <td>-1</td>
</tr>
<tr>
  <td><a href="phcm_error_no_teb" title="#define PHCM_ERROR_NO_TEB ((CHAR)-2)">PHCM_ERROR_NO_TEB</a></td>
  <td>-2</td>
</tr>
</tbody>
</table>

<h2 id="remarks">Remarks</h2>

<p>When placeholders are exposed, characteristics such as the presence of a reparse point, the sparse bit, and the offline bit are plainly visible through directory enumeration and other types of file information queries. When placeholders are disguised, these details are completely hidden, making the file look like a normal file.</p>

<p>Most Windows applications see exposed placeholders by default. For compatibility reasons, Windows may decide that certain applications see disguised placeholders by default.</p>

<h2 id="see-also">See also</h2>

<p><a href="rtlqueryprocessplaceholdercompatibilitymode" title="NTSYSAPI&#10;CHAR&#10;NTAPI&#10;RtlQueryProcessPlaceholderCompatibilityMode(&#10;    VOID&#10;    );">RtlQueryProcessPlaceholderCompatibilityMode</a></p>

<p><a href="rtlquerythreadplaceholdercompatibilitymode" title="NTSYSAPI&#10;CHAR&#10;NTAPI&#10;RtlQueryThreadPlaceholderCompatibilityMode(&#10;    VOID&#10;    );">RtlQueryThreadPlaceholderCompatibilityMode</a></p>

<p><a href="rtlsetthreadplaceholdercompatibilitymode" title="NTSYSAPI&#10;CHAR&#10;NTAPI&#10;RtlSetThreadPlaceholderCompatibilityMode(&#10;    _In_ CHAR Mode&#10;    );">RtlSetThreadPlaceholderCompatibilityMode</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/nf-ntifs-rtlsetprocessplaceholdercompatibilitymode">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntifs/nf-ntifs-rtlsetprocessplaceholdercompatibilitymode.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
