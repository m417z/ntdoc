<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IRB_REQ_ASYNC_LOCK - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IRB_REQ_ASYNC_LOCK - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IRB_REQ_ASYNC_LOCK - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// 1394.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _IRB_REQ_ASYNC_LOCK {
  <a href="io_address" title="typedef struct _IO_ADDRESS {&#10;  NODE_ADDRESS   IA_Destination_ID;&#10;  ADDRESS_OFFSET IA_Destination_Offset;&#10;} IO_ADDRESS, *PIO_ADDRESS;">IO_ADDRESS</a> DestinationAddress;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>      nNumberOfArgBytes;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>      nNumberOfDataBytes;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>      fulTransactionType;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>      fulFlags;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>      Arguments[2];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>      DataValues[2];
  PVOID      pBuffer;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>      ulGeneration;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>      chPriority;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>      nSpeed;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>      tCode;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>      Reserved;
} IRB_REQ_ASYNC_LOCK;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/1394/ns-1394-_irb_req_async_lock">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/irb_req_async_lock.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-1394-_irb_req_async_lock)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_irb_req_async_lock-structure">_IRB_REQ_ASYNC_LOCK structure</h1>

<h2 id="description">Description</h2>

<p>This structure contains the fields necessary for the 1394 stack to carry out an asynchronous lock request.</p>

<h2 id="members">Members</h2>

<h3 id="destinationaddress"><code>DestinationAddress</code></h3>

<p>Specifies the 1394 64-bit destination address for this read operation. The driver only needs to fill in the <strong>IA_Destination_Offset</strong> member of <strong>u.AsyncLock.DestinationAddress</strong>; the bus driver fills in the <strong>IA_Destination_ID</strong> member. See <a rel="noopener" target="_blank" href="io_address">IO_ADDRESS</a> for the structure description.</p>

<h3 id="nnumberofargbytes"><code>nNumberOfArgBytes</code></h3>

<p>Specifies the number of argument bytes used in performing this lock operation. May be zero, 4 or 8. See the <strong>u.AsyncLock.fulTransactionType</strong> member for details.</p>

<h3 id="nnumberofdatabytes"><code>nNumberOfDataBytes</code></h3>

<p>Specifies the number of data bytes used in performing this lock operation. May be 4 or 8. See the <strong>u.AsyncLock.fulTransactionType</strong> member for details.</p>

<h3 id="fultransactiontype"><code>fulTransactionType</code></h3>

<p>Specifies which atomic transaction to execute on the 1394 node. The following function types are supported.</p>

<table>
<thead>
<tr>
  <th>fulTransactionType</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>LOCK_TRANSACTION_MASK_SWAP</td>
  <td>For each bit in the original value and the matching argument, reset the bit to be the same as the corresponding bit in the data value. The <strong>nNumberOfArgBytes</strong> and <strong>nNumberOfDataBytes</strong> members of <strong>u.AsyncLock</strong> must be the same.</td>
</tr>
<tr>
  <td>LOCK_TRANSACTION_COMPARE_SWAP</td>
  <td>If the original value and argument match, replace the original value with the data value. The <strong>nNumberOfArgBytes</strong> and <strong>nNumberOfDataBytes</strong> members of <strong>u.AsyncLock</strong> must be the same.</td>
</tr>
<tr>
  <td>LOCK_TRANSACTION_FETCH_ADD</td>
  <td>Add the data value to the original value. Big-endian addition is performed. The argument value is not used and the <strong>nNumberOfArgBytes</strong> member of <strong>u.AsyncLock</strong> must be zero.</td>
</tr>
<tr>
  <td>LOCK_TRANSACTION_LITTLE_ADD</td>
  <td>Add the data value to the original value. Little-endian addition is performed. The argument value is not used and the <strong>nNumberOfArgBytes</strong> member of <strong>u.AsyncLock</strong> must be zero.</td>
</tr>
<tr>
  <td>LOCK_TRANSACTION_BOUNDED_ADD</td>
  <td>If the original value and the argument differ, add the data value to the original value. The <strong>nNumberOfArgBytes</strong> and <strong>nNumberOfDataBytes</strong> members of <strong>u.AsyncLock</strong> must be the same.</td>
</tr>
<tr>
  <td>LOCK_TRANSACTION_WRAP_ADD</td>
  <td>If the original value and the argument differ, add the data value to original value. Otherwise, replace the original value with the data value. The <strong>nNumberOfArgBytes</strong> and <strong>nNumberOfDataBytes</strong> members of <strong>u.AsyncLock</strong> must be the same.</td>
</tr>
</tbody>
</table>

<h3 id="fulflags"><code>fulFlags</code></h3>

<p>Not currently used. Drivers should set this to zero.</p>

<h3 id="arguments"><code>Arguments</code></h3>

<p>Specifies the arguments used in this lock operation.</p>

<h3 id="datavalues"><code>DataValues</code></h3>

<p>Specifies the data values used in this lock operation.</p>

<h3 id="pbuffer"><code>pBuffer</code></h3>

<p>Points to a buffer that receives lock data values returned from the node. The size of the buffer must be at least equal to the <strong>u.AsyncLock.nNumberOfDataBytes</strong> member.</p>

<h3 id="ulgeneration"><code>ulGeneration</code></h3>

<p>Specifies the bus reset generation as known by the device driver who submitted this asynchronous request. If the generation count specified does not match the actual generation of the bus, then this request is returned with an error.</p>

<h3 id="chpriority"><code>chPriority</code></h3>

<p>Reserved.</p>

<h3 id="nspeed"><code>nSpeed</code></h3>

<p>Reserved.</p>

<h3 id="tcode"><code>tCode</code></h3>

<p>Reserved.</p>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Reserved.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/1394/ns-1394-_irb_req_async_lock">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/1394/ns-1394-_irb_req_async_lock.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
