<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IDE_TRANSFER_MODE_PARAMETERS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IDE_TRANSFER_MODE_PARAMETERS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IDE_TRANSFER_MODE_PARAMETERS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// irb.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _IDE_TRANSFER_MODE_PARAMETERS {
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>           ChannelNumber;
  <a href="ide_device_type" title="typedef enum {&#10;  DeviceUnknown,&#10;  DeviceIsAta,&#10;  DeviceIsAtapi,&#10;  DeviceNotExist&#10;} IDE_DEVICE_TYPE;">IDE_DEVICE_TYPE</a> DeviceType[MAX_IDE_DEVICE];
  BOOLEAN         IoReadySupported[MAX_IDE_DEVICE];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>           DeviceTransferModeSupported[MAX_IDE_DEVICE];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>           DeviceTransferModeCurrent[MAX_IDE_DEVICE];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>           DeviceTransferModeSelected[MAX_IDE_DEVICE];
} IDE_TRANSFER_MODE_PARAMETERS, *PIDE_TRANSFER_MODE_PARAMETERS;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/ns-irb-_ide_transfer_mode_parameters">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ide_transfer_mode_parameters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-irb-_ide_transfer_mode_parameters)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ide_transfer_mode_parameters-structure">_IDE_TRANSFER_MODE_PARAMETERS structure</h1>

<h2 id="description">Description</h2>

<p>The IDE_TRANSFER_MODE_PARAMETERS structure is used in conjunction with the miniport driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/nc-irb-ide_transfer_mode_select">AtaControllerTransferModeSelect</a> routine to set the transfer mode parameters on a channel.</p>

<p><strong>Note</strong> The ATA port driver and ATA miniport driver models may be altered or unavailable in the future. Instead, we recommend using the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-driver">Storport driver</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-miniport-drivers">Storport miniport</a> driver models.</p>

<h2 id="members">Members</h2>

<h3 id="channelnumber"><code>ChannelNumber</code></h3>

<p>Indicates the channel number whose mode parameters are to be set.</p>

<h3 id="devicetype"><code>DeviceType</code></h3>

<p>Contains an enumeration value of type <a rel="noopener" target="_blank" href="ide_device_type">IDE_DEVICE_TYPE</a> that indicates the type of device. The miniport driver should not select a transfer mode if the device type is <strong>DeviceNotExist</strong>.</p>

<h3 id="ioreadysupported"><code>IoReadySupported</code></h3>

<p>Indicates when <strong>TRUE</strong> that bit 11 of word 49 of the indicated device's identify data is set to 1. An IDE request with a function value of IRB_FUNCTION_ATA_IDENTIFY will retrieve a device's identify data. For more information about ATA identify data, see the sections on the Identify Device information packet in version 6.0 of the <em>ATA/ATAPI specification</em>.</p>

<h3 id="devicetransfermodesupported"><code>DeviceTransferModeSupported</code></h3>

<p>Contains a bitmap that indicates the supported transfer modes for each of the devices on the channel. The port driver sets this member. The miniport driver must not select a transfer mode that the port driver does not support. For more information about this member, see the <strong>Remarks</strong> section.</p>

<h3 id="devicetransfermodecurrent"><code>DeviceTransferModeCurrent</code></h3>

<p>Contains a bitmap that indicates the current transfer mode settings for each of the device on the channel. The port driver retrieves the current transfer mode of the devices from their identify device data. For more information about this member, see the <strong>Remarks</strong> section.</p>

<h3 id="devicetransfermodeselected"><code>DeviceTransferModeSelected</code></h3>

<p>Contains a bitmap that indicates the selected transfer mode settings for each of the device on the channel. The miniport driver should use this member to indicate to the port driver which transfer modes it selects. For more information about this member, see the <strong>Remarks</strong> section.</p>

<h2 id="remarks">Remarks</h2>

<p>Member arrays <strong>DeviceTransferModeSupported</strong>, <strong>DeviceTransferModeCurrent</strong>, and <strong>DeviceTransferModeSelected</strong> are arrays of <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> bitmaps indicating combinations of PIO and DMA transfer modes. The bitmaps are defined as follows:</p>

<p>// PIO Modes</p>

<pre><code>#define PIO_MODE0           (1 &lt;&lt; 0)
#define PIO_MODE1           (1 &lt;&lt; 1)
#define PIO_MODE2           (1 &lt;&lt; 2)
#define PIO_MODE3           (1 &lt;&lt; 3)
#define PIO_MODE4           (1 &lt;&lt; 4)

// Single-word DMA Modes

#define SWDMA_MODE0         (1 &lt;&lt; 5)
#define SWDMA_MODE1         (1 &lt;&lt; 6)
#define SWDMA_MODE2         (1 &lt;&lt; 7)

// Multi-word DMA Modes

#define MWDMA_MODE0         (1 &lt;&lt; 8)
#define MWDMA_MODE1         (1 &lt;&lt; 9)
#define MWDMA_MODE2         (1 &lt;&lt; 10)

// Ultra DMA Modes

#define UDMA_MODE0          (1 &lt;&lt; 11)
#define UDMA_MODE1          (1 &lt;&lt; 12)
#define UDMA_MODE2          (1 &lt;&lt; 13)
#define UDMA_MODE3          (1 &lt;&lt; 14)
#define UDMA_MODE4          (1 &lt;&lt; 15)
#define UDMA_MODE5          (1 &lt;&lt; 16)
</code></pre>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/nc-irb-ide_transfer_mode_select">AtaControllerTransferModeSelect</a></p>

<p><a rel="noopener" target="_blank" href="ide_device_type">IDE_DEVICE_TYPE</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/ns-irb-_ide_transfer_mode_parameters">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/irb/ns-irb-_ide_transfer_mode_parameters.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
