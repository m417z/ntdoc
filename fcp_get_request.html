<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="FCP_GET_REQUEST - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>FCP_GET_REQUEST - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            FCP_GET_REQUEST - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// 61883.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _FCP_GET_REQUEST {
  OUT <a href="node_address" title="typedef struct _NODE_ADDRESS {&#10;  USHORT NA_Node_Number : 6;&#10;  USHORT NA_Bus_Number : 10;&#10;} NODE_ADDRESS, *PNODE_ADDRESS;">NODE_ADDRESS</a>  NodeAddress;
  IN OUT <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>      Length;
  IN OUT <a href="fcp_frame" title="typedef struct _FCP_FRAME {&#10;  UCHAR ctype : 4;&#10;  UCHAR cts : 4;&#10;  UCHAR payload[511];&#10;} FCP_FRAME, *PFCP_FRAME;">PFCP_FRAME</a> Frame;
} FCP_GET_REQUEST, *PFCP_GET_REQUEST;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/61883/ns-61883-_fcp_get_request">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/fcp_get_request.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-61883-_fcp_get_request)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_fcp_get_request-structure">_FCP_GET_REQUEST structure</h1>

<h2 id="description">Description</h2>

<p>This structure is used for a get request.</p>

<p>The request retrieves the next FCP request from the queue of requests maintained by the IEC-61883 protocol driver. FCP requests and responses from AV devices are routed to the IEC-61883 protocol driver, which queues the requests. Client drivers send requests to retrieve an FCP request from the queue.</p>

<p>For requests sent to a virtual device, the <strong>NodeAddress</strong> member of the output FCP_GET_REQUEST structure contains the node address of the device that sent the FCP request. The client driver must supply this node address with its response so the instance of the protocol driver that controls the virtual device can route the response correctly.</p>

<p>For requests sent by a physical device, the 1394 bus driver determines the node address dynamically, and <strong>NodeAddress</strong> is not used.</p>

<h2 id="members">Members</h2>

<h3 id="nodeaddress"><code>NodeAddress</code></h3>

<p>On output, if the protocol driver is controlling a virtual device, <strong>NodeAddress</strong> contains the node address of the device that sent the FCP request obtained with this <strong>Av61883_GetFcpRequest</strong> <a href="irp" title="typedef struct _IRP {&#10;  CSHORT                    Type;&#10;  USHORT                    Size;&#10;  PMDL                      MdlAddress;&#10;  ULONG                     Flags;&#10;  union {&#10;    struct _IRP     *MasterIrp;&#10;    __volatile LONG IrpCount;&#10;    PVOID           SystemBuffer;&#10;  } AssociatedIrp;&#10;  LIST_ENTRY                ThreadListEntry;&#10;  IO_STATUS_BLOCK           IoStatus;&#10;  KPROCESSOR_MODE           RequestorMode;&#10;  BOOLEAN                   PendingReturned;&#10;  CHAR                      StackCount;&#10;  CHAR                      CurrentLocation;&#10;  BOOLEAN                   Cancel;&#10;  KIRQL                     CancelIrql;&#10;  CCHAR                     ApcEnvironment;&#10;  UCHAR                     AllocationFlags;&#10;...">IRP</a>. The caller must use this node address in the FCP response sent so the 1394 bus driver can route the response to the correct device.</p>

<p>If the protocol driver is being used to control a physical device, <strong>NodeAddress</strong> is not used.</p>

<h3 id="length"><code>Length</code></h3>

<p>On completion, this field will contain the actual length of the request.</p>

<h3 id="frame"><code>Frame</code></h3>

<p>On input, a pointer to a caller-allocated <a href="fcp_frame" title="typedef struct _FCP_FRAME {&#10;  UCHAR ctype : 4;&#10;  UCHAR cts : 4;&#10;  UCHAR payload[511];&#10;} FCP_FRAME, *PFCP_FRAME;">FCP_FRAME</a> structure to receive the FCP request. On output, the FCP frame written to the caller-allocated <strong><a href="fcp_frame" title="typedef struct _FCP_FRAME {&#10;  UCHAR ctype : 4;&#10;  UCHAR cts : 4;&#10;  UCHAR payload[511];&#10;} FCP_FRAME, *PFCP_FRAME;">FCP_FRAME</a></strong> structure by the protocol driver.</p>

<h2 id="see-also">See also</h2>

<p><a href="av_61883_request" title="typedef struct _AV_61883_REQUEST {&#10;  ULONG Function;&#10;  ULONG Version;&#10;  ULONG Flags;&#10;  union {&#10;    GET_UNIT_INFO       GetUnitInfo;&#10;    SET_UNIT_INFO       SetUnitInfo;&#10;    CMP_GET_PLUG_HANDLE GetPlugHandle;&#10;    CMP_GET_PLUG_STATE  GetPlugState;&#10;    CMP_CONNECT         Connect;&#10;    CMP_DISCONNECT      Disconnect;&#10;    CIP_ATTACH_FRAME    AttachFrame;&#10;    CIP_CANCEL_FRAME    CancelFrame;&#10;    CIP_TALK            Talk;&#10;    CIP_LISTEN          Listen;&#10;    CIP_STOP            Stop;&#10;    FCP_REQUEST         Request;&#10;    FCP_RESPONSE        Response;&#10;    FCP_SEND_REQUEST    SendRequest;&#10;    FCP_GET_RESPONSE    GetResponse;&#10;...">AV_61883_REQUEST</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/61883/ns-61883-_fcp_get_request">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/61883/ns-61883-_fcp_get_request.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
