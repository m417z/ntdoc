<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="KEYBOARD_EXTENDED_ATTRIBUTES - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>KEYBOARD_EXTENDED_ATTRIBUTES - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            KEYBOARD_EXTENDED_ATTRIBUTES - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddkbd.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _KEYBOARD_EXTENDED_ATTRIBUTES {
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Version;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> FormFactor;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> KeyType;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> PhysicalLayout;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> VendorSpecificPhysicalLayout;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> IETFLanguageTagIndex;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> ImplementedInputAssistControls;
} KEYBOARD_EXTENDED_ATTRIBUTES, *PKEYBOARD_EXTENDED_ATTRIBUTES;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntddkbd/ns-ntddkbd-keyboard_extended_attributes">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/keyboard_extended_attributes.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ns-ntddkbd-keyboard_extended_attributes)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="keyboard_extended_attributes-structure">KEYBOARD_EXTENDED_ATTRIBUTES structure</h1>

<h2 id="description">Description</h2>

<p>KEYBOARD_EXTENDED_ATTRIBUTES specifies the extended attributes of a keyboard.</p>

<h2 id="members">Members</h2>

<h3 id="version"><code>Version</code></h3>

<p>Type: <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong></p>

<p>The version of this structure.</p>

<p>Only <strong>KEYBOARD_EXTENDED_ATTRIBUTES_STRUCT_VERSION_1</strong> supported.</p>

<h3 id="formfactor"><code>FormFactor</code></h3>

<p>Type: <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong></p>

<p>Keyboard Form Factor (Usage ID: <em>0x2C1</em>).</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0x00</td>
  <td>Unknown Form Factor.</td>
</tr>
<tr>
  <td>0x01</td>
  <td>Full‐Size keyboard.</td>
</tr>
<tr>
  <td>0x02</td>
  <td>Compact keyboard. Such keyboards are less than 13” wide.</td>
</tr>
</tbody>
</table>

<h3 id="keytype"><code>KeyType</code></h3>

<p>Type: <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong></p>

<p>Keyboard Key Type (Usage ID: <em>0x2C2</em>).</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0x00</td>
  <td>Unknown Key Type.</td>
</tr>
<tr>
  <td>0x01</td>
  <td>Full‐travel keys.</td>
</tr>
<tr>
  <td>0x02</td>
  <td>Low‐travel keys such as those on laptop keyboards.</td>
</tr>
<tr>
  <td>0x03</td>
  <td>Zero‐travel or virtual keys.</td>
</tr>
</tbody>
</table>

<h3 id="physicallayout"><code>PhysicalLayout</code></h3>

<p>Type: <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong></p>

<p>Keyboard Physical Layout (Usage ID: <em>0x2C3</em>).</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0x00</td>
  <td>Unknown Layout</td>
</tr>
<tr>
  <td>0x01</td>
  <td>101 (e.g., US)</td>
</tr>
<tr>
  <td>0x02</td>
  <td>103 (Korea)</td>
</tr>
<tr>
  <td>0x03</td>
  <td>102 (e.g., German)</td>
</tr>
<tr>
  <td>0x04</td>
  <td>104 (e.g., ABNT Brazil)</td>
</tr>
<tr>
  <td>0x05</td>
  <td>106 (DOS/V Japan)</td>
</tr>
<tr>
  <td>0x06</td>
  <td>Vendor‐specific – If specified, <strong>VendorSpecificPhysicalLayout</strong> must also be specified.</td>
</tr>
</tbody>
</table>

<p>This value does not refer to the legend set printed on the keys, but only to the physical keyset layout, defined by the relative location and shape of the textual keys in relation to each other. This value indicates which of the de facto standard physical layouts to which the keyboard conforms. These layouts are commonly understood.</p>

<h3 id="vendorspecificphysicallayout"><code>VendorSpecificPhysicalLayout</code></h3>

<p>Type: <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong></p>

<p>A numeric identifier of the particular Vendor‐specific Keyboard Physical Layout (Usage ID: <em>0x2C4</em>).</p>

<p>Values for this field are defined by the hardware vendor but 0x00 is defined to not specify a Vendor‐specific Keyboard Physical Layout. If non‐zero, <strong>PhysicalLayout</strong> must have value <em>0x06</em>. If this identifier is <em>0x00</em>, <strong>PhysicalLayout</strong> must not have the value 0x06.</p>

<h3 id="ietflanguagetagindex"><code>IETFLanguageTagIndex</code></h3>

<p>Type: <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong></p>

<p>String index of a String Descriptor having an IETF Language Tag (Usage ID: 0x2C5).</p>

<p>Actual string can be obtained via <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidclass/ni-hidclass-ioctl_hid_get_indexed_string">IOCTL_HID_GET_INDEXED_STRING</a> IOCTL in kernel-mode drivers or <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidsdi/nf-hidsdi-hidd_getindexedstring">HidD_GetIndexedString</a> call in user-mode applications.</p>

<p>This Language Tag specifies the intended primary locale of the keyboard legend set, conformant to <a rel="noopener" target="_blank" href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">IETF BCP 47</a> or its successor.</p>

<p>If an appropriate IETF Language Tag is not available, such as for custom, adaptive or new layouts, the value is set to 0x00.</p>

<h3 id="implementedinputassistcontrols"><code>ImplementedInputAssistControls</code></h3>

<p>Type: <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong></p>

<p>Bitmap for physically implemented input assist controls. (Usage ID: <em>0x2C6</em>).</p>

<table>
<thead>
<tr>
  <th>Bit</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>All 0</td>
  <td>No Keyboard Input Assist controls are implemented.</td>
</tr>
<tr>
  <td>Bit 0</td>
  <td>Previous Suggestion</td>
</tr>
<tr>
  <td>Bit 1</td>
  <td>Next Suggestion</td>
</tr>
<tr>
  <td>Bit 2</td>
  <td>Previous Suggestion Group</td>
</tr>
<tr>
  <td>Bit 3</td>
  <td>Next Suggestion Group</td>
</tr>
<tr>
  <td>Bit 4</td>
  <td>Accept Suggestion</td>
</tr>
<tr>
  <td>Bit 5</td>
  <td>Cancel Suggestion</td>
</tr>
<tr>
  <td></td>
  <td>All other bits reserved.</td>
</tr>
</tbody>
</table>

<h2 id="remarks">Remarks</h2>

<p>This structure is used with a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntddkbd/ni-ntddkbd-ioctl_keyboard_query_extended_attributes">IOCTL_KEYBOARD_QUERY_EXTENDED_ATTRIBUTES</a> request to return information about the extended attributes that a keyboard supports.</p>

<p>This information comes from HID Keyboard Report Descriptor described in <a rel="noopener" target="_blank" href="https://www.usb.org/sites/default/files/hutrr42c_0.pdf">HID Usage Table Review Request 42: Consumer Page Keyboard Assist Controls</a>.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntddkbd/ni-ntddkbd-ioctl_keyboard_query_extended_attributes">IOCTL_KEYBOARD_QUERY_EXTENDED_ATTRIBUTES</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntddkbd/ni-ntddkbd-ioctl_keyboard_query_attributes">IOCTL_KEYBOARD_QUERY_ATTRIBUTES</a></p>

<p><a rel="noopener" target="_blank" href="https://www.usb.org/sites/default/files/hutrr42c_0.pdf">HID Usage Table Review Request 42: Consumer Page Keyboard Assist Controls</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntddkbd/ns-ntddkbd-keyboard_extended_attributes">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/ntddkbd/ns-ntddkbd-keyboard_extended_attributes.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
