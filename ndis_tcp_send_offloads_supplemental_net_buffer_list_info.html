<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO {
  union {
    struct {
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> IsEncapsulatedPacket : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> EncapsulatedPacketOffsetsValid : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> InnerFrameOffset : 8;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TransportIpHeaderRelativeOffset : 6;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TcpHeaderRelativeOffset : 10;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> IsInnerIPv6 : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TcpOptionsPresent : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved : 4;
    } EncapsulatedPacketOffsets;
    PVOID Value;
  };
} NDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO, *PNDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_tcp_send_offloads_supplemental_net_buffer_list_info">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_tcp_send_offloads_supplemental_net_buffer_list_info.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ndis-_ndis_tcp_send_offloads_supplemental_net_buffer_list_info)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_NDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO structure</h1>
<h2>Description</h2>
<p>The <strong>NDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO</strong> structure contains additional out-of-band information for encapsulated packets. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_encapsulated_packet_task_offload">Network Virtualization using Generic Routing Encapsulation (NVGRE) Task Offload</a> (NVGRE-TO).</p>
<h2>Members</h2>
<h3><code>EncapsulatedPacketOffsets</code></h3>
<h3><code>EncapsulatedPacketOffsets.IsEncapsulatedPacket</code></h3>
<p>If this member is <strong>TRUE</strong>, this NBL represents a packet containing an inner Ethernet frame with a transport IP header. It is <strong>FALSE</strong> for normal packets. When <strong>IsEncapsulatedPacket</strong> is <strong>TRUE</strong>, the existing header offset fields, <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_tcp_large_send_offload_net_buffer_list_info">NDIS_TCP_LARGE_SEND_OFFLOAD_NET_BUFFER_LIST_INFO</a>.<strong>LsoV2Transmit</strong>.<strong>TcpHeaderOffset</strong> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_tcp_ip_checksum_net_buffer_list_info">NDIS_TCP_IP_CHECKSUM_NET_BUFFER_LIST_INFO</a>.<strong>Transmit</strong>.<strong>TcpHeaderOffset</strong>, will not have correct values and must not be used by the NIC or driver. Instead, the miniport driver must use the offsets specified in the other members of this structure.</p>
<h3><code>EncapsulatedPacketOffsets.EncapsulatedPacketOffsetsValid</code></h3>
<p>If this member is <strong>TRUE</strong>, the <strong>InnerFrameOffset</strong>, <strong>TransportIpHeaderRelativeOffset</strong>, and <strong>TcpHeaderRelativeOffset</strong> members
have valid values.</p>
<h3><code>EncapsulatedPacketOffsets.InnerFrameOffset</code></h3>
<p>Offset from the beginning of the packet to the first byte of the inner Ethernet frame.</p>
<h3><code>EncapsulatedPacketOffsets.TransportIpHeaderRelativeOffset</code></h3>
<p>Offset to the first byte of the inner IP header relative to the <strong>InnerFrameOffset</strong>.</p>
<h3><code>EncapsulatedPacketOffsets.TcpHeaderRelativeOffset</code></h3>
<p>Offset to the first byte of the inner (transport) header relative to the <strong>TransportIpHeaderRelativeOffset</strong>. This value is always set to the correct offset, even if the inner frame is not a TCP packet.</p>
<h3><code>EncapsulatedPacketOffsets.IsInnerIPv6</code></h3>
<p>Set by the protocol driver to indicate that the inner IP header in the encapsulated packet contains IPv6 addresses.</p>
<h3><code>EncapsulatedPacketOffsets.TcpOptionsPresent</code></h3>
<p>Set by the protocol driver when the inner TCP header contains TCP options. This allows a miniport driver to optimize the case when there are no options to assume the TCP header length to access the payload.</p>
<h3><code>EncapsulatedPacketOffsets.Reserved</code></h3>
<p>Reserved for future use.</p>
<h3><code>Value</code></h3>
<p>Reserved for future use.</p>
<h2>Remarks</h2>
<p>The members of <strong>NDIS_TCP_SEND_OFFLOADS_SUPPLEMENTAL_NET_BUFFER_LIST_INFO</strong> are meaningful if and only if <strong>TcpIpChecksumNetBufferListInfo</strong> or <strong>TcpLargeSendNetBufferListInfo</strong> is specified in the <a href="ndis_net_buffer_list_info" title="typedef enum _NDIS_NET_BUFFER_LIST_INFO {&#10;  TcpIpChecksumNetBufferListInfo,&#10;  TcpOffloadBytesTransferred,&#10;  IPsecOffloadV1NetBufferListInfo,&#10;  IPsecOffloadV2NetBufferListInfo,&#10;  TcpLargeSendNetBufferListInfo,&#10;  TcpReceiveNoPush,&#10;  ClassificationHandleNetBufferListInfo,&#10;  Ieee8021QNetBufferListInfo,&#10;  NetBufferListCancelId,&#10;  MediaSpecificInformation,&#10;  NetBufferListFrameType,&#10;  NetBufferListProtocolId,&#10;  NetBufferListHashValue,&#10;  NetBufferListHashInfo,&#10;  WfpNetBufferListInfo,&#10;  IPsecOffloadV2TunnelNetBufferListInfo,&#10;  IPsecOffloadV2HeaderNetBufferListInfo,&#10;  NetBufferListCorrelationId,&#10;  NetBufferListFilteringInfo,&#10;...">NDIS_NET_BUFFER_LIST_INFO</a> structure.</p>
<p>If the <strong>IsEncapsulatedPacket</strong> member is <strong>TRUE</strong> and the <strong>TcpIpChecksumNetBufferListInfo</strong> out-of-band (OOB) information is valid, this indicates that NVGRE support is required and the NIC must compute the checksum for the tunnel (outer) IP header, the transport (inner) IP header, and the TCP or UDP header if one of them is present. An NVGRE packet will only be offloaded if the packet conforms to miniport-advertised capabilities. For example, a packet containing a UDP header will not be offloaded if the miniport did not advertise UDP Tx checksum offload support in its base capabilities. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/offloading-checksum-tasks">Offloading Checksum Tasks</a>.</p>
<h2>See also</h2>
<p><a href="ndis_encapsulated_packet_task_offload" title="typedef struct _NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD {&#10;  ULONG TransmitChecksumOffloadSupported : 4;&#10;  ULONG ReceiveChecksumOffloadSupported : 4;&#10;  ULONG LsoV2Supported : 4;&#10;  ULONG RssSupported : 4;&#10;  ULONG VmqSupported : 4;&#10;  ULONG UsoSupported : 4;&#10;  ULONG Reserved : 8;&#10;  ULONG MaxHeaderSizeSupported;&#10;} NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD, *PNDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD;">NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD</a></p>
<p><a href="ndis_net_buffer_list_info" title="typedef enum _NDIS_NET_BUFFER_LIST_INFO {&#10;  TcpIpChecksumNetBufferListInfo,&#10;  TcpOffloadBytesTransferred,&#10;  IPsecOffloadV1NetBufferListInfo,&#10;  IPsecOffloadV2NetBufferListInfo,&#10;  TcpLargeSendNetBufferListInfo,&#10;  TcpReceiveNoPush,&#10;  ClassificationHandleNetBufferListInfo,&#10;  Ieee8021QNetBufferListInfo,&#10;  NetBufferListCancelId,&#10;  MediaSpecificInformation,&#10;  NetBufferListFrameType,&#10;  NetBufferListProtocolId,&#10;  NetBufferListHashValue,&#10;  NetBufferListHashInfo,&#10;  WfpNetBufferListInfo,&#10;  IPsecOffloadV2TunnelNetBufferListInfo,&#10;  IPsecOffloadV2HeaderNetBufferListInfo,&#10;  NetBufferListCorrelationId,&#10;  NetBufferListFilteringInfo,&#10;...">NDIS_NET_BUFFER_LIST_INFO</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_encapsulated_packet_task_offload">Network Virtualization using Generic Routing Encapsulation (NVGRE) Task Offload</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/offloading-checksum-tasks">Offloading Checksum Tasks</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_tcp_send_offloads_supplemental_net_buffer_list_info">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ndis/ns-ndis-_ndis_tcp_send_offloads_supplemental_net_buffer_list_info.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
