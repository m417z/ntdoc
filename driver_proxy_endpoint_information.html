<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DRIVER_PROXY_ENDPOINT_INFORMATION - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DRIVER_PROXY_ENDPOINT_INFORMATION - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DRIVER_PROXY_ENDPOINT_INFORMATION - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdm.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DRIVER_PROXY_ENDPOINT_INFORMATION {
  DRIVER_PROXY_ENDPOINT_FUNCTION_ID Id;
  PDRIVER_PROXY_ENDPOINT_FUNCTION   EndpointFunction;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                             ParameterCount;
} DRIVER_PROXY_ENDPOINT_INFORMATION, *PDRIVER_PROXY_ENDPOINT_INFORMATION;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-driver_proxy_endpoint_information">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/driver_proxy_endpoint_information.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-wdm-driver_proxy_endpoint_information)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<blockquote>
  <p>[!NOTE]
  This structure is used for Driver Hot-Swap V1 only. New drivers should use Driver Hot-Swap V2, which handles endpoint registration automatically through compiler-based endpoint enumeration.</p>
</blockquote>

<p>The <strong>DRIVER_PROXY_ENDPOINT_INFORMATION</strong> structure contains information about a DriverProxy endpoint function that is being registered for hot-swappable functionality in Driver Hot-Swap V1 implementations.</p>

<h2 id="members">Members</h2>

<h3 id="id"><code>Id</code></h3>

<p>A unique identifier for the endpoint function. This ID is used to identify the endpoint within the DriverProxy system and must be unique within the scope of the DriverProxy extension. If an endpoint with the same ID already exists, it will be replaced during registration, provided the parameter count matches.</p>

<h3 id="endpointfunction"><code>EndpointFunction</code></h3>

<p>A pointer to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-driver_proxy_endpoint_function"><strong>DRIVER_PROXY_ENDPOINT_FUNCTION</strong></a> that represents the endpoint function to be registered. This is the actual function that will be made hot-swappable through the DriverProxy system.</p>

<h3 id="parametercount"><code>ParameterCount</code></h3>

<p>The number of parameters that the endpoint function accepts. This value is used for validation during endpoint registration. If an endpoint with the same ID already exists, the parameter count must match exactly, or the registration will fail with <strong>STATUS_INVALID_PARAMETER_3</strong>.</p>

<h2 id="remarks">Remarks</h2>

<p>This structure is used with <strong><a href="ioregisterdriverproxyendpoints" title="NTSTATUS IoRegisterDriverProxyEndpoints(&#10;  PDRIVER_PROXY_EXTENSION            DriverProxyExtension,&#10;  PDRIVER_PROXY_ENDPOINT_INFORMATION EndpointInfo,&#10;  ULONG                              Count,&#10;  PDRIVER_PROXY_REGISTER_CALLBACK    PhasedCallback,&#10;  PVOID                              Context&#10;);">IoRegisterDriverProxyEndpoints</a></strong> to register endpoint functions in Driver Hot-Swap V1 implementations, which require manual registration. Each structure in the array describes one endpoint function that should be made hot-swappable.</p>

<p>Driver Hot-Swap V2 automatically discovers and registers endpoints during the build process, eliminating the need for this structure in newer implementations.</p>

<p>When registering multiple endpoints, all endpoints in the array are processed atomically. Either all endpoints are successfully registered, or the entire operation fails and no changes are made.</p>

<h2 id="see-also">See also</h2>

<p><strong><a href="ioregisterdriverproxyendpoints" title="NTSTATUS IoRegisterDriverProxyEndpoints(&#10;  PDRIVER_PROXY_EXTENSION            DriverProxyExtension,&#10;  PDRIVER_PROXY_ENDPOINT_INFORMATION EndpointInfo,&#10;  ULONG                              Count,&#10;  PDRIVER_PROXY_REGISTER_CALLBACK    PhasedCallback,&#10;  PVOID                              Context&#10;);">IoRegisterDriverProxyEndpoints</a></strong></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-driver_proxy_endpoint_function"><strong>DRIVER_PROXY_ENDPOINT_FUNCTION</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-driver_proxy_register_callback"><strong>DRIVER_PROXY_REGISTER_CALLBACK</strong></a></p>

<p><strong><a href="iocreatedriverproxyextension" title="NTSTATUS IoCreateDriverProxyExtension(&#10;  PDRIVER_OBJECT                        OwningDriverObject,&#10;  DRIVER_PROXY_EXTENSION_CREATION_FLAGS Flags,&#10;  PDRIVER_PROXY_EXTENSION               *DriverProxyExtension&#10;);">IoCreateDriverProxyExtension</a></strong></p>

<p><strong><a href="iogetdriverproxyendpointwrapper" title="PDRIVER_PROXY_WRAPPED_ENDPOINT_FUNCTION IoGetDriverProxyEndpointWrapper(&#10;  PDRIVER_PROXY_EXTENSION           DriverProxyExtension,&#10;  DRIVER_PROXY_ENDPOINT_FUNCTION_ID FunctionId&#10;);">IoGetDriverProxyEndpointWrapper</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-driver_proxy_endpoint_information">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdm/ns-wdm-driver_proxy_endpoint_information.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
