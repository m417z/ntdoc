<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="POFXCALLBACKCRITICALRESOURCE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>POFXCALLBACKCRITICALRESOURCE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            POFXCALLBACKCRITICALRESOURCE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pep_x.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">POFXCALLBACKCRITICALRESOURCE Pofxcallbackcriticalresource;

VOID Pofxcallbackcriticalresource(
  [in] POHANDLE DeviceHandle,
  [in] <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Component,
  [in] BOOLEAN Active
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/nc-pep_x-pofxcallbackcriticalresource">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pepfx.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">POFXCALLBACKCRITICALRESOURCE Pofxcallbackcriticalresource;

VOID Pofxcallbackcriticalresource(
  [in] POHANDLE DeviceHandle,
  [in] <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Component,
  [in] BOOLEAN Active
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/nc-pepfx-pofxcallbackcriticalresource">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pofxcallbackcriticalresource.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-pep_x-pofxcallbackcriticalresource)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>POFXCALLBACKCRITICALRESOURCE callback function (pep_x.h)</h1>

<h2>Description</h2>

<p>The <strong>TransitionCriticalResource</strong> routine changes the active/inactive state of a core system component.</p>

<h2>Parameters</h2>

<h3><code>DeviceHandle</code> [in]</h3>

<p>A POHANDLE value that represents the registration of the device with PoFx. The PEP previously received this handle from PoFx during the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_register_crashdump_device">PEP_DPM_REGISTER_DEVICE</a> notification that informed the PEP that the device's driver stack registered the device with PoFx.</p>

<h3><code>Component</code> [in]</h3>

<p>[in] The index that identifies the component. This member is an index into the <strong>Components</strong> array in the <a href="pep_device_register_v2" title="typedef struct _PEP_DEVICE_REGISTER_V2 {&#10;  ULONGLONG         Flags;&#10;  ULONG             ComponentCount;&#10;  PPEP_COMPONENT_V2 Components[ANYSIZE_ARRAY];&#10;} PEP_DEVICE_REGISTER_V2, *PPEP_DEVICE_REGISTER_V2;">PEP_DEVICE_REGISTER_V2</a> structure that the PEP previously supplied in response to the <strong>PEP_DPM_REGISTER_DEVICE</strong> notification for this device. If the <strong>Components</strong> array contains N elements, component indexes range from 0 to N–1.</p>

<h3><code>Active</code> [in]</h3>

<p>Whether to transition the device from inactive to active, or vice versa. Set to TRUE to transition the device from inactive to active, or to FALSE to transition the device from active to inactive.</p>

<h2>Remarks</h2>

<p>This routine is implemented by the power management framework (PoFx) and is called by the platform extension plug-in (PEP). The <strong>TransitionCriticalResource</strong> member of the <a href="pep_kernel_information_struct_v3" title="typedef struct _PEP_KERNEL_INFORMATION_STRUCT_V3 {&#10;  USHORT                                   Version;&#10;  USHORT                                   Size;&#10;  POHANDLE                                 Plugin;&#10;  PPOFXCALLBACKREQUESTWORKER               RequestWorker;&#10;  PPOFXCALLBACKENUMERATEUNMASKEDINTERRUPTS EnumerateUnmaskedInterrupts;&#10;  PPOFXCALLBACKPROCESSORHALT               ProcessorHalt;&#10;  PPOFXCALLBACKREQUESTINTERRUPT            RequestInterrupt;&#10;  PPOFXCALLBACKCRITICALRESOURCE            TransitionCriticalResource;&#10;  PPOFXCALLBACKPROCESSORIDLEVETO           ProcessorIdleVeto;&#10;  PPOFXCALLBACKPLATFORMIDLEVETO            PlatformIdleVeto;&#10;  PPOFXCALLBACKUPDATEPROCESSORIDLESTATE    UpdateProcessorIdleState;&#10;  PPOFXCALLBACKUPDATEPLATFORMIDLESTATE     UpdatePlatformIdleState;&#10;  PPOFXCALLBACKREQUESTCOMMON               RequestCommon;&#10;} PEP_KERNEL_INFORMATION_STRUCT_V3, *PPEP_KERNEL_INFORMATION_STRUCT_V3;">PEP_KERNEL_INFORMATION_STRUCT_V3</a> structure is a pointer to an <strong>TransitionCriticalResource</strong> routine.</p>

<p>A PEP can call this routine at IRQL &lt;= HIGH_LEVEL.</p>

<h2>See also</h2>

<p><a href="pep_device_register_v2" title="typedef struct _PEP_DEVICE_REGISTER_V2 {&#10;  ULONGLONG         Flags;&#10;  ULONG             ComponentCount;&#10;  PPEP_COMPONENT_V2 Components[ANYSIZE_ARRAY];&#10;} PEP_DEVICE_REGISTER_V2, *PPEP_DEVICE_REGISTER_V2;">PEP_DEVICE_REGISTER_V2</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_register_crashdump_device">PEP_DPM_REGISTER_DEVICE</a></p>

<p><a href="pep_kernel_information_struct_v3" title="typedef struct _PEP_KERNEL_INFORMATION_STRUCT_V3 {&#10;  USHORT                                   Version;&#10;  USHORT                                   Size;&#10;  POHANDLE                                 Plugin;&#10;  PPOFXCALLBACKREQUESTWORKER               RequestWorker;&#10;  PPOFXCALLBACKENUMERATEUNMASKEDINTERRUPTS EnumerateUnmaskedInterrupts;&#10;  PPOFXCALLBACKPROCESSORHALT               ProcessorHalt;&#10;  PPOFXCALLBACKREQUESTINTERRUPT            RequestInterrupt;&#10;  PPOFXCALLBACKCRITICALRESOURCE            TransitionCriticalResource;&#10;  PPOFXCALLBACKPROCESSORIDLEVETO           ProcessorIdleVeto;&#10;  PPOFXCALLBACKPLATFORMIDLEVETO            PlatformIdleVeto;&#10;  PPOFXCALLBACKUPDATEPROCESSORIDLESTATE    UpdateProcessorIdleState;&#10;  PPOFXCALLBACKUPDATEPLATFORMIDLESTATE     UpdatePlatformIdleState;&#10;  PPOFXCALLBACKREQUESTCOMMON               RequestCommon;&#10;} PEP_KERNEL_INFORMATION_STRUCT_V3, *PPEP_KERNEL_INFORMATION_STRUCT_V3;">PEP_KERNEL_INFORMATION_STRUCT_V3</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/nc-pep_x-pofxcallbackcriticalresource">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pep_x/nc-pep_x-pofxcallbackcriticalresource.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-pepfx-pofxcallbackcriticalresource)</h1>
</div>
<div class="ntdoc-description">
<h1>POFXCALLBACKCRITICALRESOURCE callback function (pepfx.h)</h1>

<h2>Description</h2>

<p>The <strong>TransitionCriticalResource</strong> routine changes the active/inactive state of a core system component.</p>

<h2>Parameters</h2>

<h3><code>DeviceHandle</code> [in]</h3>

<p>A POHANDLE value that represents the registration of the device with PoFx. The PEP previously received this handle from PoFx during the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_register_crashdump_device">PEP_DPM_REGISTER_DEVICE</a> notification that informed the PEP that the device's driver stack registered the device with PoFx.</p>

<h3><code>Component</code> [in]</h3>

<p>[in] The index that identifies the component. This member is an index into the <strong>Components</strong> array in the <a href="pep_device_register_v2" title="typedef struct _PEP_DEVICE_REGISTER_V2 {&#10;  ULONGLONG         Flags;&#10;  ULONG             ComponentCount;&#10;  PPEP_COMPONENT_V2 Components[ANYSIZE_ARRAY];&#10;} PEP_DEVICE_REGISTER_V2, *PPEP_DEVICE_REGISTER_V2;">PEP_DEVICE_REGISTER_V2</a> structure that the PEP previously supplied in response to the <strong>PEP_DPM_REGISTER_DEVICE</strong> notification for this device. If the <strong>Components</strong> array contains N elements, component indexes range from 0 to N–1.</p>

<h3><code>Active</code> [in]</h3>

<p>Whether to transition the device from inactive to active, or vice versa. Set to TRUE to transition the device from inactive to active, or to FALSE to transition the device from active to inactive.</p>

<h2>Remarks</h2>

<p>This routine is implemented by the power management framework (PoFx) and is called by the platform extension plug-in (PEP). The <strong>TransitionCriticalResource</strong> member of the <a href="pep_kernel_information_struct_v3" title="typedef struct _PEP_KERNEL_INFORMATION_STRUCT_V3 {&#10;  USHORT                                   Version;&#10;  USHORT                                   Size;&#10;  POHANDLE                                 Plugin;&#10;  PPOFXCALLBACKREQUESTWORKER               RequestWorker;&#10;  PPOFXCALLBACKENUMERATEUNMASKEDINTERRUPTS EnumerateUnmaskedInterrupts;&#10;  PPOFXCALLBACKPROCESSORHALT               ProcessorHalt;&#10;  PPOFXCALLBACKREQUESTINTERRUPT            RequestInterrupt;&#10;  PPOFXCALLBACKCRITICALRESOURCE            TransitionCriticalResource;&#10;  PPOFXCALLBACKPROCESSORIDLEVETO           ProcessorIdleVeto;&#10;  PPOFXCALLBACKPLATFORMIDLEVETO            PlatformIdleVeto;&#10;  PPOFXCALLBACKUPDATEPROCESSORIDLESTATE    UpdateProcessorIdleState;&#10;  PPOFXCALLBACKUPDATEPLATFORMIDLESTATE     UpdatePlatformIdleState;&#10;  PPOFXCALLBACKREQUESTCOMMON               RequestCommon;&#10;} PEP_KERNEL_INFORMATION_STRUCT_V3, *PPEP_KERNEL_INFORMATION_STRUCT_V3;">PEP_KERNEL_INFORMATION_STRUCT_V3</a> structure is a pointer to an <strong>TransitionCriticalResource</strong> routine.</p>

<p>A PEP can call this routine at IRQL &lt;= HIGH_LEVEL.</p>

<h2>See also</h2>

<p><a href="pep_device_register_v2" title="typedef struct _PEP_DEVICE_REGISTER_V2 {&#10;  ULONGLONG         Flags;&#10;  ULONG             ComponentCount;&#10;  PPEP_COMPONENT_V2 Components[ANYSIZE_ARRAY];&#10;} PEP_DEVICE_REGISTER_V2, *PPEP_DEVICE_REGISTER_V2;">PEP_DEVICE_REGISTER_V2</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_register_crashdump_device">PEP_DPM_REGISTER_DEVICE</a></p>

<p><a href="pep_kernel_information_struct_v3" title="typedef struct _PEP_KERNEL_INFORMATION_STRUCT_V3 {&#10;  USHORT                                   Version;&#10;  USHORT                                   Size;&#10;  POHANDLE                                 Plugin;&#10;  PPOFXCALLBACKREQUESTWORKER               RequestWorker;&#10;  PPOFXCALLBACKENUMERATEUNMASKEDINTERRUPTS EnumerateUnmaskedInterrupts;&#10;  PPOFXCALLBACKPROCESSORHALT               ProcessorHalt;&#10;  PPOFXCALLBACKREQUESTINTERRUPT            RequestInterrupt;&#10;  PPOFXCALLBACKCRITICALRESOURCE            TransitionCriticalResource;&#10;  PPOFXCALLBACKPROCESSORIDLEVETO           ProcessorIdleVeto;&#10;  PPOFXCALLBACKPLATFORMIDLEVETO            PlatformIdleVeto;&#10;  PPOFXCALLBACKUPDATEPROCESSORIDLESTATE    UpdateProcessorIdleState;&#10;  PPOFXCALLBACKUPDATEPLATFORMIDLESTATE     UpdatePlatformIdleState;&#10;  PPOFXCALLBACKREQUESTCOMMON               RequestCommon;&#10;} PEP_KERNEL_INFORMATION_STRUCT_V3, *PPEP_KERNEL_INFORMATION_STRUCT_V3;">PEP_KERNEL_INFORMATION_STRUCT_V3</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/nc-pepfx-pofxcallbackcriticalresource">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pepfx/nc-pepfx-pofxcallbackcriticalresource.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
