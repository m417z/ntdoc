<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGKARG_PRESENT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGKARG_PRESENT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGKARG_PRESENT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXGKARG_PRESENT {
  [out]    VOID                     *pDmaBuffer;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     DmaSize;
  [in]     VOID                     *pDmaBufferPrivateData;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     DmaBufferPrivateDataSize;
  union {
    [in]     <a href="dxgk_allocationlist" title="typedef struct _DXGK_ALLOCATIONLIST&#10;{&#10;    HANDLE              hDeviceSpecificAllocation;&#10;    struct&#10;    {&#10;        UINT            WriteOperation  : 1;    // 0x00000001&#10;        UINT            SegmentId       : 5;    // 0x0000002E&#10;        UINT            Reserved        : 26;   // 0xFFFFFFC0&#10;    };&#10;#if (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    union&#10;    {&#10;        PHYSICAL_ADDRESS        PhysicalAddress;&#10;        D3DGPU_VIRTUAL_ADDRESS  VirtualAddress;&#10;    };&#10;#else // (DXGKDDI_INTERFACE_VERSION &lt; DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    PHYSICAL_ADDRESS    PhysicalAddress;&#10;#endif // (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;} DXGK_ALLOCATIONLIST;">DXGK_ALLOCATIONLIST</a>               *pAllocationList;
    [in]     <a href="dxgk_presentallocationinfo" title="typedef struct _DXGK_PRESENTALLOCATIONINFO {&#10;  HANDLE                 hDeviceSpecificAllocation;&#10;  D3DGPU_VIRTUAL_ADDRESS AllocationVirtualAddress;&#10;  PHYSICAL_ADDRESS       PhysicalAddress;&#10;  WORD                   SegmentId;&#10;  WORD                   PhysicalAdapterIndex;&#10;} DXGK_PRESENTALLOCATIONINFO;">DXGK_PRESENTALLOCATIONINFO</a>        *pAllocationInfo;
    [in]     <a href="dxgk_presentmultiplaneoverlayinfo" title="typedef struct _DXGK_PRESENTMULTIPLANEOVERLAYINFO {&#10;  [in] D3DDDI_VIDEO_PRESENT_SOURCE_ID    VidPnSourceId;&#10;  [in] UINT                              PlaneListCount;&#10;  [in] DXGK_PRESENTMULTIPLANEOVERLAYLIST *pPlaneList;&#10;} DXGK_PRESENTMULTIPLANEOVERLAYINFO;">DXGK_PRESENTMULTIPLANEOVERLAYINFO</a> *pPresentMultiPlaneOverlayInfo;
  };
#if ...
  [in/out] <a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a> *pPatchLocationListOut;
#if ...
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     PatchLocationListOutSize;
  [in]     <a href="dxgk_allocationlist" title="typedef struct _DXGK_ALLOCATIONLIST&#10;{&#10;    HANDLE              hDeviceSpecificAllocation;&#10;    struct&#10;    {&#10;        UINT            WriteOperation  : 1;    // 0x00000001&#10;        UINT            SegmentId       : 5;    // 0x0000002E&#10;        UINT            Reserved        : 26;   // 0xFFFFFFC0&#10;    };&#10;#if (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    union&#10;    {&#10;        PHYSICAL_ADDRESS        PhysicalAddress;&#10;        D3DGPU_VIRTUAL_ADDRESS  VirtualAddress;&#10;    };&#10;#else // (DXGKDDI_INTERFACE_VERSION &lt; DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    PHYSICAL_ADDRESS    PhysicalAddress;&#10;#endif // (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;} DXGK_ALLOCATIONLIST;">DXGK_ALLOCATIONLIST</a>      *pAllocationList;
#else
  [in/out] <a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a> *pPatchLocationListOut;
#endif
#else
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     PatchLocationListOutSize;
#endif
  [in/out] <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     MultipassOffset;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     Color;
  [in]     RECT                     DstRect;
  [in]     RECT                     SrcRect;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     SubRectCnt;
  [in]     const RECT               *pDstSubRects;
  [in]     <a href="d3dddi_flipinterval_type" title="typedef enum D3DDDI_FLIPINTERVAL_TYPE {&#10;  D3DDDI_FLIPINTERVAL_IMMEDIATE,&#10;  D3DDDI_FLIPINTERVAL_ONE,&#10;  D3DDDI_FLIPINTERVAL_TWO,&#10;  D3DDDI_FLIPINTERVAL_THREE,&#10;  D3DDDI_FLIPINTERVAL_FOUR,&#10;  D3DDDI_FLIPINTERVAL_IMMEDIATE_ALLOW_TEARING&#10;} ;">D3DDDI_FLIPINTERVAL_TYPE</a> FlipInterval;
  [in]     <a href="dxgk_presentflags" title="typedef struct _DXGK_PRESENTFLAGS {&#10;  union {&#10;    struct {&#10;      UINT Blt : 1;&#10;      UINT ColorFill : 1;&#10;      UINT Flip : 1;&#10;      UINT FlipWithNoWait : 1;&#10;      UINT SrcColorKey : 1;&#10;      UINT DstColorKey : 1;&#10;      UINT LinearToSrgb : 1;&#10;      UINT Rotate : 1;&#10;      UINT FlipStereo : 1;&#10;      UINT FlipStereoTemporaryMono : 1;&#10;      UINT FlipStereoPreferRight : 1;&#10;      UINT BltStereoUseRight : 1;&#10;      UINT FlipWithMultiPlaneOverlay : 1;&#10;      UINT RedirectedFlip : 1;&#10;#if ...&#10;      UINT Reserved : 18;&#10;#elif&#10;...">DXGK_PRESENTFLAGS</a>        Flags;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     DmaBufferSegmentId;
  [in]     <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a>         DmaBufferPhysicalAddress;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     Reserved;
           D3DGPU_VIRTUAL_ADDRESS   DmaBufferGpuVirtualAddress;
           <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     NumSrcAllocations;
           <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     NumDstAllocations;
           <a href="uint" title="typedef unsigned int UINT;">UINT</a>                     PrivateDriverDataSize;
           PVOID                    pPrivateDriverData;
} DXGKARG_PRESENT;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgkarg_present">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgkarg_present.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmddi-_dxgkarg_present)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>DXGKARG_PRESENT structure</h1>
<h2>Description</h2>
<p>The <strong>DXGKARG_PRESENT</strong> structure describes a source-to-primary copy operation.</p>
<h2>Members</h2>
<h3><code>pDmaBuffer</code> [out]</h3>
<p>A pointer to the start of the DMA buffer, which is aligned on 4 KB. This buffer can be sent through DMA to the graphics hardware. Before the display miniport driver returns from the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_present"><strong>DxgkDdiPresent</strong></a> function, the driver should set <strong>pDmaBuffer</strong> to the next empty byte that follows the last byte that the driver wrote to, or the driver should point to the location (one byte beyond the buffer space) if no more space is available. This location would have been correct if the buffer was large enough.</p>
<h3><code>DmaSize</code> [in]</h3>
<p>The size, in bytes, of the DMA buffer that <strong>pDmaBuffer</strong> points to.</p>
<h3><code>pDmaBufferPrivateData</code> [in]</h3>
<p>A pointer to a driver-resident private data structure that is associated with the DMA buffer that <strong>pDmaBuffer</strong> points to.</p>
<h3><code>DmaBufferPrivateDataSize</code> [in]</h3>
<p>The number of bytes that remain in the private data structure that <strong>pDmaBufferPrivateData</strong> points to for the current operation.</p>
<h3><code>pAllocationInfo</code> [in]</h3>
<p>Reserved for system use. The display miniport driver should ignore this member. This member is available beginning with Windows 7.</p>
<h3><code>pPresentMultiPlaneOverlayInfo</code> [in]</h3>
<p>A pointer to a structure of type <strong><a href="dxgk_presentmultiplaneoverlayinfo" title="typedef struct _DXGK_PRESENTMULTIPLANEOVERLAYINFO {&#10;  [in] D3DDDI_VIDEO_PRESENT_SOURCE_ID    VidPnSourceId;&#10;  [in] UINT                              PlaneListCount;&#10;  [in] DXGK_PRESENTMULTIPLANEOVERLAYLIST *pPlaneList;&#10;} DXGK_PRESENTMULTIPLANEOVERLAYINFO;">DXGK_PRESENTMULTIPLANEOVERLAYINFO</a></strong> that specifies info on a VidPN input and an overlay plane to display.</p>
<p>Supported starting with Windows 8.</p>
<h3><code>pAllocationList</code> [in]</h3>
<p>An array of <strong><a href="dxgk_allocationlist" title="typedef struct _DXGK_ALLOCATIONLIST&#10;{&#10;    HANDLE              hDeviceSpecificAllocation;&#10;    struct&#10;    {&#10;        UINT            WriteOperation  : 1;    // 0x00000001&#10;        UINT            SegmentId       : 5;    // 0x0000002E&#10;        UINT            Reserved        : 26;   // 0xFFFFFFC0&#10;    };&#10;#if (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    union&#10;    {&#10;        PHYSICAL_ADDRESS        PhysicalAddress;&#10;        D3DGPU_VIRTUAL_ADDRESS  VirtualAddress;&#10;    };&#10;#else // (DXGKDDI_INTERFACE_VERSION &lt; DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    PHYSICAL_ADDRESS    PhysicalAddress;&#10;#endif // (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;} DXGK_ALLOCATIONLIST;">DXGK_ALLOCATIONLIST</a></strong> structures that describe the source, destination, or both for the copy operation. The driver accesses the source allocation handle through the <strong>hDeviceSpecificAllocation</strong> member of the <strong>pAllocationList</strong>[DXGK_PRESENT_SOURCE_INDEX] element (that is, element 1). The driver accesses the destination allocation handle through the <strong>hDeviceSpecificAllocation</strong> member of the <strong>pAllocationList</strong>[DXGK_PRESENT_DESTINATION_INDEX] element (that is, element 2).</p>
<p>The handles that are specified in the elements of the allocation list are the device-specific handles that the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_openallocationinfo"><strong>DxgkDdiOpenAllocation</strong></a> function returned when the allocations were opened. If a source or destination is not present for the operation, the <strong>hDeviceSpecificAllocation</strong> member of the respective element is <strong>NULL</strong>. This member is available beginning with Windows 7.</p>
<blockquote>
<p>[!NOTE]
The <strong>hDeviceSpecificAllocation</strong> member of the first element in the allocation list (element 0) is always <strong>NULL</strong>.</p>
</blockquote>
<h3><code>pPatchLocationListOut</code> [in/out]</h3>
<p>An array of <strong><a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a></strong> structures for the patch-location list that the display miniport driver fills. Before the driver returns from a call to its <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_present"><strong>DxgkDdiPresent</strong></a> function, the driver must set <strong>pPatchLocationListOut</strong> to the next <a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a> element that follows the last <a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a> element that the driver updated.</p>
<h3><code>PatchLocationListOutSize</code> [in]</h3>
<p>The number of elements in the patch-location list that <strong>pPatchLocationListOut</strong> specifies. The display miniport driver is not required to fill all of the elements in the entire list; the driver must use only elements that are necessary to describe the patch location within the DMA buffer.</p>
<h3><code>MultipassOffset</code> [in/out]</h3>
<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies the progress of the copying operation if the display miniport driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_present"><strong>DxgkDdiPresent</strong></a> function must return STATUS_GRAPHICS_INSUFFICIENT_DMA_BUFFER to obtain a new DMA buffer. When the driver's <strong>DxgkDdiPresent</strong> function is first called with a new <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/windef/ns-windef-rect"><strong>RECT</strong></a> list, <strong>MultipassOffset</strong> is initialized to zero. Before the driver returns from the <strong>DxgkDdiPresent</strong> call, the driver sets <strong>MultipassOffset</strong> to show copy progress for subsequent <strong>DxgkDdiPresent</strong> calls with the same command buffer. The Microsoft DirectX graphics kernel subsystem does not change the value further.</p>
<h3><code>Color</code> [in]</h3>
<p>The A8R8G8B8 color in either a color-fill operation, which is specified by the <strong>ColorFill</strong> bit-field flag set in the <strong>Flags</strong> member, or a color-key operation, which is specified by either the <strong>SrcColorKey</strong> or <strong>DstColorKey</strong> bit-field flag. Note that only one of the <strong>ColorFill</strong>, <strong>SrcColorKey</strong>, and <strong>DstColorKey</strong> bit-field flags is set at any time.</p>
<p>If the primary format is palettized RGB, <strong>Color</strong> contains the palette index rather than the D3DDDIFMT_A8R8G8B8 value from the <strong><a href="d3dddiformat" title="typedef enum _D3DDDIFORMAT {&#10;  D3DDDIFMT_UNKNOWN,&#10;  D3DDDIFMT_R8G8B8,&#10;  D3DDDIFMT_A8R8G8B8,&#10;  D3DDDIFMT_X8R8G8B8,&#10;  D3DDDIFMT_R5G6B5,&#10;  D3DDDIFMT_X1R5G5B5,&#10;  D3DDDIFMT_A1R5G5B5,&#10;  D3DDDIFMT_A4R4G4B4,&#10;  D3DDDIFMT_R3G3B2,&#10;  D3DDDIFMT_A8,&#10;  D3DDDIFMT_A8R3G3B2,&#10;  D3DDDIFMT_X4R4G4B4,&#10;  D3DDDIFMT_A2B10G10R10,&#10;  D3DDDIFMT_A8B8G8R8,&#10;  D3DDDIFMT_X8B8G8R8,&#10;  D3DDDIFMT_G16R16,&#10;  D3DDDIFMT_A2R10G10B10,&#10;  D3DDDIFMT_A16B16G16R16,&#10;  D3DDDIFMT_A8P8,&#10;...">D3DDDIFORMAT</a></strong> enumeration type.</p>
<h3><code>DstRect</code> [in]</h3>
<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/windef/ns-windef-rect"><strong>RECT</strong></a> structure for the destination rectangle that is used to calculate the stretch factor.</p>
<h3><code>SrcRect</code> [in]</h3>
<p>A RECT structure for the source rectangle that is used to calculate the stretch factor.</p>
<h3><code>SubRectCnt</code> [in]</h3>
<p>The number of destination sub-rectangles in the array that <strong>pDstSubRects</strong> specifies.</p>
<h3><code>pDstSubRects</code> [in]</h3>
<p>An array of RECT structures for the list of destination sub-rectangles that the <strong>DxgkDdiPresent</strong> function copies to.</p>
<h3><code>FlipInterval</code> [in]</h3>
<p>A <strong><a href="d3dddi_flipinterval_type" title="typedef enum D3DDDI_FLIPINTERVAL_TYPE {&#10;  D3DDDI_FLIPINTERVAL_IMMEDIATE,&#10;  D3DDDI_FLIPINTERVAL_ONE,&#10;  D3DDDI_FLIPINTERVAL_TWO,&#10;  D3DDDI_FLIPINTERVAL_THREE,&#10;  D3DDDI_FLIPINTERVAL_FOUR,&#10;  D3DDDI_FLIPINTERVAL_IMMEDIATE_ALLOW_TEARING&#10;} ;">D3DDDI_FLIPINTERVAL_TYPE</a></strong>-typed value that indicates the flip interval (that is, if the flip occurs after zero, one, two, three, or four vertical syncs).</p>
<h3><code>Flags</code> [in]</h3>
<p>A <strong><a href="dxgk_presentflags" title="typedef struct _DXGK_PRESENTFLAGS {&#10;  union {&#10;    struct {&#10;      UINT Blt : 1;&#10;      UINT ColorFill : 1;&#10;      UINT Flip : 1;&#10;      UINT FlipWithNoWait : 1;&#10;      UINT SrcColorKey : 1;&#10;      UINT DstColorKey : 1;&#10;      UINT LinearToSrgb : 1;&#10;      UINT Rotate : 1;&#10;      UINT FlipStereo : 1;&#10;      UINT FlipStereoTemporaryMono : 1;&#10;      UINT FlipStereoPreferRight : 1;&#10;      UINT BltStereoUseRight : 1;&#10;      UINT FlipWithMultiPlaneOverlay : 1;&#10;      UINT RedirectedFlip : 1;&#10;#if ...&#10;      UINT Reserved : 18;&#10;#elif&#10;...">DXGK_PRESENTFLAGS</a></strong> structure that identifies, in bit-field flags, the type of present operation to perform. Note that the <strong>ColorFill</strong>, <strong>SrcColorKey</strong>, and <strong>DstColorKey</strong> bit-field flags in <strong>Flags</strong> are mutually exclusive.</p>
<h3><code>DmaBufferSegmentId</code> [in]</h3>
<p>The identifier of the memory segment that the DMA buffer was paged in. If the identifier is zero, the DMA buffer is not correctly paged in.</p>
<h3><code>DmaBufferPhysicalAddress</code> [in]</h3>
<p>A <strong><a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a></strong> data type (which is defined as <strong>LARGE_INTEGER</strong>) that indicates the physical address where the DMA buffer was paged in. If the physical address is zero, the DMA buffer is not correctly paged in.</p>
<h3><code>Reserved</code> [in]</h3>
<p>Reserved for system use. The driver should ignore this member.</p>
<h3><code>DmaBufferGpuVirtualAddress</code></h3>
<p>A <strong>D3DGPU_VIRTUAL_ADDRESS</strong> data type that indicates the virtual address where the DMA buffer was paged in. If the physical address is zero, the DMA buffer is not correctly paged in.</p>
<h3><code>NumSrcAllocations</code></h3>
<p>The number of context allocations in the source.</p>
<h3><code>NumDstAllocations</code></h3>
<p>The number of context allocations in the destination.</p>
<h3><code>PrivateDriverDataSize</code></h3>
<p>The size of <em>pPrivateDriverData</em>.</p>
<h3><code>pPrivateDriverData</code></h3>
<p>Pointer to a buffer that contains optional private driver data.</p>
<h2>Remarks</h2>
<p>The ratio of the source and destination rectangular areas that the <strong>SrcRect</strong> and <strong>DstRect</strong> members specify is used to compute a stretch factor. The driver can factor in the stretch-factor calculation when it performs the copy operation.</p>
<p>The driver is not required to perform any clipping. The Microsoft DirectX graphics kernel subsystem preclips the list of destination sub-rectangles that the <strong>pDstSubRects</strong> member specifies to the coordinates of the destination rectangle that the <strong>DstRect</strong> member specifies and to the screen (primary). Note that if a list of destination sub-rectangles is supplied in <strong>pDstSubRects</strong>, the driver should use only <strong>SrcRect</strong> and <strong>DstRect</strong> to compute the stretch factor and should use the coordinates of the destination sub-rectangles for the actual copy operation.</p>
<h2>See also</h2>
<p><strong><a href="d3dddi_flipinterval_type" title="typedef enum D3DDDI_FLIPINTERVAL_TYPE {&#10;  D3DDDI_FLIPINTERVAL_IMMEDIATE,&#10;  D3DDDI_FLIPINTERVAL_ONE,&#10;  D3DDDI_FLIPINTERVAL_TWO,&#10;  D3DDDI_FLIPINTERVAL_THREE,&#10;  D3DDDI_FLIPINTERVAL_FOUR,&#10;  D3DDDI_FLIPINTERVAL_IMMEDIATE_ALLOW_TEARING&#10;} ;">D3DDDI_FLIPINTERVAL_TYPE</a></strong></p>
<p><strong><a href="d3dddi_patchlocationlist" title="typedef struct _D3DDDI_PATCHLOCATIONLIST {&#10;  [in]     UINT  AllocationIndex;&#10;  union {&#10;    struct {&#10;      UINT SlotId : 24;&#10;      UINT Reserved : 8;&#10;    };&#10;    [in]     UINT Value;&#10;  };&#10;  [in/out] UINT  DriverId;&#10;  [in/out] UINT  AllocationOffset;&#10;  [in/out] UINT  PatchOffset;&#10;  [in/out] UINT  SplitOffset;&#10;} D3DDDI_PATCHLOCATIONLIST;">D3DDDI_PATCHLOCATIONLIST</a></strong></p>
<p><strong><a href="dxgk_allocationlist" title="typedef struct _DXGK_ALLOCATIONLIST&#10;{&#10;    HANDLE              hDeviceSpecificAllocation;&#10;    struct&#10;    {&#10;        UINT            WriteOperation  : 1;    // 0x00000001&#10;        UINT            SegmentId       : 5;    // 0x0000002E&#10;        UINT            Reserved        : 26;   // 0xFFFFFFC0&#10;    };&#10;#if (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    union&#10;    {&#10;        PHYSICAL_ADDRESS        PhysicalAddress;&#10;        D3DGPU_VIRTUAL_ADDRESS  VirtualAddress;&#10;    };&#10;#else // (DXGKDDI_INTERFACE_VERSION &lt; DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;    PHYSICAL_ADDRESS    PhysicalAddress;&#10;#endif // (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM2_0)&#10;} DXGK_ALLOCATIONLIST;">DXGK_ALLOCATIONLIST</a></strong></p>
<p><strong><a href="dxgk_presentflags" title="typedef struct _DXGK_PRESENTFLAGS {&#10;  union {&#10;    struct {&#10;      UINT Blt : 1;&#10;      UINT ColorFill : 1;&#10;      UINT Flip : 1;&#10;      UINT FlipWithNoWait : 1;&#10;      UINT SrcColorKey : 1;&#10;      UINT DstColorKey : 1;&#10;      UINT LinearToSrgb : 1;&#10;      UINT Rotate : 1;&#10;      UINT FlipStereo : 1;&#10;      UINT FlipStereoTemporaryMono : 1;&#10;      UINT FlipStereoPreferRight : 1;&#10;      UINT BltStereoUseRight : 1;&#10;      UINT FlipWithMultiPlaneOverlay : 1;&#10;      UINT RedirectedFlip : 1;&#10;#if ...&#10;      UINT Reserved : 18;&#10;#elif&#10;...">DXGK_PRESENTFLAGS</a></strong></p>
<p><strong><a href="dxgk_presentmultiplaneoverlayinfo" title="typedef struct _DXGK_PRESENTMULTIPLANEOVERLAYINFO {&#10;  [in] D3DDDI_VIDEO_PRESENT_SOURCE_ID    VidPnSourceId;&#10;  [in] UINT                              PlaneListCount;&#10;  [in] DXGK_PRESENTMULTIPLANEOVERLAYLIST *pPlaneList;&#10;} DXGK_PRESENTMULTIPLANEOVERLAYINFO;">DXGK_PRESENTMULTIPLANEOVERLAYINFO</a></strong></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_present"><strong>DxgkDdiPresent</strong></a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/windef/ns-windef-rect"><strong>RECT</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgkarg_present">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ns-d3dkmddi-_dxgkarg_present.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
