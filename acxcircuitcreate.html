<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="AcxCircuitCreate - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>AcxCircuitCreate - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            AcxCircuitCreate - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// acxcircuit.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> AcxCircuitCreate(
  WDFDEVICE              Device,
  <a href="wdf_object_attributes" title="typedef struct _WDF_OBJECT_ATTRIBUTES {&#10;  ULONG                          Size;&#10;  PFN_WDF_OBJECT_CONTEXT_CLEANUP EvtCleanupCallback;&#10;  PFN_WDF_OBJECT_CONTEXT_DESTROY EvtDestroyCallback;&#10;  WDF_EXECUTION_LEVEL            ExecutionLevel;&#10;  WDF_SYNCHRONIZATION_SCOPE      SynchronizationScope;&#10;  WDFOBJECT                      ParentObject;&#10;  size_t                         ContextSizeOverride;&#10;  PCWDF_OBJECT_CONTEXT_TYPE_INFO ContextTypeInfo;&#10;} WDF_OBJECT_ATTRIBUTES, *PWDF_OBJECT_ATTRIBUTES;">PWDF_OBJECT_ATTRIBUTES</a> Attributes,
  PACXCIRCUIT_INIT       *Config,
  ACXCIRCUIT             *Circuit
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acxcircuit/nf-acxcircuit-acxcircuitcreate">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/acxcircuitcreate.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-acxcircuit-acxcircuitcreate)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The <strong>AcxCircuitCreate</strong> function is used to create an ACXCIRCUIT.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="device"><code>Device</code></h3>

<p>A WDFDEVICE object (described in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/summary-of-framework-objects">Summary of Framework Objects</a>) that will be associated with the circuit.</p>

<h3 id="attributes"><code>Attributes</code></h3>

<p>Additional Attributes defined using a <a href="wdf_object_attributes" title="typedef struct _WDF_OBJECT_ATTRIBUTES {&#10;  ULONG                          Size;&#10;  PFN_WDF_OBJECT_CONTEXT_CLEANUP EvtCleanupCallback;&#10;  PFN_WDF_OBJECT_CONTEXT_DESTROY EvtDestroyCallback;&#10;  WDF_EXECUTION_LEVEL            ExecutionLevel;&#10;  WDF_SYNCHRONIZATION_SCOPE      SynchronizationScope;&#10;  WDFOBJECT                      ParentObject;&#10;  size_t                         ContextSizeOverride;&#10;  PCWDF_OBJECT_CONTEXT_TYPE_INFO ContextTypeInfo;&#10;} WDF_OBJECT_ATTRIBUTES, *PWDF_OBJECT_ATTRIBUTES;">WDF_OBJECT_ATTRIBUTES</a> that are used to set the various object's values: cleanup and destroy callbacks, context type, and to specify its parent WDF object.</p>

<h3 id="config"><code>Config</code></h3>

<p>The ACXCIRCUIT_INIT structure that defines the circuit factory initialization. ACXCIRCUIT_INIT is an opaque object used for circuit factory initialization. Use <a href="acxcircuitinitallocate" title="PACXCIRCUIT_INIT AcxCircuitInitAllocate(&#10;  WDFDEVICE Device&#10;);">AcxCircuitInitAllocate</a> to initialize the ACXCIRCUIT_INIT structure.</p>

<h3 id="circuit"><code>Circuit</code></h3>

<p>A pointer to a location that receives a handle to the new ACXCIRCUIT Object. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/audio/acx-summary-of-objects">Summary of ACX Objects</a>.</p>

<h2 id="return-value">Return value</h2>

<p>Returns <code><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></code> if the call was successful. Otherwise, it returns an appropriate error code. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-ntstatus-values">Using NTSTATUS Values</a>.</p>

<h2 id="remarks">Remarks</h2>

<p>An ACXCIRCUIT represents a full or partial (multi-circuit) audio path to a user perceived audio device (speakers, mic, etc.).</p>

<p>An ACXCIRCUIT has at least one input pin (ACXPIN) and one output pin (ACXPIN), and it may aggregate one or more ACXELEMENTS objects. By default, ACXELEMENTs are 'connected' in the same order of assembly.</p>

<h3 id="example">Example</h3>

<p>Example usage is shown below.</p>

<div class="codehilite">
<pre><span></span><code><span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n"><a href="acxcircuitinitassignname" title="NTSTATUS AcxCircuitInitAssignName(&#10;  PACXCIRCUIT_INIT CircuitInit,&#10;  PCUNICODE_STRING CircuitName&#10;);">AcxCircuitInitAssignName</a></span><span class="p">(</span><span class="n">circuitInit</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">circuitName</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// Add circuit type.</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="n"><a href="acxcircuitinitsetcircuittype" title="VOID AcxCircuitInitSetCircuitType(&#10;  PACXCIRCUIT_INIT CircuitInit,&#10;  ACX_CIRCUIT_TYPE CircuitType&#10;);">AcxCircuitInitSetCircuitType</a></span><span class="p">(</span><span class="n">circuitInit</span><span class="p">,</span><span class="w"> </span><span class="n">AcxCircuitTypeRender</span><span class="p">);</span>

<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// Assign the circuit&#39;s pnp-power callbacks.</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="n"><a href="acx_circuit_pnppower_callbacks_init" title="VOID ACX_CIRCUIT_PNPPOWER_CALLBACKS_INIT(&#10;  PACX_CIRCUIT_PNPPOWER_CALLBACKS PnpPowerCallbacks&#10;);">ACX_CIRCUIT_PNPPOWER_CALLBACKS_INIT</a></span><span class="p">(</span><span class="o">&amp;</span><span class="n">powerCallbacks</span><span class="p">);</span>
<span class="w">    </span><span class="n">powerCallbacks</span><span class="p">.</span><span class="n">EvtAcxCircuitPowerUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SdcaR_EvtCircuitPowerUp</span><span class="p">;</span>
<span class="w">    </span><span class="n">powerCallbacks</span><span class="p">.</span><span class="n">EvtAcxCircuitPowerDown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SdcaR_EvtCircuitPowerDown</span><span class="p">;</span>

<span class="w">    </span><span class="n"><a href="acxcircuitinitsetacxcircuitpnppowercallbacks" title="VOID AcxCircuitInitSetAcxCircuitPnpPowerCallbacks(&#10;  PACXCIRCUIT_INIT                CircuitInit,&#10;  PACX_CIRCUIT_PNPPOWER_CALLBACKS EvtPnpPowerCallbacks&#10;);">AcxCircuitInitSetAcxCircuitPnpPowerCallbacks</a></span><span class="p">(</span><span class="n">circuitInit</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">powerCallbacks</span><span class="p">);</span>

<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// Set circuit-callbacks.</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n"><a href="acxcircuitinitassignacxcreatestreamcallback" title="NTSTATUS AcxCircuitInitAssignAcxCreateStreamCallback(&#10;  PACXCIRCUIT_INIT              CircuitInit,&#10;  PFN_ACX_CIRCUIT_CREATE_STREAM EvtCircuitCreateStream&#10;);">AcxCircuitInitAssignAcxCreateStreamCallback</a></span><span class="p">(</span>
<span class="w">                                            </span><span class="n">circuitInit</span><span class="p">,</span>
<span class="w">                                            </span><span class="n">SdcaR_EvtCircuitCreateStream</span><span class="p">);</span>

<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// Create the circuit.</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="n">WDF_OBJECT_ATTRIBUTES_INIT_CONTEXT_TYPE</span><span class="p">(</span><span class="o">&amp;</span><span class="n">attributes</span><span class="p">,</span><span class="w"> </span><span class="n">SDCA_RENDER_CIRCUIT_CONTEXT</span><span class="p">);</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AcxCircuitCreate</span><span class="p">(</span><span class="n">Device</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">attributes</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">circuitInit</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">circuit</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="acx-requirements">ACX requirements</h3>

<p><strong>Minimum ACX version:</strong> 1.0</p>

<p>For more information about ACX versions, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/audio/acx-version-overview">ACX version overview</a>.</p>

<h2 id="see-also">See also</h2>

<ul>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acxcircuit/">acxcircuit.h header</a></li>
</ul>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acxcircuit/nf-acxcircuit-acxcircuitcreate">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/acxcircuit/nf-acxcircuit-acxcircuitcreate.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
