<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGK_VIDSCHCAPS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGK_VIDSCHCAPS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGK_VIDSCHCAPS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXGK_VIDSCHCAPS {
  union {
    struct {
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> MultiEngineAware : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> VSyncPowerSaveAware : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> PreemptionAware : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> NoDmaPatching : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> CancelCommandAware : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> No64BitAtomics : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> LowIrqlPreemptCommand : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> HwQueuePacketCap : 4;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> NativeGpuFence : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> OptimizedNativeFenceSignaledInterrupt : 1;
#if ...
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 19;
#elif
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 21;
#elif
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 25;
#elif
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 27;
#else
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 30;
#endif
    };
    <a href="uint" title="typedef unsigned int UINT;">UINT</a> Value;
  };
} DXGK_VIDSCHCAPS;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_vidschcaps">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgk_vidschcaps.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmddi-_dxgk_vidschcaps)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dxgk_vidschcaps-structure">DXGK_VIDSCHCAPS structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>DXGK_VIDSCHCAPS</strong> structure has bit-field flags that identify the GPU's scheduling capabilities that a kernel-mode display miniport driver (KMD) can support.</p>

<h2 id="members">Members</h2>

<h3 id="multiengineaware"><code>MultiEngineAware</code></h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies whether the driver supports the creation and destruction of a device context (through the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_createcontext"><strong>DxgkDdiCreateContext</strong></a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_destroycontext"><strong>DxgkDdiDestroyContext</strong></a> functions) and the use of a device context (through the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_present"><strong>DxgkDdiPresent</strong></a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_render"><strong>DxgkDdiRender</strong></a> functions). If the driver does not support context creation, for every call to the driver that would pass a handle to a context, the Microsoft DirectX graphics kernel subsystem replaces the handle to the context with a handle to the device.</p>

<h3 id="vsyncpowersaveaware"><code>VSyncPowerSaveAware</code></h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies whether the driver supports vertical-sync power-saving functionality.</p>

<p>If <strong>VSyncPowerSaveAware</strong> is set to 1 (TRUE), the OS can save power by disabling and enabling the vertical-sync interrupt that occurs from the usage of some applications. If <strong>VSyncPowerSaveAware</strong> is set to zero (FALSE), the OS will never disable the vertical-sync interrupt for applications that might cause the vertical-sync interrupt to occur. Supported starting with Windows Server 2008 and Windows Vista with SP1.</p>

<h3 id="preemptionaware"><code>PreemptionAware</code></h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies whether the driver supports the GPU preemption policy of Windows 8 and later versions of Windows. With this policy, the OS always issues preemption requests to the GPU before it initiates the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/timeout-detection-and-recovery">**Timeout Detection and Recovery
(TDR)</a> process. Supported starting with Windows 8.</p>

<p>If <strong>PreemptionAware</strong> is set to 1 (TRUE), the driver supports the preemption policy of Windows 8 and later versions of Windows. Note that if <strong>PreemptionAware</strong> is set to 1, the <strong>MultiEngineAware</strong> member must also be set to a value of 1. If <strong>PreemptionAware</strong> is set to 1 but <strong>MultiEngineAware</strong> is set to zero, the OS will halt the driver initialization process and return a failure code.</p>

<p>If <strong>PreemptionAware</strong> is set to zero (FALSE), the driver supports the preemption policy of Windows 7. With this policy, the OS may not issue preemption requests while potentially long running operations are being executed on the GPU. As a result, these GPU requests are not preempted before the TDR process is initiated. This may cause the TDR process to repeatedly reset the GPU which could lead to a system stop error.</p>

<h3 id="nodmapatching"><code>NoDmaPatching</code></h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies whether the driver disables leak detection for DMA buffers that are split into multiple parts. This detection is performed after the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_patch"><strong>DxgkDdiPatch</strong></a> function is called to assign, or <em>patch</em>, physical addresses to each part of the DMA buffer. Supported starting with Windows 8.</p>

<p>Display devices that support virtual addresses can reprogram a virtual address to a new video memory location without having to patch the value of the DMA buffer address. For these types of display devices, the driver should set <strong>NoDmaPatching</strong> to 1.</p>

<p>If <strong>NoDmaPatching</strong> is set to 1 (TRUE), the driver disables leak detection, and the behavior of DMA buffer splitting is the same as in Windows 7. Note that when <strong>NoDmaPatching</strong> is set to 1, the <strong>PreemptionAware</strong> and <strong>MultiEngineAware</strong> members must also be set to 1. If <strong>NoDmaPatching</strong> is set to 1 but <strong>PreemptionAware</strong> or <strong>MultiEngineAware</strong> are set to zero, the OS will halt the driver initialization process and return a failure code.</p>

<p>If <strong>NoDmaPatching</strong> is set to 0 (FALSE), the driver enables leak detection for patched DMA buffer addresses. The OS performs leak detection before it calls the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_patch"><strong>DxgkDdiPatch</strong></a> function.</p>

<h3 id="cancelcommandaware"><code>CancelCommandAware</code></h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies whether the driver supports cleaning up internal resources (through the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_cancelcommand"><strong>DxgkDdiCancelCommand</strong></a> function) after a command is removed from the hardware queue. Supported starting with Windows 8.</p>

<p>If <strong>CancelCommandAware</strong> is set to 1 (TRUE), the driver supports cleaning up resources associated with a canceled DMA packet. Note that when <strong>CancelCommandAware</strong> is set to 1, the <strong>MultiEngineAware</strong> member must also be set to 1. If <strong>CancelCommandAware</strong> is set to 1 but <strong>MultiEngineAware</strong> is set to zero, the OS returns a failure code.</p>

<p>If <strong>CancelCommandAware</strong> is set to zero (FALSE), the driver does not support cleaning up resources.</p>

<h3 id="no64bitatomics"><code>No64BitAtomics</code></h3>

<p>If <strong>No64BitAtomics</strong> is set to 1 (TRUE), the driver indicates that the GPU is capable of only updating 32 bit values atomically. In this case, the OS will handle the fence wraparound case automatically, however it will place a restriction that an outstanding wait and signal fence values cannot be more than <a href="uint_max" title="#define UINT_MAX 0xffffffff">UINT_MAX</a>/2 apart from the last signaled fence value. Supported starting with Windows 10.</p>

<p>If <strong>No64BitAtomics</strong> is set to zero (FALSE), the driver indicates that the GPU is capable of updating 64 bit values atomically as visible by the CPU.</p>

<h3 id="lowirqlpreemptcommand"><code>LowIrqlPreemptCommand</code></h3>

<h3 id="hwqueuepacketcap"><code>HwQueuePacketCap</code></h3>

<p>Maximum number of DMA packets allowed to be queued to a node.</p>

<h3 id="nativegpufence"><code>NativeGpuFence</code></h3>

<p>If the OS has enabled the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dukmdt/ne-d3dukmdt-dxgk_feature_id"><strong>DXGK_FEATURE_NATIVE_FENCE</strong></a> feature, the driver can declare support for native GPU fence functionality during adapter initialization by setting the <strong>NativeGpuFence</strong> bit to 1. This capability is exposed to user mode via a corresponding <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmdt/ns-d3dkmdt-d3dkmt_wddm_3_1_caps"><strong>D3DKMT_WDDM_3_1_CAPS::NativeGpuFenceSupported</strong></a> bit. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/native-gpu-fence-objects">Native GPU fence objects</a>. Available starting with Windows 11, version 22H2 (WDDM 3.1).</p>

<h3 id="optimizednativefencesignaledinterrupt"><code>OptimizedNativeFenceSignaledInterrupt</code></h3>

<p>The driver sets this TRUE if, on a signaled interrupt, the GPU can specify in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgkargcb_notify_interrupt_data"><strong>DXGKARGCB_NOTIFY_INTERRUPT_DATA::NativeFenceSignaled</strong></a> only the KMD handle of the HWQueue that was running. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/native-gpu-fence-objects">Native GPU fence objects</a>. Available starting with Windows 11, version 22H2 (WDDM 3.1).</p>

<h3 id="reserved"><code>Reserved</code></h3>

<p>This member is reserved and should be set to zero.</p>

<h3 id="value"><code>Value</code></h3>

<p>An alternative way to access the bit-field flags in the union.</p>

<h2 id="see-also">See also</h2>

<p><strong><a href="dxgk_drivercaps" title="typedef struct _DXGK_DRIVERCAPS {&#10;  [out] PHYSICAL_ADDRESS                   HighestAcceptableAddress;&#10;  [out] UINT                               MaxAllocationListSlotId;&#10;  [out] SIZE_T                             ApertureSegmentCommitLimit;&#10;  [out] UINT                               MaxPointerWidth;&#10;  [out] UINT                               MaxPointerHeight;&#10;  [out] DXGK_POINTERFLAGS                  PointerCaps;&#10;  [out] UINT                               InterruptMessageNumber;&#10;  [out] UINT                               NumberOfSwizzlingRanges;&#10;  [out] UINT                               MaxOverlays;&#10;  union {&#10;    [out] DXGK_GAMMARAMPCAPS      GammaRampCaps;&#10;    [out] DXGK_COLORTRANSFORMCAPS ColorTransformCaps;&#10;  };&#10;  [out] DXGK_PRESENTATIONCAPS              PresentationCaps;&#10;  [out] UINT                               MaxQueuedFlipOnVSync;&#10;  [out] DXGK_FLIPCAPS                      FlipCaps;&#10;  [out] DXGK_VIDSCHCAPS                    SchedulingCaps;&#10;  [out] DXGK_VIDMMCAPS                     MemoryManagementCaps;&#10;  [out] DXGK_GPUENGINETOPOLOGY             GpuEngineTopology;&#10;...">DXGK_DRIVERCAPS</a></strong></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_cancelcommand"><strong>DxgkDdiCancelCommand</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_createcontext"><strong>DxgkDdiCreateContext</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_destroycontext"><strong>DxgkDdiDestroyContext</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_patch"><strong>DxgkDdiPatch</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_present"><strong>DxgkDdiPresent</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_render"><strong>DxgkDdiRender</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_vidschcaps">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ns-d3dkmddi-_dxgk_vidschcaps.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
