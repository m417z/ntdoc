<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3D12DDI_QUERY_HEAP_TYPE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3D12DDI_QUERY_HEAP_TYPE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3D12DDI_QUERY_HEAP_TYPE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d12umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef enum D3D12DDI_QUERY_HEAP_TYPE {
  D3D12DDI_QUERY_HEAP_TYPE_OCCLUSION = 0,
  D3D12DDI_QUERY_HEAP_TYPE_TIMESTAMP = 1,
  D3D12DDI_QUERY_HEAP_TYPE_PIPELINE_STATISTICS = 2,
  D3D12DDI_QUERY_HEAP_TYPE_SO_STATISTICS = 3,
  D3D12DDI_QUERY_HEAP_TYPE_0020_VIDEO_DECODE_STATISTICS = 4,
  D3D12DDI_QUERY_HEAP_TYPE_0032_COPY_QUEUE_TIMESTAMP = 5,
  D3D12DDI_QUERY_HEAP_TYPE_PIPELINE_STATISTICS1 = 7
} ;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_query_heap_type">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3d12ddi_query_heap_type.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ne-d3d12umddi-d3d12ddi_query_heap_type)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="d3d12ddi_query_heap_type-enumeration">D3D12DDI_QUERY_HEAP_TYPE enumeration</h1>

<h2 id="description">Description</h2>

<p>A <strong>D3D12DDI_QUERY_HEAP_TYPE</strong> enum value identifies the type of a query heap, which is an array of query results.</p>

<h2 id="constants">Constants</h2>

<h3 id="d3d12ddi_query_heap_type_occlusion0"><code>D3D12DDI_QUERY_HEAP_TYPE_OCCLUSION:0</code></h3>

<p>Returns a binary 0/1 result: 0 indicates that no samples passed depth and stencil testing, 1 indicates that at least one sample passed depth and stencil testing. This enables occlusion queries to not interfere with any GPU performance optimization associated with depth/stencil testing.</p>

<h3 id="d3d12ddi_query_heap_type_timestamp1"><code>D3D12DDI_QUERY_HEAP_TYPE_TIMESTAMP:1</code></h3>

<p>The heap is for high-performance timing data.</p>

<h3 id="d3d12ddi_query_heap_type_pipeline_statistics2"><code>D3D12DDI_QUERY_HEAP_TYPE_PIPELINE_STATISTICS:2</code></h3>

<p>The heap is to contain pre-D3D12 graphics pipeline data. See <strong><a href="d3d11_ddi_query_data_pipeline_statistics" title="typedef struct D3D11_DDI_QUERY_DATA_PIPELINE_STATISTICS {&#10;  UINT64 IAVertices;&#10;  UINT64 IAPrimitives;&#10;  UINT64 VSInvocations;&#10;  UINT64 GSInvocations;&#10;  UINT64 GSPrimitives;&#10;  UINT64 CInvocations;&#10;  UINT64 CPrimitives;&#10;  UINT64 PSInvocations;&#10;  UINT64 HSInvocations;&#10;  UINT64 DSInvocations;&#10;  UINT64 CSInvocations;&#10;} D3D11_DDI_QUERY_DATA_PIPELINE_STATISTICS;">D3D11_DDI_QUERY_DATA_PIPELINE_STATISTICS</a></strong>.</p>

<h3 id="d3d12ddi_query_heap_type_so_statistics3"><code>D3D12DDI_QUERY_HEAP_TYPE_SO_STATISTICS:3</code></h3>

<p>The heap is to contain stream output data. See <strong><a href="d3d10_ddi_query_data_so_statistics" title="typedef struct D3D10_DDI_QUERY_DATA_SO_STATISTICS {&#10;  UINT64 NumPrimitivesWritten;&#10;  UINT64 PrimitivesStorageNeeded;&#10;} D3D10_DDI_QUERY_DATA_SO_STATISTICS;">D3D10_DDI_QUERY_DATA_SO_STATISTICS</a></strong></p>

<h3 id="d3d12ddi_query_heap_type_0020_video_decode_statistics4"><code>D3D12DDI_QUERY_HEAP_TYPE_0020_VIDEO_DECODE_STATISTICS:4</code></h3>

<p>The heap is to contain video decode data. See <strong><a href="d3d12ddi_query_data_video_decode_statistics_0022" title="typedef struct D3D12DDI_QUERY_DATA_VIDEO_DECODE_STATISTICS_0022 {&#10;  UINT64        Status;&#10;  UINT64        NumMacroblocksAffected;&#10;  DXGI_RATIONAL FrameRate;&#10;  UINT          BitRate;&#10;} D3D12DDI_QUERY_DATA_VIDEO_DECODE_STATISTICS_0022;">D3D12DDI_QUERY_DATA_VIDEO_DECODE_STATISTICS_0022</a></strong>.</p>

<h3 id="d3d12ddi_query_heap_type_0032_copy_queue_timestamp5"><code>D3D12DDI_QUERY_HEAP_TYPE_0032_COPY_QUEUE_TIMESTAMP:5</code></h3>

<p>The heap is to contain timestamp queries emitted exclusively by copy command lists. Copy queue timestamps can only be queried from a copy command list, and a copy command list can't emit to a regular timestamp query Heap.</p>

<h3 id="d3d12ddi_query_heap_type_pipeline_statistics17"><code>D3D12DDI_QUERY_HEAP_TYPE_PIPELINE_STATISTICS1:7</code></h3>

<p>The heap is to contain pipeline data. See <strong><a href="d3d12ddi_query_data_pipeline_statistics1" title="typedef struct D3D12DDI_QUERY_DATA_PIPELINE_STATISTICS1 {&#10;  UINT64 IAVertices;&#10;  UINT64 IAPrimitives;&#10;  UINT64 VSInvocations;&#10;  UINT64 GSInvocations;&#10;  UINT64 GSPrimitives;&#10;  UINT64 CInvocations;&#10;  UINT64 CPrimitives;&#10;  UINT64 PSInvocations;&#10;  UINT64 HSInvocations;&#10;  UINT64 DSInvocations;&#10;  UINT64 CSInvocations;&#10;  UINT64 ASInvocations;&#10;  UINT64 MSInvocations;&#10;  UINT64 MSPrimitives;&#10;} D3D12DDI_QUERY_DATA_PIPELINE_STATISTICS1;">D3D12DDI_QUERY_DATA_PIPELINE_STATISTICS1</a></strong>.</p>

<h2 id="remarks">Remarks</h2>

<p>Queries are used to capture information from the GPU, such as statistics and status codes which can later be consumed directly on the GPU or on CPU. Status structures associated with the query heap type define the resolved data that is returned.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/nc-d3d12umddi-pfnd3d12ddi_create_query_heap_0001"><strong>pfnd3d12ddiCreateQueryHeap0001</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_query_heap_type">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/ne-d3d12umddi-d3d12ddi_query_heap_type.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
