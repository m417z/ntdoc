<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGK_HISTORY_BUFFER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGK_HISTORY_BUFFER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGK_HISTORY_BUFFER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXGK_HISTORY_BUFFER {
  <a href="dxgk_history_buffer_header" title="typedef struct _DXGK_HISTORY_BUFFER_HEADER {&#10;  UINT32 RenderCbSequence;&#10;  UINT32 NumTimestamps;&#10;  UINT32 PrivateDataSize;&#10;  UINT32 Reserved;&#10;} DXGK_HISTORY_BUFFER_HEADER;">DXGK_HISTORY_BUFFER_HEADER</a> Header;
  <a href="uint8" title="typedef unsigned char UINT8;">UINT8</a>                      DriverPrivateData[1];
} DXGK_HISTORY_BUFFER;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_history_buffer">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgk_history_buffer.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmddi-_dxgk_history_buffer)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_dxgk_history_buffer-structure">_DXGK_HISTORY_BUFFER structure</h1>

<h2 id="description">Description</h2>

<p>Specifies a history buffer that stores time stamps that record GPU activity throughout the execution lifetime of a direct memory access (DMA) buffer.</p>

<h2 id="members">Members</h2>

<h3 id="header"><code>Header</code></h3>

<p>A pointer to a <a href="dxgk_history_buffer_header" title="typedef struct _DXGK_HISTORY_BUFFER_HEADER {&#10;  UINT32 RenderCbSequence;&#10;  UINT32 NumTimestamps;&#10;  UINT32 PrivateDataSize;&#10;  UINT32 Reserved;&#10;} DXGK_HISTORY_BUFFER_HEADER;">DXGK_HISTORY_BUFFER_HEADER</a> structure that contains history buffer header info.</p>

<h3 id="driverprivatedata"><code>DriverPrivateData</code></h3>

<p>An array that marks the beginning of the optional driver data and timestamp entries. See Remarks for more info.</p>

<h2 id="remarks">Remarks</h2>

<p>You can calculate the address of the first time stamp in the history buffer by adding the value of <a href="dxgk_history_buffer_header" title="typedef struct _DXGK_HISTORY_BUFFER_HEADER {&#10;  UINT32 RenderCbSequence;&#10;  UINT32 NumTimestamps;&#10;  UINT32 PrivateDataSize;&#10;  UINT32 Reserved;&#10;} DXGK_HISTORY_BUFFER_HEADER;">DXGK_HISTORY_BUFFER_HEADER</a>.<strong>PrivateDataSize</strong> to the address of <strong>DriverPrivateData</strong>.</p>

<p>The beginnings of the time stamps should be aligned to a 64-bit boundary.</p>

<p>The first and last time stamps in the <strong>DriverPrivateData</strong> array must be respectively the start and end times of the DMA buffer. Time stamps that are used to log marker times begin after this end time. This is the case for both formatted and unformatted buffers.</p>

<p>The driver specifies the precision of time stamps with the <a href="dxgkarg_historybufferprecision" title="typedef struct _DXGKARG_HISTORYBUFFERPRECISION {&#10;  UINT32 PrecisionBits;&#10;} DXGKARG_HISTORYBUFFERPRECISION;">DXGKARG_HISTORYBUFFERPRECISION</a> structure.</p>

<h2 id="see-also">See also</h2>

<p><a href="dxgkarg_historybufferprecision" title="typedef struct _DXGKARG_HISTORYBUFFERPRECISION {&#10;  UINT32 PrecisionBits;&#10;} DXGKARG_HISTORYBUFFERPRECISION;">DXGKARG_HISTORYBUFFERPRECISION</a></p>

<p><a href="dxgk_history_buffer_header" title="typedef struct _DXGK_HISTORY_BUFFER_HEADER {&#10;  UINT32 RenderCbSequence;&#10;  UINT32 NumTimestamps;&#10;  UINT32 PrivateDataSize;&#10;  UINT32 Reserved;&#10;} DXGK_HISTORY_BUFFER_HEADER;">DXGK_HISTORY_BUFFER_HEADER</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_history_buffer">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ns-d3dkmddi-_dxgk_history_buffer.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
