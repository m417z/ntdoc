<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGK_COLORIMETRY - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGK_COLORIMETRY - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGK_COLORIMETRY - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXGK_COLORIMETRY {
  D3DKMDT_2DOFFSET                   RedPoint;
  D3DKMDT_2DOFFSET                   GreenPoint;
  D3DKMDT_2DOFFSET                   BluePoint;
  D3DKMDT_2DOFFSET                   WhitePoint;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                              MinLuminance;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                              MaxLuminance;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                              MaxFullFrameLuminance;
  <a href="d3dkmdt_wire_format_and_preference" title="typedef union _D3DKMDT_WIRE_FORMAT_AND_PREFERENCE {&#10;  struct {&#10;    D3DKMDT_MODE_PREFERENCE Preference : 2;&#10;    UINT                    Rgb : 6;&#10;    UINT                    YCbCr444 : 6;&#10;    UINT                    YCbCr422 : 6;&#10;    UINT                    YCbCr420 : 6;&#10;    UINT                    Intensity : 6;&#10;  };&#10;  UINT   Value;&#10;} D3DKMDT_WIRE_FORMAT_AND_PREFERENCE, *PD3DKMDT_WIRE_FORMAT_AND_PREFERENCE;">D3DKMDT_WIRE_FORMAT_AND_PREFERENCE</a> FormatBitDepths;
  <a href="dxgk_standard_colorimetry_flags" title="typedef union _DXGK_STANDARD_COLORIMETRY_FLAGS {&#10;  struct {&#10;    UINT BT2020YCC : 1;&#10;    UINT BT2020RGB : 1;&#10;    UINT ST2084 : 1;&#10;    UINT Reserved : 29;&#10;  };&#10;  ULONG  Value;&#10;} DXGK_STANDARD_COLORIMETRY_FLAGS, *PDXGK_STANDARD_COLORIMETRY_FLAGS;">DXGK_STANDARD_COLORIMETRY_FLAGS</a>    StandardColorimetryFlags;
} DXGK_COLORIMETRY, *PDXGK_COLORIMETRY;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_colorimetry">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgk_colorimetry.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmddi-_dxgk_colorimetry)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_dxgk_colorimetry-structure">_DXGK_COLORIMETRY structure</h1>

<h2 id="description">Description</h2>

<p>Describes colorimetry and closely related fields used to describe overrides from the descriptor retrieved from the display device.</p>

<h2 id="members">Members</h2>

<h3 id="redpoint"><code>RedPoint</code></h3>

<p>Override for display red point. Note, each dimension is a 10-bit value stored in the least significant bits.
Zero indicates no override.</p>

<h3 id="greenpoint"><code>GreenPoint</code></h3>

<p>Override for display green point. Note, each dimension is a 10-bit value stored in the least significant bits.</p>

<h3 id="bluepoint"><code>BluePoint</code></h3>

<p>Override for display blue point. Note, each dimension is a 10-bit value stored in the least significant bits.</p>

<h3 id="whitepoint"><code>WhitePoint</code></h3>

<p>Override for display white point. Note, each dimension is a 10-bit value stored in the least significant bits.</p>

<h3 id="minluminance"><code>MinLuminance</code></h3>

<p>Override for the minimum luminance value supported by the display measured in one ten thousandth of a nit. Only valid if MaxLuminance is non-zero. Zero is a valid value.</p>

<h3 id="maxluminance"><code>MaxLuminance</code></h3>

<p>Override for the maximum luminance value supported by the display measured in one ten thousandth of a nit. This luminance level is expected to be supported for only a relatively small area in any given frame.
Zero indicates no override of MaxLuminance, MaxFullFrameLuminance or MinLuminance.</p>

<h3 id="maxfullframeluminance"><code>MaxFullFrameLuminance</code></h3>

<p>Override for the max full frame luminance value supported by the display measured in one ten thousandth of a nit. This luminance level must be supported across every pixel in the frame simultaneously in order to provide an estimate of the average luminance value which can be supported by the display across a frame.
Only valid if MaxLuminance is non-zero. Zero is not a valid override.</p>

<h3 id="formatbitdepths"><code>FormatBitDepths</code></h3>

<p>Overrides the supported bits per color channel in each of the five color encodings specified for wire-formats. At least one bit must be set, excluding the Preference field which is reserved and must be zero.</p>

<h3 id="standardcolorimetryflags"><code>StandardColorimetryFlags</code></h3>

<p>Indicates support for specific colorimetry and EOTF capabilities using bit-fields.</p>

<h2 id="remarks">Remarks</h2>

<p>This struct is used both for querying overrides from the driver, and for the OS reporting the final set of values it has selected. Overrides are supported for integrated displays using this structure which is embedded within the <a href="dxgk_queryintegrateddisplayout" title="typedef struct _DXGK_QUERYINTEGRATEDDISPLAYOUT {&#10;  DXGK_INTEGRATEDDISPLAYFLAGS       Flags;&#10;  D3DKMDT_VIDEO_SIGNAL_INFO         NativeTiming;&#10;  DXGK_MONITORLINKINFO_CAPABILITIES LinkCapabilities;&#10;  DXGK_COLORIMETRY                  Colorimetry;&#10;  DXGK_DISPLAY_TECHNOLOGY           DisplayTechnology;&#10;  DXGK_DISPLAY_USAGE                IntendedUsage;&#10;  BYTE                              Instance;&#10;  DXGK_DISPLAY_DESCRIPTOR_TYPE      DescriptorType;&#10;  BYTE                              Descriptor[1];&#10;} DXGK_QUERYINTEGRATEDDISPLAYOUT, *PDXGK_QUERYINTEGRATEDDISPLAYOUT;">DXGK_QUERYINTEGRATEDDISPLAYOUT</a> struct and for external displays where this struct is used as the output buffer is for an adapter query type DXGKQAITYPE_QUERYCOLORIMETRYOVERRIDES. The selected and adjusted overrides are reported back to the driver using DxgkDdiSetTargetAdjustedColorimetry.</p>

<p>When querying overrides, the OS requires that either all fields are filled by the driver or the buffer is left zeroed to avoid the complexity of attempting to merge these inter-related attributes from different sources. If the struct is not completely zeroed, the OS validates that fields which must not be zero as noted above, are not zero.</p>

<p>The color points are further validated beyond a simple sanity check (each value must be between 1 and 1023) to ensure reasonable values by comparing the coordinates of each point to the standard points and ensuring that none is too far away from the standard.</p>

<p>When the OS calls DxgkDdiSetTargetAdjustedColorimetry, the FormatBitDepths and StandardColorimetryFlags are zeroed as these are capability fields so only valid in queries.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_colorimetry">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ns-d3dkmddi-_dxgk_colorimetry.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
