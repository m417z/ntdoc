<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WdfDmaTransactionSetImmediateExecution - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WdfDmaTransactionSetImmediateExecution - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WdfDmaTransactionSetImmediateExecution - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// wdfdmatransaction.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">VOID WdfDmaTransactionSetImmediateExecution(
  [in] WDFDMATRANSACTION DmaTransaction,
  [in] BOOLEAN           UseImmediateExecution
);</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdmatransaction/nf-wdfdmatransaction-wdfdmatransactionsetimmediateexecution">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/wdfdmatransactionsetimmediateexecution.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-wdfdmatransaction-wdfdmatransactionsetimmediateexecution)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>WdfDmaTransactionSetImmediateExecution function</h1>
<h2>Description</h2>
<p>[Applies to KMDF only]</p>
<p>The <strong>WdfDmaTransactionSetImmediateExecution</strong> method
marks the specified DMA transaction so that calls to <a href="wdfdmatransactionexecute" title="NTSTATUS WdfDmaTransactionExecute(&#10;  [in]           WDFDMATRANSACTION DmaTransaction,&#10;  [in, optional] WDFCONTEXT        Context&#10;);">WdfDmaTransactionExecute</a> and <a href="wdfdmatransactionallocateresources" title="NTSTATUS WdfDmaTransactionAllocateResources(&#10;  [in] WDFDMATRANSACTION   DmaTransaction,&#10;  [in] WDF_DMA_DIRECTION   DmaDirection,&#10;  [in] ULONG               RequiredMapRegisters,&#10;  [in] PFN_WDF_RESERVE_DMA EvtReserveDmaFunction,&#10;  [in] PVOID               EvtReserveDmaContext&#10;);">WdfDmaTransactionAllocateResources</a> initiate the transaction immediately or fail.</p>
<h2>Parameters</h2>
<h3><code>DmaTransaction</code> [in]</h3>
<p>A handle to a DMA transaction object to mark for immediate execution.</p>
<h3><code>UseImmediateExecution</code> [in]</h3>
<p>A Boolean value which, if TRUE, indicates that the transaction should execute immediately (or fail if resources are not available), and, if FALSE, indicates that the transaction should be queued for execution once DMA resources are available.</p>
<h2>Remarks</h2>
<p>Before calling <strong>WdfDmaTransactionSetImmediateExecution</strong>, the driver must initialize the transaction.</p>
<p>If the driver calls <a href="wdfdmatransactionexecute" title="NTSTATUS WdfDmaTransactionExecute(&#10;  [in]           WDFDMATRANSACTION DmaTransaction,&#10;  [in, optional] WDFCONTEXT        Context&#10;);">WdfDmaTransactionExecute</a> or <a href="wdfdmatransactionallocateresources" title="NTSTATUS WdfDmaTransactionAllocateResources(&#10;  [in] WDFDMATRANSACTION   DmaTransaction,&#10;  [in] WDF_DMA_DIRECTION   DmaDirection,&#10;  [in] ULONG               RequiredMapRegisters,&#10;  [in] PFN_WDF_RESERVE_DMA EvtReserveDmaFunction,&#10;  [in] PVOID               EvtReserveDmaContext&#10;);">WdfDmaTransactionAllocateResources</a> after calling <strong>WdfDmaTransactionSetImmediateExecution</strong> with <em>UseImmediateExecution</em> set to TRUE, and the resources needed for the request are unavailable, that method returns STATUS_INSUFFICIENT_RESOURCES. If the required resources are available, the framework claims them and initiates the call synchronously.</p>
<p>After the driver marks a transaction for immediate execution, the transaction remains marked as such until the driver calls <a href="wdfdmatransactionrelease" title="NTSTATUS WdfDmaTransactionRelease(&#10;  [in] WDFDMATRANSACTION DmaTransaction&#10;);">WdfDmaTransactionRelease</a> or clears the flag by calling <strong>WdfDmaTransactionSetImmediateExecution</strong> with <em>UseImmediateExecution</em> set to FALSE.</p>
<p><strong>WdfDmaTransactionSetImmediateExecution</strong> requires DMA version 3.
To select DMA version 3, set the <strong>WdmDmaVersionOverride</strong> member of <a href="wdf_dma_enabler_config" title="typedef struct _WDF_DMA_ENABLER_CONFIG {&#10;  ULONG                                    Size;&#10;  WDF_DMA_PROFILE                          Profile;&#10;  size_t                                   MaximumLength;&#10;  PFN_WDF_DMA_ENABLER_FILL                 EvtDmaEnablerFill;&#10;  PFN_WDF_DMA_ENABLER_FLUSH                EvtDmaEnablerFlush;&#10;  PFN_WDF_DMA_ENABLER_DISABLE              EvtDmaEnablerDisable;&#10;  PFN_WDF_DMA_ENABLER_ENABLE               EvtDmaEnablerEnable;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_START EvtDmaEnablerSelfManagedIoStart;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_STOP  EvtDmaEnablerSelfManagedIoStop;&#10;  ULONG                                    AddressWidthOverride;&#10;  ULONG                                    WdmDmaVersionOverride;&#10;  ULONG                                    Flags;&#10;} WDF_DMA_ENABLER_CONFIG, *PWDF_DMA_ENABLER_CONFIG;">WDF_DMA_ENABLER_CONFIG</a> to 3.</p>
<p>If your driver calls this method on an operating system earlier than Windows 8, <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/using-kmdf-verifier">the framework's verifier</a> reports an error.</p>
<h2>See also</h2>
<p><a href="wdfdmatransactionallocateresources" title="NTSTATUS WdfDmaTransactionAllocateResources(&#10;  [in] WDFDMATRANSACTION   DmaTransaction,&#10;  [in] WDF_DMA_DIRECTION   DmaDirection,&#10;  [in] ULONG               RequiredMapRegisters,&#10;  [in] PFN_WDF_RESERVE_DMA EvtReserveDmaFunction,&#10;  [in] PVOID               EvtReserveDmaContext&#10;);">WdfDmaTransactionAllocateResources</a></p>
<p><a href="wdfdmatransactionexecute" title="NTSTATUS WdfDmaTransactionExecute(&#10;  [in]           WDFDMATRANSACTION DmaTransaction,&#10;  [in, optional] WDFCONTEXT        Context&#10;);">WdfDmaTransactionExecute</a></p>
<p><a href="wdfdmatransactionrelease" title="NTSTATUS WdfDmaTransactionRelease(&#10;  [in] WDFDMATRANSACTION DmaTransaction&#10;);">WdfDmaTransactionRelease</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdmatransaction/nf-wdfdmatransaction-wdfdmatransactionsetimmediateexecution">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdfdmatransaction/nf-wdfdmatransaction-wdfdmatransactionsetimmediateexecution.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
