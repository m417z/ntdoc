<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PRIVILEGE_SET - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PRIVILEGE_SET - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PRIVILEGE_SET - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdm.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PRIVILEGE_SET {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               PrivilegeCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               Control;
  <a href="luid_and_attributes" title="typedef struct _LUID_AND_ATTRIBUTES {&#10;  LUID  Luid;&#10;  ULONG Attributes;&#10;} LUID_AND_ATTRIBUTES, *PLUID_AND_ATTRIBUTES;">LUID_AND_ATTRIBUTES</a> Privilege[ANYSIZE_ARRAY];
} PRIVILEGE_SET, *PPRIVILEGE_SET;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_privilege_set">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/privilege_set.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-wdm-_privilege_set)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>PRIVILEGE_SET structure</h1>
<h2>Description</h2>
<p>The <strong>PRIVILEGE_SET</strong> structure specifies a set of security privileges. It is also used to indicate which, if any, privileges are held by a user or group requesting access to an object.</p>
<h2>Members</h2>
<h3><code>PrivilegeCount</code></h3>
<p>The number of privileges in the privilege set.</p>
<h3><code>Control</code></h3>
<p>Specifies a control flag related to the privileges. The PRIVILEGE_SET_ALL_NECESSARY control flag is currently defined. It indicates that all of the specified privileges must be held by the process requesting access. If this flag is not set, the presence of any privileges in the user's access token grants the access.</p>
<h3><code>Privilege</code></h3>
<p>Specifies an array of <strong><a href="luid_and_attributes" title="typedef struct _LUID_AND_ATTRIBUTES {&#10;  LUID  Luid;&#10;  ULONG Attributes;&#10;} LUID_AND_ATTRIBUTES, *PLUID_AND_ATTRIBUTES;">LUID_AND_ATTRIBUTES</a></strong> structures describing the set's privileges. The following attributes are defined for privileges.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>SE_PRIVILEGE_ENABLED_BY_DEFAULT</td>
<td>The privilege is enabled by default.</td>
</tr>
<tr>
<td>SE_PRIVILEGE_ENABLED</td>
<td>The privilege is enabled.</td>
</tr>
<tr>
<td>SE_PRIVILEGE_USED_FOR_ACCESS</td>
<td>The privilege was used to gain access to an object or service. This flag is used to identify the relevant privileges in a set passed by a client application that may contain unnecessary privileges.</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>A privilege is used to control access to an object or service more strictly than is typical with discretionary access control. A system manager uses privileges to control which users are able to manipulate system resources. An application uses privileges when it changes a system-wide resource, such as when it changes the system time or shuts down the system.</p>
<h2>See also</h2>
<p><strong><a href="seaccesscheck" title="BOOLEAN SeAccessCheck(&#10;  [in]  PSECURITY_DESCRIPTOR      SecurityDescriptor,&#10;  [in]  PSECURITY_SUBJECT_CONTEXT SubjectSecurityContext,&#10;  [in]  BOOLEAN                   SubjectContextLocked,&#10;  [in]  ACCESS_MASK               DesiredAccess,&#10;  [in]  ACCESS_MASK               PreviouslyGrantedAccess,&#10;  [out] PPRIVILEGE_SET            *Privileges,&#10;  [in]  PGENERIC_MAPPING          GenericMapping,&#10;  [in]  KPROCESSOR_MODE           AccessMode,&#10;  [out] PACCESS_MASK              GrantedAccess,&#10;  [out] PNTSTATUS                 AccessStatus&#10;);">SeAccessCheck</a></strong></p>
<p><a href="https://learn.microsoft.com/windows/win32/api/winnt/ns-winnt-privilege_set"><strong>PRIVILEGE_SET</strong> structure (winnt.h)</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_privilege_set">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdm/ns-wdm-_privilege_set.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
