<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PFND3D11_1DDI_GETCAPTUREHANDLE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PFND3D11_1DDI_GETCAPTUREHANDLE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PFND3D11_1DDI_GETCAPTUREHANDLE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d10umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">PFND3D11_1DDI_GETCAPTUREHANDLE Pfnd3d111DdiGetcapturehandle;

VOID Pfnd3d111DdiGetcapturehandle(
  D3D10DDI_HDEVICE hDevice,
  <a href="d3d11_1ddi_getcapturehandledata" title="typedef struct _D3D11_1DDI_GETCAPTUREHANDLEDATA {&#10;  [in]  D3D10DDI_HRESOURCE hResource;&#10;  [in]  UINT               ArrayIndex;&#10;  [out] D3DKMT_HANDLE      hAllocation;&#10;  [out] UINT               DataOffset;&#10;  [out] UINT               DataSize;&#10;} D3D11_1DDI_GETCAPTUREHANDLEDATA;">D3D11_1DDI_GETCAPTUREHANDLEDATA</a> *pHandleData
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d11_1ddi_getcapturehandle">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pfnd3d11_1ddi_getcapturehandle.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-d3d10umddi-pfnd3d11_1ddi_getcapturehandle)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="pfnd3d11_1ddi_getcapturehandle-callback-function">PFND3D11_1DDI_GETCAPTUREHANDLE callback function</h1>

<h2 id="description">Description</h2>

<p>Returns the handle for a specified resource that was allocated by the driver. This function also returns the size and location of specified data within the resource.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="hdevice"><code>hDevice</code></h3>

<p>A handle to the display device (graphics context).</p>

<h3 id="phandledata"><code>pHandleData</code></h3>

<p>A pointer to a <a href="d3d11_1ddi_getcapturehandledata" title="typedef struct _D3D11_1DDI_GETCAPTUREHANDLEDATA {&#10;  [in]  D3D10DDI_HRESOURCE hResource;&#10;  [in]  UINT               ArrayIndex;&#10;  [out] D3DKMT_HANDLE      hAllocation;&#10;  [out] UINT               DataOffset;&#10;  [out] UINT               DataSize;&#10;} D3D11_1DDI_GETCAPTUREHANDLEDATA;">D3D11_1DDI_GETCAPTUREHANDLEDATA</a> structure that defines the resource allocation.</p>

<h2 id="remarks">Remarks</h2>

<p>Before the Microsoft Direct3D runtime calls the <em>GetCaptureHandle</em> function, it sets the <strong>hResource</strong> and <strong>ArrayIndex</strong> members of the <a href="d3d11_1ddi_getcapturehandledata" title="typedef struct _D3D11_1DDI_GETCAPTUREHANDLEDATA {&#10;  [in]  D3D10DDI_HRESOURCE hResource;&#10;  [in]  UINT               ArrayIndex;&#10;  [out] D3DKMT_HANDLE      hAllocation;&#10;  [out] UINT               DataOffset;&#10;  [out] UINT               DataSize;&#10;} D3D11_1DDI_GETCAPTUREHANDLEDATA;">D3D11_1DDI_GETCAPTUREHANDLEDATA</a> structure to specify a resource. When this function is called, the driver updates the structure with the kernel mode allocation handle associated with the specified resource, as well as the size of the resource data and its offset within an allocated block of memory.</p>

<p><strong>Note</strong> The Direct3D runtime calls this function only for resources that were created with the <strong>D3D11_DDI_BIND_CAPTURE</strong> flag.</p>

<h2 id="see-also">See also</h2>

<p><a href="d3d11_1ddi_getcapturehandledata" title="typedef struct _D3D11_1DDI_GETCAPTUREHANDLEDATA {&#10;  [in]  D3D10DDI_HRESOURCE hResource;&#10;  [in]  UINT               ArrayIndex;&#10;  [out] D3DKMT_HANDLE      hAllocation;&#10;  [out] UINT               DataOffset;&#10;  [out] UINT               DataSize;&#10;} D3D11_1DDI_GETCAPTUREHANDLEDATA;">D3D11_1DDI_GETCAPTUREHANDLEDATA</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d11_1ddi_getcapturehandle">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d10umddi/nc-d3d10umddi-pfnd3d11_1ddi_getcapturehandle.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
