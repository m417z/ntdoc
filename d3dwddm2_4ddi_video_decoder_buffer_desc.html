<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3DWDDM2_4DDI_VIDEO_DECODER_BUFFER_DESC - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3DWDDM2_4DDI_VIDEO_DECODER_BUFFER_DESC - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3DWDDM2_4DDI_VIDEO_DECODER_BUFFER_DESC - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d10umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct D3DWDDM2_4DDI_VIDEO_DECODER_BUFFER_DESC {
  D3D10DDI_HRESOURCE                                   hResource;
  <a href="d3d11_ddi_video_decoder_buffer_type" title="typedef enum D3D11_DDI_VIDEO_DECODER_BUFFER_TYPE {&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_UNKNOWN = 0,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_PICTURE_PARAMETERS = 1,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_MACROBLOCK_CONTROL = 2,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_RESIDUAL_DIFFERENCE = 3,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_DEBLOCKING_CONTROL = 4,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_INVERSE_QUANTIZATION_MATRIX = 5,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_SLICE_CONTROL = 6,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_BITSTREAM = 7,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_MOTION_VECTOR = 8,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_FILM_GRAIN = 9,&#10;  D3D11_1DDI_VIDEO_DECODER_BUFFER_HUFFMAN_TABLE = 10&#10;} D3D11_1DDI_VIDEO_DECODER_BUFFER_TYPE;">D3D11_1DDI_VIDEO_DECODER_BUFFER_TYPE</a>                 BufferType;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                                 DataOffset;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                                 DataSize;
  void                                                 *pIV;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                                 IVSize;
  <a href="d3dwddm2_0ddi_video_decoder_sub_sample_mapping_block" title="typedef struct D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK {&#10;  UINT ClearSize;&#10;  UINT EncryptedSize;&#10;} D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK;">D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK</a> *pSubSampleMappingBlock;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                                 SubSampleMappingCount;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                                 cBlocksStripeEncrypted;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                                 cBlocksStripeClear;
} D3DWDDM2_4DDI_VIDEO_DECODER_BUFFER_DESC;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/ns-d3d10umddi-d3dwddm2_4ddi_video_decoder_buffer_desc">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3dwddm2_4ddi_video_decoder_buffer_desc.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3d10umddi-d3dwddm2_4ddi_video_decoder_buffer_desc)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="d3dwddm2_4ddi_video_decoder_buffer_desc-structure">D3DWDDM2_4DDI_VIDEO_DECODER_BUFFER_DESC structure</h1>

<h2 id="description">Description</h2>

<p>Represents additional decode parameters.</p>

<h2 id="members">Members</h2>

<h3 id="hresource"><code>hResource</code></h3>

<p>The source decoder buffer.</p>

<h3 id="buffertype"><code>BufferType</code></h3>

<p>The type of buffer.</p>

<h3 id="dataoffset"><code>DataOffset</code></h3>

<p>The offset of the relevant data from the beginning of the buffer, in bytes. This value must be zero.</p>

<h3 id="datasize"><code>DataSize</code></h3>

<p>Size of the relevant data.</p>

<h3 id="piv"><code>pIV</code></h3>

<p>A pointer to a buffer that contains an initialization vector (IV) for encrypted data. If the decode buffer does not contain encrypted data, set this member to NULL.</p>

<h3 id="ivsize"><code>IVSize</code></h3>

<p>The size of the buffer specified in the pIV parameter. If pIV is NULL, set this member to zero.</p>

<h3 id="psubsamplemappingblock"><code>pSubSampleMappingBlock</code></h3>

<p>A pointer to an array of <a href="d3dwddm2_0ddi_video_decoder_sub_sample_mapping_block" title="typedef struct D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK {&#10;  UINT ClearSize;&#10;  UINT EncryptedSize;&#10;} D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK;">D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK</a> structures, which indicates exactly which bytes in the decode buffer are encrypted and which are in the clear. If the decode buffer does not contain encrypted data, set this member to NULL.</p>

<blockquote>
  <p><strong>Note</strong> Values in the sub sample mapping blocks are relative to the start of the decode buffer.</p>
</blockquote>

<h3 id="subsamplemappingcount"><code>SubSampleMappingCount</code></h3>

<p>The number of <a href="d3dwddm2_0ddi_video_decoder_sub_sample_mapping_block" title="typedef struct D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK {&#10;  UINT ClearSize;&#10;  UINT EncryptedSize;&#10;} D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK;">D3DWDDM2_0DDI_VIDEO_DECODER_SUB_SAMPLE_MAPPING_BLOCK</a> structures specified in the pSubSampleMappingBlocks parameter. If pSubSampleMappingBlocks is NULL, set this member to zero.</p>

<h3 id="cblocksstripeencrypted"><code>cBlocksStripeEncrypted</code></h3>

<p>Indicates the number of 16-byte BLOCKS that are encrypted in any given encrypted region mapping, as defined by the CENS and CBCS schemes in the common encryption spec.</p>

<p>If this value is zero:</p>

<ul>
<li>All bytes each encrypted region mapping are encrypted, i.e. the CENC or CBC1 scheme is being used.</li>
<li>cBlocksStripeClear must also be zero.</li>
</ul>

<p>If this value is non-zero, cBlocksStripeClear must also be non-zero.</p>

<blockquote>
  <p><strong>Note</strong> This value will typically be ZERO or ONE in real-world content, but the spec merely recommends this and does not require it</p>
</blockquote>

<h3 id="cblocksstripeclear"><code>cBlocksStripeClear</code></h3>

<p>Indicates the number of 16-byte BLOCKS that are clear in any given encrypted region mapping, as defined by the CENS and CBCS schemes in the common encryption spec.</p>

<p>If this value is zero, all bytes each encrypted region mapping are encrypted, i.e. the CENC or CBC1 scheme is being used.</p>

<h2 id="remarks">Remarks</h2>

<h2 id="see-also">See also</h2>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/ns-d3d10umddi-d3dwddm2_4ddi_video_decoder_buffer_desc">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d10umddi/ns-d3d10umddi-d3dwddm2_4ddi_video_decoder_buffer_desc.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
