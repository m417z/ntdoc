<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PFND3DDDI_CLEAR - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PFND3DDDI_CLEAR - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PFND3DDDI_CLEAR - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dumddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">PFND3DDDI_CLEAR Pfnd3dddiClear;

HRESULT Pfnd3dddiClear(
  [in] HANDLE hDevice,
       const <a href="d3dddiarg_clear" title="typedef struct _D3DDDIARG_CLEAR {&#10;  [in] UINT  Flags;&#10;  [in] UINT  FillColor;&#10;  [in] FLOAT FillDepth;&#10;  [in] UINT  FillStencil;&#10;} D3DDDIARG_CLEAR;">D3DDDIARG_CLEAR</a> *unnamedParam2,
       <a href="uint" title="typedef unsigned int UINT;">UINT</a> unnamedParam3,
       const RECT *unnamedParam4
)
{...}</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_clear">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pfnd3dddi_clear.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-d3dumddi-pfnd3dddi_clear)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="pfnd3dddi_clear-callback-function">PFND3DDDI_CLEAR callback function</h1>

<h2 id="description">Description</h2>

<p>The <strong>Clear</strong> function performs hardware-assisted clearing on the rendering target, depth buffer, or stencil buffer.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="hdevice-in"><code>hDevice</code> [in]</h3>

<p>A handle to the display device (graphics context).</p>

<h3 id="unnamedparam2"><code>unnamedParam2</code></h3>

<p><em>pData</em> [in]</p>

<p>A pointer to a <a href="d3dddiarg_clear" title="typedef struct _D3DDDIARG_CLEAR {&#10;  [in] UINT  Flags;&#10;  [in] UINT  FillColor;&#10;  [in] FLOAT FillDepth;&#10;  [in] UINT  FillStencil;&#10;} D3DDDIARG_CLEAR;">D3DDDIARG_CLEAR</a> structure that describes the parameters of the hardware-assisted clearing operation.</p>

<h3 id="unnamedparam3"><code>unnamedParam3</code></h3>

<p><em>NumRect</em> [in]</p>

<p>The number of rectangles in the array at <strong>pRect</strong> to be cleared. If the number of rectangles is set to zero, <strong>Clear</strong> should clear the entire render target, depth buffer, and stencil buffer. In this situation, the contents of the array at <strong>pRect</strong> are undefined and the driver should not attempt to read them.</p>

<h3 id="unnamedparam4"><code>unnamedParam4</code></h3>

<p><em>pRect</em> [in]</p>

<p>An array of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/windef/ns-windef-rect">RECT</a> structures that indicate the rectangular areas of the buffer that the driver should clear.</p>

<h2 id="return-value">Return value</h2>

<p><strong>Clear</strong> returns S_OK or an appropriate error result if the hardware-assisted clearing operation is not successfully performed.</p>

<h2 id="remarks">Remarks</h2>

<p>How the driver performs the clear operation depends on the number of rectangular areas that are specified in the <em>NumRect</em> parameter and the values that are set in the <strong>Flags</strong> member of <a href="d3dddiarg_clear" title="typedef struct _D3DDDIARG_CLEAR {&#10;  [in] UINT  Flags;&#10;  [in] UINT  FillColor;&#10;  [in] FLOAT FillDepth;&#10;  [in] UINT  FillStencil;&#10;} D3DDDIARG_CLEAR;">D3DDDIARG_CLEAR</a>. The D3DCLEAR_TARGET, D3DCLEAR_STENCIL, and D3DCLEAR_ZBUFFER values (defined in <em>D3d8types.h</em>) indicate the type of buffer to clear. The D3DCLEAR_COMPUTERECTS value (defined in <em>D3dhal.h</em>) indicates how to clear the buffer. The following settings indicate how the driver should clear the specified buffer type:</p>

<ul>
<li>If <em>NumRect</em> is set to 0 (<em>NumRect</em>== 0) and D3DCLEAR_COMPUTERECTS is not set in <strong>Flags</strong>, the driver clears 0 pixels (that is, a no-op).</li>
<li>If <em>NumRect</em> is set to 0 and D3DCLEAR_COMPUTERECTS is set in <strong>Flags</strong>, the driver clears the entire viewport (not the entire surface).</li>
<li>If <em>NumRect</em> is set to a value greater than 0 (<em>NumRect</em>!= 0) and D3DCLEAR_COMPUTERECTS is set in <strong>Flags</strong>, the driver clips the rectangular areas that <strong>pRect</strong> specifies against the current viewport.</li>
</ul>

<p>Scissor testing also affects how the driver performs the clear operation. An application sets the D3DRS_SCISSORTESTENABLE render state in a call to the **IDirect3DDevice9::SetRenderState** method to enable scissor testing. For more information about scissor testing, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/direct3d9/scissor-test">Scissor Test</a>. If the D3DRS_SCISSORTESTENABLE render state is set and the D3DCLEAR_COMPUTERECTS flag is set, the driver must clip the rectangular areas that <strong>pRect</strong> specifies to the scissor rectangular area.</p>

<p>If <em>NumRect</em> is set to a value greater than 0 (<em>NumRect</em> &gt; 0) and D3DCLEAR_COMPUTERECTS is set in **Flags**, the driver clips the specified rectangular areas to the current viewport, and to the scissor rectangle if an application previously set D3DRS_SCISSORTESTENABLE. If <em>NumRect</em> &gt; 0 and D3DCLEAR_COMPUTERECTS is not set, the driver determines that the Direct3D runtime already clipped the specified rectangular areas to the current viewport, and to the scissor rectangle if an application previously set D3DRS_SCISSORTESTENABLE.</p>

<h2 id="see-also">See also</h2>

<p><a href="d3dddiarg_clear" title="typedef struct _D3DDDIARG_CLEAR {&#10;  [in] UINT  Flags;&#10;  [in] UINT  FillColor;&#10;  [in] FLOAT FillDepth;&#10;  [in] UINT  FillStencil;&#10;} D3DDDIARG_CLEAR;">D3DDDIARG_CLEAR</a></p>

<p><a href="d3dddi_devicefuncs" title="typedef struct _D3DDDI_DEVICEFUNCS {&#10;  PFND3DDDI_SETRENDERSTATE                           pfnSetRenderState;&#10;  PFND3DDDI_UPDATEWINFO                              pfnUpdateWInfo;&#10;  PFND3DDDI_VALIDATEDEVICE                           pfnValidateDevice;&#10;  PFND3DDDI_SETTEXTURESTAGESTATE                     pfnSetTextureStageState;&#10;  PFND3DDDI_SETTEXTURE                               pfnSetTexture;&#10;  PFND3DDDI_SETPIXELSHADER                           pfnSetPixelShader;&#10;  PFND3DDDI_SETPIXELSHADERCONST                      pfnSetPixelShaderConst;&#10;  PFND3DDDI_SETSTREAMSOURCEUM                        pfnSetStreamSourceUm;&#10;  PFND3DDDI_SETINDICES                               pfnSetIndices;&#10;  PFND3DDDI_SETINDICESUM                             pfnSetIndicesUm;&#10;  PFND3DDDI_DRAWPRIMITIVE                            pfnDrawPrimitive;&#10;  PFND3DDDI_DRAWINDEXEDPRIMITIVE                     pfnDrawIndexedPrimitive;&#10;  PFND3DDDI_DRAWRECTPATCH                            pfnDrawRectPatch;&#10;  PFND3DDDI_DRAWTRIPATCH                             pfnDrawTriPatch;&#10;  PFND3DDDI_DRAWPRIMITIVE2                           pfnDrawPrimitive2;&#10;  PFND3DDDI_DRAWINDEXEDPRIMITIVE2                    pfnDrawIndexedPrimitive2;&#10;  PFND3DDDI_VOLBLT                                   pfnVolBlt;&#10;  PFND3DDDI_BUFBLT                                   pfnBufBlt;&#10;  PFND3DDDI_TEXBLT                                   pfnTexBlt;&#10;...">D3DDDI_DEVICEFUNCS</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/windef/ns-windef-rect">RECT</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_clear">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dumddi/nc-d3dumddi-pfnd3dddi_clear.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
