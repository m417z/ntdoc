<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WWAN_DEVICE_CAPS_EX_REV1 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WWAN_DEVICE_CAPS_EX_REV1 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WWAN_DEVICE_CAPS_EX_REV1 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wwan.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _WWAN_DEVICE_CAPS_EX_REV1 {
  <a href="wwan_device_type" title="typedef enum _WWAN_DEVICE_TYPE {&#10;  WwanDeviceTypeUnknown,&#10;  WwanDeviceTypeEmbedded,&#10;  WwanDeviceTypeRemovable,&#10;  WwanDeviceTypeRemote,&#10;  WwanDeviceTypeMax&#10;} WWAN_DEVICE_TYPE, *PWWAN_DEVICE_TYPE;">WWAN_DEVICE_TYPE</a>    WwanDeviceType;
  <a href="wwan_cellular_class" title="typedef enum _WWAN_CELLULAR_CLASS {&#10;  WwanCellularClassUnknown,&#10;  WwanCellularClassGsm,&#10;  WwanCellularClassCdma,&#10;  WwanCellularClassMax&#10;} WWAN_CELLULAR_CLASS, *PWWAN_CELLULAR_CLASS;">WWAN_CELLULAR_CLASS</a> WwanCellularClass;
  <a href="wwan_voice_class" title="typedef enum _WWAN_VOICE_CLASS {&#10;  WwanVoiceClassUnknown,&#10;  WwanVoiceClassNoVoice,&#10;  WwanVoiceClassSeparateVoiceData,&#10;  WwanVoiceClassSimultaneousVoiceData,&#10;  WwanVoiceClassMax&#10;} WWAN_VOICE_CLASS, *PWWAN_VOICE_CLASS;">WWAN_VOICE_CLASS</a>    WwanVoiceClass;
  <a href="wwan_sim_class" title="typedef enum _WWAN_SIM_CLASS {&#10;  WwanSimClassUnknown,&#10;  WwanSimClassSimLogical,&#10;  WwanSimClassSimRemovable,&#10;  WwanSimClassSimRemote,&#10;  WwanSimClassMax&#10;} WWAN_SIM_CLASS, *PWWAN_SIM_CLASS;">WWAN_SIM_CLASS</a>      WwanSimClass;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               WwanDataClass;
  WCHAR               CustomDataClass[WWAN_CUSTOM_DATA_CLASS_LEN];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               WwanGsmBandClass;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               WwanCdmaBandClass;
  WCHAR               CustomBandClass[WWAN_CUSTOM_BAND_CLASS_LEN];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               WwanSmsCaps;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               WwanControlCaps;
  WCHAR               DeviceId[WWAN_DEVICEID_LEN];
  WCHAR               Manufacturer[WWAN_MANUFACTURER_LEN];
  WCHAR               Model[WWAN_MODEL_LEN];
  WCHAR               FirmwareInfo[WWAN_FIRMWARE_LEN];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               MaxActivatedContexts;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               WwanAuthAlgoCaps;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               ExecutorIndex;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               WwanOptionalServiceCaps;
  <a href="wwan_list_header" title="typedef struct _WWAN_LIST_HEADER {&#10;  WWAN_STRUCT_TYPE ElementType;&#10;  ULONG            ElementCount;&#10;} WWAN_LIST_HEADER, *PWWAN_LIST_HEADER;">WWAN_LIST_HEADER</a>    CellularClassListHeader;
} WWAN_DEVICE_CAPS_EX_REV1, *PWWAN_DEVICE_CAPS_EX_REV1;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wwan/ns-wwan-wwan_device_caps_ex_rev1">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/wwan_device_caps_ex_rev1.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-wwan-wwan_device_caps_ex_rev1)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2>Description</h2>
<blockquote>
<p>[!IMPORTANT]</p>
<h3>Bias-free communication</h3>
<p>Microsoft supports a diverse and inclusive environment. This article contains references to terminology that the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/style-guide/bias-free-communication">Microsoft style guide for bias-free communication</a> recognizes as exclusionary. The word or phrase is used in this article for consistency because it currently appears in the software. When the software is updated to remove the language, this article will be updated to be in alignment.</p>
</blockquote>
<p>The <strong>WWAN_DEVICE_CAPS_EX_REV1</strong> structure represents the capabilities of a mobile broadband device. <strong>WWAN_DEVICE_CAPS_EX_REV1</strong> updates the existing <a href="wwan_device_caps_ex" title="typedef struct _WWAN_DEVICE_CAPS_EX {&#10;  WWAN_DEVICE_TYPE    WwanDeviceType;&#10;  WWAN_CELLULAR_CLASS WwanCellularClass;&#10;  WWAN_VOICE_CLASS    WwanVoiceClass;&#10;  WWAN_SIM_CLASS      WwanSimClass;&#10;  ULONG               WwanDataClass;&#10;  WCHAR               CustomDataClass[WWAN_CUSTOM_DATA_CLASS_LEN];&#10;  ULONG               WwanGsmBandClass;&#10;  ULONG               WwanCdmaBandClass;&#10;  WCHAR               CustomBandClass[WWAN_CUSTOM_BAND_CLASS_LEN];&#10;  ULONG               WwanSmsCaps;&#10;  ULONG               WwanControlCaps;&#10;  WCHAR               DeviceId[WWAN_DEVICEID_LEN];&#10;  WCHAR               Manufacturer[WWAN_MANUFACTURER_LEN];&#10;  WCHAR               Model[WWAN_MODEL_LEN];&#10;  WCHAR               FirmwareInfo[WWAN_FIRMWARE_LEN];&#10;  ULONG               MaxActivatedContexts;&#10;  ULONG               WwanAuthAlgoCaps;&#10;  ULONG               ExecutorIndex;&#10;  ULONG               WwanOptionalServiceCaps;&#10;...">WWAN_DEVICE_CAPS_EX</a> structure by removing the following fields:</p>
<ul>
<li>WwanSimClassBitMasks</li>
<li>WwanWCDMABandClass</li>
<li>WwanLTEBandClass</li>
<li>WwanNRBandClass</li>
<li>WwanMiscCaps</li>
</ul>
<h2>Members</h2>
<h3><code>WwanDeviceType</code></h3>
<p>The type of the device. Miniport drivers must set the device type to be a value other than <strong>WwanDeviceTypeUnknown</strong>.</p>
<h3><code>WwanCellularClass</code></h3>
<p>The cellular class of the device. Miniport drivers must set the cellular class to be a value other than <strong>WwanCellularClassUnknown</strong>. The values in this member control features that are specific to cellular technology, such as network provider registration modes.</p>
<p>Miniport drivers that support multi-mode should set this to <strong>WwanCellularClassGsm.</strong></p>
<h3><code>WwanVoiceClass</code></h3>
<p>The voice class of the device. This member informs the MB Service about the presence of circuit voice service, and how such service interacts with data service. Be aware that the MB Service does not support circuit-switched voice natively, nor does it preclude it. It is up to the miniport driver to determine how to support circuit voice. This <strong>WwanVoiceClass</strong> member allows the MB Service to support this feature in the future.</p>
<h3><code>WwanSimClass</code></h3>
<p>The class of the Subscriber Identity Module (SIM card). Miniport drivers must set the SIM class to be a value other than <strong>WwanSimClassUnknown</strong>.</p>
<h3><code>WwanDataClass</code></h3>
<p>A bitmap that represents the data-class(es) that the device supports. The following table shows the possible values for this member.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>WWAN_DATA_CLASS_NONE</td>
<td>The device does not support data service.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_GPRS</td>
<td>General Packet Radio Service (GPRS) data service is supported. This value applies only to GSM-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_EDGE</td>
<td>Enhanced Data for Global Evolution (EDGE) data service is supported. This value applies only to GSM-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_UMTS</td>
<td>Universal Mobile Telecommunications System (UMTS) data service is supported. This value applies only to GSM-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_HSDPA</td>
<td>High-Speed Downlink Packet Access (HSDPA) data service is supported. This value applies only to GSM-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_HSUPA</td>
<td>High-Speed Uplink Packet Access (HSUPA) data service is supported. This value applies only to GSM-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_LTE</td>
<td>LTE data service is supported. This value applies only to GSM-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_5G</td>
<td>5G data service is supported.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_TDSCDMA</td>
<td>Time Division Synchronous CDMA data service is supported.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_1XRTT</td>
<td>CDMA 1x Radio Transmission Technology (1xRTT, also known as cdma2000, CDMA2000 1x, and so on) data service is supported. This value applies only to CDMA-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_1XEVDO</td>
<td>CDMA Evolution-Data Optimized (originally Data Only, 1xEDVO, also known as CDMA2000 1x EV-DO, or 1x EVDO) data service is supported. This value applies only to CDMA-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_1XEVDO_REVA</td>
<td>1xEVDO RevA data service is supported. This value applies only to CDMA-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_1XEVDV</td>
<td>CDMA Evolution-Data/Voice (also known as CDMA 2000 1x EV-DV, or 1x EVDV) data service is supported. This value applies only to CDMA-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_3XRTT</td>
<td>CDMA 3x Radio Transmission Technology (3xRTT) data service is supported. This value applies only to CDMA-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_1XEVDO_REVB</td>
<td>1xEVDO RevB data service is supported. This value applies only to CDMA-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_UMB</td>
<td>UMB data service is supported. This value applies only to CDMA-based devices.</td>
</tr>
<tr>
<td>WWAN_DATA_CLASS_CUSTOM</td>
<td>The device supports a data service not listed in this table.</td>
</tr>
</tbody>
</table>
<h3><code>CustomDataClass</code></h3>
<p>A NULL-terminated string that represents the name of the custom data-class. This member is valid only when the miniport driver sets the WWAN_DATA_CLASS_CUSTOM bit in the <strong>WwanDataClass</strong> member.</p>
<h3><code>WwanGsmBandClass</code></h3>
<p>A bitmap that represents the frequency bands GSM-based devices support. The following table shows the possible values for this member.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>WWAN_BAND_CLASS_UNKNOWN</td>
<td>The frequency band that is supported by the device is not given.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_I</td>
<td>The device supports the UMTS2100 spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_II</td>
<td>The device supports the UMTS1900 spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_III</td>
<td>The device supports the UMTS1800 spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_IV</td>
<td>The device supports the AWS spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_V</td>
<td>The device supports the UMTS850 spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_VI</td>
<td>The device supports the UMTS800 spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_VII</td>
<td>The device supports the UMTS2600 spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_VIII</td>
<td>The device supports the UMTS900 spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_IX</td>
<td>The device supports the UMTS1700 spectrum.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_X</td>
<td>Â </td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_CUSTOM</td>
<td>The device supports a spectrum other than those listed in this table.</td>
</tr>
</tbody>
</table>
<p>If the miniport driver specifies WWAN_BAND_CLASS_CUSTOM, it should also provide the name of the data-class in <strong>CustomBandClass</strong>.</p>
<p>For more information about these values, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-wwan-device-caps">OID_WWAN_DEVICE_CAPS</a>.</p>
<h3><code>WwanCdmaBandClass</code></h3>
<p>A bitmap that represents the frequency bands CDMA-based devices support. The following table shows the possible values for this member.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>WWAN_BAND_CLASS_UNKNOWN</td>
<td>The frequency band that is supported by the device is not given.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_0</td>
<td>The device supports the 800MHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_I</td>
<td>The device supports the 1900MHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_II</td>
<td>The device supports the TACS band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_III</td>
<td>The device supports the JTACS band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_IV</td>
<td>The device supports the Korean PCS band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_V</td>
<td>The device supports the 450 MHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_VI</td>
<td>The device supports the 2 GHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_VII</td>
<td>The device supports the 700 MHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_VIII</td>
<td>The device supports the 1800 MHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_IX</td>
<td>The device supports the 900 MHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_X</td>
<td>The device supports the secondary 800 MHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_XI</td>
<td>The device supports the 400 MHz European PAMR band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_XII</td>
<td>The device supports the 800 MHz PAMR band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_XIII</td>
<td>The device supports the 2.5GHz IMT2000 Extension band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_XIV</td>
<td>The device supports the US PCS 1.9GHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_XV</td>
<td>The device supports the AWS band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_XVI</td>
<td>The device supports the US 2.5GHz band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_XVII</td>
<td>The device supports the US 2.5 GHz Forward Link Only band.</td>
</tr>
<tr>
<td>WWAN_BAND_CLASS_CUSTOM</td>
<td>The device supports a band other than the bands listed in this table.</td>
</tr>
</tbody>
</table>
<p>If the miniport driver specifies WWAN_BAND_CLASS_CUSTOM, it should also provide the name of the data-class in <strong>CustomBandClass</strong>.</p>
<p>For more information about these values, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-wwan-device-caps">OID_WWAN_DEVICE_CAPS</a>.</p>
<h3><code>CustomBandClass</code></h3>
<p>A NULL-terminated string that represents the name of the custom band class. This member is valid only when the miniport driver sets the WWAN_BAND_CLASS_CUSTOM bit in either the <strong>WwanGsmBandClass</strong> or <strong>WwanCdmaBandClass</strong> members, as appropriate.</p>
<h3><code>WwanSmsCaps</code></h3>
<p>A bitmap that represents the type of SMS messages and directional flow that the device supports. The following table shows the valid SMS capabilities settings.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>WWAN_SMS_CAPS_NONE</td>
<td>The device does not support SMS messages.</td>
</tr>
<tr>
<td>WWAN_SMS_CAPS_PDU_SEND</td>
<td>For GSM-based devices, this value means that the device supports sending PDU-style SMS messages. For CDMA-based devices, this value means that the device is capable of sending SMS messages in binary format as defined in section &quot;3.4.2.1 SMS Point-to-Point Message&quot; in 3GPP2 specification C.S0015-A &quot;Short Message Service (SMS) for Wideband Spread Spectrum Systems&quot;.</td>
</tr>
<tr>
<td>WWAN_SMS_CAPS_PDU_RECEIVE</td>
<td>For GSM-based devices, this value means that the device supports receiving PDU-style SMS messages. For CDMA-based devices, this value means that the device is capable of reading the SMS messages in binary format as defined in section &quot;3.4.2.1 SMS Point-to-Point Message&quot; in the 3GPP2 specification C.S0015-A &quot;Short Message Service (SMS) for Wideband Spread Spectrum Systems&quot;.</td>
</tr>
<tr>
<td>WWAN_SMS_CAPS_TEXT_SEND</td>
<td>The device supports sending Text-style SMS messages. This flag applies for CDMA-based devices.</td>
</tr>
<tr>
<td>WWAN_SMS_CAPS_TEXT_RECEIVE</td>
<td>The device supports receiving Text-style SMS messages. This flag applies for CDMA-based devices.</td>
</tr>
</tbody>
</table>
<p>Miniport drivers should set this member to reflect support for only GSM PDU format for receiving and sending SMS when the current home provider is multi-mode capable. Therefore, if the miniport driver receives a SMS in the cellular class native format, for example CDMA TEXT or CDMA PDU, then the miniport driver is required to do the translation to GSM PDU and indicate it to the MB Service. Similarly if the miniport driver receives a send request in GSM PDU format then it is required to do the translation to its native cellular class format.</p>
<h3><code>WwanControlCaps</code></h3>
<p>A bitmap that represents the control capabilities that the device supports. The following table shows the valid WwanControlCaps settings for GSM-based and CDMA-based devices.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>WWAN_CTRL_CAPS_REG_MANUAL</td>
<td>Indicates whether the provider network allows manual network selection. Miniport drivers for GSM-based devices should specify this flag. Miniport drivers for CDMA-based devices should not specify this flag.</td>
</tr>
<tr>
<td>WWAN_CTRL_CAPS_HW_RADIO_SWITCH</td>
<td>Indicates the presence of a hardware radio power switch. This corresponds to the <strong>WwanDeviceTypeEmbedded</strong> value of the <a href="wwan_device_type" title="typedef enum _WWAN_DEVICE_TYPE {&#10;  WwanDeviceTypeUnknown,&#10;  WwanDeviceTypeEmbedded,&#10;  WwanDeviceTypeRemovable,&#10;  WwanDeviceTypeRemote,&#10;  WwanDeviceTypeMax&#10;} WWAN_DEVICE_TYPE, *PWWAN_DEVICE_TYPE;">WWAN_DEVICE_TYPE</a> enumeration.</td>
</tr>
<tr>
<td>WWAN_CTRL_CAPS_CDMA_MOBILE_IP</td>
<td>Indicates that the CDMA-based device is configured to support mobile IP. This flag applies only to CDMA-based devices. Miniport drivers should not set this flag when the current home provider is multi-mode capable.</td>
</tr>
<tr>
<td>WWAN_CTRL_CAPS_CDMA_SIMPLE_IP</td>
<td>Indicates that the CDMA-based device is configured for simple IP support. This flag applies only to CDMA-based devices. Miniport drivers should not set this flag when the current home provider is multi-mode capable.</td>
</tr>
<tr>
<td>WWAN_CTRL_CAPS_CDMA_MOBILE_IP combined with WWAN_CTRL_CAPS_CDMA_SIMPLE_IP</td>
<td>Indicates that the CDMA-based device is configured to support mobile IP, with simple IP as a fallback option.</td>
</tr>
<tr>
<td>WWAN_CTRL_CAPS_PROTECT_UNIQUEID</td>
<td>Indicates that Windows should not display the International Mobile Subscriber Identity (IMSI).</td>
</tr>
<tr>
<td>WWAN_CTRL_CAPS_USSD</td>
<td>Indicates that the GSM-based MB device is configured to support the USSD protocol. This flag applies only to GSM-based devices. Miniport drivers that support sending and receiving USSD messages set this flag. Miniport drivers can set this flag when the current multi-mode capable home providers GSM side of the network supports USSD even if the CDMA side of the network does not support USSD.</td>
</tr>
<tr>
<td>WWAN_CTRL_CAPS_MODEL_MULTI_CARRIER</td>
<td>Indicates that the MB device supports registering and connecting to multiple network operators.</td>
</tr>
<tr>
<td>WWAN_CTRL_CAPS_MULTI_MODE</td>
<td>This flag indicates that the current home provider supports multiple cellular classes/RATs (Radio Access Technologies).</td>
</tr>
</tbody>
</table>
<p>Miniport drivers of CDMA-based devices must specify WWAN_CTRL_CAPS_CDMA_MOBILE_IP, or WWAN_CTRL_CAPS_CDMA_SIMPLE_IP, or both flags to inform the MB Service about the type of IP that the device supports.</p>
<h3><code>DeviceId</code></h3>
<p>A NULL-terminated string that represents the device ID.</p>
<p>For GSM-based devices, the string must conform to the International Mobile Equipment Identity (IMEI) format (up to 15 digits).</p>
<p>For CDMA-based devices, the string must conform to both the Electronic Serial Number (ESN, 11 digits) and Mobile Equipment Identifier (MEID, 17 digits) formats.</p>
<p>For multi-mode capable miniport drivers, for example those that set the <strong>WWAN_CTRL_CAPS_MULTI_MODE</strong> flag in <strong>WwanControlCaps</strong>, only the GSM-based <strong>DeviceId</strong> must be reported.</p>
<p>This value should be stored in the device's memory and must be available even when the MB device/SIM requires a PIN to unlock.</p>
<h3><code>Manufacturer</code></h3>
<p>A NULL-terminated string that represents the manufacturer of the device. This member is optional.</p>
<h3><code>Model</code></h3>
<p>A NULL-terminated string that represents the model of the device. This member is optional.</p>
<h3><code>FirmwareInfo</code></h3>
<p>A NULL-terminated string that represents the firmware specific information about the device. This member is optional.</p>
<h3><code>MaxActivatedContexts</code></h3>
<p>The maximum number of activated contexts that are supported by the device. Miniport drivers should enforce this limit by failing any activation attempts that exceed <strong>MaxActivatedContexts</strong>.</p>
<h3><code>WwanAuthAlgoCaps</code></h3>
<p>A bitmap that represents the types of authentication methods the MB device supports.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>WWAN_AUTH_ALGO_CAPS_NONE</td>
<td>The MB device does not support any authentication methods.</td>
</tr>
<tr>
<td>WWAN_AUTH_ALGO_CAPS_SIM</td>
<td>The MB device supports the SIM authentication method.</td>
</tr>
<tr>
<td>WWAN_AUTH_ALGO_CAPS_AKA</td>
<td>The MB device supports the AKA authentication method.</td>
</tr>
<tr>
<td>WWAN_AUTH_ALGO_CAPS_AKAP</td>
<td>The MB device supports the AKA' (AKA Prime) authentication method.</td>
</tr>
</tbody>
</table>
<h3><code>ExecutorIndex</code></h3>
<p>The <strong>WwanDeviceType</strong> member for <strong>WWAN_DEVICE_CAPS_EX_REV1</strong> no longer refers to the modem device but rather to an individual executor. Each device is an RF executor entity of which the OS is aware.</p>
<h3><code>WwanOptionalServiceCaps</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> structure that represents the Microsoft service extensions the underlying modem supports. It is a 64-bit bitmap structure that whose undefined bits are reserved and must be set to &quot;0.&quot; As new service extensions are introduced, the reserved bits will be used to represent the new service extensions.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Mask</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>WWAN_OPTIONAL_SERVICE_CAPS_NONE</td>
<td>0h</td>
<td>The device and driver do not support optional service extensions.</td>
</tr>
<tr>
<td>WWAN_OPTIONAL_SERVICE_CAPS_LTE_ATTACH</td>
<td>1h</td>
<td>The device and driver support LTE attach configuration and the following MBIM CIDs:<br /><br />* MBIM_CID_MS_LTE_ATTACH_CONFIG<br />* MBIM_CID_MS_LTE_ATTACH_STATUS</td>
</tr>
<tr>
<td>WWAN_OPTIONAL_SERVICE_CAPS_CONTEXT_MGMT</td>
<td>2h</td>
<td>The device and driver support the OS managing modem provisioned contexts and the following MBIM CID:<br /><br />* MBIM_CID_PROVISIONED_CONTEXT_V2</td>
</tr>
<tr>
<td>WWAN_OPTIONAL_SERVICE_CAPS_MULTI_SIM</td>
<td>4h</td>
<td>The device and driver support multi-SIM/multi-executors and the following OIDs:<br /><br />* <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-wwan-sys-caps">OID_WWAN_SYS_CAPS_INFO</a><br />* <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-wwan-device-slot-mappings">OID_WWAN_DEVICE_SLOT_MAPPING_INFO</a><br />* <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-wwan-slot-info-status">OID_WWAN_SLOT_INFO</a></td>
</tr>
<tr>
<td>WWAN_OPTIONAL_SERVICE_CAPS_EX_SAR</td>
<td>8h</td>
<td>The device and driver support SAR configuration from the OS and the following MBIM CIDs:<br /><br />* MBIM_CID_MS_SAR_CONFIG<br />* MBIM_CID_MS_TRANSMISSION_STATUS</td>
</tr>
<tr>
<td>WWAN_OPTIONAL_SERVICE_CAPS_NETWORK_BLACKLIST</td>
<td>16h</td>
<td>The device and driver support configuration of network blocked senders list from the OS and the following MBIM CID:<br /><br />* MBIM_CID_MS_NETWORK_BLACKLIST</td>
</tr>
<tr>
<td>WWAN_OPTIONAL_SERVICE_CAPS_5G_NSA</td>
<td></td>
<td>The device and driver support all new 5G-related extensions in Windows 10, version 1903. The following table shows the NDIS messages and their revisions that the miniport driver must support if this bit is set.<br /><br />OID | Message | Revision || <a href="wwan_device_caps_ex" title="typedef struct _WWAN_DEVICE_CAPS_EX {&#10;  WWAN_DEVICE_TYPE    WwanDeviceType;&#10;  WWAN_CELLULAR_CLASS WwanCellularClass;&#10;  WWAN_VOICE_CLASS    WwanVoiceClass;&#10;  WWAN_SIM_CLASS      WwanSimClass;&#10;  ULONG               WwanDataClass;&#10;  WCHAR               CustomDataClass[WWAN_CUSTOM_DATA_CLASS_LEN];&#10;  ULONG               WwanGsmBandClass;&#10;  ULONG               WwanCdmaBandClass;&#10;  WCHAR               CustomBandClass[WWAN_CUSTOM_BAND_CLASS_LEN];&#10;  ULONG               WwanSmsCaps;&#10;  ULONG               WwanControlCaps;&#10;  WCHAR               DeviceId[WWAN_DEVICEID_LEN];&#10;  WCHAR               Manufacturer[WWAN_MANUFACTURER_LEN];&#10;  WCHAR               Model[WWAN_MODEL_LEN];&#10;  WCHAR               FirmwareInfo[WWAN_FIRMWARE_LEN];&#10;  ULONG               MaxActivatedContexts;&#10;  ULONG               WwanAuthAlgoCaps;&#10;  ULONG               ExecutorIndex;&#10;  ULONG               WwanOptionalServiceCaps;&#10;...">WWAN_DEVICE_CAPS_EX</a> | <a href="ndis_wwan_device_caps_ex" title="typedef struct _NDIS_WWAN_DEVICE_CAPS_EX {&#10;  NDIS_OBJECT_HEADER  Header;&#10;  WWAN_STATUS         uStatus;&#10;  WWAN_DEVICE_CAPS_EX DeviceCaps;&#10;} NDIS_WWAN_DEVICE_CAPS_EX, *PNDIS_WWAN_DEVICE_CAPS_EX;">NDIS_WWAN_DEVICE_CAPS_EX</a> | 1 | | <a href="wwan_register_state" title="typedef enum _WWAN_REGISTER_STATE {&#10;  WwanRegisterStateUnknown,&#10;  WwanRegisterStateDeregistered,&#10;  WwanRegisterStateSearching,&#10;  WwanRegisterStateHome,&#10;  WwanRegisterStateRoaming,&#10;  WwanRegisterStatePartner,&#10;  WwanRegisterStateDenied,&#10;  WwanRegisterStateMax&#10;} WWAN_REGISTER_STATE, *PWWAN_REGISTER_STATE;">WWAN_REGISTER_STATE</a> | <a href="ndis_wwan_registration_state" title="typedef struct _NDIS_WWAN_REGISTRATION_STATE {&#10;  NDIS_OBJECT_HEADER      Header;&#10;  WWAN_STATUS             uStatus;&#10;  WWAN_REGISTRATION_STATE RegistrationState;&#10;} NDIS_WWAN_REGISTRATION_STATE, *PNDIS_WWAN_REGISTRATION_STATE;">NDIS_WWAN_REGISTRATION_STATE</a> | 3 | | <a href="wwan_packet_service" title="typedef struct _WWAN_PACKET_SERVICE {&#10;  ULONG                     uNwError;&#10;  WWAN_PACKET_SERVICE_STATE PacketServiceState;&#10;  ULONG                     AvailableDataClass;&#10;  ULONG                     CurrentDataClass;&#10;  WWAN_5G_FREQUENCY_RANGE   FrequencyRange;&#10;  ULONG                     CurrentDataSubClass;&#10;  WWAN_SINGLE_TAI           CurrentTai;&#10;  ULONG                     Rel3GppVer;&#10;} WWAN_PACKET_SERVICE, *PWWAN_PACKET_SERVICE;">WWAN_PACKET_SERVICE</a> | <a href="ndis_wwan_packet_service_state" title="typedef struct _NDIS_WWAN_PACKET_SERVICE_STATE {&#10;  NDIS_OBJECT_HEADER  Header;&#10;  WWAN_STATUS         uStatus;&#10;  WWAN_PACKET_SERVICE PacketService;&#10;} NDIS_WWAN_PACKET_SERVICE_STATE, *PNDIS_WWAN_PACKET_SERVICE_STATE;">NDIS_WWAN_PACKET_SERVICE_STATE</a> | 2 | | <a href="wwan_signal_state" title="typedef struct _WWAN_SIGNAL_STATE {&#10;  ULONG            Rssi;&#10;  ULONG            ErrorRate;&#10;  ULONG            RssiInterval;&#10;  ULONG            RssiThreshold;&#10;  WWAN_LIST_HEADER SignalStateListHeader;&#10;} WWAN_SIGNAL_STATE, *PWWAN_SIGNAL_STATE;">WWAN_SIGNAL_STATE</a> | <a href="ndis_wwan_signal_state" title="typedef struct _NDIS_WWAN_SIGNAL_STATE {&#10;  NDIS_OBJECT_HEADER Header;&#10;  WWAN_STATUS        uStatus;&#10;  WWAN_SIGNAL_STATE  SignalState;&#10;} NDIS_WWAN_SIGNAL_STATE, *PNDIS_WWAN_SIGNAL_STATE;">NDIS_WWAN_SIGNAL_STATE</a> | 2 |</td>
</tr>
</tbody>
</table>
<h3><code>CellularClassListHeader</code></h3>
<p>A formatted <a href="wwan_list_header" title="typedef struct _WWAN_LIST_HEADER {&#10;  WWAN_STRUCT_TYPE ElementType;&#10;  ULONG            ElementCount;&#10;} WWAN_LIST_HEADER, *PWWAN_LIST_HEADER;">WWAN_LIST_HEADER</a> object that represents a list of cellular classes that a multi-mode capable device supports. The <strong>ElementType</strong> member in <a href="wwan_list_header" title="typedef struct _WWAN_LIST_HEADER {&#10;  WWAN_STRUCT_TYPE ElementType;&#10;  ULONG            ElementCount;&#10;} WWAN_LIST_HEADER, *PWWAN_LIST_HEADER;">WWAN_LIST_HEADER</a> should always be set to <strong>WwanStructCellularClass</strong>. The <strong>ElementCount</strong> member in <a href="wwan_list_header" title="typedef struct _WWAN_LIST_HEADER {&#10;  WWAN_STRUCT_TYPE ElementType;&#10;  ULONG            ElementCount;&#10;} WWAN_LIST_HEADER, *PWWAN_LIST_HEADER;">WWAN_LIST_HEADER</a> is set to the number of cellular classes that follow the <a href="wwan_list_header" title="typedef struct _WWAN_LIST_HEADER {&#10;  WWAN_STRUCT_TYPE ElementType;&#10;  ULONG            ElementCount;&#10;} WWAN_LIST_HEADER, *PWWAN_LIST_HEADER;">WWAN_LIST_HEADER</a> structure. MB devices that are not multi-mode capable should set <strong>ElementCount</strong> to 0.</p>
<h2>Remarks</h2>
<p>Miniport drivers should specify WWAN_DATA_CLASS_CUSTOM if the data service supported by the device does not belong to any of the other values defined in the table for the <strong>WwanDataClass</strong> member. If a miniport driver sets the WWAN_DATA_CLASS_CUSTOM flag, the miniport driver should also provide the name of the data-class in the <strong>CustomDataClass</strong> member.</p>
<p>For GSM-based devices, only GSM-based data-classes must be specified. For example, GPRS, EDGE, UMTS, HSDPA, LTE, and TD-SCDMA. If your miniport driver supports TD-SCDMA, then it should specify WWAN_DATA_CLASS_CUSTOM in the <strong>WwanDataClass</strong> member and the string &quot;TD-SCDMA&quot; in the <strong>CustomDataClass</strong> member.</p>
<p>For CDMA-based devices, only CDMA-related data services must be specified. For example, 1xRTT, 1xEV-DO, 1xEV-DO RevA, and UMB. 1xEV-DO RevB is defined for future use. 1xEV-DV and 3xRTT are also defined for completeness.</p>
<h2>See also</h2>
<p><a href="wwan_device_caps_ex" title="typedef struct _WWAN_DEVICE_CAPS_EX {&#10;  WWAN_DEVICE_TYPE    WwanDeviceType;&#10;  WWAN_CELLULAR_CLASS WwanCellularClass;&#10;  WWAN_VOICE_CLASS    WwanVoiceClass;&#10;  WWAN_SIM_CLASS      WwanSimClass;&#10;  ULONG               WwanDataClass;&#10;  WCHAR               CustomDataClass[WWAN_CUSTOM_DATA_CLASS_LEN];&#10;  ULONG               WwanGsmBandClass;&#10;  ULONG               WwanCdmaBandClass;&#10;  WCHAR               CustomBandClass[WWAN_CUSTOM_BAND_CLASS_LEN];&#10;  ULONG               WwanSmsCaps;&#10;  ULONG               WwanControlCaps;&#10;  WCHAR               DeviceId[WWAN_DEVICEID_LEN];&#10;  WCHAR               Manufacturer[WWAN_MANUFACTURER_LEN];&#10;  WCHAR               Model[WWAN_MODEL_LEN];&#10;  WCHAR               FirmwareInfo[WWAN_FIRMWARE_LEN];&#10;  ULONG               MaxActivatedContexts;&#10;  ULONG               WwanAuthAlgoCaps;&#10;  ULONG               ExecutorIndex;&#10;  ULONG               WwanOptionalServiceCaps;&#10;...">WWAN_DEVICE_CAPS_EX</a></p>
<p><a href="ndis_wwan_device_caps" title="typedef struct _NDIS_WWAN_DEVICE_CAPS {&#10;  NDIS_OBJECT_HEADER Header;&#10;  WWAN_STATUS        uStatus;&#10;  WWAN_DEVICE_CAPS   DeviceCaps;&#10;} NDIS_WWAN_DEVICE_CAPS, *PNDIS_WWAN_DEVICE_CAPS;">NDIS_WWAN_DEVICE_CAPS</a></p>
<p><a href="wwan_cellular_class" title="typedef enum _WWAN_CELLULAR_CLASS {&#10;  WwanCellularClassUnknown,&#10;  WwanCellularClassGsm,&#10;  WwanCellularClassCdma,&#10;  WwanCellularClassMax&#10;} WWAN_CELLULAR_CLASS, *PWWAN_CELLULAR_CLASS;">WWAN_CELLULAR_CLASS</a></p>
<p><a href="wwan_device_type" title="typedef enum _WWAN_DEVICE_TYPE {&#10;  WwanDeviceTypeUnknown,&#10;  WwanDeviceTypeEmbedded,&#10;  WwanDeviceTypeRemovable,&#10;  WwanDeviceTypeRemote,&#10;  WwanDeviceTypeMax&#10;} WWAN_DEVICE_TYPE, *PWWAN_DEVICE_TYPE;">WWAN_DEVICE_TYPE</a></p>
<p><a href="wwan_sim_class" title="typedef enum _WWAN_SIM_CLASS {&#10;  WwanSimClassUnknown,&#10;  WwanSimClassSimLogical,&#10;  WwanSimClassSimRemovable,&#10;  WwanSimClassSimRemote,&#10;  WwanSimClassMax&#10;} WWAN_SIM_CLASS, *PWWAN_SIM_CLASS;">WWAN_SIM_CLASS</a></p>
<p><a href="wwan_voice_class" title="typedef enum _WWAN_VOICE_CLASS {&#10;  WwanVoiceClassUnknown,&#10;  WwanVoiceClassNoVoice,&#10;  WwanVoiceClassSeparateVoiceData,&#10;  WwanVoiceClassSimultaneousVoiceData,&#10;  WwanVoiceClassMax&#10;} WWAN_VOICE_CLASS, *PWWAN_VOICE_CLASS;">WWAN_VOICE_CLASS</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wwan/ns-wwan-wwan_device_caps_ex_rev1">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wwan/ns-wwan-wwan_device_caps_ex_rev1.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
