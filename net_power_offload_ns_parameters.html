<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NET_POWER_OFFLOAD_NS_PARAMETERS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NET_POWER_OFFLOAD_NS_PARAMETERS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NET_POWER_OFFLOAD_NS_PARAMETERS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// netpoweroffload.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NET_POWER_OFFLOAD_NS_PARAMETERS {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          Size;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          Id;
  <a href="net_ipv6_address" title="typedef union _NET_IPV6_ADDRESS {&#10;  struct {&#10;    UINT64 NetworkPrefix;&#10;    UINT64 InterfaceIdentifier;&#10;  } Unicast;&#10;  UINT8  Value[16];&#10;} NET_IPV6_ADDRESS;">NET_IPV6_ADDRESS</a>               RemoteIPv6Address;
  <a href="net_ipv6_address" title="typedef union _NET_IPV6_ADDRESS {&#10;  struct {&#10;    UINT64 NetworkPrefix;&#10;    UINT64 InterfaceIdentifier;&#10;  } Unicast;&#10;  UINT8  Value[16];&#10;} NET_IPV6_ADDRESS;">NET_IPV6_ADDRESS</a>               SolicitedNodeIPv6Address;
  <a href="net_ipv6_address" title="typedef union _NET_IPV6_ADDRESS {&#10;  struct {&#10;    UINT64 NetworkPrefix;&#10;    UINT64 InterfaceIdentifier;&#10;  } Unicast;&#10;  UINT8  Value[16];&#10;} NET_IPV6_ADDRESS;">NET_IPV6_ADDRESS</a>               TargetIPv6Addresses[2];
  <a href="net_adapter_link_layer_address" title="typedef struct _NET_ADAPTER_LINK_LAYER_ADDRESS {&#10;  USHORT Length;&#10;  UCHAR  Address[32];&#10;} NET_ADAPTER_LINK_LAYER_ADDRESS;">NET_ADAPTER_LINK_LAYER_ADDRESS</a> LinkLayerAddress;
} NET_POWER_OFFLOAD_NS_PARAMETERS;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netpoweroffload/ns-netpoweroffload-_net_power_offload_ns_parameters">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/net_power_offload_ns_parameters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-netpoweroffload-_net_power_offload_ns_parameters)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="net_power_offload_ns_parameters-structure">NET_POWER_OFFLOAD_NS_PARAMETERS structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>NET_POWER_OFFLOAD_NS_PARAMETERS</strong> structure contains parameters for an IPv6 Neighbor Solicitation (NS) low power protocol offload to a net adapter.</p>

<h2 id="members">Members</h2>

<h3 id="size"><code>Size</code></h3>

<p>The size of this structure, in bytes.</p>

<h3 id="id"><code>Id</code></h3>

<p>The identifier for this protocol offload.</p>

<h3 id="remoteipv6address"><code>RemoteIPv6Address</code></h3>

<p>The Source Address Field in the IPv6 header of the NS message. This member is optional.</p>

<p>If the incoming NS message has a Source Address value that matches this IPv6 address, the net adapter sends a neighbor advertisement (NA) message when it is in a low power state. If this member is zero, the net adapter should respond to NS messages from any remote IPv6 address.</p>

<h3 id="solicitednodeipv6address"><code>SolicitedNodeIPv6Address</code></h3>

<p>The solicited node IPv6 address.</p>

<h3 id="targetipv6addresses"><code>TargetIPv6Addresses</code></h3>

<p>An array that contains one or two IPv6 addresses. If it contains only one address, that address is stored in the first element in the array and the second element is filled with zeros.</p>

<p>Client drivers must consume all addresses in the array.</p>

<p>These addresses represent the Target Address field of an NS message. If one of these addresses matches the Target Address field of an incoming NS message, the net adapter sends an NA message in response.</p>

<h3 id="linklayeraddress"><code>LinkLayerAddress</code></h3>

<p>The media access control (MAC) address. When it sends the NA message, the net adapter uses this address for the target link layer address (TLLA) field of the NA message.</p>

<blockquote>
  <p>[!NOTE]
  When it sends an NA message, the net adapter must always use this MAC address in the TLLA field of the NA message. However, it should use the current MAC address of the net adapter as the source address in the MAC header.</p>
</blockquote>

<h2 id="remarks">Remarks</h2>

<p>Call <strong><a href="net_power_offload_ns_parameters_init" title="void NET_POWER_OFFLOAD_NS_PARAMETERS_INIT(&#10;  [_Out_] NET_POWER_OFFLOAD_NS_PARAMETERS *Parameters&#10;);">NET_POWER_OFFLOAD_NS_PARAMETERS_INIT</a></strong> to initialize this structure and fill in its <strong>Size</strong> field. After calling <strong><a href="net_power_offload_ns_parameters_init" title="void NET_POWER_OFFLOAD_NS_PARAMETERS_INIT(&#10;  [_Out_] NET_POWER_OFFLOAD_NS_PARAMETERS *Parameters&#10;);">NET_POWER_OFFLOAD_NS_PARAMETERS_INIT</a></strong>, call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netpoweroffload/nf-netpoweroffload-netpoweroffloadgetnsparameters"><strong>NetPowerOffloadGetNsParameters</strong></a> to fill in the remaining members of the structure.</p>

<p>For more information about IPv6 NS and NA messages, see <a rel="noopener" target="_blank" href="https://www.ietf.org/rfc/rfc4861.txt">RFC 4861</a>.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/netcx/configuring-power-management">Configuring power management</a></p>

<p><strong><a href="net_power_offload_ns_parameters_init" title="void NET_POWER_OFFLOAD_NS_PARAMETERS_INIT(&#10;  [_Out_] NET_POWER_OFFLOAD_NS_PARAMETERS *Parameters&#10;);">NET_POWER_OFFLOAD_NS_PARAMETERS_INIT</a></strong></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netpoweroffload/nf-netpoweroffload-netpoweroffloadgetnsparameters"><strong>NetPowerOffloadGetNsParameters</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netpoweroffload/ns-netpoweroffload-_net_power_offload_ns_parameters">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/netpoweroffload/ns-netpoweroffload-_net_power_offload_ns_parameters.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
