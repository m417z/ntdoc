<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="BTH_VENDOR_SPECIFIC_COMMAND - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>BTH_VENDOR_SPECIFIC_COMMAND - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            BTH_VENDOR_SPECIFIC_COMMAND - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// bthioctl.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _BTH_VENDOR_SPECIFIC_COMMAND {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              ManufacturerId;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>              LmpVersion;
  BOOLEAN            MatchAnySinglePattern;
  <a href="bth_command_header" title="typedef struct _BTH_COMMAND_HEADER {&#10;  USHORT OpCode;&#10;  UCHAR  TotalParameterLength;&#10;} BTH_COMMAND_HEADER, *PBTH_COMMAND_HEADER;">BTH_COMMAND_HEADER</a> HciHeader;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>              Data[1];
} BTH_VENDOR_SPECIFIC_COMMAND, *PBTH_VENDOR_SPECIFIC_COMMAND;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ns-bthioctl-_bth_vendor_specific_command">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/bth_vendor_specific_command.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-bthioctl-_bth_vendor_specific_command)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_bth_vendor_specific_command-structure">_BTH_VENDOR_SPECIFIC_COMMAND structure</h1>

<h2 id="description">Description</h2>

<p>The BTH_VENDOR_SPECIFIC_COMMAND structure specifies a Bluetooth vendor-specific command.</p>

<h2 id="members">Members</h2>

<h3 id="manufacturerid"><code>ManufacturerId</code></h3>

<p>The manufacturer identifier of the radio. Radios that have this manufacturer identifier can
receive the vendor-specific command.</p>

<h3 id="lmpversion"><code>LmpVersion</code></h3>

<p>A <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> that contains the link management protocol (LMP) version. If the LMP version of a radio is
greater than this value, the command is sent to the radio. Otherwise, the radio does not receive the
command. If
<strong>LmpVersion</strong> is zero, all radios will receive the vendor-specific command.</p>

<h3 id="matchanysinglepattern"><code>MatchAnySinglePattern</code></h3>

<p>A BOOLEAN value that specifies if all the patterns in the
<strong>Data</strong> member must match or only one pattern must match to associate an event with a vendor-specific
command. If there are no patterns that are associated with a vendor-specific command, this member is
ignored. If
<strong>MatchAnySinglePattern</strong> is <strong>FALSE</strong>, all the patterns must match to associate an event with the
command. If
<strong>MatchAnySinglePattern</strong> is <strong>TRUE</strong>, matching any pattern associates an event with the command.</p>

<h3 id="hciheader"><code>HciHeader</code></h3>

<p>A
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ns-bthioctl-_bth_command_header">BTH_COMMAND_HEADER</a> structure that
contains information about the vendor-specific command that includes an operation code and buffer
length. The buffer length should only include the size of the data to be sent to the radio. It should
not include the size of the patterns.</p>

<h3 id="data"><code>Data</code></h3>

<p>A <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> array that contains the data and patterns for the command that is specified in the
<strong>HciHeader</strong> member. Patterns are specified with
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ns-bthioctl-_bth_vendor_pattern">BTH_VENDOR_PATTERN</a> structures.</p>

<h2 id="remarks">Remarks</h2>

<p>This BTH_VENDOR_SPECIFIC_COMMAND structure specifies the input buffer for the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ni-bthioctl-ioctl_bth_hci_vendor_command">IOCTL_BTH_HCI_VENDOR_COMMAND</a> IOCTL. This IOCTL can be used to send vendor-specific commands to
Bluetooth radios.</p>

<p>To specify the size of the HCI command data, use the
<strong>TotalParameterLength</strong> member in the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ns-bthioctl-_bth_command_header">BTH_COMMAND_HEADER</a> structure in the
BTH_VENDOR_SPECIFIC_COMMAND structure's
<strong>HciHeader</strong> member.</p>

<p>Patterns are required if a vendor-specific command does not follow the standard HCI flow control and a
vendor-specific event is generated in response to the vendor-specific command.</p>

<p>If patterns are required, the patterns follow the data to be sent to the radio in the
<strong>Data</strong> member buffer. Each pattern begins with a
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ns-bthioctl-_bth_vendor_pattern">BTH_VENDOR_PATTERN</a> structure.</p>

<p>If such patterns are specified, the
<strong>TotalParameterLength</strong> member should not include the size of the patterns.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ns-bthioctl-_bth_command_header">BTH_COMMAND_HEADER</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ns-bthioctl-_bth_vendor_pattern">BTH_VENDOR_PATTERN</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ni-bthioctl-ioctl_bth_hci_vendor_command">IOCTL_BTH_HCI_VENDOR_COMMAND</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/bthioctl/ns-bthioctl-_bth_vendor_specific_command">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/bthioctl/ns-bthioctl-_bth_vendor_specific_command.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
