<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGI1_3_DDI_BASE_FUNCTIONS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGI1_3_DDI_BASE_FUNCTIONS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGI1_3_DDI_BASE_FUNCTIONS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// dxgiddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct DXGI1_3_DDI_BASE_FUNCTIONS {
  HRESULT()(<a href="dxgi_ddi_arg_present" title="typedef struct DXGI_DDI_ARG_PRESENT {&#10;  [in] DXGI_DDI_HDEVICE            hDevice;&#10;  [in] DXGI_DDI_HRESOURCE          hSurfaceToPresent;&#10;  [in] UINT                        SrcSubResourceIndex;&#10;  [in] DXGI_DDI_HRESOURCE          hDstResource;&#10;       UINT                        DstSubResourceIndex;&#10;  [in] void                        *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS      Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE FlipInterval;&#10;} DXGI_DDI_ARG_PRESENT;">DXGI_DDI_ARG_PRESENT</a> *) * pfnPresent;
  HRESULT()(<a href="dxgi_ddi_arg_get_gamma_control_caps" title="typedef struct DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS {&#10;  [in]     DXGI_DDI_HDEVICE                hDevice;&#10;  [in/out] DXGI_GAMMA_CONTROL_CAPABILITIES *pGammaCapabilities;&#10;} DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS;">DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS</a> *) * pfnGetGammaCaps;
  HRESULT()(<a href="dxgi_ddi_arg_setdisplaymode" title="typedef struct DXGI_DDI_ARG_SETDISPLAYMODE {&#10;  [in] DXGI_DDI_HDEVICE   hDevice;&#10;  [in] DXGI_DDI_HRESOURCE hResource;&#10;  [in] UINT               SubResourceIndex;&#10;} DXGI_DDI_ARG_SETDISPLAYMODE;">DXGI_DDI_ARG_SETDISPLAYMODE</a> *) * pfnSetDisplayMode;
  HRESULT()(<a href="dxgi_ddi_arg_setresourcepriority" title="typedef struct DXGI_DDI_ARG_SETRESOURCEPRIORITY {&#10;  [in] DXGI_DDI_HDEVICE   hDevice;&#10;  [in] DXGI_DDI_HRESOURCE hResource;&#10;  [in] UINT               Priority;&#10;} DXGI_DDI_ARG_SETRESOURCEPRIORITY;">DXGI_DDI_ARG_SETRESOURCEPRIORITY</a> *) * pfnSetResourcePriority;
  HRESULT()(<a href="dxgi_ddi_arg_queryresourceresidency" title="typedef struct DXGI_DDI_ARG_QUERYRESOURCERESIDENCY {&#10;  [in]  DXGI_DDI_HDEVICE         hDevice;&#10;  [in]  const DXGI_DDI_HRESOURCE *pResources;&#10;  [out] DXGI_DDI_RESIDENCY       *pStatus;&#10;  [in]  SIZE_T                   Resources;&#10;} DXGI_DDI_ARG_QUERYRESOURCERESIDENCY;">DXGI_DDI_ARG_QUERYRESOURCERESIDENCY</a> *) * pfnQueryResourceResidency;
  HRESULT()(<a href="dxgi_ddi_arg_rotate_resource_identities" title="typedef struct DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES {&#10;  [in] DXGI_DDI_HDEVICE         hDevice;&#10;  [in] const DXGI_DDI_HRESOURCE *pResources;&#10;  [in] UINT                     Resources;&#10;} DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES;">DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES</a> *) * pfnRotateResourceIdentities;
  HRESULT()(<a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a> *) * pfnBlt;
  HRESULT()(<a href="dxgi_ddi_arg_resolvesharedresource" title="typedef struct DXGI_DDI_ARG_RESOLVESHAREDRESOURCE {&#10;  [in] DXGI_DDI_HDEVICE   hDevice;&#10;  [in] DXGI_DDI_HRESOURCE hResource;&#10;} DXGI_DDI_ARG_RESOLVESHAREDRESOURCE;">DXGI_DDI_ARG_RESOLVESHAREDRESOURCE</a> *) * pfnResolveSharedResource;
  HRESULT()(<a href="dxgi_ddi_arg_blt1" title="typedef struct DXGI_DDI_ARG_BLT1 {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] UINT                   SrcLeft;&#10;  [in] UINT                   SrcTop;&#10;  [in] UINT                   SrcRight;&#10;  [in] UINT                   SrcBottom;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT1;">DXGI_DDI_ARG_BLT1</a> *) * pfnBlt1;
  HRESULT()(<a href="dxgi_ddi_arg_offerresources" title="typedef struct _DXGI_DDI_ARG_OFFERRESOURCES {&#10;  [in] DXGI_DDI_HDEVICE         hDevice;&#10;  [in] const DXGI_DDI_HRESOURCE *pResources;&#10;  [in] UINT                     Resources;&#10;  [in] D3DDDI_OFFER_PRIORITY    Priority;&#10;} DXGI_DDI_ARG_OFFERRESOURCES;">DXGI_DDI_ARG_OFFERRESOURCES</a> *) * pfnOfferResources;
  HRESULT()(<a href="dxgi_ddi_arg_reclaimresources" title="typedef struct _DXGI_DDI_ARG_RECLAIMRESOURCES {&#10;  [in]  DXGI_DDI_HDEVICE         hDevice;&#10;  [in]  const DXGI_DDI_HRESOURCE *pResources;&#10;  [out] BOOL                     *pDiscarded;&#10;  [in]  UINT                     Resources;&#10;} DXGI_DDI_ARG_RECLAIMRESOURCES;">DXGI_DDI_ARG_RECLAIMRESOURCES</a> *) * pfnReclaimResources;
  HRESULT()(<a href="dxgi_ddi_arg_getmultiplaneoverlaycaps" title="typedef struct _DXGI_DDI_ARG_GETMULTIPLANEOVERLAYCAPS {&#10;  [in]  DXGI_DDI_HDEVICE                 hDevice;&#10;  [in]  D3DDDI_VIDEO_PRESENT_SOURCE_ID   VidPnSourceId;&#10;  [out] DXGI_DDI_MULTIPLANE_OVERLAY_CAPS MultiplaneOverlayCaps;&#10;} DXGI_DDI_ARG_GETMULTIPLANEOVERLAYCAPS;">DXGI_DDI_ARG_GETMULTIPLANEOVERLAYCAPS</a> *) * pfnGetMultiplaneOverlayCaps;
  HRESULT()(<a href="dxgi_ddi_arg_getmultiplaneoverlaygroupcaps" title="typedef struct _DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS {&#10;  [in]  DXGI_DDI_HDEVICE                       hDevice;&#10;  [in]  D3DDDI_VIDEO_PRESENT_SOURCE_ID         VidPnSourceId;&#10;  [in]  UINT                                   GroupIndex;&#10;  [out] DXGI_DDI_MULTIPLANE_OVERLAY_GROUP_CAPS MultiplaneOverlayGroupCaps;&#10;} DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS;">DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS</a> *) * pfnGetMultiplaneOverlayGroupCaps;
  HRESULT()(void *) * pfnReserved1;
  HRESULT()(<a href="dxgi_ddi_arg_presentmultiplaneoverlay" title="typedef struct _DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY {&#10;  [in] DXGI_DDI_HDEVICE                    hDevice;&#10;  [in] void                                *pDXGIContext;&#10;  [in] D3DDDI_VIDEO_PRESENT_SOURCE_ID      VidPnSourceId;&#10;  [in] DXGI_DDI_PRESENT_FLAGS              Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE         FlipInterval;&#10;  [in] UINT                                PresentPlaneCount;&#10;  [in] DXGI_DDI_PRESENT_MULTIPLANE_OVERLAY *pPresentPlanes;&#10;       UINT                                Reserved;&#10;} DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY;">DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY</a> *) * pfnPresentMultiplaneOverlay;
  HRESULT()(void *) * pfnReserved2;
  HRESULT()(<a href="dxgi_ddi_arg_present1" title="typedef struct DXGI_DDI_ARG_PRESENT1 {&#10;  [in] DXGI_DDI_HDEVICE                  hDevice;&#10;  [in] const DXGI_DDI_ARG_PRESENTSURFACE *phSurfacesToPresent;&#10;  [in] UINT                              SurfacesToPresent;&#10;  [in] DXGI_DDI_HRESOURCE                hDstResource;&#10;  [in] UINT                              DstSubResourceIndex;&#10;  [in] void                              *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS            Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE       FlipInterval;&#10;       UINT                              Reserved;&#10;  [in] const RECT                        *pDirtyRects;&#10;  [in] UINT                              DirtyRects;&#10;       UINT                              BackBufferMultiplicity;&#10;} DXGI_DDI_ARG_PRESENT1;">DXGI_DDI_ARG_PRESENT1</a> *) * pfnPresent1;
  HRESULT()(<a href="dxgi_ddi_arg_checkpresentdurationsupport" title="typedef struct _DXGI_DDI_ARG_CHECKPRESENTDURATIONSUPPORT {&#10;        DXGI_DDI_HDEVICE               hDevice;&#10;        D3DDDI_VIDEO_PRESENT_SOURCE_ID VidPnSourceId;&#10;        UINT                           DesiredPresentDuration;&#10;        UINT                           ClosestSmallerDuration;&#10;  [out] UINT                           ClosestLargerDuration;&#10;} DXGI_DDI_ARG_CHECKPRESENTDURATIONSUPPORT;">DXGI_DDI_ARG_CHECKPRESENTDURATIONSUPPORT</a> *) * pfnCheckPresentDurationSupport;
} DXGI1_3_DDI_BASE_FUNCTIONS;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_3_ddi_base_functions">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgi1_3_ddi_base_functions.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-dxgiddi-dxgi1_3_ddi_base_functions)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dxgi1_3_ddi_base_functions-structure">DXGI1_3_DDI_BASE_FUNCTIONS structure</h1>

<h2 id="description">Description</h2>

<p>Contains pointers to functions that a Windows Display Driver Model (WDDM) 1.3 and later user-mode display driver can implement to perform low-level tasks like presenting rendered frames to an output, controlling gamma, getting notifications regarding shared and Windows Graphics Device Interface (GDI) interoperable surfaces, and managing a full-screen transition.</p>

<h2 id="members">Members</h2>

<h3 id="pfnpresent"><code>pfnPresent</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">PresentDXGI</a> function.</p>

<h3 id="pfngetgammacaps"><code>pfnGetGammaCaps</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">GetGammaCapsDXGI</a> function.</p>

<h3 id="pfnsetdisplaymode"><code>pfnSetDisplayMode</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_1_ddi_base_functions">SetDisplayModeDXGI</a> function.</p>

<h3 id="pfnsetresourcepriority"><code>pfnSetResourcePriority</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">SetResourcePriorityDXGI</a> function.</p>

<h3 id="pfnqueryresourceresidency"><code>pfnQueryResourceResidency</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">QueryResourceResidencyDXGI</a> function.</p>

<h3 id="pfnrotateresourceidentities"><code>pfnRotateResourceIdentities</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">RotateResourceIdentitiesDXGI</a> function.</p>

<h3 id="pfnblt"><code>pfnBlt</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">BltDXGI</a> function.</p>

<h3 id="pfnresolvesharedresource"><code>pfnResolveSharedResource</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_1_ddi_base_functions">ResolveSharedResourceDXGI</a> function.</p>

<h3 id="pfnblt1"><code>pfnBlt1</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_2_ddi_base_functions">Blt1DXGI</a> function.</p>

<h3 id="pfnofferresources"><code>pfnOfferResources</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_offerresources">pfnOfferResources</a> function.</p>

<h3 id="pfnreclaimresources"><code>pfnReclaimResources</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_2_ddi_base_functions">pfnReclaimResources</a> function.</p>

<h3 id="pfngetmultiplaneoverlaycaps"><code>pfnGetMultiplaneOverlayCaps</code></h3>

<p>Called by the DXGI runtime to request that the user-mode display driver get basic overlay plane capabilities. Optionally implemented by WDDM 1.3 and later user-mode display drivers.</p>

<h3 id="pfngetmultiplaneoverlaygroupcaps"><code>pfnGetMultiplaneOverlayGroupCaps</code></h3>

<p>Called by the DXGI runtime to request that the user-mode display driver get a group of overlay plane capabilities. Optionally implemented by WDDM 1.3 and later user-mode display drivers.</p>

<p><strong>Note</strong> This function is called for each of the capability groups that the driver reports.</p>

<p><strong>Syntax</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="n">pfnGetMultiplaneOverlayGroupCaps</span><span class="w"> </span><span class="n">GetMultiplaneOverlayGroupCaps</span><span class="p">;</span>

<span class="n">HRESULT</span><span class="w"> </span><span class="kr">__stdcall</span><span class="o">*</span><span class="w"> </span><span class="n">GetMultiplaneOverlayGroupCaps</span><span class="p">(</span>
<span class="w">   </span><span class="n"><a href="dxgi_ddi_arg_getmultiplaneoverlaygroupcaps" title="typedef struct _DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS {&#10;  [in]  DXGI_DDI_HDEVICE                       hDevice;&#10;  [in]  D3DDDI_VIDEO_PRESENT_SOURCE_ID         VidPnSourceId;&#10;  [in]  UINT                                   GroupIndex;&#10;  [out] DXGI_DDI_MULTIPLANE_OVERLAY_GROUP_CAPS MultiplaneOverlayGroupCaps;&#10;} DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS;">DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS</a></span><span class="w"> </span><span class="o">*</span><span class="n">pGroupCaps</span>
<span class="p">)</span>
<span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre>
</div>

<p><strong>Parameter</strong></p>

<p><em>pGroupCaps</em> A pointer to a <a href="dxgi_ddi_arg_getmultiplaneoverlaygroupcaps" title="typedef struct _DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS {&#10;  [in]  DXGI_DDI_HDEVICE                       hDevice;&#10;  [in]  D3DDDI_VIDEO_PRESENT_SOURCE_ID         VidPnSourceId;&#10;  [in]  UINT                                   GroupIndex;&#10;  [out] DXGI_DDI_MULTIPLANE_OVERLAY_GROUP_CAPS MultiplaneOverlayGroupCaps;&#10;} DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS;">DXGI_DDI_ARG_GETMULTIPLANEOVERLAYGROUPCAPS</a> structure that specifies the group of overlay plane capabilities.</p>

<p><strong>Return value</strong></p>

<p>Returns one of the following values.</p>

<ul>
<li><strong>S_OK</strong> The driver successfully provided the overlay plane capabilities.</li>
<li><strong>D3DDDIERR_DEVICEREMOVED</strong> The driver detected that the display adapter was removed, so the driver did not complete the operation. If the driver is not aware of the adapter removal, the driver is not required to return this error code.</li>
</ul>

<h3 id="pfnreserved1"><code>pfnReserved1</code></h3>

<p>Reserved for system use.</p>

<h3 id="pfnpresentmultiplaneoverlay"><code>pfnPresentMultiplaneOverlay</code></h3>

<p>Called by the Microsoft DirectX Graphics Infrastructure (DXGI) runtime to notify the user-mode display driver that an application finished rendering and requests that the driver display the source surface by either copying or flipping or that the driver perform a color-fill operation. Must be implemented by Windows Display Driver Model (WDDM) 1.3 or later drivers that support multiplane overlays.</p>

<p>When the user-mode display driver successfully completes its processing of a call to this function, it presents the source surface to the display by calling the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/nc-dxgiddi-pfnddxgiddi_present_multiplane_overlaycb">pfnPresentMultiPlaneOverlayCb (DXGI)</a> function.</p>

<div class="codehilite">
<pre><span></span><code><span class="n">PFND3DDDI_PRESENTMULTIPLANEOVERLAY</span><span class="w"> </span><span class="n">pfnPresentMultiPlaneOverlay</span><span class="p">;</span>

<span class="n">HRESULT</span><span class="w"> </span><span class="kr">__stdcall</span><span class="o">*</span><span class="w"> </span><span class="n">pfnPresentMultiPlaneOverlay</span><span class="p">(</span>
<span class="w">   </span><span class="n"><a href="dxgi_ddi_arg_presentmultiplaneoverlay" title="typedef struct _DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY {&#10;  [in] DXGI_DDI_HDEVICE                    hDevice;&#10;  [in] void                                *pDXGIContext;&#10;  [in] D3DDDI_VIDEO_PRESENT_SOURCE_ID      VidPnSourceId;&#10;  [in] DXGI_DDI_PRESENT_FLAGS              Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE         FlipInterval;&#10;  [in] UINT                                PresentPlaneCount;&#10;  [in] DXGI_DDI_PRESENT_MULTIPLANE_OVERLAY *pPresentPlanes;&#10;       UINT                                Reserved;&#10;} DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY;">DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY</a></span><span class="w"> </span><span class="o">*</span><span class="n">pPresentDXGI</span>
<span class="p">)</span>
<span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre>
</div>

<p><strong>Parameter</strong></p>

<p><em>pPresentDXGI</em> A pointer to a <a href="dxgi_ddi_arg_presentmultiplaneoverlay" title="typedef struct _DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY {&#10;  [in] DXGI_DDI_HDEVICE                    hDevice;&#10;  [in] void                                *pDXGIContext;&#10;  [in] D3DDDI_VIDEO_PRESENT_SOURCE_ID      VidPnSourceId;&#10;  [in] DXGI_DDI_PRESENT_FLAGS              Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE         FlipInterval;&#10;  [in] UINT                                PresentPlaneCount;&#10;  [in] DXGI_DDI_PRESENT_MULTIPLANE_OVERLAY *pPresentPlanes;&#10;       UINT                                Reserved;&#10;} DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY;">DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY</a> structure that describes how to display to the destination surface.</p>

<p><strong>Return value</strong></p>

<p>If this callback function succeeds, it returns S_OK. Otherwise it returns an HRESULT error code.</p>

<h3 id="pfnreserved2"><code>pfnReserved2</code></h3>

<p>Reserved for system use.</p>

<h3 id="pfnpresent1"><code>pfnPresent1</code></h3>

<p>Notifies the user-mode display driver that an application finished rendering and that all ownership of the shared resource is released, and requests that the driver display to the destination surface.</p>

<p><strong>Syntax</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="n">pfnPresent1</span><span class="w"> </span><span class="n">Present1DXGI</span><span class="p">;</span>

<span class="n">HRESULT</span><span class="w"> </span><span class="kr">__stdcall</span><span class="o">*</span><span class="w"> </span><span class="n">Present1DXGI</span><span class="p">(</span>
<span class="w">   </span><span class="n"><a href="dxgi_ddi_arg_present1" title="typedef struct DXGI_DDI_ARG_PRESENT1 {&#10;  [in] DXGI_DDI_HDEVICE                  hDevice;&#10;  [in] const DXGI_DDI_ARG_PRESENTSURFACE *phSurfacesToPresent;&#10;  [in] UINT                              SurfacesToPresent;&#10;  [in] DXGI_DDI_HRESOURCE                hDstResource;&#10;  [in] UINT                              DstSubResourceIndex;&#10;  [in] void                              *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS            Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE       FlipInterval;&#10;       UINT                              Reserved;&#10;  [in] const RECT                        *pDirtyRects;&#10;  [in] UINT                              DirtyRects;&#10;       UINT                              BackBufferMultiplicity;&#10;} DXGI_DDI_ARG_PRESENT1;">DXGI_DDI_ARG_PRESENT1</a></span><span class="w"> </span><span class="o">*</span><span class="n">pPresentData</span>
<span class="p">)</span>
<span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre>
</div>

<p><strong>Parameter</strong></p>

<p><em>pPresentData</em> [in] A pointer to a <a href="dxgi_ddi_arg_present1" title="typedef struct DXGI_DDI_ARG_PRESENT1 {&#10;  [in] DXGI_DDI_HDEVICE                  hDevice;&#10;  [in] const DXGI_DDI_ARG_PRESENTSURFACE *phSurfacesToPresent;&#10;  [in] UINT                              SurfacesToPresent;&#10;  [in] DXGI_DDI_HRESOURCE                hDstResource;&#10;  [in] UINT                              DstSubResourceIndex;&#10;  [in] void                              *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS            Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE       FlipInterval;&#10;       UINT                              Reserved;&#10;  [in] const RECT                        *pDirtyRects;&#10;  [in] UINT                              DirtyRects;&#10;       UINT                              BackBufferMultiplicity;&#10;} DXGI_DDI_ARG_PRESENT1;">DXGI_DDI_ARG_PRESENT1</a> structure that describes how to display to the destination surface.</p>

<h4 id="remarks">Remarks</h4>

<p>The <strong>hDevice</strong> member of the <a href="dxgi_ddi_arg_present1" title="typedef struct DXGI_DDI_ARG_PRESENT1 {&#10;  [in] DXGI_DDI_HDEVICE                  hDevice;&#10;  [in] const DXGI_DDI_ARG_PRESENTSURFACE *phSurfacesToPresent;&#10;  [in] UINT                              SurfacesToPresent;&#10;  [in] DXGI_DDI_HRESOURCE                hDstResource;&#10;  [in] UINT                              DstSubResourceIndex;&#10;  [in] void                              *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS            Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE       FlipInterval;&#10;       UINT                              Reserved;&#10;  [in] const RECT                        *pDirtyRects;&#10;  [in] UINT                              DirtyRects;&#10;       UINT                              BackBufferMultiplicity;&#10;} DXGI_DDI_ARG_PRESENT1;">DXGI_DDI_ARG_PRESENT1</a> structure that the *pPresentData* parameter points to is the same handle that the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createdevice">CreateDevice(D3D10)</a> function passed back to the runtime in the **hDrvDevice** member of the <a href="d3d10ddiarg_createdevice" title="typedef struct D3D10DDIARG_CREATEDEVICE {&#10;  D3D10DDI_HRTDEVICE            hRTDevice;&#10;  UINT                          Interface;&#10;  UINT                          Version;&#10;  const D3DDDI_DEVICECALLBACKS  *pKTCallbacks;&#10;  union {&#10;    D3D10DDI_DEVICEFUNCS      *pDeviceFuncs;&#10;    D3D10_1DDI_DEVICEFUNCS    *p10_1DeviceFuncs;&#10;    D3D11DDI_DEVICEFUNCS      *p11DeviceFuncs;&#10;    D3D11_1DDI_DEVICEFUNCS    *p11_1DeviceFuncs;&#10;    D3DWDDM1_3DDI_DEVICEFUNCS *pWDDM1_3DeviceFuncs;&#10;    D3DWDDM2_0DDI_DEVICEFUNCS *pWDDM2_0DeviceFuncs;&#10;    D3DWDDM2_1DDI_DEVICEFUNCS *pWDDM2_1DeviceFuncs;&#10;    D3DWDDM2_2DDI_DEVICEFUNCS *pWDDM2_2DeviceFuncs;&#10;    D3DWDDM2_6DDI_DEVICEFUNCS *pWDDM2_6DeviceFuncs;&#10;  };&#10;  D3D10DDI_HDEVICE              hDrvDevice;&#10;  DXGI_DDI_BASE_ARGS            DXGIBaseDDI;&#10;  D3D10DDI_HRTCORELAYER         hRTCoreLayer;&#10;  union {&#10;...">D3D10DDIARG_CREATEDEVICE</a> structure. Therefore, driver writers must define the type of this handle carefully. In addition, drivers can supply different implementations of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_3_ddi_base_functions">pfnPresent1(DXGI)</a> function based on which DDI implementation handled the call to <em>CreateDevice(D3D10)</em>. The runtime will never mix driver handles across DDI implementations.</p>

<p>The <strong>pDXGIContext</strong> member of <a href="dxgi_ddi_arg_present1" title="typedef struct DXGI_DDI_ARG_PRESENT1 {&#10;  [in] DXGI_DDI_HDEVICE                  hDevice;&#10;  [in] const DXGI_DDI_ARG_PRESENTSURFACE *phSurfacesToPresent;&#10;  [in] UINT                              SurfacesToPresent;&#10;  [in] DXGI_DDI_HRESOURCE                hDstResource;&#10;  [in] UINT                              DstSubResourceIndex;&#10;  [in] void                              *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS            Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE       FlipInterval;&#10;       UINT                              Reserved;&#10;  [in] const RECT                        *pDirtyRects;&#10;  [in] UINT                              DirtyRects;&#10;       UINT                              BackBufferMultiplicity;&#10;} DXGI_DDI_ARG_PRESENT1;">DXGI_DDI_ARG_PRESENT1</a> is an opaque communication mechanism. The runtime passes this DXGI context to the driver. The driver should copy this DXGI context unchanged to the **pDXGIContext** member of the <a href="dxgiddicb_present" title="typedef struct DXGIDDICB_PRESENT {&#10;  [in] D3DKMT_HANDLE               hSrcAllocation;&#10;  [in] D3DKMT_HANDLE               hDstAllocation;&#10;  [in] void                        *pDXGIContext;&#10;  [in] HANDLE                      hContext;&#10;  [in] UINT                        BroadcastContextCount;&#10;       HANDLE                      BroadcastContext[D3DDDI_MAX_BROADCAST_CONTEXT];&#10;       D3DKMT_HANDLE               *BroadcastSrcAllocation;&#10;       D3DKMT_HANDLE               *BroadcastDstAllocation;&#10;       UINT                        PrivateDriverDataSize;&#10;       PVOID                       pPrivateDriverData;&#10;       BOOLEAN                     bOptimizeForComposition;&#10;       BOOL                        SyncIntervalOverrideValid;&#10;       DXGI_DDI_FLIP_INTERVAL_TYPE SyncIntervalOverride;&#10;} DXGIDDICB_PRESENT;">DXGIDDICB_PRESENT</a> structure when the driver calls the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/nc-dxgiddi-pfnddxgiddi_presentcb">pfnPresentCbDXGI</a> function.</p>

<p>The driver must submit all partially built render data (command buffers) using the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_rendercb">pfnRenderCb</a> function, and the driver must make a single call to <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/nc-dxgiddi-pfnddxgiddi_presentcb">pfnPresentCbDXGI</a>. When calling either of these callbacks, the driver must follow the threading rules of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">PresentDXGI</a> function.</p>

<p><strong>Note</strong> When the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_3_ddi_base_functions">pfnPresent1(DXGI)</a> function copies sRGB-formatted content from a source surface to a non-sRGB destination surface, the driver should copy the sRGB content unchanged (that is, the driver should not perform the sRGB to linear conversion).</p>

<h4 id="threading-rules">Threading rules</h4>

<p>These rules apply whether the driver supports free threading or not:</p>

<ul>
<li>The driver indicates support for free threading by setting the <strong>Caps</strong> member of the <a href="d3d11ddi_threading_caps" title="typedef struct D3D11DDI_THREADING_CAPS {&#10;  [in] UINT Caps;&#10;} D3D11DDI_THREADING_CAPS;">D3D11DDI_THREADING_CAPS</a> structure to <strong>D3D11DDICAPS_FREETHREADED</strong>. In this case:
<ul>
<li>Only a single thread can be working against an HCONTEXT context handle at a time.</li>
<li>The driver must call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/nc-dxgiddi-pfnddxgiddi_presentcb">pfnPresentCbDXGI</a> only when the driver’s <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_3_ddi_base_functions">pfnPresent1(DXGI)</a> function is called, and by the same thread that called <em>pfnPresent1(DXGI)</em>.</li>
</ul></li>
<li>When the driver doesn’t indicate support for free-threading, it can only call the callback functions when a thread has called into the driver. The driver also must still call the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/nc-dxgiddi-pfnddxgiddi_presentcb">pfnPresentCbDXGI</a> callback within the context of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_3_ddi_base_functions">pfnPresent1(DXGI)</a>.</li>
</ul>

<p>For further info on threading, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/changes-from-direct3d-10">Changes from Direct3D 10</a>.</p>

<h3 id="pfncheckpresentdurationsupport"><code>pfnCheckPresentDurationSupport</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-_dxgi_ddi_arg_checkpresentdurationsupport">pfnCheckPresentDurationSupport(DXGI)</a> function.</p>

<h2 id="remarks-2">Remarks</h2>

<p>For more info on how to use this structure, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/supporting-the-dxgi-ddi">Supporting the DXGI DDI</a>.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createdevice">CreateDevice(D3D10)</a></p>

<p><a href="d3d10ddiarg_createdevice" title="typedef struct D3D10DDIARG_CREATEDEVICE {&#10;  D3D10DDI_HRTDEVICE            hRTDevice;&#10;  UINT                          Interface;&#10;  UINT                          Version;&#10;  const D3DDDI_DEVICECALLBACKS  *pKTCallbacks;&#10;  union {&#10;    D3D10DDI_DEVICEFUNCS      *pDeviceFuncs;&#10;    D3D10_1DDI_DEVICEFUNCS    *p10_1DeviceFuncs;&#10;    D3D11DDI_DEVICEFUNCS      *p11DeviceFuncs;&#10;    D3D11_1DDI_DEVICEFUNCS    *p11_1DeviceFuncs;&#10;    D3DWDDM1_3DDI_DEVICEFUNCS *pWDDM1_3DeviceFuncs;&#10;    D3DWDDM2_0DDI_DEVICEFUNCS *pWDDM2_0DeviceFuncs;&#10;    D3DWDDM2_1DDI_DEVICEFUNCS *pWDDM2_1DeviceFuncs;&#10;    D3DWDDM2_2DDI_DEVICEFUNCS *pWDDM2_2DeviceFuncs;&#10;    D3DWDDM2_6DDI_DEVICEFUNCS *pWDDM2_6DeviceFuncs;&#10;  };&#10;  D3D10DDI_HDEVICE              hDrvDevice;&#10;  DXGI_DDI_BASE_ARGS            DXGIBaseDDI;&#10;  D3D10DDI_HRTCORELAYER         hRTCoreLayer;&#10;  union {&#10;...">D3D10DDIARG_CREATEDEVICE</a></p>

<p><a href="dxgi1_2_ddi_base_functions" title="typedef struct DXGI1_2_DDI_BASE_FUNCTIONS {&#10;  HRESULT()(DXGI_DDI_ARG_PRESENT *) * pfnPresent;&#10;  HRESULT()(DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS *) * pfnGetGammaCaps;&#10;  HRESULT()(DXGI_DDI_ARG_SETDISPLAYMODE *) * pfnSetDisplayMode;&#10;  HRESULT()(DXGI_DDI_ARG_SETRESOURCEPRIORITY *) * pfnSetResourcePriority;&#10;  HRESULT()(DXGI_DDI_ARG_QUERYRESOURCERESIDENCY *) * pfnQueryResourceResidency;&#10;  HRESULT()(DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES *) * pfnRotateResourceIdentities;&#10;  HRESULT()(DXGI_DDI_ARG_BLT *) * pfnBlt;&#10;  HRESULT()(DXGI_DDI_ARG_RESOLVESHAREDRESOURCE *) * pfnResolveSharedResource;&#10;  HRESULT()(DXGI_DDI_ARG_BLT1 *) * pfnBlt1;&#10;  HRESULT()(DXGI_DDI_ARG_OFFERRESOURCES *) * pfnOfferResources;&#10;  HRESULT()(DXGI_DDI_ARG_RECLAIMRESOURCES *) * pfnReclaimResources;&#10;  HRESULT()(DXGI_DDI_ARG_GETMULTIPLANEOVERLAYCAPS *) * pfnGetMultiplaneOverlayCaps;&#10;  HRESULT()(void *) * pfnGetMultiplaneOverlayFilterRange;&#10;  HRESULT()(DXGI_DDI_ARG_CHECKMULTIPLANEOVERLAYSUPPORT *) * pfnCheckMultiplaneOverlaySupport;&#10;  HRESULT()(DXGI_DDI_ARG_PRESENTMULTIPLANEOVERLAY *) * pfnPresentMultiplaneOverlay;&#10;} DXGI1_2_DDI_BASE_FUNCTIONS;">DXGI1_2_DDI_BASE_FUNCTIONS</a></p>

<p><a href="dxgi_ddi_base_args" title="typedef struct DXGI_DDI_BASE_ARGS {&#10;  [in]     DXGI_DDI_BASE_CALLBACKS *pDXGIBaseCallbacks;&#10;  union {&#10;             DXGI1_6_1_DDI_BASE_FUNCTIONS *pDXGIDDIBaseFunctions6_1;&#10;             DXGI1_5_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions6;&#10;             DXGI1_4_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions5;&#10;    [in/out] DXGI1_3_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions4;&#10;    [in/out] DXGI1_2_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions3;&#10;    [in/out] DXGI1_1_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions2;&#10;    [in/out] DXGI_DDI_BASE_FUNCTIONS      *pDXGIDDIBaseFunctions;&#10;  };&#10;} DXGI_DDI_BASE_ARGS;">DXGI_DDI_BASE_ARGS</a></p>

<p><a href="dxgi_ddi_base_functions" title="typedef struct DXGI_DDI_BASE_FUNCTIONS {&#10;  HRESULT()(DXGI_DDI_ARG_PRESENT *) * pfnPresent;&#10;  HRESULT()(DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS *) * pfnGetGammaCaps;&#10;  HRESULT()(DXGI_DDI_ARG_SETDISPLAYMODE *) * pfnSetDisplayMode;&#10;  HRESULT()(DXGI_DDI_ARG_SETRESOURCEPRIORITY *) * pfnSetResourcePriority;&#10;  HRESULT()(DXGI_DDI_ARG_QUERYRESOURCERESIDENCY *) * pfnQueryResourceResidency;&#10;  HRESULT()(DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES *) * pfnRotateResourceIdentities;&#10;  HRESULT()(DXGI_DDI_ARG_BLT *) * pfnBlt;&#10;} DXGI_DDI_BASE_FUNCTIONS;">DXGI_DDI_BASE_FUNCTIONS</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_3_ddi_base_functions">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/dxgiddi/ns-dxgiddi-dxgi1_3_ddi_base_functions.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
