<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WDF_DEVICE_FAILED_ACTION - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WDF_DEVICE_FAILED_ACTION - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WDF_DEVICE_FAILED_ACTION - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdfdevice.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef enum _WDF_DEVICE_FAILED_ACTION {
  WdfDeviceFailedUndefined = 0,
  WdfDeviceFailedAttemptRestart,
  WdfDeviceFailedNoRestart
} WDF_DEVICE_FAILED_ACTION;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdevice/ne-wdfdevice-_wdf_device_failed_action">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/wdf_device_failed_action.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ne-wdfdevice-_wdf_device_failed_action)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_wdf_device_failed_action-enumeration">_WDF_DEVICE_FAILED_ACTION enumeration</h1>

<h2 id="description">Description</h2>

<p>[Applies to KMDF and UMDF]</p>

<p>The WDF_DEVICE_FAILED_ACTION enumeration identifies the action that the framework will take when a driver reports an unrecoverable software or hardware failure.</p>

<h2 id="constants">Constants</h2>

<h3 id="wdfdevicefailedundefined0"><code>WdfDeviceFailedUndefined:0</code></h3>

<p>For internal use only.</p>

<h3 id="wdfdevicefailedattemptrestart"><code>WdfDeviceFailedAttemptRestart</code></h3>

<p>Supported in KMDF and starting in UMDF version 2.15. If the device's drivers are not supporting other devices that are plugged into the computer, the I/O manager unloads the drivers. Next, the Plug and Play manager attempts to restart the device by requesting the bus driver to reenumerate its devices. If the bus driver supports reenumeration, your driver will be reloaded, if it was unloaded. If several consecutive restart attempts fail (because the restarted driver again reports an error), the framework stops trying to restart the device.</p>

<h3 id="wdfdevicefailednorestart"><code>WdfDeviceFailedNoRestart</code></h3>

<p>If the device's drivers are not supporting other devices on the system, the I/O manager unloads the drivers.</p>

<h2 id="remarks">Remarks</h2>

<p>The WDF_DEVICE_FAILED_ACTION enumeration is used as an input argument to <a href="wdfdevicesetfailed" title="VOID WdfDeviceSetFailed(&#10;  [in] WDFDEVICE                Device,&#10;  [in] WDF_DEVICE_FAILED_ACTION FailedAction&#10;);">WdfDeviceSetFailed</a>.</p>

<p>Drivers typically specify <strong>WdfDeviceFailedAttemptRestart</strong> if they encounter an unrecoverable software error, because specifying this enumerator reloads the drivers. A driver might specify <strong>WdfDeviceFailedNoRestart</strong> if it encounters an unrecoverable hardware error that affects all of the driver's devices.</p>

<p>For information about specifying <strong>WdfDeviceFailedAttemptRestart</strong> in a UMDF driver, see the Remarks of <a href="wdfdevicesetfailed" title="VOID WdfDeviceSetFailed(&#10;  [in] WDFDEVICE                Device,&#10;  [in] WDF_DEVICE_FAILED_ACTION FailedAction&#10;);">WdfDeviceSetFailed</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="wdfdevicesetfailed" title="VOID WdfDeviceSetFailed(&#10;  [in] WDFDEVICE                Device,&#10;  [in] WDF_DEVICE_FAILED_ACTION FailedAction&#10;);">WdfDeviceSetFailed</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdevice/ne-wdfdevice-_wdf_device_failed_action">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdfdevice/ne-wdfdevice-_wdf_device_failed_action.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
