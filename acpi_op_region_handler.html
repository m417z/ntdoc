<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="ACPI_OP_REGION_HANDLER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ACPI_OP_REGION_HANDLER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            ACPI_OP_REGION_HANDLER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// oprghdlr.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">ACPI_OP_REGION_HANDLER AcpiOpRegionHandler;

<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> AcpiOpRegionHandler(
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> AccessType,
  PVOID OperationRegionObject,
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Address,
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Size,
  PULONG Data,
  <a href="ulong_ptr" title="typedef [public] unsigned __int3264 ULONG_PTR;">ULONG_PTR</a> Context,
  PACPI_OP_REGION_CALLBACK CompletionHandler,
  PVOID CompletionContext
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/oprghdlr/nc-oprghdlr-acpi_op_region_handler">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/acpi_op_region_handler.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-oprghdlr-acpi_op_region_handler)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>An ACPI_OP_REGION_HANDLER-typed routine is supplied by an ACPI device function driver to provide access by the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/acpi-driver">ACPI driver</a> to the device's operation region.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="accesstype"><code>AccessType</code></h3>

<p>Specifies one of the following access types:</p>

<table>
<thead>
<tr>
  <th>Access type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>ACPI_OPREGION_WRITE</td>
  <td>Write to the operation region memory buffer.</td>
</tr>
<tr>
  <td>ACPI_OPREGION_READ</td>
  <td>Read from the operation region memory buffer.</td>
</tr>
</tbody>
</table>

<h3 id="operationregionobject"><code>OperationRegionObject</code></h3>

<p>Specifies the operation region object returned by <strong><a href="registeropregionhandler" title="NTSTATUS RegisterOpRegionHandler(&#10;  [in]  PDEVICE_OBJECT          DeviceObject,&#10;  [in]  ULONG                   AccessType,&#10;  [in]  ULONG                   RegionSpace,&#10;  [in]  PACPI_OP_REGION_HANDLER Handler,&#10;  [in]  PVOID                   Context,&#10;  [in]  ULONG                   Flags,&#10;  [out] PVOID                   *OperationRegionObject&#10;);">RegisterOpRegionHandler</a></strong> for the operation region handler.</p>

<h3 id="address"><code>Address</code></h3>

<p>Specifies a byte offset in the operation region memory buffer. Depending on the access type, data is transferred to or from this memory location.</p>

<h3 id="size"><code>Size</code></h3>

<p>Specifies the number of bytes to access.</p>

<h3 id="data"><code>Data</code></h3>

<p>Pointer to the data buffer supplied by the ACPI driver that is associated with the access. For a read access, bytes are transferred from the operation region memory buffer to the data buffer. For a write access, bytes are transferred from the data buffer to the operation region memory buffer.</p>

<h3 id="context"><code>Context</code></h3>

<p>Pointer to the same operation region context that the function driver specified when it registered the operation region handler.</p>

<h3 id="completionhandler"><code>CompletionHandler</code></h3>

<p>Reserved for internal use.</p>

<h3 id="completioncontext"><code>CompletionContext</code></h3>

<p>Reserved for internal use.</p>

<h2 id="return-value">Return value</h2>

<p>Returns one of the following status values:</p>

<table>
<thead>
<tr>
  <th>Return code</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></td>
  <td>The access was successful.</td>
</tr>
<tr>
  <td>STATUS_INVALID_DEVICE_REQUEST</td>
  <td>The access type is invalid.</td>
</tr>
<tr>
  <td>STATUS_Xxx</td>
  <td>An internal error occurred.</td>
</tr>
</tbody>
</table>

<h2 id="remarks">Remarks</h2>

<p>When the ACPI driver calls an operation region handler, it specifies values for <em>Address</em> and <em>Size</em> that ensure that the access is within the operation region that is defined in the ACPI BIOS for the ACPI device. The ACPI device function driver must ensure that the operation region memory buffer it allocates is at least as large, in bytes, as the operation region defined for the ACPI device.</p>

<p>For more information about operation region handlers, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/acpi/supporting-an-operation-region">Supporting an Operation Region</a>.</p>

<p>An ACPI_OP_REGION_HANDLER-typed routine runs at the caller's IRQL.</p>

<p>For detailed information about constraints on operation regions, see the <a rel="noopener" target="_blank" href="https://uefi.org/specifications">Advanced Configuration and Power Interface (ACPI) Specification</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="deregisteropregionhandler" title="NTSTATUS DeRegisterOpRegionHandler(&#10;  [in] PDEVICE_OBJECT DeviceObject,&#10;  [in] PVOID          OperationRegionObject&#10;);">DeRegisterOpRegionHandler</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/oprghdlr/nc-oprghdlr-acpi_op_region_handler">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/oprghdlr/nc-oprghdlr-acpi_op_region_handler.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
