<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NetExtensionGetPacketChecksum - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NetExtensionGetPacketChecksum - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NetExtensionGetPacketChecksum - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// checksum.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">EXTERN_C_START <a href="net_packet_checksum" title="typedef struct _NET_PACKET_CHECKSUM {&#10;  UINT8 Layer2 : 2;&#10;  UINT8 Layer3 : 2;&#10;  UINT8 Layer4 : 2;&#10;  UINT8 Reserved : 2;&#10;} NET_PACKET_CHECKSUM;">NET_PACKET_CHECKSUM</a> * NetExtensionGetPacketChecksum(
  <a href="net_extension" title="typedef struct _NET_EXTENSION {&#10;  void  *Reserved[4];&#10;  union {&#10;    BOOLEAN Enabled;&#10;    void    *Reserved1;&#10;  } DUMMYUNIONNAME;&#10;} NET_EXTENSION;">NET_EXTENSION</a> const *Extension,
  <a href="uint32" title="typedef unsigned int UINT32;">UINT32</a>              Index
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/checksum/nf-checksum-netextensiongetpacketchecksum">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/netextensiongetpacketchecksum.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-checksum-netextensiongetpacketchecksum)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="netextensiongetpacketchecksum-function">NetExtensionGetPacketChecksum function</h1>

<h2 id="description">Description</h2>

<p>The <strong>NetExtensionGetPacketChecksum</strong> function retrieves checksum information for a packet.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="extension"><code>Extension</code></h3>

<p>A pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/extension/ns-extension-_net_extension"><strong>NET_EXTENSION</strong></a> structure that describes the checksum extension information for this packet queue.</p>

<h3 id="index"><code>Index</code></h3>

<p>The index in the packet ring for the target <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/packet/ns-packet-_net_packet"><strong>NET_PACKET</strong></a>.</p>

<h2 id="return-value">Return value</h2>

<p>Returns a pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/checksumtypes/ns-checksumtypes-_net_packet_checksum"><strong>NET_PACKET_CHECKSUM</strong></a> structure that holds the checksum information for this packet.</p>

<h2 id="remarks">Remarks</h2>

<p>NIC client drivers typically query offsets for packet extensions during datapath queue creation, then store them in their queue context space so they don't have to query them too often. For an example of this, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/netcx/transmit-and-receive-queues">Transmit and receive queues</a>. Clients can retrieve the checksum offset from the queue context to pass to <strong>NetExtensionGetPacketChecksum</strong>.</p>

<p>This function is a wrapper function around <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/extension/nf-extension-netextensiongetdata"><strong>NetExtensionGetData</strong></a>.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/netcx/packet-descriptors-and-extensions">Packet descriptors and extensions</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/extension/nf-extension-netextensiongetdata"><strong>NetExtensionGetData</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/checksum/nf-checksum-netextensiongetpacketchecksum">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/checksum/nf-checksum-netextensiongetpacketchecksum.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
