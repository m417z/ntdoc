<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PARTITION_INFORMATION_GPT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PARTITION_INFORMATION_GPT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PARTITION_INFORMATION_GPT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntdddisk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PARTITION_INFORMATION_GPT {
  GUID    PartitionType;
  GUID    PartitionId;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Attributes;
  WCHAR   Name[36];
} PARTITION_INFORMATION_GPT, *PPARTITION_INFORMATION_GPT;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntdddisk/ns-ntdddisk-_partition_information_gpt">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// winioctl.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PARTITION_INFORMATION_GPT {
  GUID    PartitionType;
  GUID    PartitionId;
  <a href="dword64" title="typedef unsigned __int64 DWORD64;">DWORD64</a> Attributes;
  WCHAR   Name[36];
} PARTITION_INFORMATION_GPT, *PPARTITION_INFORMATION_GPT;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-partition_information_gpt">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/partition_information_gpt.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntdddisk-_partition_information_gpt)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_PARTITION_INFORMATION_GPT structure</h1>
<h2>Description</h2>
<p>PARTITION_INFORMATION_GPT contains information for a GUID Partition Table partition that is not held in common with a Master Boot Record partition.</p>
<h2>Members</h2>
<h3><code>PartitionType</code></h3>
<p>Specifies a GUID that uniquely identifies the partition type. The GUID data type is described on the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-guids-in-drivers">Using GUIDs in Drivers</a> reference page.</p>
<h3><code>PartitionId</code></h3>
<p>Specifies a GUID that uniquely identifies the partition. The GUID data type is described on the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-guids-in-drivers">Using GUIDs in Drivers</a> reference page.</p>
<h3><code>Attributes</code></h3>
<p>Specifies the partition entry attributes used for diagnostics, recovery tools, and other firmware essential to the operation of the device. See Intel's <em>Extensible Firmware Interface</em> specification for further information.</p>
<h3><code>Name</code></h3>
<p>Specifies the partition name in Unicode.</p>
<h2>See also</h2>
<p><a href="ioreadpartitiontableex" title="NTSTATUS IoReadPartitionTableEx(&#10;  [in] PDEVICE_OBJECT               DeviceObject,&#10;       _DRIVE_LAYOUT_INFORMATION_EX **DriveLayout&#10;);">IoReadPartitionTableEx</a></p>
<p><a href="partition_information_ex" title="typedef struct _PARTITION_INFORMATION_EX {&#10;  PARTITION_STYLE PartitionStyle;&#10;  LARGE_INTEGER   StartingOffset;&#10;  LARGE_INTEGER   PartitionLength;&#10;  ULONG           PartitionNumber;&#10;  BOOLEAN         RewritePartition;&#10;  BOOLEAN         IsServicePartition;&#10;  union {&#10;    PARTITION_INFORMATION_MBR Mbr;&#10;    PARTITION_INFORMATION_GPT Gpt;&#10;  } DUMMYUNIONNAME;&#10;} PARTITION_INFORMATION_EX, *PPARTITION_INFORMATION_EX;">PARTITION_INFORMATION_EX</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntdddisk/ns-ntdddisk-_partition_information_gpt">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntdddisk/ns-ntdddisk-_partition_information_gpt.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ns-winioctl-partition_information_gpt)</h1>
</div>
<div class="ntdoc-description">
<h1>PARTITION_INFORMATION_GPT structure</h1>
<h2>Description</h2>
<p>Contains <strong>GUID</strong> partition table (GPT) partition information.</p>
<h2>Members</h2>
<h3><code>PartitionType</code></h3>
<p>A <strong>GUID</strong> that identifies the partition type.</p>
<p>Each partition type that the EFI specification supports is identified by its own
<strong>GUID</strong>, which is published by the developer of the partition.</p>
<p>This member can be one of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><a href="partition_basic_data_guid" title="DEFINE_GUID(PARTITION_BASIC_DATA_GUID, 0xebd0a0a2, 0xb9e5, 0x4433, 0x87, 0xc0, 0x68, 0xb6, 0xb7, 0x26, 0x99, 0xc7);">PARTITION_BASIC_DATA_GUID</a></strong><br /><br />ebd0a0a2-b9e5-4433-87c0-68b6b72699c7</td>
<td>The data partition type that is created and recognized by Windows.<br /><br />Only partitions of this type can be assigned drive letters, receive volume <strong>GUID</strong> paths, host mounted folders (also called volume mount points), and be enumerated by calls to <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/fileapi/nf-fileapi-findfirstvolumew">FindFirstVolume</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/fileapi/nf-fileapi-findnextvolumew">FindNextVolume</a>.<br /><br />This value can be set only for basic disks, with one exception. If both <strong><a href="partition_basic_data_guid" title="DEFINE_GUID(PARTITION_BASIC_DATA_GUID, 0xebd0a0a2, 0xb9e5, 0x4433, 0x87, 0xc0, 0x68, 0xb6, 0xb7, 0x26, 0x99, 0xc7);">PARTITION_BASIC_DATA_GUID</a></strong> and <strong>GPT_ATTRIBUTE_PLATFORM_REQUIRED</strong> are set for a partition on a basic disk that is subsequently converted to a dynamic disk, the partition remains a basic partition, even though the rest of the disk is a dynamic disk. This is because the partition is considered to be an OEM partition on a GPT disk.</td>
</tr>
<tr>
<td><strong><a href="partition_entry_unused_guid" title="DEFINE_GUID(PARTITION_ENTRY_UNUSED_GUID, 0x00000000, 0x0000, 0x0000, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00);">PARTITION_ENTRY_UNUSED_GUID</a></strong><br /><br />00000000-0000-0000-0000-000000000000</td>
<td>There is no partition.<br /><br />This value can be set for basic and dynamic disks.</td>
</tr>
<tr>
<td><strong><a href="partition_system_guid" title="DEFINE_GUID(PARTITION_SYSTEM_GUID, 0xc12a7328, 0xf81f, 0x11d2, 0xba, 0x4b, 0x00, 0xa0, 0xc9, 0x3e, 0xc9, 0x3b);">PARTITION_SYSTEM_GUID</a></strong><br /><br />c12a7328-f81f-11d2-ba4b-00a0c93ec93b</td>
<td>The partition is an EFI system partition.<br /><br />This value can be set for basic and dynamic disks.</td>
</tr>
<tr>
<td><strong><a href="partition_msft_reserved_guid" title="DEFINE_GUID(PARTITION_MSFT_RESERVED_GUID, 0xe3c9e316, 0x0b5c, 0x4db8, 0x81, 0x7d, 0xf9, 0x2d, 0xf0, 0x02, 0x15, 0xae);">PARTITION_MSFT_RESERVED_GUID</a></strong><br /><br />e3c9e316-0b5c-4db8-817d-f92df00215ae</td>
<td>The partition is a Microsoft reserved partition.<br /><br />This value can be set for basic and dynamic disks.</td>
</tr>
<tr>
<td><strong><a href="partition_ldm_metadata_guid" title="DEFINE_GUID(PARTITION_LDM_METADATA_GUID, 0x5808c8aa, 0x7e8f, 0x42e0, 0x85, 0xd2, 0xe1, 0xe9, 0x04, 0x34, 0xcf, 0xb3);">PARTITION_LDM_METADATA_GUID</a></strong><br /><br />5808c8aa-7e8f-42e0-85d2-e1e90434cfb3</td>
<td>The partition is a Logical Disk Manager (LDM) metadata partition on a dynamic disk.<br /><br />This value can be set only for dynamic disks.</td>
</tr>
<tr>
<td><strong><a href="partition_ldm_data_guid" title="DEFINE_GUID(PARTITION_LDM_DATA_GUID, 0xaf9b60a0, 0x1431, 0x4f62, 0xbc, 0x68, 0x33, 0x11, 0x71, 0x4a, 0x69, 0xad);">PARTITION_LDM_DATA_GUID</a></strong><br /><br />af9b60a0-1431-4f62-bc68-3311714a69ad</td>
<td>The partition is an LDM data partition on a dynamic disk.<br /><br />This value can be set only for dynamic disks.</td>
</tr>
<tr>
<td><strong><a href="partition_msft_recovery_guid" title="DEFINE_GUID(PARTITION_MSFT_RECOVERY_GUID, 0xde94bba4, 0x06d1, 0x4d40, 0xa1, 0x6a, 0xbf, 0xd5, 0x01, 0x79, 0xd6, 0xac);">PARTITION_MSFT_RECOVERY_GUID</a></strong><br /><br />de94bba4-06d1-4d40-a16a-bfd50179d6ac</td>
<td>The partition is a Microsoft recovery partition.<br /><br />This value can be set for basic and dynamic disks.</td>
</tr>
</tbody>
</table>
<h3><code>PartitionId</code></h3>
<p>The GUID of the partition.</p>
<h3><code>Attributes</code></h3>
<p>The Extensible Firmware Interface (EFI) attributes of the partition.</p>
<p>This member can be one or more of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>GPT_ATTRIBUTE_PLATFORM_REQUIRED</strong><br /><br />0x0000000000000001</td>
<td>If this attribute is set, the partition is required by a computer to function properly.<br /><br />For example, this attribute must be set for OEM partitions. Note that if this attribute is set, you can use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-server/administration/windows-commands/diskpart">DiskPart.exe</a> utility to perform partition operations such as deleting the partition. However, because the partition is not a volume, you cannot use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-server/administration/windows-commands/diskpart">DiskPart.exe</a> utility to perform volume operations on the partition.<br /><br />This attribute can be set for basic and dynamic disks. If it is set for a partition on a basic disk and the disk is converted to a dynamic disk, the partition remains a basic partition, even though the rest of the disk is a dynamic disk. This is because the partition is considered to be an OEM partition on a GPT disk.</td>
</tr>
<tr>
<td><strong>GPT_BASIC_DATA_ATTRIBUTE_NO_DRIVE_LETTER</strong><br /><br />0x8000000000000000</td>
<td>If this attribute is set, the partition does not receive a drive letter by default when the disk is moved to another computer or when the disk is seen for the first time by a computer.<br /><br />This attribute is useful in storage area network (SAN) environments.<br /><br />Despite its name, this attribute can be set for basic and dynamic disks.</td>
</tr>
<tr>
<td><strong>GPT_BASIC_DATA_ATTRIBUTE_HIDDEN</strong><br /><br />0x4000000000000000</td>
<td>If this attribute is set, the partition is not detected by the Mount Manager.<br /><br />As a result, the partition does not receive a drive letter, does not receive a volume <strong>GUID</strong> path, does not host mounted folders (also called volume mount points), and is not enumerated by calls to <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/fileapi/nf-fileapi-findfirstvolumew">FindFirstVolume</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/fileapi/nf-fileapi-findnextvolumew">FindNextVolume</a>. This ensures that applications such as Disk Defragmenter do not access the partition. The Volume Shadow Copy Service (VSS) uses this attribute.<br /><br />Despite its name, this attribute can be set for basic and dynamic disks.</td>
</tr>
<tr>
<td><strong>GPT_BASIC_DATA_ATTRIBUTE_SHADOW_COPY</strong><br /><br />0x2000000000000000</td>
<td>If this attribute is set, the partition is a shadow copy of another partition.<br /><br />VSS uses this attribute. This attribute is an indication for file system filter driver-based software (such as antivirus programs) to avoid attaching to the volume.<br /><br />An application can use the attribute to differentiate a shadow copy volume from a production volume. An application that does a fast recovery, for example, will break a shadow copy LUN and clear the read-only and hidden attributes and this attribute. This attribute is set when the shadow copy is created and cleared when the shadow copy is broken.<br /><br />Despite its name, this attribute can be set for basic and dynamic disks.<br /><br /><strong>Windows Server 2003:</strong> This attribute is not supported before Windows Server 2003 with SP1.</td>
</tr>
<tr>
<td><strong>GPT_BASIC_DATA_ATTRIBUTE_READ_ONLY</strong><br /><br />0x1000000000000000</td>
<td>If this attribute is set, the partition is read-only.<br /><br />Writes to the partition will fail. <a href="ioctl_disk_is_writable" title="// CTL_CODE(0x0007, 0x009, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_DISK_IS_WRITABLE 0x00070024">IOCTL_DISK_IS_WRITABLE</a> will fail with the <strong>ERROR_WRITE_PROTECT</strong> Win32 error code, which causes the file system to mount as read only, if a file system is present.<br /><br />VSS uses this attribute.<br /><br />Do not set this attribute for dynamic disks. Setting it can cause I/O errors and prevent the file system from mounting properly.</td>
</tr>
</tbody>
</table>
<h3><code>Name</code></h3>
<p>A wide-character string that describes the partition.</p>
<h2>Remarks</h2>
<p>The GPT partition format is required for disks that are used to boot computers that use
Extended Firmware Interface (EFI) firmware. GPT data disks can reside on x86, x64, and Itanium-based
architectures.</p>
<p>Starting with
Windows Server 2003 with SP1, GPT is supported on all Windows platforms, not only platforms that use
EFI.</p>
<h2>See also</h2>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/FileIO/file-system-recognition">File System Recognition</a></p>
<p><a href="ioctl_disk_get_partition_info_ex" title="// CTL_CODE(0x0007, 0x012, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_DISK_GET_PARTITION_INFO_EX 0x00070048">IOCTL_DISK_GET_PARTITION_INFO_EX</a></p>
<p><a href="ioctl_disk_set_partition_info_ex" title="// CTL_CODE(0x0007, 0x013, METHOD_BUFFERED, FILE_READ_ACCESS | FILE_WRITE_ACCESS)&#10;#define IOCTL_DISK_SET_PARTITION_INFO_EX 0x0007C04C">IOCTL_DISK_SET_PARTITION_INFO_EX</a></p>
<p><a href="partition_information_ex" title="typedef struct _PARTITION_INFORMATION_EX {&#10;  PARTITION_STYLE PartitionStyle;&#10;  LARGE_INTEGER   StartingOffset;&#10;  LARGE_INTEGER   PartitionLength;&#10;  ULONG           PartitionNumber;&#10;  BOOLEAN         RewritePartition;&#10;  BOOLEAN         IsServicePartition;&#10;  union {&#10;    PARTITION_INFORMATION_MBR Mbr;&#10;    PARTITION_INFORMATION_GPT Gpt;&#10;  } DUMMYUNIONNAME;&#10;} PARTITION_INFORMATION_EX, *PPARTITION_INFORMATION_EX;">PARTITION_INFORMATION_EX</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-partition_information_gpt">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/winioctl/ns-winioctl-partition_information_gpt.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
