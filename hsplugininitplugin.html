<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HSPluginInitPlugin - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>HSPluginInitPlugin - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            HSPluginInitPlugin - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// hotspotoffloadplugin.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a> HSPluginInitPlugin(
  _In_  HANDLE                hPluginContext,
  _In_  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>                 dwVerNumUsed,
  _In_  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>                 dwHostCapabilities,
  _In_  <a href="hs_device_identity" title="typedef struct _HS_DEVICE_IDENTITY {&#10;  DWORD dwSystemType;&#10;  WCHAR wszPhoneManufacturer[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszPhoneModelName[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszPhoneManufacturerModel[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszDeviceModel[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;} HS_DEVICE_IDENTITY, *PHS_DEVICE_IDENTITY;">HS_DEVICE_IDENTITY</a>    *pDeviceIdentity,
  _In_  <a href="hotspot_host_handlers" title="typedef struct _HOTSPOT_HOST_HANDLERS {&#10;  HS_HOST_ALLOCATE_MEMORY                          HSHostAllocateMemory;&#10;  HS_HOST_FREE_MEMORY                              HSHostFreeMemory;&#10;  HS_HOST_POST_CONNECT_AUTH_COMPLETION             HSHostPostConnectAuthCompletion;&#10;  HS_HOST_SEND_KEEP_ALIVE_COMPLETION               HSHostSendKeepAliveCompletion;&#10;  HS_HOST_UPDATE_CONFIGURATION_COMPLETION          HSHostUpdateConfigurationCompletion;&#10;  HS_HOST_SEND_USER_MESSAGE                        HSHostSendUserMessage;&#10;} HOTSPOT_HOST_HANDLERS, *PHOTSPOT_HOST_HANDLERS;">HOTSPOT_HOST_HANDLERS</a> *pHotspotHostHandlers,
  _Out_ <a href="hotspot_plugin_apis" title="typedef struct _HOTSPOT_PLUGIN_APIS {&#10;  HS_PLUGIN_QUERY_SUPPORTED_SIMS     HSPluginQuerySupportedSIMs;&#10;  HS_PLUGIN_QUERY_HIDDEN_NETWORK     HSPluginQueryCellularExceptionHosts;&#10;  HS_PLUGIN_IS_HOTSPOT_NETWORK       HSPluginIsHotspotNetwork;&#10;  HS_PLUGIN_PRE_CONNECT_INIT         HSPluginPreConnectInit;&#10;  HS_PLUGIN_START_POST_CONNECT_AUTH  HSPluginStartPostConnectAuth;&#10;  HS_PLUGIN_STOP_POST_CONNECT_AUTH   HSPluginStopPostConnectAuth;&#10;  HS_PLUGIN_DISCONNECT_FROM_NETWORK  HSPluginDisconnectFromNetwork;&#10;  HS_PLUGIN_RESET                    HSPluginReset;&#10;  HS_PLUGIN_SEND_KEEP_ALIVE          HSPluginSendKeepAlive;&#10;  HS_PLUGIN_CHECK_FOR_UPDATES        HSPluginCheckForUpdates;&#10;  HS_PLUGIN_DEINIT                   HSPluginDeinit;&#10;} HOTSPOT_PLUGIN_APIS, *PHOTSPOT_PLUGIN_APIS;">HOTSPOT_PLUGIN_APIS</a>   *pHotspotPluginAPIs,
  _Out_ <a href="hs_plugin_profile" title="typedef struct _HS_PLUGIN_PROFILE {&#10;  DWORD dwPluginCapabilities;&#10;  DWORD dwNumNetworksSupported;&#10;  DWORD dwProviderNameStringID;&#10;  DWORD dwGenericNetworkNameStringID;&#10;  DWORD dwAdvancedPageStringID;&#10;  DWORD dwProfileUpdateTimeDays;&#10;  WCHAR szRealm[HS_CONST_MAX_REALM_LENGTH+1];&#10;  DWORD dwSupportedSIMCount;&#10;} HS_PLUGIN_PROFILE, *PHS_PLUGIN_PROFILE;">HS_PLUGIN_PROFILE</a>     *pPluginProfile
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/hsplugininitplugin">View the official Windows hardware development documentation</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/hsplugininitplugin.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows hardware development documentation (hsplugininitplugin)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="hsplugininitplugin-function">HSPluginInitPlugin function</h1>

<p>[!include<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/includes/wi-fi-hotspot-offloading-deprecation">Wi-Fi Hotspot Offloading deprecation</a>]</p>

<p>The <strong>HSPluginInitPlugin</strong> function is exported by the plugin DLL and is called to initialize the plugin.</p>

<h2 id="parameters">Parameters</h2>

<p><em>hPluginContext</em> [in]
A handle, provided by the host, that the plugin is required to save and then use when it needs to make a request to the host by way of the host handler functions.</p>

<p><em>dwVerNumUsed</em> [in]
The host's current version number.</p>

<p><em>dwHostCapabilities</em> [in]
Value that specifies the list of capabilities that the host can provide to the plugin. This value is the bitwise OR combination of the applicable capability flags. For more information about capability flags, see the <strong>HS_FLAG_CAPABILITY_\</strong>* constants in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/wi-fi-hotspot-offloading-constants"><strong>Wi-Fi Hotspot Offloading Constants</strong></a>.</p>

<p><strong>Note</strong> If the host does not supply all the capabilities required by the plugin, the plugin will not be initialized.</p>

<p><em>*pDeviceIdentity</em> [in]
Pointer to a <strong><a href="hs_device_identity" title="typedef struct _HS_DEVICE_IDENTITY {&#10;  DWORD dwSystemType;&#10;  WCHAR wszPhoneManufacturer[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszPhoneModelName[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszPhoneManufacturerModel[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszDeviceModel[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;} HS_DEVICE_IDENTITY, *PHS_DEVICE_IDENTITY;">HS_DEVICE_IDENTITY</a></strong> structure that contains information about the device manufacturer and model.</p>

<p><em>*pHotspotHostHandlers</em> [in]
Pointer to a <strong><a href="hotspot_host_handlers" title="typedef struct _HOTSPOT_HOST_HANDLERS {&#10;  HS_HOST_ALLOCATE_MEMORY                          HSHostAllocateMemory;&#10;  HS_HOST_FREE_MEMORY                              HSHostFreeMemory;&#10;  HS_HOST_POST_CONNECT_AUTH_COMPLETION             HSHostPostConnectAuthCompletion;&#10;  HS_HOST_SEND_KEEP_ALIVE_COMPLETION               HSHostSendKeepAliveCompletion;&#10;  HS_HOST_UPDATE_CONFIGURATION_COMPLETION          HSHostUpdateConfigurationCompletion;&#10;  HS_HOST_SEND_USER_MESSAGE                        HSHostSendUserMessage;&#10;} HOTSPOT_HOST_HANDLERS, *PHOTSPOT_HOST_HANDLERS;">HOTSPOT_HOST_HANDLERS</a></strong> structure that contains the hotspot host handlers function table. This table contains pointers to functions that are called by the plugin to communicate with the hotspot host.</p>

<p><em>*pHotspotPluginAPIs</em> [out]
Pointer to the <strong><a href="hotspot_plugin_apis" title="typedef struct _HOTSPOT_PLUGIN_APIS {&#10;  HS_PLUGIN_QUERY_SUPPORTED_SIMS     HSPluginQuerySupportedSIMs;&#10;  HS_PLUGIN_QUERY_HIDDEN_NETWORK     HSPluginQueryCellularExceptionHosts;&#10;  HS_PLUGIN_IS_HOTSPOT_NETWORK       HSPluginIsHotspotNetwork;&#10;  HS_PLUGIN_PRE_CONNECT_INIT         HSPluginPreConnectInit;&#10;  HS_PLUGIN_START_POST_CONNECT_AUTH  HSPluginStartPostConnectAuth;&#10;  HS_PLUGIN_STOP_POST_CONNECT_AUTH   HSPluginStopPostConnectAuth;&#10;  HS_PLUGIN_DISCONNECT_FROM_NETWORK  HSPluginDisconnectFromNetwork;&#10;  HS_PLUGIN_RESET                    HSPluginReset;&#10;  HS_PLUGIN_SEND_KEEP_ALIVE          HSPluginSendKeepAlive;&#10;  HS_PLUGIN_CHECK_FOR_UPDATES        HSPluginCheckForUpdates;&#10;  HS_PLUGIN_DEINIT                   HSPluginDeinit;&#10;} HOTSPOT_PLUGIN_APIS, *PHOTSPOT_PLUGIN_APIS;">HOTSPOT_PLUGIN_APIS</a></strong> structure that contains the hotspot plugin APIs function table. This table is returned by the plugin and contains pointers to functions that are called by the host to communicate with the plugin.</p>

<p><em>*pPluginProfile</em> [out]
Pointer to a <strong><a href="hs_plugin_profile" title="typedef struct _HS_PLUGIN_PROFILE {&#10;  DWORD dwPluginCapabilities;&#10;  DWORD dwNumNetworksSupported;&#10;  DWORD dwProviderNameStringID;&#10;  DWORD dwGenericNetworkNameStringID;&#10;  DWORD dwAdvancedPageStringID;&#10;  DWORD dwProfileUpdateTimeDays;&#10;  WCHAR szRealm[HS_CONST_MAX_REALM_LENGTH+1];&#10;  DWORD dwSupportedSIMCount;&#10;} HS_PLUGIN_PROFILE, *PHS_PLUGIN_PROFILE;">HS_PLUGIN_PROFILE</a></strong> structure, returned by the plugin, that provides information about the plugin.</p>

<h2 id="remarks">Remarks</h2>

<p>During initialization, the host provides the following:</p>

<ul>
<li>The plugin context handle</li>
<li>The current version number</li>
<li>A list of capabilities that the host can provide to the plugin</li>
<li>A pointer to the host handler function table through which the plugin can communicate with the host</li>
</ul>

<p>The plugin returns a pointer to its own function table and a pointer to its <strong><a href="hs_plugin_profile" title="typedef struct _HS_PLUGIN_PROFILE {&#10;  DWORD dwPluginCapabilities;&#10;  DWORD dwNumNetworksSupported;&#10;  DWORD dwProviderNameStringID;&#10;  DWORD dwGenericNetworkNameStringID;&#10;  DWORD dwAdvancedPageStringID;&#10;  DWORD dwProfileUpdateTimeDays;&#10;  WCHAR szRealm[HS_CONST_MAX_REALM_LENGTH+1];&#10;  DWORD dwSupportedSIMCount;&#10;} HS_PLUGIN_PROFILE, *PHS_PLUGIN_PROFILE;">HS_PLUGIN_PROFILE</a></strong> structure.</p>

<h2 id="requirements">Requirements</h2>

<table>
<thead>
<tr>
  <th></th>
  <th></th>
</tr>
</thead>
<tbody>
<tr>
  <td>Version</td>
  <td>Windows 10 Mobile</td>
</tr>
<tr>
  <td>Header</td>
  <td>Hotspotoffloadplugin.h (include Hotspotoffloadplugin.h)</td>
</tr>
</tbody>
</table>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/wi-fi-hotspot-offloading-constants"><strong>Wi-Fi Hotspot Offloading Constants</strong></a></p>

<p><strong><a href="hs_device_identity" title="typedef struct _HS_DEVICE_IDENTITY {&#10;  DWORD dwSystemType;&#10;  WCHAR wszPhoneManufacturer[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszPhoneModelName[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszPhoneManufacturerModel[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;  WCHAR wszDeviceModel[HS_CONST_MAX_DEVICE_INFO_LENGTH+1];&#10;} HS_DEVICE_IDENTITY, *PHS_DEVICE_IDENTITY;">HS_DEVICE_IDENTITY</a></strong></p>

<p><strong><a href="hotspot_host_handlers" title="typedef struct _HOTSPOT_HOST_HANDLERS {&#10;  HS_HOST_ALLOCATE_MEMORY                          HSHostAllocateMemory;&#10;  HS_HOST_FREE_MEMORY                              HSHostFreeMemory;&#10;  HS_HOST_POST_CONNECT_AUTH_COMPLETION             HSHostPostConnectAuthCompletion;&#10;  HS_HOST_SEND_KEEP_ALIVE_COMPLETION               HSHostSendKeepAliveCompletion;&#10;  HS_HOST_UPDATE_CONFIGURATION_COMPLETION          HSHostUpdateConfigurationCompletion;&#10;  HS_HOST_SEND_USER_MESSAGE                        HSHostSendUserMessage;&#10;} HOTSPOT_HOST_HANDLERS, *PHOTSPOT_HOST_HANDLERS;">HOTSPOT_HOST_HANDLERS</a></strong></p>

<p><strong><a href="hotspot_plugin_apis" title="typedef struct _HOTSPOT_PLUGIN_APIS {&#10;  HS_PLUGIN_QUERY_SUPPORTED_SIMS     HSPluginQuerySupportedSIMs;&#10;  HS_PLUGIN_QUERY_HIDDEN_NETWORK     HSPluginQueryCellularExceptionHosts;&#10;  HS_PLUGIN_IS_HOTSPOT_NETWORK       HSPluginIsHotspotNetwork;&#10;  HS_PLUGIN_PRE_CONNECT_INIT         HSPluginPreConnectInit;&#10;  HS_PLUGIN_START_POST_CONNECT_AUTH  HSPluginStartPostConnectAuth;&#10;  HS_PLUGIN_STOP_POST_CONNECT_AUTH   HSPluginStopPostConnectAuth;&#10;  HS_PLUGIN_DISCONNECT_FROM_NETWORK  HSPluginDisconnectFromNetwork;&#10;  HS_PLUGIN_RESET                    HSPluginReset;&#10;  HS_PLUGIN_SEND_KEEP_ALIVE          HSPluginSendKeepAlive;&#10;  HS_PLUGIN_CHECK_FOR_UPDATES        HSPluginCheckForUpdates;&#10;  HS_PLUGIN_DEINIT                   HSPluginDeinit;&#10;} HOTSPOT_PLUGIN_APIS, *PHOTSPOT_PLUGIN_APIS;">HOTSPOT_PLUGIN_APIS</a></strong></p>

<p><strong><a href="hs_plugin_profile" title="typedef struct _HS_PLUGIN_PROFILE {&#10;  DWORD dwPluginCapabilities;&#10;  DWORD dwNumNetworksSupported;&#10;  DWORD dwProviderNameStringID;&#10;  DWORD dwGenericNetworkNameStringID;&#10;  DWORD dwAdvancedPageStringID;&#10;  DWORD dwProfileUpdateTimeDays;&#10;  WCHAR szRealm[HS_CONST_MAX_REALM_LENGTH+1];&#10;  DWORD dwSupportedSIMCount;&#10;} HS_PLUGIN_PROFILE, *PHS_PLUGIN_PROFILE;">HS_PLUGIN_PROFILE</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/hsplugininitplugin">View the official Windows hardware development documentation</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs/blob/staging/windows-driver-docs-pr/network/hsplugininitplugin.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
