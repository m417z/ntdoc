<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_PROTOCOL_RESTART_PARAMETERS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_PROTOCOL_RESTART_PARAMETERS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_PROTOCOL_RESTART_PARAMETERS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NDIS_PROTOCOL_RESTART_PARAMETERS {
  <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a>       Header;
  PUCHAR                   FilterModuleNameBuffer;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                    FilterModuleNameBufferLength;
  <a href="ndis_restart_attributes" title="typedef struct _NDIS_RESTART_ATTRIBUTES {&#10;  PNDIS_RESTART_ATTRIBUTES Next;&#10;  NDIS_OID                 Oid;&#10;  ULONG                    DataLength;&#10;  UCHAR                    Data[1];&#10;} NDIS_RESTART_ATTRIBUTES, *PNDIS_RESTART_ATTRIBUTES;">PNDIS_RESTART_ATTRIBUTES</a> RestartAttributes;
  NET_IFINDEX              BoundIfIndex;
  NET_LUID                 BoundIfNetluid;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                    Flags;
} NDIS_PROTOCOL_RESTART_PARAMETERS, *PNDIS_PROTOCOL_RESTART_PARAMETERS;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_protocol_restart_parameters">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_protocol_restart_parameters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ndis-_ndis_protocol_restart_parameters)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ndis_protocol_restart_parameters-structure">_NDIS_PROTOCOL_RESTART_PARAMETERS structure</h1>

<h2 id="description">Description</h2>

<p>The NDIS_PROTOCOL_RESTART_PARAMETERS structure defines restart parameters for a protocol driver when
NDIS calls the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_net_pnp_event">ProtocolNetPnPEvent</a> function to
indicate a
<strong>NetEventRestart</strong> event.</p>

<h2 id="members">Members</h2>

<h3 id="header"><code>Header</code></h3>

<p>The
<a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> structure for the
NDIS_PROTOCOL_RESTART_PARAMETERS structure. NDIS sets the
<strong>Type</strong> member of the structure that
<strong>Header</strong> specifies to NDIS_OBJECT_TYPE_PROTOCOL_RESTART_PARAMETERS, the
<strong>Revision</strong> member to NDIS_PROTOCOL_RESTART_PARAMETERS_REVISION_1, and the
<strong>Size</strong> member to NDIS_SIZEOF_PROTOCOL_RESTART_PARAMETERS_REVISION_1.</p>

<h3 id="filtermodulenamebuffer"><code>FilterModuleNameBuffer</code></h3>

<p>A list of the names of the underlying filter modules. For each name, the buffer contains a <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>
value followed by a wide character string. Use the first <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> value in the buffer to determine the
length of the first string. Use the length of the first string to determine the start of the next
string. Continue in this manner until the number of bytes that are retrieved from the buffer equals the
number of bytes that are specified in the
<strong>FilterModuleNameBufferLength</strong> member.</p>

<h3 id="filtermodulenamebufferlength"><code>FilterModuleNameBufferLength</code></h3>

<p>The length, in bytes, of the buffer in the
<strong>FilterModuleNameBuffer</strong> member.</p>

<h3 id="restartattributes"><code>RestartAttributes</code></h3>

<p>A pointer to the first entry in a list of
<a href="ndis_restart_attributes" title="typedef struct _NDIS_RESTART_ATTRIBUTES {&#10;  PNDIS_RESTART_ATTRIBUTES Next;&#10;  NDIS_OID                 Oid;&#10;  ULONG                    DataLength;&#10;  UCHAR                    Data[1];&#10;} NDIS_RESTART_ATTRIBUTES, *PNDIS_RESTART_ATTRIBUTES;">NDIS_RESTART_ATTRIBUTES</a> structures.
Use the
<strong>Next</strong> member of the <a href="ndis_restart_attributes" title="typedef struct _NDIS_RESTART_ATTRIBUTES {&#10;  PNDIS_RESTART_ATTRIBUTES Next;&#10;  NDIS_OID                 Oid;&#10;  ULONG                    DataLength;&#10;  UCHAR                    Data[1];&#10;} NDIS_RESTART_ATTRIBUTES, *PNDIS_RESTART_ATTRIBUTES;">NDIS_RESTART_ATTRIBUTES</a> structure to get the next structure in the list.</p>

<h3 id="boundifindex"><code>BoundIfIndex</code></h3>

<p>The NDIS network interface index of the highest-level interface that is stacked on the miniport
adapter. That is, if there are virtual miniports or filter modules that are installed over the miniport
adapter, this member is the
<em>IfIndex</em> of the highest-level virtual miniport or filter module.</p>

<h3 id="boundifnetluid"><code>BoundIfNetluid</code></h3>

<p>The NDIS
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ns-ifdef-net_luid_lh">NET_LUID</a> value (that is also the network interface
name (<em>ifName</em> in
RFC 2863)) of the highest-level interface that is stacked on the miniport
adapter. That is, if there are virtual miniports or filter modules that are installed over the miniport
adapter, this member is the NET_LUID value of the highest-level virtual miniport or filter
module.</p>

<h3 id="flags"><code>Flags</code></h3>

<p>Reserved for future use.</p>

<h2 id="remarks">Remarks</h2>

<p>NDIS passes an NDIS_PROTOCOL_RESTART_PARAMETERS structure to a protocol driver when it calls the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_net_pnp_event">ProtocolNetPnPEvent</a> function to
indicate a
<strong>NetEventRestart</strong> event.</p>

<p>Each name that is specified in the buffer in the
<strong>FilterModuleNameBuffer</strong> member is not guaranteed to be NULL-terminated. The <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> value at the
start of each string contains the length, in bytes, of the string. Protocol drivers should check the
value of the
<strong>FilterModuleNameBufferLength</strong> member before they access the buffer.</p>

<h2 id="see-also">See also</h2>

<p><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></p>

<p><a href="ndis_restart_attributes" title="typedef struct _NDIS_RESTART_ATTRIBUTES {&#10;  PNDIS_RESTART_ATTRIBUTES Next;&#10;  NDIS_OID                 Oid;&#10;  ULONG                    DataLength;&#10;  UCHAR                    Data[1];&#10;} NDIS_RESTART_ATTRIBUTES, *PNDIS_RESTART_ATTRIBUTES;">NDIS_RESTART_ATTRIBUTES</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_net_pnp_event">ProtocolNetPnPEvent</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_protocol_restart_parameters">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ndis/ns-ndis-_ndis_protocol_restart_parameters.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
