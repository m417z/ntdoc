<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3DDDIARG_OPENRESOURCE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3DDDIARG_OPENRESOURCE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3DDDIARG_OPENRESOURCE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dumddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _D3DDDIARG_OPENRESOURCE {
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                      NumAllocations;
  union {
    [in]     <a href="d3dddi_openallocationinfo" title="typedef struct _D3DDDI_OPENALLOCATIONINFO {&#10;  [in] D3DKMT_HANDLE hAllocation;&#10;  [in] const VOID    *pPrivateDriverData;&#10;  [in] UINT          PrivateDriverDataSize;&#10;} D3DDDI_OPENALLOCATIONINFO;">D3DDDI_OPENALLOCATIONINFO</a>  *pOpenAllocationInfo;
             <a href="d3dddi_openallocationinfo2" title="typedef struct _D3DDDI_OPENALLOCATIONINFO2 {&#10;  [in]  D3DKMT_HANDLE                         hAllocation;&#10;  [in]  const VOID                            *pPrivateDriverData;&#10;  [in]  UINT                                  PrivateDriverDataSize;&#10;  [out] D3DKMT_ALIGN64 D3DGPU_VIRTUAL_ADDRESS GpuVirtualAddress;&#10;        D3DKMT_ALIGN64 ULONG_PTR              Reserved[6];&#10;} D3DDDI_OPENALLOCATIONINFO2;">D3DDDI_OPENALLOCATIONINFO2</a> *pOpenAllocationInfo2;
  };
  [in]     <a href="d3dddi_openallocationinfo" title="typedef struct _D3DDDI_OPENALLOCATIONINFO {&#10;  [in] D3DKMT_HANDLE hAllocation;&#10;  [in] const VOID    *pPrivateDriverData;&#10;  [in] UINT          PrivateDriverDataSize;&#10;} D3DDDI_OPENALLOCATIONINFO;">D3DDDI_OPENALLOCATIONINFO</a> *pOpenAllocationInfo;
  [in]     D3DKMT_HANDLE             hKMResource;
  [in]     VOID                      *pPrivateDriverData;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>                      PrivateDriverDataSize;
  [in/out] HANDLE                    hResource;
  [in]     <a href="d3dddi_rotation" title="typedef enum _D3DDDI_ROTATION {&#10;  D3DDDI_ROTATION_IDENTITY,&#10;  D3DDDI_ROTATION_90,&#10;  D3DDDI_ROTATION_180,&#10;  D3DDDI_ROTATION_270&#10;} D3DDDI_ROTATION;">D3DDDI_ROTATION</a>           Rotation;
  [in]     <a href="d3dddi_openresourceflags" title="typedef struct _D3DDDI_OPENRESOURCEFLAGS {&#10;  union {&#10;    struct {&#10;      UINT Fullscreen : 1;&#10;      UINT AlphaOverride : 1;&#10;      UINT Reserved : 30;&#10;    };&#10;    UINT Value;&#10;  };&#10;} D3DDDI_OPENRESOURCEFLAGS;">D3DDDI_OPENRESOURCEFLAGS</a>  Flags;
} D3DDDIARG_OPENRESOURCE;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_d3dddiarg_openresource">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3dddiarg_openresource.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dumddi-_d3dddiarg_openresource)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_d3dddiarg_openresource-structure">_D3DDDIARG_OPENRESOURCE structure</h1>

<h2 id="description">Description</h2>

<p>The D3DDDIARG_OPENRESOURCE structure contains information for opening a shared resource.</p>

<h2 id="members">Members</h2>

<h3 id="numallocations-in"><code>NumAllocations</code> [in]</h3>

<p>The number of elements in the array that is specified by <strong>pOpenAllocationInfo</strong>. <strong>NumAllocations</strong> represents the number of allocations to open.</p>

<h3 id="popenallocationinfo2"><code>pOpenAllocationInfo2</code></h3>

<p>This member is reserved and should be set to zero.</p>

<p>This member is available beginning with Windows 7.</p>

<h3 id="popenallocationinfo-in"><code>pOpenAllocationInfo</code> [in]</h3>

<p>An array of <a href="d3dddi_openallocationinfo" title="typedef struct _D3DDDI_OPENALLOCATIONINFO {&#10;  [in] D3DKMT_HANDLE hAllocation;&#10;  [in] const VOID    *pPrivateDriverData;&#10;  [in] UINT          PrivateDriverDataSize;&#10;} D3DDDI_OPENALLOCATIONINFO;">D3DDDI_OPENALLOCATIONINFO</a> structures that describe the allocations in the resource to open.</p>

<p>[in] An array of <a href="d3dddi_openallocationinfo" title="typedef struct _D3DDDI_OPENALLOCATIONINFO {&#10;  [in] D3DKMT_HANDLE hAllocation;&#10;  [in] const VOID    *pPrivateDriverData;&#10;  [in] UINT          PrivateDriverDataSize;&#10;} D3DDDI_OPENALLOCATIONINFO;">D3DDDI_OPENALLOCATIONINFO</a> structures that describe the allocations in the resource to open.</p>

<h3 id="hkmresource-in"><code>hKMResource</code> [in]</h3>

<p>A D3DKMT_HANDLE data type that represents a kernel-mode handle to the resource that is associated with the allocations.</p>

<p>This kernel-mode handle represents an existing shared resource that was previously created through a call to the user-mode display driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_createresource">CreateResource</a> function.</p>

<h3 id="pprivatedriverdata-in"><code>pPrivateDriverData</code> [in]</h3>

<p>A pointer to private data that was passed to the display miniport driver when the resource was created. This data is per resource and not per allocation like the private data in each allocation's <a href="d3dddi_openallocationinfo" title="typedef struct _D3DDDI_OPENALLOCATIONINFO {&#10;  [in] D3DKMT_HANDLE hAllocation;&#10;  [in] const VOID    *pPrivateDriverData;&#10;  [in] UINT          PrivateDriverDataSize;&#10;} D3DDDI_OPENALLOCATIONINFO;">D3DDDI_OPENALLOCATIONINFO</a> structure.</p>

<h3 id="privatedriverdatasize-in"><code>PrivateDriverDataSize</code> [in]</h3>

<p>The size, in bytes, of the private data that is pointed to by <strong>pPrivateDriverData</strong>.</p>

<h3 id="hresource-inout"><code>hResource</code> [in/out]</h3>

<p>A handle to the resource that is associated with the allocations.</p>

<p>The user-mode display driver should save this handle and use it to identify the resource anytime that the driver calls back into the Microsoft Direct3D runtime. The user-mode display driver should generate a unique handle and pass it back to the Direct3D runtime. The Direct3D runtime uses this handle in driver calls to identify the resource.</p>

<h3 id="rotation-in"><code>Rotation</code> [in]</h3>

<p>A <a href="d3dddi_rotation" title="typedef enum _D3DDDI_ROTATION {&#10;  D3DDDI_ROTATION_IDENTITY,&#10;  D3DDDI_ROTATION_90,&#10;  D3DDDI_ROTATION_180,&#10;  D3DDDI_ROTATION_270&#10;} D3DDDI_ROTATION;">D3DDDI_ROTATION</a>-typed value that identifies the orientation of the shared primary resource.</p>

<p>When the primary resource is used with a full-screen device and is rotated, the driver might be required to create interim allocations to handle the full-screen device. The <strong>Fullscreen</strong> bitfield flag is set in the <strong>Flags</strong> member to indicate that the primary resource is used with a full-screen device.</p>

<h3 id="flags-in"><code>Flags</code> [in]</h3>

<p>A <a href="d3dddi_openresourceflags" title="typedef struct _D3DDDI_OPENRESOURCEFLAGS {&#10;  union {&#10;    struct {&#10;      UINT Fullscreen : 1;&#10;      UINT AlphaOverride : 1;&#10;      UINT Reserved : 30;&#10;    };&#10;    UINT Value;&#10;  };&#10;} D3DDDI_OPENRESOURCEFLAGS;">D3DDDI_OPENRESOURCEFLAGS</a> structure that identifies the type of resource to open.</p>

<h2 id="remarks">Remarks</h2>

<p>The <strong>Primary</strong> and <strong>SharedResource</strong> bit-field flags are set in the <strong>Flags</strong> member of the <a href="d3dddiarg_createresource" title="typedef struct _D3DDDIARG_CREATERESOURCE {&#10;  [in]     D3DDDIFORMAT                   Format;&#10;  [in]     D3DDDI_POOL                    Pool;&#10;  [in]     D3DDDIMULTISAMPLE_TYPE         MultisampleType;&#10;  [in]     UINT                           MultisampleQuality;&#10;  [in]     const D3DDDI_SURFACEINFO       *pSurfList;&#10;  [in]     UINT                           SurfCount;&#10;  [in]     UINT                           MipLevels;&#10;  [in]     UINT                           Fvf;&#10;  [in]     D3DDDI_VIDEO_PRESENT_SOURCE_ID VidPnSourceId;&#10;  [in]     D3DDDI_RATIONAL                RefreshRate;&#10;  [in/out] HANDLE                         hResource;&#10;  [in]     D3DDDI_RESOURCEFLAGS           Flags;&#10;  [in]     D3DDDI_ROTATION                Rotation;&#10;} D3DDDIARG_CREATERESOURCE;">D3DDDIARG_CREATERESOURCE</a> structure in a call to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_createresource">CreateResource</a> function to create a shared primary resource.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_createresource">CreateResource</a></p>

<p><a href="d3dddiarg_createresource" title="typedef struct _D3DDDIARG_CREATERESOURCE {&#10;  [in]     D3DDDIFORMAT                   Format;&#10;  [in]     D3DDDI_POOL                    Pool;&#10;  [in]     D3DDDIMULTISAMPLE_TYPE         MultisampleType;&#10;  [in]     UINT                           MultisampleQuality;&#10;  [in]     const D3DDDI_SURFACEINFO       *pSurfList;&#10;  [in]     UINT                           SurfCount;&#10;  [in]     UINT                           MipLevels;&#10;  [in]     UINT                           Fvf;&#10;  [in]     D3DDDI_VIDEO_PRESENT_SOURCE_ID VidPnSourceId;&#10;  [in]     D3DDDI_RATIONAL                RefreshRate;&#10;  [in/out] HANDLE                         hResource;&#10;  [in]     D3DDDI_RESOURCEFLAGS           Flags;&#10;  [in]     D3DDDI_ROTATION                Rotation;&#10;} D3DDDIARG_CREATERESOURCE;">D3DDDIARG_CREATERESOURCE</a></p>

<p><a href="d3dddi_openallocationinfo" title="typedef struct _D3DDDI_OPENALLOCATIONINFO {&#10;  [in] D3DKMT_HANDLE hAllocation;&#10;  [in] const VOID    *pPrivateDriverData;&#10;  [in] UINT          PrivateDriverDataSize;&#10;} D3DDDI_OPENALLOCATIONINFO;">D3DDDI_OPENALLOCATIONINFO</a></p>

<p><a href="d3dddi_openresourceflags" title="typedef struct _D3DDDI_OPENRESOURCEFLAGS {&#10;  union {&#10;    struct {&#10;      UINT Fullscreen : 1;&#10;      UINT AlphaOverride : 1;&#10;      UINT Reserved : 30;&#10;    };&#10;    UINT Value;&#10;  };&#10;} D3DDDI_OPENRESOURCEFLAGS;">D3DDDI_OPENRESOURCEFLAGS</a></p>

<p><a href="d3dddi_rotation" title="typedef enum _D3DDDI_ROTATION {&#10;  D3DDDI_ROTATION_IDENTITY,&#10;  D3DDDI_ROTATION_90,&#10;  D3DDDI_ROTATION_180,&#10;  D3DDDI_ROTATION_270&#10;} D3DDDI_ROTATION;">D3DDDI_ROTATION</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_openresource">OpenResource</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_d3dddiarg_openresource">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dumddi/ns-d3dumddi-_d3dddiarg_openresource.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
