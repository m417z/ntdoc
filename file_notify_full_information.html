<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="FILE_NOTIFY_FULL_INFORMATION - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>FILE_NOTIFY_FULL_INFORMATION - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            FILE_NOTIFY_FULL_INFORMATION - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">#ifndef _NTIOAPI_H
#if !defined(NTDDI_WIN10_NI) || (NTDDI_VERSION &lt; NTDDI_WIN10_NI)

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _FILE_NOTIFY_FULL_INFORMATION
{
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NextEntryOffset;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Action;
    LARGE_INTEGER CreationTime;
    LARGE_INTEGER LastModificationTime;
    LARGE_INTEGER LastChangeTime;
    LARGE_INTEGER LastAccessTime;
    LARGE_INTEGER AllocatedLength;
    LARGE_INTEGER FileSize;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> FileAttributes;
    union
    {
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ReparsePointTag;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> EaSize;
    };
    <a href="file_internal_information" title="typedef struct _FILE_INTERNAL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULARGE_INTEGER IndexNumber;&#10;        struct&#10;        {&#10;            ULONGLONG MftRecordIndex : 48; // rev&#10;            ULONGLONG SequenceNumber : 16; // rev&#10;        };&#10;    };&#10;} FILE_INTERNAL_INFORMATION, *PFILE_INTERNAL_INFORMATION;">FILE_INTERNAL_INFORMATION</a> FileId;
    <a href="file_internal_information" title="typedef struct _FILE_INTERNAL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULARGE_INTEGER IndexNumber;&#10;        struct&#10;        {&#10;            ULONGLONG MftRecordIndex : 48; // rev&#10;            ULONGLONG SequenceNumber : 16; // rev&#10;        };&#10;    };&#10;} FILE_INTERNAL_INFORMATION, *PFILE_INTERNAL_INFORMATION;">FILE_INTERNAL_INFORMATION</a> ParentFileId;
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> FileNameLength;
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> FileNameFlags;
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> Reserved;
    WCHAR FileName[1];
} FILE_NOTIFY_FULL_INFORMATION, *PFILE_NOTIFY_FULL_INFORMATION;
</span><span class="ntdoc-code-footer">
#endif
#endif
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://github.com/winsiderss/systeminformer/blob/66e9024965df1192a53aee9b345a8df8f08d8beb/phnt/include/ntioapi.h#L2526">View code on GitHub</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntifs.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _FILE_NOTIFY_FULL_INFORMATION {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         NextEntryOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         Action;
  LARGE_INTEGER CreationTime;
  LARGE_INTEGER LastModificationTime;
  LARGE_INTEGER LastChangeTime;
  LARGE_INTEGER LastAccessTime;
  LARGE_INTEGER AllocatedLength;
  LARGE_INTEGER FileSize;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         FileAttributes;
  union {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ReparsePointTag;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> EaSize;
  } DUMMYUNIONNAME;
  LARGE_INTEGER FileId;
  LARGE_INTEGER ParentFileId;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>        FileNameLength;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>         FileNameFlags;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>         Reserved;
  WCHAR         FileName[1];
} FILE_NOTIFY_FULL_INFORMATION, *PFILE_NOTIFY_FULL_INFORMATION;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/ns-ntifs-file_notify_full_information">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/file_notify_full_information.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntifs-file_notify_full_information)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>A <strong>FILE_NOTIFY_FULL_INFORMATION</strong> structure is returned in response to an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ifs/irp-mj-directory-control"><strong>IRP_MJ_DIRECTORY_CONTROL</strong></a> request with an <strong>IRP_MN_NOTIFY_CHANGE_DIRECTORY</strong> minor function code when <a rel="noopener" target="_blank" href="directory_notify_information_class"><strong>DIRECTORY_NOTIFY_INFORMATION_CLASS</strong></a> is DirectoryNotifyFullInformation.</p>

<h2 id="members">Members</h2>

<h3 id="nextentryoffset"><code>NextEntryOffset</code></h3>

<p>The number of bytes that must be skipped to get to the next record. A value of zero indicates that this is the last record.</p>

<h3 id="action"><code>Action</code></h3>

<p>The type of change that has occurred. This member can be one of the following values.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td><a href="file_action_added" title="#define FILE_ACTION_ADDED 0x00000001 // winnt">FILE_ACTION_ADDED</a> (0x00000001)</td>
  <td>A file was added to the directory.</td>
</tr>
<tr>
  <td><a href="file_action_removed" title="#define FILE_ACTION_REMOVED 0x00000002 // winnt">FILE_ACTION_REMOVED</a> (0x00000002)</td>
  <td>A file was removed from the directory.</td>
</tr>
<tr>
  <td><a href="file_action_modified" title="#define FILE_ACTION_MODIFIED 0x00000003 // winnt">FILE_ACTION_MODIFIED</a> (0x00000003)</td>
  <td>The directory was modified. This can be a change in the time stamp or attributes.</td>
</tr>
<tr>
  <td><a href="file_action_renamed_old_name" title="#define FILE_ACTION_RENAMED_OLD_NAME 0x00000004 // winnt">FILE_ACTION_RENAMED_OLD_NAME</a> (0x00000004)</td>
  <td>The directory was renamed and this is the old name.</td>
</tr>
<tr>
  <td><a href="file_action_renamed_new_name" title="#define FILE_ACTION_RENAMED_NEW_NAME 0x00000005 // winnt">FILE_ACTION_RENAMED_NEW_NAME</a> (0x00000005)</td>
  <td>The directory was renamed and this is the new name.</td>
</tr>
</tbody>
</table>

<h3 id="creationtime"><code>CreationTime</code></h3>

<p>The date and time when the directory or file was created and added to the file system.</p>

<h3 id="lastmodificationtime"><code>LastModificationTime</code></h3>

<p>The date and time that the content of the directory or file was last modified in the file system.</p>

<h3 id="lastchangetime"><code>LastChangeTime</code></h3>

<p>The date and time that the metadata or content of the directory or file was last changed in the file system.</p>

<h3 id="lastaccesstime"><code>LastAccessTime</code></h3>

<p>The date and time the directory or file was last accessed in the file system.</p>

<h3 id="allocatedlength"><code>AllocatedLength</code></h3>

<p>The allocated size of the file, in bytes.</p>

<h3 id="filesize"><code>FileSize</code></h3>

<p>The new size of the directory or file in bytes, or the old size if the size is unchanged.</p>

<h3 id="fileattributes"><code>FileAttributes</code></h3>

<p>File attributes, which can be any valid combination of the following:</p>

<ul>
<li>FILE_ATTRIBUTE_READONLY</li>
<li>FILE_ATTRIBUTE_HIDDEN</li>
<li>FILE_ATTRIBUTE_SYSTEM</li>
<li>FILE_ATTRIBUTE_DIRECTORY</li>
<li>FILE_ATTRIBUTE_ARCHIVE</li>
<li>FILE_ATTRIBUTE_NORMAL</li>
<li>FILE_ATTRIBUTE_TEMPORARY</li>
<li>FILE_ATTRIBUTE_COMPRESSED</li>
</ul>

<h3 id="dummyunionname"><code>DUMMYUNIONNAME</code></h3>

<h3 id="dummyunionnamereparsepointtag"><code>DUMMYUNIONNAME.ReparsePointTag</code></h3>

<p>The identifier tag of a reparse point for the directory or file.</p>

<h3 id="dummyunionnameeasize"><code>DUMMYUNIONNAME.EaSize</code></h3>

<p>Combined length of the extended attributes (EA) for the file, in bytes.</p>

<h3 id="fileid"><code>FileId</code></h3>

<p>The identifier of the directory or file. This number is generated and assigned to the file by the file system.</p>

<h3 id="parentfileid"><code>ParentFileId</code></h3>

<p>The identifier of the parent directory of the file.</p>

<h3 id="filenamelength"><code>FileNameLength</code></h3>

<p>The size of the file name portion of the record, in bytes. This value does not include a terminating null character.</p>

<h3 id="filenameflags"><code>FileNameFlags</code></h3>

<p>Flags specifying what type of file name is being returned, if known. If neither of the following flags is set, the type of file name is not known. If both of the following flags are set, the file name acts as both the long name and the short name (both the NTFS name and the DOS name) of a long/short name pair.</p>

<table>
<thead>
<tr>
  <th>Flag</th>
  <th>Value</th>
</tr>
</thead>
<tbody>
<tr>
  <td>FILE_NAME_NTFS (0x01)</td>
  <td>The file name is the long name (NTFS name) of a long/short name pair.</td>
</tr>
<tr>
  <td>FILE_NAME_DOS (0x02)</td>
  <td>The file name is the short name (DOS name) of a long/short name pair.</td>
</tr>
</tbody>
</table>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Reserved for system use.</p>

<h3 id="filename"><code>FileName</code></h3>

<p>A variable-length field that contains the file name relative to the directory handle. The file name is in the Unicode character format and is not null-terminated.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="directory_notify_information_class"><strong>DIRECTORY_NOTIFY_INFORMATION_CLASS</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ifs/irp-mj-directory-control"><strong>IRP_MJ_DIRECTORY_CONTROL</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/mt812581(v=vs.85)"><strong>ZwNotifyChangeDirectoryFileEx</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/ns-ntifs-file_notify_full_information">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntifs/ns-ntifs-file_notify_full_information.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
