<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DOT11_CIPHER_KEY_MAPPING_KEY_VALUE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DOT11_CIPHER_KEY_MAPPING_KEY_VALUE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DOT11_CIPHER_KEY_MAPPING_KEY_VALUE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// windot11.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct DOT11_CIPHER_KEY_MAPPING_KEY_VALUE {
  <a href="dot11_mac_address" title="typedef struct _DOT11_MAC_ADDRESS {&#10;  UCHAR ucDot11MacAddress[6];&#10;} DOT11_MAC_ADDRESS, *PDOT11_MAC_ADDRESS;">DOT11_MAC_ADDRESS</a>      PeerMacAddr;
  <a href="dot11_cipher_algorithm" title="typedef enum _DOT11_CIPHER_ALGORITHM {&#10;  DOT11_CIPHER_ALGO_NONE = 0x00,&#10;  DOT11_CIPHER_ALGO_WEP40 = 0x01,&#10;  DOT11_CIPHER_ALGO_TKIP = 0x02,&#10;  DOT11_CIPHER_ALGO_CCMP = 0x04,&#10;  DOT11_CIPHER_ALGO_WEP104 = 0x05,&#10;  DOT11_CIPHER_ALGO_BIP = 0x06,&#10;  DOT11_CIPHER_ALGO_GCMP = 0x08,&#10;  DOT11_CIPHER_ALGO_GCMP_256 = 0x09,&#10;  DOT11_CIPHER_ALGO_CCMP_256 = 0x0a,&#10;  DOT11_CIPHER_ALGO_BIP_GMAC_128 = 0x0b,&#10;  DOT11_CIPHER_ALGO_BIP_GMAC_256 = 0x0c,&#10;  DOT11_CIPHER_ALGO_BIP_CMAC_256 = 0x0d,&#10;  DOT11_CIPHER_ALGO_WPA_USE_GROUP = 0x100,&#10;  DOT11_CIPHER_ALGO_RSN_USE_GROUP = 0x100,&#10;  DOT11_CIPHER_ALGO_WEP = 0x101,&#10;  DOT11_CIPHER_ALGO_IHV_START = 0x80000000,&#10;  DOT11_CIPHER_ALGO_IHV_END = 0xffffffff&#10;} DOT11_CIPHER_ALGORITHM, *PDOT11_CIPHER_ALGORITHM;">DOT11_CIPHER_ALGORITHM</a> AlgorithmId;
  <a href="dot11_direction" title="typedef enum DOT11_DIRECTION {&#10;  DOT11_DIR_INBOUND   = 1,&#10;  DOT11_DIR_OUTBOUND  = 2,&#10;  DOT11_DIR_BOTH      = 3&#10;} DOT11_DIRECTION, *PDOT11_DIRECTION;">DOT11_DIRECTION</a>        Direction;
  BOOLEAN                bDelete;
  BOOLEAN                bStatic;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                 usKeyLength;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                  ucKey[1];
} DOT11_CIPHER_KEY_MAPPING_KEY_VALUE, *PDOT11_CIPHER_KEY_MAPPING_KEY_VALUE;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/windot11/ns-windot11-dot11_cipher_key_mapping_key_value">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dot11_cipher_key_mapping_key_value.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-windot11-dot11_cipher_key_mapping_key_value)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dot11_cipher_key_mapping_key_value-structure">DOT11_CIPHER_KEY_MAPPING_KEY_VALUE structure</h1>

<h2 id="description">Description</h2>

<blockquote>
  <p>[!Important]
  <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/netcx/wifi-wdf-class-extension-wificx">WiFiCx</a> is the new Wi-Fi driver model released in Windows 11. We recommend that you use WiFiCx to take advantage of the latest features. The WDI driver model is now in maintenance mode and will only receive high priority fixes.</p>
</blockquote>

<p>The DOT11_CIPHER_KEY_MAPPING_KEY_VALUE structure defines a key-mapping cipher key that will be added
to or deleted from the key tables on the 802.11 station. For more information about this cipher key type,
see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/802-11-cipher-key-types">802.11 Cipher Key Types</a>.</p>

<h2 id="members">Members</h2>

<h3 id="peermacaddr"><code>PeerMacAddr</code></h3>

<p>MAC address of the peer. The peer is either an access point (AP) (for infrastructure BSS networks)
or peer station (for independent BSS networks) with which the 802.11 station is associated.</p>

<p>This member is used to uniquely identify a key entry. For the standard 802.11 cipher algorithms, the
operating system will identify the peer through peer's MAC address. For proprietary cipher algorithms
developed by an independent hardware vendor (IHV), the IHV can use any method to identify a key
entry.</p>

<p>When the NIC is in the Extensible Access Point (ExtAP) OP mode,
<strong>PeerMacAddr</strong> must have a unique value.</p>

<h3 id="algorithmid"><code>AlgorithmId</code></h3>

<p>The value of the cipher algorithm that uses this key. For more information about enumerator values
for cipher algorithms, see
<a href="dot11_cipher_algorithm" title="typedef enum _DOT11_CIPHER_ALGORITHM {&#10;  DOT11_CIPHER_ALGO_NONE = 0x00,&#10;  DOT11_CIPHER_ALGO_WEP40 = 0x01,&#10;  DOT11_CIPHER_ALGO_TKIP = 0x02,&#10;  DOT11_CIPHER_ALGO_CCMP = 0x04,&#10;  DOT11_CIPHER_ALGO_WEP104 = 0x05,&#10;  DOT11_CIPHER_ALGO_BIP = 0x06,&#10;  DOT11_CIPHER_ALGO_GCMP = 0x08,&#10;  DOT11_CIPHER_ALGO_GCMP_256 = 0x09,&#10;  DOT11_CIPHER_ALGO_CCMP_256 = 0x0a,&#10;  DOT11_CIPHER_ALGO_BIP_GMAC_128 = 0x0b,&#10;  DOT11_CIPHER_ALGO_BIP_GMAC_256 = 0x0c,&#10;  DOT11_CIPHER_ALGO_BIP_CMAC_256 = 0x0d,&#10;  DOT11_CIPHER_ALGO_WPA_USE_GROUP = 0x100,&#10;  DOT11_CIPHER_ALGO_RSN_USE_GROUP = 0x100,&#10;  DOT11_CIPHER_ALGO_WEP = 0x101,&#10;  DOT11_CIPHER_ALGO_IHV_START = 0x80000000,&#10;  DOT11_CIPHER_ALGO_IHV_END = 0xffffffff&#10;} DOT11_CIPHER_ALGORITHM, *PDOT11_CIPHER_ALGORITHM;">DOT11_CIPHER_ALGORITHM</a>.</p>

<h3 id="direction"><code>Direction</code></h3>

<p>This member specifies whether the 802.11 station uses the key for receive or transmit packets. The
data type for this member is the
<a href="dot11_direction" title="typedef enum DOT11_DIRECTION {&#10;  DOT11_DIR_INBOUND   = 1,&#10;  DOT11_DIR_OUTBOUND  = 2,&#10;  DOT11_DIR_BOTH      = 3&#10;} DOT11_DIRECTION, *PDOT11_DIRECTION;">DOT11_DIRECTION</a> enumeration.</p>

<h3 id="bdelete"><code>bDelete</code></h3>

<p>If set to <strong>TRUE</strong>, the miniport driver must delete the key referenced by
<strong>PeerMacAddr</strong> and
<strong>Direction</strong> . If set to <strong>FALSE</strong>, the miniport driver must add or update the key referenced by
<strong>PeerMacAddr</strong> and
<strong>Direction</strong> .</p>

<h3 id="bstatic"><code>bStatic</code></h3>

<p>A Boolean value that specifies whether the miniport driver should delete the default key following
a connection or roaming operation.</p>

<p>If set to <strong>FALSE</strong>, the miniport driver must delete the default key referenced by
<strong>uKeyIndex</strong> whenever:</p>

<ul>
<li>The 802.11 station disconnects from the BSS network.</li>
<li>The peer station disconnects from the BSS network.</li>
<li>The 802.11 station reconnects to the same BSS network.</li>
</ul>

<p>If set to <strong>TRUE</strong>, the default key referenced by
<strong>uKeyIndex</strong> must not be deleted unless it is:</p>

<ul>
<li>Explicitly deleted through a set request of
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-cipher-key-mapping-key">OID_DOT11_CIPHER_KEY_MAPPING_KEY</a>.</li>
<li>Implicitly deleted through a method request of
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-reset-request">OID_DOT11_RESET_REQUEST</a>.</li>
</ul>

<h3 id="uskeylength"><code>usKeyLength</code></h3>

<p>The length, in bytes, of the key material in the
<strong>ucKey</strong> array.</p>

<h3 id="uckey"><code>ucKey</code></h3>

<p>The key material.</p>

<p>If
<strong>AlgorithmId</strong> is set to
<strong>DOT11_CIPHER_ALGO_TKIP</strong>, the
<strong>ucKey</strong> array defines the key material through the
<a href="dot11_key_algo_tkip_mic" title="typedef struct DOT11_KEY_ALGO_TKIP_MIC {&#10;  UCHAR ucIV48Counter[6];&#10;  ULONG ulTKIPKeyLength;&#10;  ULONG ulMICKeyLength;&#10;  UCHAR ucTKIPMICKeys[1];&#10;} DOT11_KEY_ALGO_TKIP_MIC, *PDOT11_KEY_ALGO_TKIP_MIC;">DOT11_KEY_ALGO_TKIP_MIC</a> structure.</p>

<p>If
<strong>AlgorithmId</strong> is set to
<strong>DOT11_CIPHER_ALGO_CCMP</strong>, the
<strong>ucKey</strong> array defines the key material through the
<a href="dot11_key_algo_ccmp" title="typedef struct DOT11_KEY_ALGO_CCMP {&#10;  UCHAR ucIV48Counter[6];&#10;  ULONG ulCCMPKeyLength;&#10;  UCHAR ucCCMPKey[1];&#10;} DOT11_KEY_ALGO_CCMP, *PDOT11_KEY_ALGO_CCMP;">DOT11_KEY_ALGO_CCMP</a> structure.</p>

<h2 id="syntax">Syntax</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">DOT11_CIPHER_KEY_MAPPING_KEY_VALUE</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n"><a href="dot11_mac_address" title="typedef struct _DOT11_MAC_ADDRESS {&#10;  UCHAR ucDot11MacAddress[6];&#10;} DOT11_MAC_ADDRESS, *PDOT11_MAC_ADDRESS;">DOT11_MAC_ADDRESS</a></span><span class="w">      </span><span class="n">PeerMacAddr</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="dot11_cipher_algorithm" title="typedef enum _DOT11_CIPHER_ALGORITHM {&#10;  DOT11_CIPHER_ALGO_NONE = 0x00,&#10;  DOT11_CIPHER_ALGO_WEP40 = 0x01,&#10;  DOT11_CIPHER_ALGO_TKIP = 0x02,&#10;  DOT11_CIPHER_ALGO_CCMP = 0x04,&#10;  DOT11_CIPHER_ALGO_WEP104 = 0x05,&#10;  DOT11_CIPHER_ALGO_BIP = 0x06,&#10;  DOT11_CIPHER_ALGO_GCMP = 0x08,&#10;  DOT11_CIPHER_ALGO_GCMP_256 = 0x09,&#10;  DOT11_CIPHER_ALGO_CCMP_256 = 0x0a,&#10;  DOT11_CIPHER_ALGO_BIP_GMAC_128 = 0x0b,&#10;  DOT11_CIPHER_ALGO_BIP_GMAC_256 = 0x0c,&#10;  DOT11_CIPHER_ALGO_BIP_CMAC_256 = 0x0d,&#10;  DOT11_CIPHER_ALGO_WPA_USE_GROUP = 0x100,&#10;  DOT11_CIPHER_ALGO_RSN_USE_GROUP = 0x100,&#10;  DOT11_CIPHER_ALGO_WEP = 0x101,&#10;  DOT11_CIPHER_ALGO_IHV_START = 0x80000000,&#10;  DOT11_CIPHER_ALGO_IHV_END = 0xffffffff&#10;} DOT11_CIPHER_ALGORITHM, *PDOT11_CIPHER_ALGORITHM;">DOT11_CIPHER_ALGORITHM</a></span><span class="w"> </span><span class="n">AlgorithmId</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="dot11_direction" title="typedef enum DOT11_DIRECTION {&#10;  DOT11_DIR_INBOUND   = 1,&#10;  DOT11_DIR_OUTBOUND  = 2,&#10;  DOT11_DIR_BOTH      = 3&#10;} DOT11_DIRECTION, *PDOT11_DIRECTION;">DOT11_DIRECTION</a></span><span class="w">        </span><span class="n">Direction</span><span class="p">;</span>
<span class="w">  </span><span class="n">BOOLEAN</span><span class="w">                </span><span class="n">bDelete</span><span class="p">;</span>
<span class="w">  </span><span class="n">BOOLEAN</span><span class="w">                </span><span class="n">bStatic</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ushort" title="typedef unsigned short USHORT;">USHORT</a></span><span class="w">                 </span><span class="n">usKeyLength</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></span><span class="w">                  </span><span class="n">ucKey</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">DOT11_CIPHER_KEY_MAPPING_KEY_VALUE</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">PDOT11_CIPHER_KEY_MAPPING_KEY_VALUE</span><span class="p">;</span>
</code></pre>
</div>

<h2 id="remarks">Remarks</h2>

<p>The Native 802.11 miniport driver uniquely identifies key-mapping keys through the
<strong>PeerMacAddr</strong> and
<strong>Direction</strong> members. When the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-cipher-key-mapping-key">OID_DOT11_CIPHER_KEY_MAPPING_KEY</a> is set, the miniport driver can modify or delete an existing key
only if the values of the
<strong>PeerMacAddr</strong> and
<strong>Direction</strong> members from the set request match the members of the existing key.</p>

<p>If the
<strong>bDelete</strong> member is <strong>TRUE</strong>, the following members are not valid and must be ignored:</p>

<ul>
<li><strong>bStatic</strong></li>
<li><strong>usKeyLength</strong></li>
<li><strong>ucKey</strong></li>
</ul>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-cipher-key-mapping-key">OID_DOT11_CIPHER_KEY_MAPPING_KEY</a></p>

<p><a href="dot11_key_algo_tkip_mic" title="typedef struct DOT11_KEY_ALGO_TKIP_MIC {&#10;  UCHAR ucIV48Counter[6];&#10;  ULONG ulTKIPKeyLength;&#10;  ULONG ulMICKeyLength;&#10;  UCHAR ucTKIPMICKeys[1];&#10;} DOT11_KEY_ALGO_TKIP_MIC, *PDOT11_KEY_ALGO_TKIP_MIC;">DOT11_KEY_ALGO_TKIP_MIC</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-reset-request">OID_DOT11_RESET_REQUEST</a></p>

<p><a href="dot11_cipher_algorithm" title="typedef enum _DOT11_CIPHER_ALGORITHM {&#10;  DOT11_CIPHER_ALGO_NONE = 0x00,&#10;  DOT11_CIPHER_ALGO_WEP40 = 0x01,&#10;  DOT11_CIPHER_ALGO_TKIP = 0x02,&#10;  DOT11_CIPHER_ALGO_CCMP = 0x04,&#10;  DOT11_CIPHER_ALGO_WEP104 = 0x05,&#10;  DOT11_CIPHER_ALGO_BIP = 0x06,&#10;  DOT11_CIPHER_ALGO_GCMP = 0x08,&#10;  DOT11_CIPHER_ALGO_GCMP_256 = 0x09,&#10;  DOT11_CIPHER_ALGO_CCMP_256 = 0x0a,&#10;  DOT11_CIPHER_ALGO_BIP_GMAC_128 = 0x0b,&#10;  DOT11_CIPHER_ALGO_BIP_GMAC_256 = 0x0c,&#10;  DOT11_CIPHER_ALGO_BIP_CMAC_256 = 0x0d,&#10;  DOT11_CIPHER_ALGO_WPA_USE_GROUP = 0x100,&#10;  DOT11_CIPHER_ALGO_RSN_USE_GROUP = 0x100,&#10;  DOT11_CIPHER_ALGO_WEP = 0x101,&#10;  DOT11_CIPHER_ALGO_IHV_START = 0x80000000,&#10;  DOT11_CIPHER_ALGO_IHV_END = 0xffffffff&#10;} DOT11_CIPHER_ALGORITHM, *PDOT11_CIPHER_ALGORITHM;">DOT11_CIPHER_ALGORITHM</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-desired-bss-type">OID_DOT11_DESIRED_BSS_TYPE</a></p>

<p><a href="dot11_key_algo_ccmp" title="typedef struct DOT11_KEY_ALGO_CCMP {&#10;  UCHAR ucIV48Counter[6];&#10;  ULONG ulCCMPKeyLength;&#10;  UCHAR ucCCMPKey[1];&#10;} DOT11_KEY_ALGO_CCMP, *PDOT11_KEY_ALGO_CCMP;">DOT11_KEY_ALGO_CCMP</a></p>

<p><a href="dot11_direction" title="typedef enum DOT11_DIRECTION {&#10;  DOT11_DIR_INBOUND   = 1,&#10;  DOT11_DIR_OUTBOUND  = 2,&#10;  DOT11_DIR_BOTH      = 3&#10;} DOT11_DIRECTION, *PDOT11_DIRECTION;">DOT11_DIRECTION</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/windot11/ns-windot11-dot11_cipher_key_mapping_key_value">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/windot11/ns-windot11-dot11_cipher_key_mapping_key_value.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
