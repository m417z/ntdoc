<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PEP_PPM_QUERY_IDLE_STATES - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PEP_PPM_QUERY_IDLE_STATES - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PEP_PPM_QUERY_IDLE_STATES - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pep_x.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PEP_PPM_QUERY_IDLE_STATES {
  [in]  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                    Count;
  [out] <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                    MaximumCoordinatedProcessors;
        <a href="pep_processor_idle_state" title="typedef struct _PEP_PROCESSOR_IDLE_STATE {&#10;  union {&#10;    ULONG Ulong;&#10;    struct {&#10;      ULONG Interruptible : 1;&#10;      ULONG CacheCoherent : 1;&#10;      ULONG ThreadContextRetained : 1;&#10;      ULONG CStateType : 4;&#10;      ULONG Reserved : 25;&#10;    };&#10;  };&#10;} PEP_PROCESSOR_IDLE_STATE, *PPEP_PROCESSOR_IDLE_STATE;">PEP_PROCESSOR_IDLE_STATE</a> IdleStates[ANYSIZE_ARRAY];
} PEP_PPM_QUERY_IDLE_STATES, *PPEP_PPM_QUERY_IDLE_STATES;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_ppm_query_idle_states">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pep_ppm_query_idle_states.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-pep_x-_pep_ppm_query_idle_states)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_pep_ppm_query_idle_states-structure">_PEP_PPM_QUERY_IDLE_STATES structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>PEP_PPM_QUERY_IDLE_STATES</strong> structure describes the idle states of a particular processor.</p>

<h2 id="members">Members</h2>

<h3 id="count-in"><code>Count</code> [in]</h3>

<p>The number of elements in the <strong>IdleStates</strong> array. This member is set to the <strong>IdleStateCount</strong> value that the PEP previously supplied for this processor in response to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_ppm_query_capabilities">PEP_NOTIFY_PPM_QUERY_CAPABILITIES</a> notification.</p>

<h3 id="maximumcoordinatedprocessors-out"><code>MaximumCoordinatedProcessors</code> [out]</h3>

<p>The maximum number of secondary processors that are subordinate to this processor for any transitions to idle states. A primary processor can enter the selected idle state only after the secondary processors have entered their corresponding idle states. The PEP must set the <strong>MaximumCoordinatedProcessors</strong> member to a number that is less than the total number of processors in the hardware platform.</p>

<h3 id="idlestates-in"><code>IdleStates</code> [in]</h3>

<p>The first element in an array of <a href="pep_processor_idle_state" title="typedef struct _PEP_PROCESSOR_IDLE_STATE {&#10;  union {&#10;    ULONG Ulong;&#10;    struct {&#10;      ULONG Interruptible : 1;&#10;      ULONG CacheCoherent : 1;&#10;      ULONG ThreadContextRetained : 1;&#10;      ULONG CStateType : 4;&#10;      ULONG Reserved : 25;&#10;    };&#10;  };&#10;} PEP_PROCESSOR_IDLE_STATE, *PPEP_PROCESSOR_IDLE_STATE;">PEP_PROCESSOR_IDLE_STATE</a> structures. Each array element describes one of the idle states of this processor. If the array contains more than one element, the additional elements immediately follow the end of the <strong>PEP_PPM_QUERY_IDLE_STATES</strong> structure. The number of array elements is specified by the <strong>Count</strong> member. The buffer that PoFx allocates to hold this structure is guaranteed to be large enough to contain the <strong>PEP_PPM_QUERY_IDLE_STATES</strong> structure plus any array elements that follow this structure. Each idle state is identified by its array index. If the array contains N elements, idle state indexes range from 0 to Nâ€“1.</p>

<h2 id="remarks">Remarks</h2>

<p>This structure is used by the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_ppm_query_idle_states">PEP_NOTIFY_PPM_QUERY_IDLE_STATES</a> notification. The <strong>Count</strong> member of the structure contains an input value that PoFx supplies when this notification is sent. The other two members contain output values that the PEP writes to the structure in response to the notification.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_ppm_query_capabilities">PEP_NOTIFY_PPM_QUERY_CAPABILITIES</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_ppm_query_idle_states">PEP_NOTIFY_PPM_QUERY_IDLE_STATES</a></p>

<p><a href="pep_processor_idle_state" title="typedef struct _PEP_PROCESSOR_IDLE_STATE {&#10;  union {&#10;    ULONG Ulong;&#10;    struct {&#10;      ULONG Interruptible : 1;&#10;      ULONG CacheCoherent : 1;&#10;      ULONG ThreadContextRetained : 1;&#10;      ULONG CStateType : 4;&#10;      ULONG Reserved : 25;&#10;    };&#10;  };&#10;} PEP_PROCESSOR_IDLE_STATE, *PPEP_PROCESSOR_IDLE_STATE;">PEP_PROCESSOR_IDLE_STATE</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_ppm_query_idle_states">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pep_x/ns-pep_x-_pep_ppm_query_idle_states.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
