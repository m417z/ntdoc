<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DOT11_SCAN_REQUEST_V2 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DOT11_SCAN_REQUEST_V2 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DOT11_SCAN_REQUEST_V2 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// windot11.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DOT11_SCAN_REQUEST_V2 {
  <a href="dot11_bss_type" title="typedef enum _DOT11_BSS_TYPE {&#10;  dot11_BSS_type_infrastructure  = 1,&#10;  dot11_BSS_type_independent     = 2,&#10;  dot11_BSS_type_any             = 3&#10;} DOT11_BSS_TYPE, *PDOT11_BSS_TYPE;">DOT11_BSS_TYPE</a>    dot11BSSType;
  <a href="dot11_mac_address" title="typedef struct _DOT11_MAC_ADDRESS {&#10;  UCHAR ucDot11MacAddress[6];&#10;} DOT11_MAC_ADDRESS, *PDOT11_MAC_ADDRESS;">DOT11_MAC_ADDRESS</a> dot11BSSID;
  DOT11_SCAN_TYPE   dot11ScanType;
  BOOLEAN           bRestrictedScan;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             udot11SSIDsOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             uNumOfdot11SSIDs;
  BOOLEAN           bUseRequestIE;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             uRequestIDsOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             uNumOfRequestIDs;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             uPhyTypeInfosOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             uNumOfPhyTypeInfos;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             uIEsOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             uIEsLength;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             ucBuffer[1];
} DOT11_SCAN_REQUEST_V2, *PDOT11_SCAN_REQUEST_V2;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/windot11/ns-windot11-_dot11_scan_request_v2">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dot11_scan_request_v2.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-windot11-_dot11_scan_request_v2)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_dot11_scan_request_v2-structure">_DOT11_SCAN_REQUEST_V2 structure</h1>

<h2 id="description">Description</h2>

<p><strong>Important</strong> The <a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/wireless/ff560689(v=vs.85)">Native 802.11 Wireless LAN</a> interface is deprecated in Windows 10 and later. Please use the WLAN Device Driver Interface (WDI) instead. For more information about WDI, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/wifi-universal-driver-model">WLAN Universal Windows driver model</a>.</p>

<p>The DOT11_SCAN_REQUEST_V2 structure defines the parameters for the explicit scan operation performed by the 802.11 station. The station performs the explicit scan operation following an OID set request of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-scan-request">OID_DOT11_SCAN_REQUEST</a>.</p>

<h2 id="members">Members</h2>

<h3 id="dot11bsstype"><code>dot11BSSType</code></h3>

<p>The type of basic service set (BSS) networks for which the 802.11 station scans. The data type for this member is the <a href="dot11_bss_type" title="typedef enum _DOT11_BSS_TYPE {&#10;  dot11_BSS_type_infrastructure  = 1,&#10;  dot11_BSS_type_independent     = 2,&#10;  dot11_BSS_type_any             = 3&#10;} DOT11_BSS_TYPE, *PDOT11_BSS_TYPE;">DOT11_BSS_TYPE</a> enumeration.</p>

<h3 id="dot11bssid"><code>dot11BSSID</code></h3>

<p>The BSS identifier (BSSID) of a BSS network for which the 802.11 station scans. If this member is
set to the wildcard BSSID (0xFFFFFFFFFFFF), the station scans for all BSSIDs.</p>

<h3 id="dot11scantype"><code>dot11ScanType</code></h3>

<p>The type of scan that the 802.11 station performs. The data type for this member is the
DOT11_SCAN_TYPE enumeration, which declares the following values:</p>

<h4 id="dot11_scan_type_active">dot11_scan_type_active</h4>

<p>The station transmits an 802.11 Probe Request frame on each channel that it scans. It dwells on
the channel long enough to receive 802.11 Probe Response frames for its Probe Request. The station
also receives 802.11 Beacon frames sent on the channel.</p>

<h4 id="dot11_scan_type_passive">dot11_scan_type_passive</h4>

<p>The station does not transmit an 802.11 Probe Request frame on each channel that it scans.
Instead, it receives 802.11 Beacon or Probe Request frames sent on the channel.</p>

<h4 id="dot11_scan_type_auto">dot11_scan_type_auto</h4>

<p>The station can perform active or passive scans, or it can use a combination of both scan
types.</p>

<p>Regardless of the value of <strong>dot11ScanType</strong>, the 802.11 station must perform a scan type of <strong>dot11_scan_type_passive</strong> whenever it scans on channels that are not valid in the current regulatory domain. Also, the 802.11 station must perform a scan type of <strong>dot11_scan_type_passive</strong> if it does not have a default regulatory domain. For more information about regulatory domains, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-current-reg-domain">OID_DOT11_CURRENT_REG_DOMAIN</a>.</p>

<p>If the
<strong>dot11_scan_type_forced</strong> bit is set in the
<strong>dot11ScanType</strong> member, the 802.11 station must perform a complete scan on every supported channel.
If the
<strong>dot11_scan_type_forced</strong> bit is not set, the 802.11 station can perform a complete scan, or it can
perform a partial scan on a subset of the supported channels.</p>

<p><strong>Note</strong> The
<strong>dot11_scan_type_forced</strong> bit is only supported when the miniport driver is operating in Extensible
Station (ExtSTA) mode. The
<strong>dot11_scan_type_forced</strong> bit must be set through a bitwise OR with a DOT11_SCAN_TYPE
value.</p>

<h3 id="brestrictedscan"><code>bRestrictedScan</code></h3>

<p>If this member is <strong>TRUE</strong>, the 802.11 station performs a scan restricted to the channel and PHY
configuration used to connect to a BSS network.</p>

<p>The miniport driver must ignore this member if any of the following are true:</p>

<ul>
<li>The miniport driver is operating in ExtSTA mode.</li>
<li>The 802.11 station is not connected to a BSS network.</li>
</ul>

<h3 id="udot11ssidsoffset"><code>udot11SSIDsOffset</code></h3>

<p>The offset in the
<strong>ucBuffer</strong> array where the service set identifier (SSID) list begins. Each entry in the SSID list is
formatted as a
<a href="dot11_ssid" title="typedef struct _DOT11_SSID {&#10;  ULONG uSSIDLength;&#10;  UCHAR ucSSID[DOT11_SSID_MAX_LENGTH];&#10;} DOT11_SSID, *PDOT11_SSID;">DOT11_SSID</a> structure.</p>

<p>The 802.11 station scans for each SSID in the list. For example, if
<strong>dot11ScanType</strong> is set to
<strong>dot11_scan_type_active</strong>, the 802.11 station transmits an 802.11 Probe Request for each SSID in the
list while scanning on a channel.</p>

<h3 id="unumofdot11ssids"><code>uNumOfdot11SSIDs</code></h3>

<p>The number of entries in the SSID list.</p>

<p>If
<strong>uNumOfdot11SSIDs</strong> is zero, the miniport driver must use an SSID list containing the wildcard
zero-length SSID.</p>

<h3 id="buserequestie"><code>bUseRequestIE</code></h3>

<p>If this member is <strong>TRUE</strong>, the 802.11 station must include the list of request IDs (defined through
the
<strong>uRequestIDsOffset</strong> and
<strong>uNumOfRequestIDs</strong> members) within the 802.11d request information element (IE) of each Probe
Request frame that it transmits during the active scan.</p>

<p>The miniport driver must ignore this member (along with the
<strong>uRequestIDsOffset</strong> and
<strong>uNumOfRequestIDs</strong> members) if any of the following are true:</p>

<ul>
<li>The miniport driver is operating in ExtSTA mode.</li>
<li>The 802.11
<strong>dot11MultiDomainCapabilityEnabled</strong> management information base (MIB) object is <strong>FALSE</strong>. For more
information about the
<strong>dot11MultiDomainCapabilityEnabled</strong> MIB object, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/embedded/ee486712(v=winembedded.80)">OID_DOT11_MULTI_DOMAIN_CAPABILITY_ENABLED</a>.</li>
<li>The
<strong>dot11ScanType</strong> member is set to
<strong>dot11_scan_type_passive</strong>.</li>
</ul>

<h3 id="urequestidsoffset"><code>uRequestIDsOffset</code></h3>

<p>The offset in the
<strong>ucBuffer</strong> array where the Request IDs list begins. Each entry in the request IDs list is formatted
as a <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> data type.</p>

<h3 id="unumofrequestids"><code>uNumOfRequestIDs</code></h3>

<p>The number of entries in the request IDs list.</p>

<h3 id="uphytypeinfosoffset"><code>uPhyTypeInfosOffset</code></h3>

<p>The offset in the
<strong>ucBuffer</strong> array where the list of PHY types begins. Each entry in the list of PHY types is
formatted as a
<a href="dot11_phy_type_info" title="typedef struct _DOT11_PHY_TYPE_INFO {&#10;  union {&#10;    DOT11_PHY_TYPE dot11PhyType;&#10;    ULONG          uPhyId;&#10;  };&#10;  BOOLEAN             bUseParameters;&#10;  ULONG               uProbeDelay;&#10;  ULONG               uMinChannelTime;&#10;  ULONG               uMaxChannelTime;&#10;  CH_DESCRIPTION_TYPE ChDescriptionType;&#10;  ULONG               uChannelListSize;&#10;  UCHAR               ucChannelListBuffer[1];&#10;} DOT11_PHY_TYPE_INFO, *PDOT11_PHY_TYPE_INFO;">DOT11_PHY_TYPE_INFO</a> structure.</p>

<p>The 802.11 station must perform the BSS scan by using each of the specified PHY types from this
list.</p>

<p>The miniport driver must ignore this member (along with the
<strong>uNumOfPhyTypeInfos</strong> member) if
<strong>bRestrictedScan</strong> is set to <strong>TRUE</strong>.</p>

<h3 id="unumofphytypeinfos"><code>uNumOfPhyTypeInfos</code></h3>

<p>The number of entries in the list of PHY types.</p>

<p>If
<strong>uNumOfPhyTypeInfos</strong> is zero, the 802.11 station performs the scan using all of its supported
PHYs.</p>

<h3 id="uiesoffset"><code>uIEsOffset</code></h3>

<p>The offset in the
<strong>ucBuffer</strong> array where the list of variable-length information elements (IEs) begins. The 802.11
station must append the list of IEs to the end of each Probe Request frame that it transmits during an
active scan.</p>

<p>The miniport driver must ignore this member (along with the
<strong>uIEsLength</strong> member) if
<strong>dot11ScanType</strong> is set to
<strong>dot11_scan_type_passive</strong>.</p>

<h3 id="uieslength"><code>uIEsLength</code></h3>

<p>The length, in bytes, of the list of IEs.</p>

<h3 id="ucbuffer"><code>ucBuffer</code></h3>

<p>The buffer containing optional data as specified through other members of this structure.</p>

<h2 id="syntax">Syntax</h2>

<p><!-- CODE_MARKER --></p>

<div class="codehilite">
<pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">_DOT11_SCAN_REQUEST_V2</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n"><a href="dot11_bss_type" title="typedef enum _DOT11_BSS_TYPE {&#10;  dot11_BSS_type_infrastructure  = 1,&#10;  dot11_BSS_type_independent     = 2,&#10;  dot11_BSS_type_any             = 3&#10;} DOT11_BSS_TYPE, *PDOT11_BSS_TYPE;">DOT11_BSS_TYPE</a></span><span class="w">    </span><span class="n">dot11BSSType</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="dot11_mac_address" title="typedef struct _DOT11_MAC_ADDRESS {&#10;  UCHAR ucDot11MacAddress[6];&#10;} DOT11_MAC_ADDRESS, *PDOT11_MAC_ADDRESS;">DOT11_MAC_ADDRESS</a></span><span class="w"> </span><span class="n">dot11BSSID</span><span class="p">;</span>
<span class="w">  </span><span class="n">DOT11_SCAN_TYPE</span><span class="w">   </span><span class="n">dot11ScanType</span><span class="p">;</span>
<span class="w">  </span><span class="n">BOOLEAN</span><span class="w">           </span><span class="n">bRestrictedScan</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">             </span><span class="n">udot11SSIDsOffset</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">             </span><span class="n">uNumOfdot11SSIDs</span><span class="p">;</span>
<span class="w">  </span><span class="n">BOOLEAN</span><span class="w">           </span><span class="n">bUseRequestIE</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">             </span><span class="n">uRequestIDsOffset</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">             </span><span class="n">uNumOfRequestIDs</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">             </span><span class="n">uPhyTypeInfosOffset</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">             </span><span class="n">uNumOfPhyTypeInfos</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">             </span><span class="n">uIEsOffset</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">             </span><span class="n">uIEsLength</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></span><span class="w">             </span><span class="n">ucBuffer</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">DOT11_SCAN_REQUEST_V2</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">PDOT11_SCAN_REQUEST_V2</span><span class="p">;</span>
</code></pre>
</div>

<h2 id="remarks">Remarks</h2>

<p>The 802.11 station performs explicit scan operations following the OID set request of
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-scan-request">OID_DOT11_SCAN_REQUEST</a>. The station
performs the scan operation by using the parameters defined through the DOT11_SCAN_REQUEST_V2, which
accompanies the set request.</p>

<p>For more information about the scan operations performed by a Native 802.11 miniport driver, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/native-802-11-scan-operations">Native 802.11 Scan
Operations</a>.</p>

<p>For more information about the ExtSTA operation mode, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/extensible-station-operation-mode">Extensible Station Operation
Mode</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="dot11_phy_type_info" title="typedef struct _DOT11_PHY_TYPE_INFO {&#10;  union {&#10;    DOT11_PHY_TYPE dot11PhyType;&#10;    ULONG          uPhyId;&#10;  };&#10;  BOOLEAN             bUseParameters;&#10;  ULONG               uProbeDelay;&#10;  ULONG               uMinChannelTime;&#10;  ULONG               uMaxChannelTime;&#10;  CH_DESCRIPTION_TYPE ChDescriptionType;&#10;  ULONG               uChannelListSize;&#10;  UCHAR               ucChannelListBuffer[1];&#10;} DOT11_PHY_TYPE_INFO, *PDOT11_PHY_TYPE_INFO;">DOT11_PHY_TYPE_INFO</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-scan-request">OID_DOT11_SCAN_REQUEST</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/windot11/ns-windot11-_dot11_scan_request_v2">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/windot11/ns-windot11-_dot11_scan_request_v2.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
