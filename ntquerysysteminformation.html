<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NtQuerySystemInformation - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NtQuerySystemInformation - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NtQuerySystemInformation - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">#ifndef _NTEXAPI_H
#if (PHNT_MODE != PHNT_MODE_KERNEL)

</span><span class="ntdoc-code-intro">/**
 * The NtQuerySystemInformation routine queries information about the system.
 *
 * \param SystemInformationClass The type of information to be retrieved.
 * \param SystemInformation A pointer to a buffer that receives the requested information.
 * \param SystemInformationLength The size of the buffer pointed to by SystemInformation.
 * \param ReturnLength A pointer to a variable that receives the size of the data returned in the buffer.
 * \return <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> Successful or errant status.
 * \see https://learn.microsoft.com/en-us/windows/win32/sysinfo/zwquerysysteminformation
 */
</span><span class="ntdoc-code-body">NTSYSCALLAPI
<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a>
NTAPI
NtQuerySystemInformation(
    _In_ <a href="system_information_class" title="typedef enum _SYSTEM_INFORMATION_CLASS&#10;{&#10;    SystemBasicInformation,                                 // q: SYSTEM_BASIC_INFORMATION&#10;    SystemProcessorInformation,                             // q: SYSTEM_PROCESSOR_INFORMATION&#10;    SystemPerformanceInformation,                           // q: SYSTEM_PERFORMANCE_INFORMATION&#10;    SystemTimeOfDayInformation,                             // q: SYSTEM_TIMEOFDAY_INFORMATION&#10;    SystemPathInformation,                                  // q: not implemented&#10;    SystemProcessInformation,                               // q: SYSTEM_PROCESS_INFORMATION&#10;    SystemCallCountInformation,                             // q: SYSTEM_CALL_COUNT_INFORMATION&#10;    SystemDeviceInformation,                                // q: SYSTEM_DEVICE_INFORMATION&#10;    SystemProcessorPerformanceInformation,                  // q: SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION (EX in: USHORT ProcessorGroup)&#10;    SystemFlagsInformation,                                 // qs: SYSTEM_FLAGS_INFORMATION&#10;    SystemCallTimeInformation,                              // q: SYSTEM_CALL_TIME_INFORMATION // not implemented // 10&#10;    SystemModuleInformation,                                // q: RTL_PROCESS_MODULES&#10;    SystemLocksInformation,                                 // q: RTL_PROCESS_LOCKS&#10;    SystemStackTraceInformation,                            // q: RTL_PROCESS_BACKTRACES&#10;    SystemPagedPoolInformation,                             // q: not implemented&#10;    SystemNonPagedPoolInformation,                          // q: not implemented&#10;    SystemHandleInformation,                                // q: SYSTEM_HANDLE_INFORMATION&#10;    SystemObjectInformation,                                // q: SYSTEM_OBJECTTYPE_INFORMATION mixed with SYSTEM_OBJECT_INFORMATION&#10;...">SYSTEM_INFORMATION_CLASS</a> SystemInformationClass,
    _Out_writes_bytes_opt_(SystemInformationLength) PVOID SystemInformation,
    _In_ <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SystemInformationLength,
    _Out_opt_ PULONG ReturnLength
    );
</span><span class="ntdoc-code-footer">
#endif
#endif
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://github.com/winsiderss/systeminformer/blob/443d121781061210978931c1766974f1372e359a/phnt/include/ntexapi.h#L6044">View code on GitHub</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">#ifndef _NTZWAPI_H

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">NTSYSCALLAPI
<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a>
NTAPI
ZwQuerySystemInformation(
    _In_ <a href="system_information_class" title="typedef enum _SYSTEM_INFORMATION_CLASS&#10;{&#10;    SystemBasicInformation,                                 // q: SYSTEM_BASIC_INFORMATION&#10;    SystemProcessorInformation,                             // q: SYSTEM_PROCESSOR_INFORMATION&#10;    SystemPerformanceInformation,                           // q: SYSTEM_PERFORMANCE_INFORMATION&#10;    SystemTimeOfDayInformation,                             // q: SYSTEM_TIMEOFDAY_INFORMATION&#10;    SystemPathInformation,                                  // q: not implemented&#10;    SystemProcessInformation,                               // q: SYSTEM_PROCESS_INFORMATION&#10;    SystemCallCountInformation,                             // q: SYSTEM_CALL_COUNT_INFORMATION&#10;    SystemDeviceInformation,                                // q: SYSTEM_DEVICE_INFORMATION&#10;    SystemProcessorPerformanceInformation,                  // q: SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION (EX in: USHORT ProcessorGroup)&#10;    SystemFlagsInformation,                                 // qs: SYSTEM_FLAGS_INFORMATION&#10;    SystemCallTimeInformation,                              // q: SYSTEM_CALL_TIME_INFORMATION // not implemented // 10&#10;    SystemModuleInformation,                                // q: RTL_PROCESS_MODULES&#10;    SystemLocksInformation,                                 // q: RTL_PROCESS_LOCKS&#10;    SystemStackTraceInformation,                            // q: RTL_PROCESS_BACKTRACES&#10;    SystemPagedPoolInformation,                             // q: not implemented&#10;    SystemNonPagedPoolInformation,                          // q: not implemented&#10;    SystemHandleInformation,                                // q: SYSTEM_HANDLE_INFORMATION&#10;    SystemObjectInformation,                                // q: SYSTEM_OBJECTTYPE_INFORMATION mixed with SYSTEM_OBJECT_INFORMATION&#10;...">SYSTEM_INFORMATION_CLASS</a> SystemInformationClass,
    _Out_writes_bytes_opt_(SystemInformationLength) PVOID SystemInformation,
    _In_ <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SystemInformationLength,
    _Out_opt_ PULONG ReturnLength
    );
</span><span class="ntdoc-code-footer">
#endif
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://github.com/winsiderss/systeminformer/blob/443d121781061210978931c1766974f1372e359a/phnt/include/ntzwapi.h#L3475">View code on GitHub</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// winternl.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">__kernel_entry <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> NtQuerySystemInformation(
  [in]            <a href="system_information_class" title="typedef enum _SYSTEM_INFORMATION_CLASS&#10;{&#10;    SystemBasicInformation,                                 // q: SYSTEM_BASIC_INFORMATION&#10;    SystemProcessorInformation,                             // q: SYSTEM_PROCESSOR_INFORMATION&#10;    SystemPerformanceInformation,                           // q: SYSTEM_PERFORMANCE_INFORMATION&#10;    SystemTimeOfDayInformation,                             // q: SYSTEM_TIMEOFDAY_INFORMATION&#10;    SystemPathInformation,                                  // q: not implemented&#10;    SystemProcessInformation,                               // q: SYSTEM_PROCESS_INFORMATION&#10;    SystemCallCountInformation,                             // q: SYSTEM_CALL_COUNT_INFORMATION&#10;    SystemDeviceInformation,                                // q: SYSTEM_DEVICE_INFORMATION&#10;    SystemProcessorPerformanceInformation,                  // q: SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION (EX in: USHORT ProcessorGroup)&#10;    SystemFlagsInformation,                                 // qs: SYSTEM_FLAGS_INFORMATION&#10;    SystemCallTimeInformation,                              // q: SYSTEM_CALL_TIME_INFORMATION // not implemented // 10&#10;    SystemModuleInformation,                                // q: RTL_PROCESS_MODULES&#10;    SystemLocksInformation,                                 // q: RTL_PROCESS_LOCKS&#10;    SystemStackTraceInformation,                            // q: RTL_PROCESS_BACKTRACES&#10;    SystemPagedPoolInformation,                             // q: not implemented&#10;    SystemNonPagedPoolInformation,                          // q: not implemented&#10;    SystemHandleInformation,                                // q: SYSTEM_HANDLE_INFORMATION&#10;    SystemObjectInformation,                                // q: SYSTEM_OBJECTTYPE_INFORMATION mixed with SYSTEM_OBJECT_INFORMATION&#10;...">SYSTEM_INFORMATION_CLASS</a> SystemInformationClass,
  [in, out]       PVOID                    SystemInformation,
  [in]            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                    SystemInformationLength,
  [out, optional] PULONG                   ReturnLength
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winternl/nf-winternl-ntquerysysteminformation">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ntquerysysteminformation.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (nf-winternl-ntquerysysteminformation)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="ntquerysysteminformation-function">NtQuerySystemInformation function</h1>

<h2 id="description">Description</h2>

<p>[<strong>NtQuerySystemInformation</strong> may be altered or unavailable in future versions of Windows. Applications should use the alternate functions listed in this topic.]</p>

<p>Retrieves the specified system information.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="systeminformationclass-in"><code>SystemInformationClass</code> [in]</h3>

<p>One of the values enumerated in <a href="system_information_class" title="typedef enum _SYSTEM_INFORMATION_CLASS&#10;{&#10;    SystemBasicInformation,                                 // q: SYSTEM_BASIC_INFORMATION&#10;    SystemProcessorInformation,                             // q: SYSTEM_PROCESSOR_INFORMATION&#10;    SystemPerformanceInformation,                           // q: SYSTEM_PERFORMANCE_INFORMATION&#10;    SystemTimeOfDayInformation,                             // q: SYSTEM_TIMEOFDAY_INFORMATION&#10;    SystemPathInformation,                                  // q: not implemented&#10;    SystemProcessInformation,                               // q: SYSTEM_PROCESS_INFORMATION&#10;    SystemCallCountInformation,                             // q: SYSTEM_CALL_COUNT_INFORMATION&#10;    SystemDeviceInformation,                                // q: SYSTEM_DEVICE_INFORMATION&#10;    SystemProcessorPerformanceInformation,                  // q: SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION (EX in: USHORT ProcessorGroup)&#10;    SystemFlagsInformation,                                 // qs: SYSTEM_FLAGS_INFORMATION&#10;    SystemCallTimeInformation,                              // q: SYSTEM_CALL_TIME_INFORMATION // not implemented // 10&#10;    SystemModuleInformation,                                // q: RTL_PROCESS_MODULES&#10;    SystemLocksInformation,                                 // q: RTL_PROCESS_LOCKS&#10;    SystemStackTraceInformation,                            // q: RTL_PROCESS_BACKTRACES&#10;    SystemPagedPoolInformation,                             // q: not implemented&#10;    SystemNonPagedPoolInformation,                          // q: not implemented&#10;    SystemHandleInformation,                                // q: SYSTEM_HANDLE_INFORMATION&#10;    SystemObjectInformation,                                // q: SYSTEM_OBJECTTYPE_INFORMATION mixed with SYSTEM_OBJECT_INFORMATION&#10;...">SYSTEM_INFORMATION_CLASS</a>, which indicate the
kind of system information to be retrieved. These include the following values.</p>

<h4 id="systembasicinformation">SystemBasicInformation</h4>

<p>Returns the number of processors in the system in a
<strong><a href="system_basic_information" title="typedef struct _SYSTEM_BASIC_INFORMATION&#10;{&#10;    ULONG Reserved;                                         // Reserved&#10;    ULONG TimerResolution;                                  // The resolution of the timer, in milliseconds. // NtQueryTimerResolution&#10;    ULONG PageSize;                                         // The page size and the granularity of page protection and commitment.&#10;    ULONG NumberOfPhysicalPages;                            // The number of physical pages in the system. // KUSER_SHARED_DATA-&gt;NumberOfPhysicalPages&#10;    ULONG LowestPhysicalPageNumber;                         // The lowest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG HighestPhysicalPageNumber;                        // The highest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG AllocationGranularity;                            // The granularity for the starting address at which virtual memory can be allocated.&#10;    ULONG_PTR MinimumUserModeAddress;                       // A pointer to the lowest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG_PTR MaximumUserModeAddress;                       // A pointer to the highest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    KAFFINITY ActiveProcessorsAffinityMask;                 // A mask representing the set of processors configured in the current processor group. // deprecated &#10;    UCHAR NumberOfProcessors;                               // The number of logical processors in the current processor group. // deprecated&#10;} SYSTEM_BASIC_INFORMATION, *PSYSTEM_BASIC_INFORMATION;">SYSTEM_BASIC_INFORMATION</a></strong> structure. Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsysteminfo">GetSystemInfo</a> function instead.</p>

<h4 id="systemcodeintegrityinformation">SystemCodeIntegrityInformation</h4>

<p>Returns a <strong><a href="system_codeintegrity_information" title="typedef struct _SYSTEM_CODEINTEGRITY_INFORMATION&#10;{&#10;    ULONG Length;&#10;    union&#10;    {&#10;        ULONG CodeIntegrityOptions;&#10;        struct&#10;        {&#10;            ULONG Enabled : 1;&#10;            ULONG TestSign : 1;&#10;            ULONG UmciEnabled : 1;&#10;            ULONG UmciAuditModeEnabled : 1;&#10;            ULONG UmciExclusionPathsEnabled : 1;&#10;            ULONG TestBuild : 1;&#10;            ULONG PreproductionBuild : 1;&#10;            ULONG DebugModeEnabled : 1;&#10;            ULONG FlightBuild : 1;&#10;            ULONG FlightingEnabled : 1;&#10;            ULONG HvciKmciEnabled : 1;&#10;            ULONG HvciKmciAuditModeEnabled : 1;&#10;...">SYSTEM_CODEINTEGRITY_INFORMATION</a></strong> structure that can be used to determine the options being enforced by Code Integrity on the system.</p>

<h4 id="systemexceptioninformation">SystemExceptionInformation</h4>

<p>Returns an opaque <strong><a href="system_exception_information" title="typedef struct _SYSTEM_EXCEPTION_INFORMATION&#10;{&#10;    ULONG AlignmentFixupCount;&#10;    ULONG ExceptionDispatchCount;&#10;    ULONG FloatingEmulationCount;&#10;    ULONG ByteWordEmulationCount;&#10;} SYSTEM_EXCEPTION_INFORMATION, *PSYSTEM_EXCEPTION_INFORMATION;">SYSTEM_EXCEPTION_INFORMATION</a></strong> structure that can be used
to generate an unpredictable seed for a random number generator. Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a> function
instead.</p>

<h4 id="systeminterruptinformation">SystemInterruptInformation</h4>

<p>Returns an opaque <strong><a href="system_interrupt_information" title="typedef struct _SYSTEM_INTERRUPT_INFORMATION&#10;{&#10;    ULONG ContextSwitches;&#10;    ULONG DpcCount;&#10;    ULONG DpcRate;&#10;    ULONG TimeIncrement;&#10;    ULONG DpcBypassCount;&#10;    ULONG ApcBypassCount;&#10;} SYSTEM_INTERRUPT_INFORMATION, *PSYSTEM_INTERRUPT_INFORMATION;">SYSTEM_INTERRUPT_INFORMATION</a></strong> structure that can be used
to generate an unpredictable seed for a random number generator. Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a> function
instead.</p>

<h4 id="systemkernelvashadowinformation">SystemKernelVaShadowInformation</h4>

<p>Returns a <strong><a href="system_kernel_va_shadow_information" title="typedef struct _SYSTEM_KERNEL_VA_SHADOW_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG KvaShadowFlags;&#10;        struct&#10;        {&#10;            ULONG KvaShadowEnabled : 1;&#10;            ULONG KvaShadowUserGlobal : 1;&#10;            ULONG KvaShadowPcid : 1;&#10;            ULONG KvaShadowInvpcid : 1;&#10;            ULONG KvaShadowRequired : 1; // REDSTONE4&#10;            ULONG KvaShadowRequiredAvailable : 1;&#10;            ULONG InvalidPteBit : 6;&#10;            ULONG L1DataCacheFlushSupported : 1;&#10;            ULONG L1TerminalFaultMitigationPresent : 1;&#10;            ULONG Reserved : 18;&#10;        } DUMMYSTRUCTNAME;&#10;    } DUMMYUNIONNAME;&#10;} SYSTEM_KERNEL_VA_SHADOW_INFORMATION, *PSYSTEM_KERNEL_VA_SHADOW_INFORMATION;">SYSTEM_KERNEL_VA_SHADOW_INFORMATION</a></strong> structure that can be used to determine the speculation control settings for attacks involving rogue data cache loads (such as CVE-2017-5754).</p>

<h4 id="systemleapsecondinformation">SystemLeapSecondInformation</h4>

<p>Returns an opaque <strong>SYSTEM_LEAP_SECOND_INFORMATION</strong> structure that can be used to enable or disable leap seconds system-wide. This setting will persist even after a reboot of the system.</p>

<h4 id="systemlookasideinformation">SystemLookasideInformation</h4>

<p>Returns an opaque <strong><a href="system_lookaside_information" title="typedef struct _SYSTEM_LOOKASIDE_INFORMATION&#10;{&#10;    USHORT CurrentDepth;&#10;    USHORT MaximumDepth;&#10;    ULONG TotalAllocates;&#10;    ULONG AllocateMisses;&#10;    ULONG TotalFrees;&#10;    ULONG FreeMisses;&#10;    ULONG Type;&#10;    ULONG Tag;&#10;    ULONG Size;&#10;} SYSTEM_LOOKASIDE_INFORMATION, *PSYSTEM_LOOKASIDE_INFORMATION;">SYSTEM_LOOKASIDE_INFORMATION</a></strong> structure that can be used
to generate an unpredictable seed for a random number generator. Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a> function
instead.</p>

<h4 id="systemperformanceinformation">SystemPerformanceInformation</h4>

<p>Returns an opaque <strong><a href="system_performance_information" title="typedef struct _SYSTEM_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleProcessTime;&#10;    LARGE_INTEGER IoReadTransferCount;&#10;    LARGE_INTEGER IoWriteTransferCount;&#10;    LARGE_INTEGER IoOtherTransferCount;&#10;    ULONG IoReadOperationCount;&#10;    ULONG IoWriteOperationCount;&#10;    ULONG IoOtherOperationCount;&#10;    ULONG AvailablePages;&#10;    ULONG CommittedPages;&#10;    ULONG CommitLimit;&#10;    ULONG PeakCommitment;&#10;    ULONG PageFaultCount;&#10;    ULONG CopyOnWriteCount;&#10;    ULONG TransitionCount;&#10;    ULONG CacheTransitionCount;&#10;    ULONG DemandZeroCount;&#10;    ULONG PageReadCount;&#10;    ULONG PageReadIoCount;&#10;...">SYSTEM_PERFORMANCE_INFORMATION</a></strong> structure that can be
used to generate an unpredictable seed for a random number generator. Use the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a> function instead.</p>

<h4 id="systempolicyinformation">SystemPolicyInformation</h4>

<p>Returns policy information in a <strong><a href="system_policy_information" title="typedef struct _SYSTEM_POLICY_INFORMATION&#10;{&#10;    PVOID InputData;&#10;    PVOID OutputData;&#10;    ULONG InputDataSize;&#10;    ULONG OutputDataSize;&#10;    ULONG Version;&#10;} SYSTEM_POLICY_INFORMATION, *PSYSTEM_POLICY_INFORMATION;">SYSTEM_POLICY_INFORMATION</a></strong> structure. Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/slpublic/nf-slpublic-slgetwindowsinformation">SLGetWindowsInformation</a> function instead to obtain policy information.</p>

<h4 id="systemprocessinformation">SystemProcessInformation</h4>

<p>Returns an array of <strong><a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a></strong> structures, one for each
process running in the system.</p>

<p>These structures contain information about the
resource usage of each process, including the number of threads and handles used by the
process, the peak page-file usage, and the number of memory pages that the
process has allocated.</p>

<blockquote>
  <p>[!NOTE]
  Whenever possible, <strong>SystemBasicProcessInformation</strong> should be used instead as it is faster, consumes less memory, and doesn't need to synchronize timing data (eliminating processor wakes).</p>
</blockquote>

<h4 id="systembasicprocessinformation">SystemBasicProcessInformation</h4>

<p><strong>Available as of Windows 11 version 26100.4770</strong></p>

<p>Returns an array of <strong><a href="system_basicprocess_information" title="typedef struct _SYSTEM_BASICPROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    HANDLE UniqueProcessId;&#10;    HANDLE InheritedFromUniqueProcessId;&#10;    ULONG64 SequenceNumber;&#10;    UNICODE_STRING ImageName;&#10;} SYSTEM_BASICPROCESS_INFORMATION, *PSYSTEM_BASICPROCESS_INFORMATION;">SYSTEM_BASICPROCESS_INFORMATION</a></strong> structures, one for each
process running in the system.</p>

<p>These structures contain basic information about each process, including the process name,
its process id, and a unique sequence number.</p>

<blockquote>
  <p>[!NOTE]
  <strong><a href="system_basicprocess_information" title="typedef struct _SYSTEM_BASICPROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    HANDLE UniqueProcessId;&#10;    HANDLE InheritedFromUniqueProcessId;&#10;    ULONG64 SequenceNumber;&#10;    UNICODE_STRING ImageName;&#10;} SYSTEM_BASICPROCESS_INFORMATION, *PSYSTEM_BASICPROCESS_INFORMATION;">SYSTEM_BASICPROCESS_INFORMATION</a></strong> is identical to <strong><a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a></strong> except for the <strong>SequenceNumber</strong> member, which is a unique value assigned to each process and used to detect <strong>UniqueProcessId</strong> reuse (instead of process <strong>CreateTime</strong>).</p>
</blockquote>

<pre><code>typedef <a href="system_basicprocess_information" title="typedef struct _SYSTEM_BASICPROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    HANDLE UniqueProcessId;&#10;    HANDLE InheritedFromUniqueProcessId;&#10;    ULONG64 SequenceNumber;&#10;    UNICODE_STRING ImageName;&#10;} SYSTEM_BASICPROCESS_INFORMATION, *PSYSTEM_BASICPROCESS_INFORMATION;">struct _SYSTEM_BASICPROCESS_INFORMATION</a> {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NextEntryOffset;
    HANDLE UniqueProcessId;
    HANDLE InheritedFromUniqueProcessId;
    <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> SequenceNumber;
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> ImageName;
} <a href="system_basicprocess_information" title="typedef struct _SYSTEM_BASICPROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    HANDLE UniqueProcessId;&#10;    HANDLE InheritedFromUniqueProcessId;&#10;    ULONG64 SequenceNumber;&#10;    UNICODE_STRING ImageName;&#10;} SYSTEM_BASICPROCESS_INFORMATION, *PSYSTEM_BASICPROCESS_INFORMATION;">SYSTEM_BASICPROCESS_INFORMATION</a>, *<a href="system_basicprocess_information" title="typedef struct _SYSTEM_BASICPROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    HANDLE UniqueProcessId;&#10;    HANDLE InheritedFromUniqueProcessId;&#10;    ULONG64 SequenceNumber;&#10;    UNICODE_STRING ImageName;&#10;} SYSTEM_BASICPROCESS_INFORMATION, *PSYSTEM_BASICPROCESS_INFORMATION;">PSYSTEM_BASICPROCESS_INFORMATION</a>;
</code></pre>

<p>Its members are identical to the ones in <a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a>,
except for SequenceNumber which is a unique number assigned to each
process that can be used to detect UniqueProcessId reuse instead of
process CreateTime.</p>

<h4 id="systemprocessorperformanceinformation">SystemProcessorPerformanceInformation</h4>

<p>Returns an array of <strong><a href="system_processor_performance_information" title="typedef struct _SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleTime;&#10;    LARGE_INTEGER KernelTime;&#10;    LARGE_INTEGER UserTime;&#10;    LARGE_INTEGER DpcTime;&#10;    LARGE_INTEGER InterruptTime;&#10;    ULONG InterruptCount;&#10;    ULONG Spare0;&#10;} SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION, *PSYSTEM_PROCESSOR_PERFORMANCE_INFORMATION;">SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION</a></strong> structures,
one for each processor installed in the system.</p>

<h4 id="systemqueryperformancecounterinformation">SystemQueryPerformanceCounterInformation</h4>

<p>Returns a <strong><a href="system_query_performance_counter_information" title="typedef struct _SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION&#10;{&#10;    ULONG Version;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS Flags;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS ValidFlags;&#10;} SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION, *PSYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION;">SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION</a></strong> structure that can be used to determine whether the system requires a kernel transition to retrieve the high-resolution performance counter information through a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/profileapi/nf-profileapi-queryperformancecounter">QueryPerformanceCounter</a> function call.</p>

<h4 id="systemregistryquotainformation">SystemRegistryQuotaInformation</h4>

<p>Returns a <strong><a href="system_registry_quota_information" title="typedef struct _SYSTEM_REGISTRY_QUOTA_INFORMATION&#10;{&#10;    ULONG RegistryQuotaAllowed;&#10;    ULONG RegistryQuotaUsed;&#10;    SIZE_T PagedPoolSize;&#10;} SYSTEM_REGISTRY_QUOTA_INFORMATION, *PSYSTEM_REGISTRY_QUOTA_INFORMATION;">SYSTEM_REGISTRY_QUOTA_INFORMATION</a></strong> structure.</p>

<h4 id="systemspeculationcontrolinformation">SystemSpeculationControlInformation</h4>

<p>Returns a <strong><a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">SYSTEM_SPECULATION_CONTROL_INFORMATION</a></strong> structure that can be used to determine the speculation control settings for attacks involving branch target injection (such as CVE-2017-5715).</p>

<p>Each <strong><a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">SYSTEM_SPECULATION_CONTROL_INFORMATION</a></strong> structure has the following layout:</p>

<pre><code>typedef <a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">struct _SYSTEM_SPECULATION_CONTROL_INFORMATION</a> {
    struct {
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BpbEnabled : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BpbDisabledSystemPolicy : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BpbDisabledNoHardwareSupport : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpecCtrlEnumerated : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpecCmdEnumerated : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> IbrsPresent : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> StibpPresent : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SmepPresent : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisableAvailable : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisableSupported : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisabledSystemWide : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisabledKernel : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisableRequired : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BpbDisabledKernelToUser : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpecCtrlRetpolineEnabled : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpecCtrlImportOptimizationEnabled : 1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved : 16;
    } SpeculationControlFlags;
} <a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">SYSTEM_SPECULATION_CONTROL_INFORMATION</a>, * <a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">PSYSTEM_SPECULATION_CONTROL_INFORMATION</a>;

</code></pre>

<table>
<thead>
<tr>
  <th></th>
  <th></th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>Flag</strong></td>
  <td><strong>Meaning</strong></td>
</tr>
<tr>
  <td>BpbEnabled</td>
  <td>If TRUE, speculation control features are supported and enabled.</td>
</tr>
<tr>
  <td>BpbDisabledSystemPolicy</td>
  <td>If TRUE, speculation control features are disabled due to system policy.</td>
</tr>
<tr>
  <td>BpbDisabledNoHardwareSupport</td>
  <td>If TRUE, speculation control features are disabled due to the absence of hardware support.</td>
</tr>
<tr>
  <td>SpecCtrlEnumerated</td>
  <td>If TRUE, the i386/AMD64 IA32_SPEC_CTRL MSR is enumerated by hardware.</td>
</tr>
<tr>
  <td>SpecCmdEnumerated</td>
  <td>If TRUE, the i386/AMD64 IA32_SPEC_CMD MSR is enumerated by hardware.</td>
</tr>
<tr>
  <td>IbrsPresent</td>
  <td>If TRUE, the i386/AMD64 IBRS MSR is treated as being present.</td>
</tr>
<tr>
  <td>StibpPresent</td>
  <td>If TRUE, the i386/AMD64 STIBP MSR is present.</td>
</tr>
<tr>
  <td>SmepPresent</td>
  <td>If TRUE, the SMEP feature is present and enabled.</td>
</tr>
<tr>
  <td>SpeculativeStoreBypassDisableAvailable</td>
  <td>If TRUE, OS support for SSBD exists.</td>
</tr>
<tr>
  <td>SpeculativeStoreBypassDisableSupported</td>
  <td>If TRUE, hardware support for SSBD exists.</td>
</tr>
<tr>
  <td>SpeculativeStoreBypassDisabledSystemWide</td>
  <td>If TRUE, SSBD is set systemwide.</td>
</tr>
<tr>
  <td>SpeculativeStoreBypassDisabledKernel</td>
  <td>If TRUE, SSBD is set in kernel.</td>
</tr>
<tr>
  <td>SpeculativeStoreBypassDisableRequired</td>
  <td>If TRUE, SSBD is needed to prevent speculation attack.</td>
</tr>
<tr>
  <td>BpbDisabledKernelToUser</td>
  <td>If TRUE, indirect branch prediction is not flushed on every kernel to user transition.</td>
</tr>
<tr>
  <td>SpecCtrlRetpolineEnabled</td>
  <td>If TRUE, Retpoline is enabled for compatible drivers.</td>
</tr>
<tr>
  <td>SpecCtrlImportOptimizationEnabled</td>
  <td>If TRUE, Import optimization is enabled.</td>
</tr>
<tr>
  <td>Reserved</td>
  <td>Reserved flags.</td>
</tr>
</tbody>
</table>

<h4 id="systemtimeofdayinformation">SystemTimeOfDayInformation</h4>

<p>Returns an opaque <strong><a href="system_timeofday_information" title="typedef struct _SYSTEM_TIMEOFDAY_INFORMATION&#10;{&#10;    LARGE_INTEGER BootTime;                     // Number of 100-nanosecond intervals since the system was started.&#10;    LARGE_INTEGER CurrentTime;                  // The current system date and time.&#10;    LARGE_INTEGER TimeZoneBias;                 // Number of 100-nanosecond intervals between local time and Coordinated Universal Time (UTC).&#10;    ULONG TimeZoneId;                           // The current system time zone identifier.&#10;    ULONG Reserved;                             // Reserved&#10;    ULONGLONG BootTimeBias;                     // Number of 100-nanosecond intervals between the boot time and Coordinated Universal Time (UTC).&#10;    ULONGLONG SleepTimeBias;                    // Number of 100-nanosecond intervals between the sleep time and Coordinated Universal Time (UTC).&#10;} SYSTEM_TIMEOFDAY_INFORMATION, *PSYSTEM_TIMEOFDAY_INFORMATION;">SYSTEM_TIMEOFDAY_INFORMATION</a></strong> structure that can be used
to generate an unpredictable seed for a random number generator. Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a> function
instead.</p>

<h3 id="systeminformation-in-out"><code>SystemInformation</code> [in, out]</h3>

<p>A pointer to a buffer that receives the requested information. The
size and structure of this information varies depending on the value of the
<em>SystemInformationClass</em> parameter:</p>

<h4 id="system_basic_information"><a href="system_basic_information" title="typedef struct _SYSTEM_BASIC_INFORMATION&#10;{&#10;    ULONG Reserved;                                         // Reserved&#10;    ULONG TimerResolution;                                  // The resolution of the timer, in milliseconds. // NtQueryTimerResolution&#10;    ULONG PageSize;                                         // The page size and the granularity of page protection and commitment.&#10;    ULONG NumberOfPhysicalPages;                            // The number of physical pages in the system. // KUSER_SHARED_DATA-&gt;NumberOfPhysicalPages&#10;    ULONG LowestPhysicalPageNumber;                         // The lowest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG HighestPhysicalPageNumber;                        // The highest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG AllocationGranularity;                            // The granularity for the starting address at which virtual memory can be allocated.&#10;    ULONG_PTR MinimumUserModeAddress;                       // A pointer to the lowest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG_PTR MaximumUserModeAddress;                       // A pointer to the highest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    KAFFINITY ActiveProcessorsAffinityMask;                 // A mask representing the set of processors configured in the current processor group. // deprecated &#10;    UCHAR NumberOfProcessors;                               // The number of logical processors in the current processor group. // deprecated&#10;} SYSTEM_BASIC_INFORMATION, *PSYSTEM_BASIC_INFORMATION;">SYSTEM_BASIC_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemBasicInformation</strong>, the buffer pointed to by
the <em>SystemInformation</em> parameter should be large enough
to hold a single <strong><a href="system_basic_information" title="typedef struct _SYSTEM_BASIC_INFORMATION&#10;{&#10;    ULONG Reserved;                                         // Reserved&#10;    ULONG TimerResolution;                                  // The resolution of the timer, in milliseconds. // NtQueryTimerResolution&#10;    ULONG PageSize;                                         // The page size and the granularity of page protection and commitment.&#10;    ULONG NumberOfPhysicalPages;                            // The number of physical pages in the system. // KUSER_SHARED_DATA-&gt;NumberOfPhysicalPages&#10;    ULONG LowestPhysicalPageNumber;                         // The lowest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG HighestPhysicalPageNumber;                        // The highest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG AllocationGranularity;                            // The granularity for the starting address at which virtual memory can be allocated.&#10;    ULONG_PTR MinimumUserModeAddress;                       // A pointer to the lowest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG_PTR MaximumUserModeAddress;                       // A pointer to the highest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    KAFFINITY ActiveProcessorsAffinityMask;                 // A mask representing the set of processors configured in the current processor group. // deprecated &#10;    UCHAR NumberOfProcessors;                               // The number of logical processors in the current processor group. // deprecated&#10;} SYSTEM_BASIC_INFORMATION, *PSYSTEM_BASIC_INFORMATION;">SYSTEM_BASIC_INFORMATION</a></strong> structure
having the following layout:</p>

<pre><code>typedef <a href="system_basic_information" title="typedef struct _SYSTEM_BASIC_INFORMATION&#10;{&#10;    ULONG Reserved;                                         // Reserved&#10;    ULONG TimerResolution;                                  // The resolution of the timer, in milliseconds. // NtQueryTimerResolution&#10;    ULONG PageSize;                                         // The page size and the granularity of page protection and commitment.&#10;    ULONG NumberOfPhysicalPages;                            // The number of physical pages in the system. // KUSER_SHARED_DATA-&gt;NumberOfPhysicalPages&#10;    ULONG LowestPhysicalPageNumber;                         // The lowest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG HighestPhysicalPageNumber;                        // The highest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG AllocationGranularity;                            // The granularity for the starting address at which virtual memory can be allocated.&#10;    ULONG_PTR MinimumUserModeAddress;                       // A pointer to the lowest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG_PTR MaximumUserModeAddress;                       // A pointer to the highest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    KAFFINITY ActiveProcessorsAffinityMask;                 // A mask representing the set of processors configured in the current processor group. // deprecated &#10;    UCHAR NumberOfProcessors;                               // The number of logical processors in the current processor group. // deprecated&#10;} SYSTEM_BASIC_INFORMATION, *PSYSTEM_BASIC_INFORMATION;">struct _SYSTEM_BASIC_INFORMATION</a> {
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> Reserved1[24];
    PVOID Reserved2[4];
    <a href="cchar" title="typedef char CCHAR;">CCHAR</a> NumberOfProcessors;
} <a href="system_basic_information" title="typedef struct _SYSTEM_BASIC_INFORMATION&#10;{&#10;    ULONG Reserved;                                         // Reserved&#10;    ULONG TimerResolution;                                  // The resolution of the timer, in milliseconds. // NtQueryTimerResolution&#10;    ULONG PageSize;                                         // The page size and the granularity of page protection and commitment.&#10;    ULONG NumberOfPhysicalPages;                            // The number of physical pages in the system. // KUSER_SHARED_DATA-&gt;NumberOfPhysicalPages&#10;    ULONG LowestPhysicalPageNumber;                         // The lowest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG HighestPhysicalPageNumber;                        // The highest memory page accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG AllocationGranularity;                            // The granularity for the starting address at which virtual memory can be allocated.&#10;    ULONG_PTR MinimumUserModeAddress;                       // A pointer to the lowest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    ULONG_PTR MaximumUserModeAddress;                       // A pointer to the highest memory address accessible to applications and dynamic-link libraries (DLLs).&#10;    KAFFINITY ActiveProcessorsAffinityMask;                 // A mask representing the set of processors configured in the current processor group. // deprecated &#10;    UCHAR NumberOfProcessors;                               // The number of logical processors in the current processor group. // deprecated&#10;} SYSTEM_BASIC_INFORMATION, *PSYSTEM_BASIC_INFORMATION;">SYSTEM_BASIC_INFORMATION</a>;
</code></pre>

<p>The <strong>NumberOfProcessors</strong> member contains the number of
processors present in the system. Use <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsysteminfo">GetSystemInfo</a> instead to retrieve this
information.</p>

<p>The other members of the structure are reserved for internal
use by the operating system.</p>

<h4 id="system_codeintegrity_information"><a href="system_codeintegrity_information" title="typedef struct _SYSTEM_CODEINTEGRITY_INFORMATION&#10;{&#10;    ULONG Length;&#10;    union&#10;    {&#10;        ULONG CodeIntegrityOptions;&#10;        struct&#10;        {&#10;            ULONG Enabled : 1;&#10;            ULONG TestSign : 1;&#10;            ULONG UmciEnabled : 1;&#10;            ULONG UmciAuditModeEnabled : 1;&#10;            ULONG UmciExclusionPathsEnabled : 1;&#10;            ULONG TestBuild : 1;&#10;            ULONG PreproductionBuild : 1;&#10;            ULONG DebugModeEnabled : 1;&#10;            ULONG FlightBuild : 1;&#10;            ULONG FlightingEnabled : 1;&#10;            ULONG HvciKmciEnabled : 1;&#10;            ULONG HvciKmciAuditModeEnabled : 1;&#10;...">SYSTEM_CODEINTEGRITY_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemCodeIntegrityInformation</strong>, the buffer pointed to by
the <em>SystemInformation</em> parameter should be large enough
to hold a single <strong><a href="system_codeintegrity_information" title="typedef struct _SYSTEM_CODEINTEGRITY_INFORMATION&#10;{&#10;    ULONG Length;&#10;    union&#10;    {&#10;        ULONG CodeIntegrityOptions;&#10;        struct&#10;        {&#10;            ULONG Enabled : 1;&#10;            ULONG TestSign : 1;&#10;            ULONG UmciEnabled : 1;&#10;            ULONG UmciAuditModeEnabled : 1;&#10;            ULONG UmciExclusionPathsEnabled : 1;&#10;            ULONG TestBuild : 1;&#10;            ULONG PreproductionBuild : 1;&#10;            ULONG DebugModeEnabled : 1;&#10;            ULONG FlightBuild : 1;&#10;            ULONG FlightingEnabled : 1;&#10;            ULONG HvciKmciEnabled : 1;&#10;            ULONG HvciKmciAuditModeEnabled : 1;&#10;...">SYSTEM_CODEINTEGRITY_INFORMATION</a></strong> structure
having the following layout:</p>

<pre><code>typedef <a href="system_codeintegrity_information" title="typedef struct _SYSTEM_CODEINTEGRITY_INFORMATION&#10;{&#10;    ULONG Length;&#10;    union&#10;    {&#10;        ULONG CodeIntegrityOptions;&#10;        struct&#10;        {&#10;            ULONG Enabled : 1;&#10;            ULONG TestSign : 1;&#10;            ULONG UmciEnabled : 1;&#10;            ULONG UmciAuditModeEnabled : 1;&#10;            ULONG UmciExclusionPathsEnabled : 1;&#10;            ULONG TestBuild : 1;&#10;            ULONG PreproductionBuild : 1;&#10;            ULONG DebugModeEnabled : 1;&#10;            ULONG FlightBuild : 1;&#10;            ULONG FlightingEnabled : 1;&#10;            ULONG HvciKmciEnabled : 1;&#10;            ULONG HvciKmciAuditModeEnabled : 1;&#10;...">struct _SYSTEM_CODEINTEGRITY_INFORMATION</a> {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  Length;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  CodeIntegrityOptions;
} <a href="system_codeintegrity_information" title="typedef struct _SYSTEM_CODEINTEGRITY_INFORMATION&#10;{&#10;    ULONG Length;&#10;    union&#10;    {&#10;        ULONG CodeIntegrityOptions;&#10;        struct&#10;        {&#10;            ULONG Enabled : 1;&#10;            ULONG TestSign : 1;&#10;            ULONG UmciEnabled : 1;&#10;            ULONG UmciAuditModeEnabled : 1;&#10;            ULONG UmciExclusionPathsEnabled : 1;&#10;            ULONG TestBuild : 1;&#10;            ULONG PreproductionBuild : 1;&#10;            ULONG DebugModeEnabled : 1;&#10;            ULONG FlightBuild : 1;&#10;            ULONG FlightingEnabled : 1;&#10;            ULONG HvciKmciEnabled : 1;&#10;            ULONG HvciKmciAuditModeEnabled : 1;&#10;...">SYSTEM_CODEINTEGRITY_INFORMATION</a>, *<a href="system_codeintegrity_information" title="typedef struct _SYSTEM_CODEINTEGRITY_INFORMATION&#10;{&#10;    ULONG Length;&#10;    union&#10;    {&#10;        ULONG CodeIntegrityOptions;&#10;        struct&#10;        {&#10;            ULONG Enabled : 1;&#10;            ULONG TestSign : 1;&#10;            ULONG UmciEnabled : 1;&#10;            ULONG UmciAuditModeEnabled : 1;&#10;            ULONG UmciExclusionPathsEnabled : 1;&#10;            ULONG TestBuild : 1;&#10;            ULONG PreproductionBuild : 1;&#10;            ULONG DebugModeEnabled : 1;&#10;            ULONG FlightBuild : 1;&#10;            ULONG FlightingEnabled : 1;&#10;            ULONG HvciKmciEnabled : 1;&#10;            ULONG HvciKmciAuditModeEnabled : 1;&#10;...">PSYSTEM_CODEINTEGRITY_INFORMATION</a>;
</code></pre>

<p>The <strong>Length</strong> member contains the size of the structure in bytes. This must be set by the caller.</p>

<p>The <strong>CodeIntegrityOptions</strong> member contains a bitmask to identify code integrity options.</p>

<table>
<thead>
<tr>
  <th></th>
  <th></th>
  <th></th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>Value</strong></td>
  <td></td>
  <td><strong>Meaning</strong></td>
</tr>
<tr>
  <td>0x01</td>
  <td><a href="codeintegrity_option_enabled" title="#define CODEINTEGRITY_OPTION_ENABLED 0x01">CODEINTEGRITY_OPTION_ENABLED</a></td>
  <td>Enforcement of kernel mode Code Integrity is enabled.</td>
</tr>
<tr>
  <td>0x02</td>
  <td><a href="codeintegrity_option_testsign" title="#define CODEINTEGRITY_OPTION_TESTSIGN 0x02">CODEINTEGRITY_OPTION_TESTSIGN</a></td>
  <td>Test signed content is allowed by Code Integrity.</td>
</tr>
<tr>
  <td>0x04</td>
  <td><a href="codeintegrity_option_umci_enabled" title="#define CODEINTEGRITY_OPTION_UMCI_ENABLED 0x04">CODEINTEGRITY_OPTION_UMCI_ENABLED</a></td>
  <td>Enforcement of user mode Code Integrity is enabled.</td>
</tr>
<tr>
  <td>0x08</td>
  <td><a href="codeintegrity_option_umci_auditmode_enabled" title="#define CODEINTEGRITY_OPTION_UMCI_AUDITMODE_ENABLED 0x08">CODEINTEGRITY_OPTION_UMCI_AUDITMODE_ENABLED</a></td>
  <td>Enforcement of user mode Code Integrity is enabled in audit mode. Executables will be allowed to run/load; however, audit events will be recorded.</td>
</tr>
<tr>
  <td>0x10</td>
  <td><a href="codeintegrity_option_umci_exclusionpaths_enabled" title="#define CODEINTEGRITY_OPTION_UMCI_EXCLUSIONPATHS_ENABLED 0x10">CODEINTEGRITY_OPTION_UMCI_EXCLUSIONPATHS_ENABLED</a></td>
  <td>User mode binaries being run from certain paths are allowed to run even if they fail code integrity checks.<br><br>Exclusion paths are listed in the following registry key in REG_MULTI_SZ format:<br><br>* Key: HKLM\SYSTEM\CurrentControlSet\Control\CI\TRSData<br>* Value: TestPath<br><br>Paths added to this key should be in one of two formats:<br><br>* Path (absolute or relative): \Program Files\TestAutomationPath<br>* Binary (specific): \Program Files\TestAutomationPath\mybinary.exe<br><br>The following paths are restricted and cannot be added as an exclusion:<br><br>* &lt;br>* \Windows<br>* \Windows\System32<br>* \Program Files<br><br>Built-in Path Exclusions: The following paths are excluded by default. You don't need to specifically add these to path exclusions. This only applies on ARM (Windows Runtime).<br><br>* \Program Files\WTT<br>* \Program Files (x86)\WTT<br>* \WTT\JobsWorkingDir<br>* \Program Files\Common Files\Model Design Environment<br>* \TAEF<br>* \$ASITEMP<br>* \ATDEVXCT1\WTTInstall<br>* \ATUEXCT1\WTTInstall<br>* \ATESCCT1\WTTInstall<br>* \ATCORECT1\WTTInstall<br>* \ATStressCT1\WTTInstall<br>* \ATWSCCT1\WTTInstall<br>* \ATFUNCT1\WTTInstall<br>* \ATIDCCT1\WTTInstall<br>* \ATDNTCT1\WTTInstall</td>
</tr>
<tr>
  <td>0x20</td>
  <td><a href="codeintegrity_option_test_build" title="#define CODEINTEGRITY_OPTION_TEST_BUILD 0x20">CODEINTEGRITY_OPTION_TEST_BUILD</a></td>
  <td>The build of Code Integrity is from a test build.</td>
</tr>
<tr>
  <td>0x40</td>
  <td><a href="codeintegrity_option_preproduction_build" title="#define CODEINTEGRITY_OPTION_PREPRODUCTION_BUILD 0x40">CODEINTEGRITY_OPTION_PREPRODUCTION_BUILD</a></td>
  <td>The build of Code Integrity is from a pre-production build.</td>
</tr>
<tr>
  <td>0x80</td>
  <td><a href="codeintegrity_option_debugmode_enabled" title="#define CODEINTEGRITY_OPTION_DEBUGMODE_ENABLED 0x80">CODEINTEGRITY_OPTION_DEBUGMODE_ENABLED</a></td>
  <td>The kernel debugger is attached and Code Integrity may allow unsigned code to load.</td>
</tr>
<tr>
  <td>0x100</td>
  <td><a href="codeintegrity_option_flight_build" title="#define CODEINTEGRITY_OPTION_FLIGHT_BUILD 0x100">CODEINTEGRITY_OPTION_FLIGHT_BUILD</a></td>
  <td>The build of Code Integrity is from a flight build.</td>
</tr>
<tr>
  <td>0x200</td>
  <td><a href="codeintegrity_option_flighting_enabled" title="#define CODEINTEGRITY_OPTION_FLIGHTING_ENABLED 0x200">CODEINTEGRITY_OPTION_FLIGHTING_ENABLED</a></td>
  <td>Flight signed content is allowed by Code Integrity. Flight signed content is content signed by the Microsoft Development Root Certificate Authority 2014.</td>
</tr>
<tr>
  <td>0x400</td>
  <td><a href="codeintegrity_option_hvci_kmci_enabled" title="#define CODEINTEGRITY_OPTION_HVCI_KMCI_ENABLED 0x400">CODEINTEGRITY_OPTION_HVCI_KMCI_ENABLED</a></td>
  <td>Hypervisor enforced Code Integrity is enabled for kernel mode components.</td>
</tr>
<tr>
  <td>0x800</td>
  <td><a href="codeintegrity_option_hvci_kmci_auditmode_enabled" title="#define CODEINTEGRITY_OPTION_HVCI_KMCI_AUDITMODE_ENABLED 0x800">CODEINTEGRITY_OPTION_HVCI_KMCI_AUDITMODE_ENABLED</a></td>
  <td>Hypervisor enforced Code Integrity is enabled in audit mode. Audit events will be recorded for kernel mode components that are not compatible with HVCI. This bit can be set whether <a href="codeintegrity_option_hvci_kmci_enabled" title="#define CODEINTEGRITY_OPTION_HVCI_KMCI_ENABLED 0x400">CODEINTEGRITY_OPTION_HVCI_KMCI_ENABLED</a> is set or not.</td>
</tr>
<tr>
  <td>0x1000</td>
  <td><a href="codeintegrity_option_hvci_kmci_strictmode_enabled" title="#define CODEINTEGRITY_OPTION_HVCI_KMCI_STRICTMODE_ENABLED 0x1000">CODEINTEGRITY_OPTION_HVCI_KMCI_STRICTMODE_ENABLED</a></td>
  <td>Hypervisor enforced Code Integrity is enabled for kernel mode components, but in strict mode.</td>
</tr>
<tr>
  <td>0x2000</td>
  <td><a href="codeintegrity_option_hvci_ium_enabled" title="#define CODEINTEGRITY_OPTION_HVCI_IUM_ENABLED 0x2000">CODEINTEGRITY_OPTION_HVCI_IUM_ENABLED</a></td>
  <td>Hypervisor enforced Code Integrity is enabled with enforcement of Isolated User Mode component signing.</td>
</tr>
</tbody>
</table>

<h4 id="system_exception_information"><a href="system_exception_information" title="typedef struct _SYSTEM_EXCEPTION_INFORMATION&#10;{&#10;    ULONG AlignmentFixupCount;&#10;    ULONG ExceptionDispatchCount;&#10;    ULONG FloatingEmulationCount;&#10;    ULONG ByteWordEmulationCount;&#10;} SYSTEM_EXCEPTION_INFORMATION, *PSYSTEM_EXCEPTION_INFORMATION;">SYSTEM_EXCEPTION_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemExceptionInformation</strong>, the buffer pointed to
by the <em>SystemInformation</em> parameter should be large
enough to hold an opaque <strong><a href="system_exception_information" title="typedef struct _SYSTEM_EXCEPTION_INFORMATION&#10;{&#10;    ULONG AlignmentFixupCount;&#10;    ULONG ExceptionDispatchCount;&#10;    ULONG FloatingEmulationCount;&#10;    ULONG ByteWordEmulationCount;&#10;} SYSTEM_EXCEPTION_INFORMATION, *PSYSTEM_EXCEPTION_INFORMATION;">SYSTEM_EXCEPTION_INFORMATION</a></strong> structure for use in
generating an unpredictable seed for a random number generator. For this
purpose, the structure has the following layout:</p>

<pre><code>typedef <a href="system_exception_information" title="typedef struct _SYSTEM_EXCEPTION_INFORMATION&#10;{&#10;    ULONG AlignmentFixupCount;&#10;    ULONG ExceptionDispatchCount;&#10;    ULONG FloatingEmulationCount;&#10;    ULONG ByteWordEmulationCount;&#10;} SYSTEM_EXCEPTION_INFORMATION, *PSYSTEM_EXCEPTION_INFORMATION;">struct _SYSTEM_EXCEPTION_INFORMATION</a> {
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> Reserved1[16];
} <a href="system_exception_information" title="typedef struct _SYSTEM_EXCEPTION_INFORMATION&#10;{&#10;    ULONG AlignmentFixupCount;&#10;    ULONG ExceptionDispatchCount;&#10;    ULONG FloatingEmulationCount;&#10;    ULONG ByteWordEmulationCount;&#10;} SYSTEM_EXCEPTION_INFORMATION, *PSYSTEM_EXCEPTION_INFORMATION;">SYSTEM_EXCEPTION_INFORMATION</a>;
</code></pre>

<p>Individual members of the structure are reserved for internal
use by the operating system.</p>

<p>Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a>
function instead to generate cryptographically random data.</p>

<h4 id="system_interrupt_information"><a href="system_interrupt_information" title="typedef struct _SYSTEM_INTERRUPT_INFORMATION&#10;{&#10;    ULONG ContextSwitches;&#10;    ULONG DpcCount;&#10;    ULONG DpcRate;&#10;    ULONG TimeIncrement;&#10;    ULONG DpcBypassCount;&#10;    ULONG ApcBypassCount;&#10;} SYSTEM_INTERRUPT_INFORMATION, *PSYSTEM_INTERRUPT_INFORMATION;">SYSTEM_INTERRUPT_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemInterruptInformation</strong>, the buffer pointed to
by the <em>SystemInformation</em> parameter should be large
enough to hold an array that contains as many opaque
<strong><a href="system_interrupt_information" title="typedef struct _SYSTEM_INTERRUPT_INFORMATION&#10;{&#10;    ULONG ContextSwitches;&#10;    ULONG DpcCount;&#10;    ULONG DpcRate;&#10;    ULONG TimeIncrement;&#10;    ULONG DpcBypassCount;&#10;    ULONG ApcBypassCount;&#10;} SYSTEM_INTERRUPT_INFORMATION, *PSYSTEM_INTERRUPT_INFORMATION;">SYSTEM_INTERRUPT_INFORMATION</a></strong> structures as there are
processors (CPUs) installed on the system. Each structure, or the array as a whole,
can be used to generate an unpredictable seed for a random number generator. For this
purpose, the structure has the following layout:</p>

<pre><code>typedef <a href="system_interrupt_information" title="typedef struct _SYSTEM_INTERRUPT_INFORMATION&#10;{&#10;    ULONG ContextSwitches;&#10;    ULONG DpcCount;&#10;    ULONG DpcRate;&#10;    ULONG TimeIncrement;&#10;    ULONG DpcBypassCount;&#10;    ULONG ApcBypassCount;&#10;} SYSTEM_INTERRUPT_INFORMATION, *PSYSTEM_INTERRUPT_INFORMATION;">struct _SYSTEM_INTERRUPT_INFORMATION</a> {
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> Reserved1[24];
} <a href="system_interrupt_information" title="typedef struct _SYSTEM_INTERRUPT_INFORMATION&#10;{&#10;    ULONG ContextSwitches;&#10;    ULONG DpcCount;&#10;    ULONG DpcRate;&#10;    ULONG TimeIncrement;&#10;    ULONG DpcBypassCount;&#10;    ULONG ApcBypassCount;&#10;} SYSTEM_INTERRUPT_INFORMATION, *PSYSTEM_INTERRUPT_INFORMATION;">SYSTEM_INTERRUPT_INFORMATION</a>;
</code></pre>

<p>Individual members of the structure are reserved for internal
use by the operating system.</p>

<p>Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a>
function instead to generate cryptographically random data.</p>

<h4 id="system_kernel_va_shadow_information"><a href="system_kernel_va_shadow_information" title="typedef struct _SYSTEM_KERNEL_VA_SHADOW_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG KvaShadowFlags;&#10;        struct&#10;        {&#10;            ULONG KvaShadowEnabled : 1;&#10;            ULONG KvaShadowUserGlobal : 1;&#10;            ULONG KvaShadowPcid : 1;&#10;            ULONG KvaShadowInvpcid : 1;&#10;            ULONG KvaShadowRequired : 1; // REDSTONE4&#10;            ULONG KvaShadowRequiredAvailable : 1;&#10;            ULONG InvalidPteBit : 6;&#10;            ULONG L1DataCacheFlushSupported : 1;&#10;            ULONG L1TerminalFaultMitigationPresent : 1;&#10;            ULONG Reserved : 18;&#10;        } DUMMYSTRUCTNAME;&#10;    } DUMMYUNIONNAME;&#10;} SYSTEM_KERNEL_VA_SHADOW_INFORMATION, *PSYSTEM_KERNEL_VA_SHADOW_INFORMATION;">SYSTEM_KERNEL_VA_SHADOW_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemKernelVaShadowInformation</strong>, the buffer pointed to by
the <em>SystemInformation</em> parameter should be large
enough to hold a single <strong><a href="system_kernel_va_shadow_information" title="typedef struct _SYSTEM_KERNEL_VA_SHADOW_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG KvaShadowFlags;&#10;        struct&#10;        {&#10;            ULONG KvaShadowEnabled : 1;&#10;            ULONG KvaShadowUserGlobal : 1;&#10;            ULONG KvaShadowPcid : 1;&#10;            ULONG KvaShadowInvpcid : 1;&#10;            ULONG KvaShadowRequired : 1; // REDSTONE4&#10;            ULONG KvaShadowRequiredAvailable : 1;&#10;            ULONG InvalidPteBit : 6;&#10;            ULONG L1DataCacheFlushSupported : 1;&#10;            ULONG L1TerminalFaultMitigationPresent : 1;&#10;            ULONG Reserved : 18;&#10;        } DUMMYSTRUCTNAME;&#10;    } DUMMYUNIONNAME;&#10;} SYSTEM_KERNEL_VA_SHADOW_INFORMATION, *PSYSTEM_KERNEL_VA_SHADOW_INFORMATION;">SYSTEM_KERNEL_VA_SHADOW_INFORMATION</a></strong> structure having the following layout:</p>

<pre><code>typedef <a href="system_kernel_va_shadow_information" title="typedef struct _SYSTEM_KERNEL_VA_SHADOW_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG KvaShadowFlags;&#10;        struct&#10;        {&#10;            ULONG KvaShadowEnabled : 1;&#10;            ULONG KvaShadowUserGlobal : 1;&#10;            ULONG KvaShadowPcid : 1;&#10;            ULONG KvaShadowInvpcid : 1;&#10;            ULONG KvaShadowRequired : 1; // REDSTONE4&#10;            ULONG KvaShadowRequiredAvailable : 1;&#10;            ULONG InvalidPteBit : 6;&#10;            ULONG L1DataCacheFlushSupported : 1;&#10;            ULONG L1TerminalFaultMitigationPresent : 1;&#10;            ULONG Reserved : 18;&#10;        } DUMMYSTRUCTNAME;&#10;    } DUMMYUNIONNAME;&#10;} SYSTEM_KERNEL_VA_SHADOW_INFORMATION, *PSYSTEM_KERNEL_VA_SHADOW_INFORMATION;">struct _SYSTEM_KERNEL_VA_SHADOW_INFORMATION</a> {
    struct {
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> KvaShadowEnabled:1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> KvaShadowUserGlobal:1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> KvaShadowPcid:1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> KvaShadowInvpcid:1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> KvaShadowRequired:1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> KvaShadowRequiredAvailable:1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> InvalidPteBit:6;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> L1DataCacheFlushSupported:1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> L1TerminalFaultMitigationPresent:1;
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved:18;
    } KvaShadowFlags;
} <a href="system_kernel_va_shadow_information" title="typedef struct _SYSTEM_KERNEL_VA_SHADOW_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG KvaShadowFlags;&#10;        struct&#10;        {&#10;            ULONG KvaShadowEnabled : 1;&#10;            ULONG KvaShadowUserGlobal : 1;&#10;            ULONG KvaShadowPcid : 1;&#10;            ULONG KvaShadowInvpcid : 1;&#10;            ULONG KvaShadowRequired : 1; // REDSTONE4&#10;            ULONG KvaShadowRequiredAvailable : 1;&#10;            ULONG InvalidPteBit : 6;&#10;            ULONG L1DataCacheFlushSupported : 1;&#10;            ULONG L1TerminalFaultMitigationPresent : 1;&#10;            ULONG Reserved : 18;&#10;        } DUMMYSTRUCTNAME;&#10;    } DUMMYUNIONNAME;&#10;} SYSTEM_KERNEL_VA_SHADOW_INFORMATION, *PSYSTEM_KERNEL_VA_SHADOW_INFORMATION;">SYSTEM_KERNEL_VA_SHADOW_INFORMATION</a>, * <a href="system_kernel_va_shadow_information" title="typedef struct _SYSTEM_KERNEL_VA_SHADOW_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG KvaShadowFlags;&#10;        struct&#10;        {&#10;            ULONG KvaShadowEnabled : 1;&#10;            ULONG KvaShadowUserGlobal : 1;&#10;            ULONG KvaShadowPcid : 1;&#10;            ULONG KvaShadowInvpcid : 1;&#10;            ULONG KvaShadowRequired : 1; // REDSTONE4&#10;            ULONG KvaShadowRequiredAvailable : 1;&#10;            ULONG InvalidPteBit : 6;&#10;            ULONG L1DataCacheFlushSupported : 1;&#10;            ULONG L1TerminalFaultMitigationPresent : 1;&#10;            ULONG Reserved : 18;&#10;        } DUMMYSTRUCTNAME;&#10;    } DUMMYUNIONNAME;&#10;} SYSTEM_KERNEL_VA_SHADOW_INFORMATION, *PSYSTEM_KERNEL_VA_SHADOW_INFORMATION;">PSYSTEM_KERNEL_VA_SHADOW_INFORMATION</a>;
</code></pre>

<p>The <strong>KvaShadowEnabled</strong> indicates whether shadowing is enabled.</p>

<p>The <strong>KvaShadowUserGlobal</strong> indicates that user/global is enabled.</p>

<p>The <strong>KvaShadowPcid</strong> indicates whether PCID is enabled.</p>

<p>The <strong>KvaShadowInvpcid</strong> indicates whether PCID is enabled and whether INVPCID is in use.</p>

<p>The <strong>KvaShadowRequired</strong> indicates whether the hardware is known to be susceptible to CVE-2017-5754.</p>

<p>The <strong>KvaShadowRequiredAvailable</strong> indicates whether the <strong>KvaShadowRequired</strong> field is supported by the operating system.</p>

<p>The <strong>InvalidPteBit</strong> indicates the physical address bit that is used for invalid page table entries, or zero if not set.</p>

<p>The <strong>L1DataCacheFlushSupported</strong> indicates whether the hardware supports L1 data cache flushing.</p>

<p>The <strong>L1TerminalFaultMitigationPresent</strong> indicates whether the operating system supports the L1 terminal fault (CVE-2018-3620) operating system mitigation.</p>

<p>The <strong>Reserved</strong> member of the structure is reserved for internal use by the
operating system.</p>

<h4 id="system_leap_second_information">SYSTEM_LEAP_SECOND_INFORMATION</h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemLeapSecondInformation</strong>, the buffer pointed to
by the <em>SystemInformation</em> parameter should be large
enough to hold an opaque <strong>SYSTEM_LEAP_SECOND_INFORMATION</strong> structure for use in
enabling or disabling leap seconds system-wide. This setting will persist even after a reboot of the system. For this
purpose, the structure has the following layout:</p>

<pre><code>typedef struct _SYSTEM_LEAP_SECOND_INFORMATION {
    BOOLEAN Enabled;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Flags;
} SYSTEM_LEAP_SECOND_INFORMATION
</code></pre>

<p>The <strong>Flags</strong> field is reserved for future use.</p>

<h4 id="system_lookaside_information"><a href="system_lookaside_information" title="typedef struct _SYSTEM_LOOKASIDE_INFORMATION&#10;{&#10;    USHORT CurrentDepth;&#10;    USHORT MaximumDepth;&#10;    ULONG TotalAllocates;&#10;    ULONG AllocateMisses;&#10;    ULONG TotalFrees;&#10;    ULONG FreeMisses;&#10;    ULONG Type;&#10;    ULONG Tag;&#10;    ULONG Size;&#10;} SYSTEM_LOOKASIDE_INFORMATION, *PSYSTEM_LOOKASIDE_INFORMATION;">SYSTEM_LOOKASIDE_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemLookasideInformation</strong>, the buffer pointed to
by the <em>SystemInformation</em> parameter should be large
enough to hold an opaque <strong><a href="system_lookaside_information" title="typedef struct _SYSTEM_LOOKASIDE_INFORMATION&#10;{&#10;    USHORT CurrentDepth;&#10;    USHORT MaximumDepth;&#10;    ULONG TotalAllocates;&#10;    ULONG AllocateMisses;&#10;    ULONG TotalFrees;&#10;    ULONG FreeMisses;&#10;    ULONG Type;&#10;    ULONG Tag;&#10;    ULONG Size;&#10;} SYSTEM_LOOKASIDE_INFORMATION, *PSYSTEM_LOOKASIDE_INFORMATION;">SYSTEM_LOOKASIDE_INFORMATION</a></strong> structure for use in
generating an unpredictable seed for a random number generator. For this
purpose, the structure has the following layout:</p>

<pre><code>typedef <a href="system_lookaside_information" title="typedef struct _SYSTEM_LOOKASIDE_INFORMATION&#10;{&#10;    USHORT CurrentDepth;&#10;    USHORT MaximumDepth;&#10;    ULONG TotalAllocates;&#10;    ULONG AllocateMisses;&#10;    ULONG TotalFrees;&#10;    ULONG FreeMisses;&#10;    ULONG Type;&#10;    ULONG Tag;&#10;    ULONG Size;&#10;} SYSTEM_LOOKASIDE_INFORMATION, *PSYSTEM_LOOKASIDE_INFORMATION;">struct _SYSTEM_LOOKASIDE_INFORMATION</a> {
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> Reserved1[32];
} <a href="system_lookaside_information" title="typedef struct _SYSTEM_LOOKASIDE_INFORMATION&#10;{&#10;    USHORT CurrentDepth;&#10;    USHORT MaximumDepth;&#10;    ULONG TotalAllocates;&#10;    ULONG AllocateMisses;&#10;    ULONG TotalFrees;&#10;    ULONG FreeMisses;&#10;    ULONG Type;&#10;    ULONG Tag;&#10;    ULONG Size;&#10;} SYSTEM_LOOKASIDE_INFORMATION, *PSYSTEM_LOOKASIDE_INFORMATION;">SYSTEM_LOOKASIDE_INFORMATION</a>;
</code></pre>

<p>Individual members of the structure are reserved for internal
use by the operating system.</p>

<p>Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a>
function instead to generate cryptographically random data.</p>

<h4 id="system_performance_information"><a href="system_performance_information" title="typedef struct _SYSTEM_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleProcessTime;&#10;    LARGE_INTEGER IoReadTransferCount;&#10;    LARGE_INTEGER IoWriteTransferCount;&#10;    LARGE_INTEGER IoOtherTransferCount;&#10;    ULONG IoReadOperationCount;&#10;    ULONG IoWriteOperationCount;&#10;    ULONG IoOtherOperationCount;&#10;    ULONG AvailablePages;&#10;    ULONG CommittedPages;&#10;    ULONG CommitLimit;&#10;    ULONG PeakCommitment;&#10;    ULONG PageFaultCount;&#10;    ULONG CopyOnWriteCount;&#10;    ULONG TransitionCount;&#10;    ULONG CacheTransitionCount;&#10;    ULONG DemandZeroCount;&#10;    ULONG PageReadCount;&#10;    ULONG PageReadIoCount;&#10;...">SYSTEM_PERFORMANCE_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemPerformanceInformation</strong>, the buffer pointed to
by the <em>SystemInformation</em> parameter should be large
enough to hold an opaque <strong><a href="system_performance_information" title="typedef struct _SYSTEM_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleProcessTime;&#10;    LARGE_INTEGER IoReadTransferCount;&#10;    LARGE_INTEGER IoWriteTransferCount;&#10;    LARGE_INTEGER IoOtherTransferCount;&#10;    ULONG IoReadOperationCount;&#10;    ULONG IoWriteOperationCount;&#10;    ULONG IoOtherOperationCount;&#10;    ULONG AvailablePages;&#10;    ULONG CommittedPages;&#10;    ULONG CommitLimit;&#10;    ULONG PeakCommitment;&#10;    ULONG PageFaultCount;&#10;    ULONG CopyOnWriteCount;&#10;    ULONG TransitionCount;&#10;    ULONG CacheTransitionCount;&#10;    ULONG DemandZeroCount;&#10;    ULONG PageReadCount;&#10;    ULONG PageReadIoCount;&#10;...">SYSTEM_PERFORMANCE_INFORMATION</a></strong> structure for use in
generating an unpredictable seed for a random number generator. For this
purpose, the structure has the following layout:</p>

<pre><code>typedef <a href="system_performance_information" title="typedef struct _SYSTEM_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleProcessTime;&#10;    LARGE_INTEGER IoReadTransferCount;&#10;    LARGE_INTEGER IoWriteTransferCount;&#10;    LARGE_INTEGER IoOtherTransferCount;&#10;    ULONG IoReadOperationCount;&#10;    ULONG IoWriteOperationCount;&#10;    ULONG IoOtherOperationCount;&#10;    ULONG AvailablePages;&#10;    ULONG CommittedPages;&#10;    ULONG CommitLimit;&#10;    ULONG PeakCommitment;&#10;    ULONG PageFaultCount;&#10;    ULONG CopyOnWriteCount;&#10;    ULONG TransitionCount;&#10;    ULONG CacheTransitionCount;&#10;    ULONG DemandZeroCount;&#10;    ULONG PageReadCount;&#10;    ULONG PageReadIoCount;&#10;...">struct _SYSTEM_PERFORMANCE_INFORMATION</a> {
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> Reserved1[312];
} <a href="system_performance_information" title="typedef struct _SYSTEM_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleProcessTime;&#10;    LARGE_INTEGER IoReadTransferCount;&#10;    LARGE_INTEGER IoWriteTransferCount;&#10;    LARGE_INTEGER IoOtherTransferCount;&#10;    ULONG IoReadOperationCount;&#10;    ULONG IoWriteOperationCount;&#10;    ULONG IoOtherOperationCount;&#10;    ULONG AvailablePages;&#10;    ULONG CommittedPages;&#10;    ULONG CommitLimit;&#10;    ULONG PeakCommitment;&#10;    ULONG PageFaultCount;&#10;    ULONG CopyOnWriteCount;&#10;    ULONG TransitionCount;&#10;    ULONG CacheTransitionCount;&#10;    ULONG DemandZeroCount;&#10;    ULONG PageReadCount;&#10;    ULONG PageReadIoCount;&#10;...">SYSTEM_PERFORMANCE_INFORMATION</a>;
</code></pre>

<p>Individual members of the structure are reserved for internal
use by the operating system.</p>

<p>Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a>
function instead to generate cryptographically random data.</p>

<h4 id="system_policy_information"><a href="system_policy_information" title="typedef struct _SYSTEM_POLICY_INFORMATION&#10;{&#10;    PVOID InputData;&#10;    PVOID OutputData;&#10;    ULONG InputDataSize;&#10;    ULONG OutputDataSize;&#10;    ULONG Version;&#10;} SYSTEM_POLICY_INFORMATION, *PSYSTEM_POLICY_INFORMATION;">SYSTEM_POLICY_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemPolicyInformation</strong>, the buffer pointed to
by the <em>SystemInformation</em> parameter should be large
enough to hold a single <strong><a href="system_policy_information" title="typedef struct _SYSTEM_POLICY_INFORMATION&#10;{&#10;    PVOID InputData;&#10;    PVOID OutputData;&#10;    ULONG InputDataSize;&#10;    ULONG OutputDataSize;&#10;    ULONG Version;&#10;} SYSTEM_POLICY_INFORMATION, *PSYSTEM_POLICY_INFORMATION;">SYSTEM_POLICY_INFORMATION</a></strong> structure having the following layout:</p>

<pre><code>typedef <a href="system_policy_information" title="typedef struct _SYSTEM_POLICY_INFORMATION&#10;{&#10;    PVOID InputData;&#10;    PVOID OutputData;&#10;    ULONG InputDataSize;&#10;    ULONG OutputDataSize;&#10;    ULONG Version;&#10;} SYSTEM_POLICY_INFORMATION, *PSYSTEM_POLICY_INFORMATION;">struct _SYSTEM_POLICY_INFORMATION</a> {
    PVOID Reserved1[2];
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved2[3];
} <a href="system_policy_information" title="typedef struct _SYSTEM_POLICY_INFORMATION&#10;{&#10;    PVOID InputData;&#10;    PVOID OutputData;&#10;    ULONG InputDataSize;&#10;    ULONG OutputDataSize;&#10;    ULONG Version;&#10;} SYSTEM_POLICY_INFORMATION, *PSYSTEM_POLICY_INFORMATION;">SYSTEM_POLICY_INFORMATION</a>;
</code></pre>

<p>Individual members of the structure are reserved for internal
use by the operating system.</p>

<p>Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/slpublic/nf-slpublic-slgetwindowsinformation">SLGetWindowsInformation</a>
function instead to obtain policy information.</p>

<h4 id="system_process_information"><a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemProcessInformation</strong>, the buffer pointed to by
the <em>SystemInformation</em> parameter contains a <strong><a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a></strong> structure for each process. Each of these structures is immediately followed in memory by one or more <strong><a href="system_thread_information" title="typedef struct _SYSTEM_THREAD_INFORMATION&#10;{&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals spent executing kernel code.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals spent executing user code.&#10;    LARGE_INTEGER CreateTime;                   // The date and time when the thread was created.&#10;    ULONG WaitTime;                             // The current time spent in ready queue or waiting (depending on the thread state).&#10;    PVOID StartAddress;                         // The initial start address of the thread.&#10;    CLIENT_ID ClientId;                         // The identifier of the thread and the process owning the thread.&#10;    KPRIORITY Priority;                         // The dynamic priority of the thread.&#10;    KPRIORITY BasePriority;                     // The starting priority of the thread.&#10;    ULONG ContextSwitches;                      // The total number of context switches performed.&#10;    KTHREAD_STATE ThreadState;                  // The current state of the thread.&#10;    KWAIT_REASON WaitReason;                    // The current reason the thread is waiting.&#10;} SYSTEM_THREAD_INFORMATION, *PSYSTEM_THREAD_INFORMATION;">SYSTEM_THREAD_INFORMATION</a></strong> structures that provide info for each thread in the preceding process. For more information about <strong><a href="system_thread_information" title="typedef struct _SYSTEM_THREAD_INFORMATION&#10;{&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals spent executing kernel code.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals spent executing user code.&#10;    LARGE_INTEGER CreateTime;                   // The date and time when the thread was created.&#10;    ULONG WaitTime;                             // The current time spent in ready queue or waiting (depending on the thread state).&#10;    PVOID StartAddress;                         // The initial start address of the thread.&#10;    CLIENT_ID ClientId;                         // The identifier of the thread and the process owning the thread.&#10;    KPRIORITY Priority;                         // The dynamic priority of the thread.&#10;    KPRIORITY BasePriority;                     // The starting priority of the thread.&#10;    ULONG ContextSwitches;                      // The total number of context switches performed.&#10;    KTHREAD_STATE ThreadState;                  // The current state of the thread.&#10;    KWAIT_REASON WaitReason;                    // The current reason the thread is waiting.&#10;} SYSTEM_THREAD_INFORMATION, *PSYSTEM_THREAD_INFORMATION;">SYSTEM_THREAD_INFORMATION</a></strong>, see the section about this structure in this article.</p>

<p>The buffer pointed to by
the <em>SystemInformation</em> parameter should be large enough
to hold an array that contains as many <strong><a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a></strong> and <strong><a href="system_thread_information" title="typedef struct _SYSTEM_THREAD_INFORMATION&#10;{&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals spent executing kernel code.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals spent executing user code.&#10;    LARGE_INTEGER CreateTime;                   // The date and time when the thread was created.&#10;    ULONG WaitTime;                             // The current time spent in ready queue or waiting (depending on the thread state).&#10;    PVOID StartAddress;                         // The initial start address of the thread.&#10;    CLIENT_ID ClientId;                         // The identifier of the thread and the process owning the thread.&#10;    KPRIORITY Priority;                         // The dynamic priority of the thread.&#10;    KPRIORITY BasePriority;                     // The starting priority of the thread.&#10;    ULONG ContextSwitches;                      // The total number of context switches performed.&#10;    KTHREAD_STATE ThreadState;                  // The current state of the thread.&#10;    KWAIT_REASON WaitReason;                    // The current reason the thread is waiting.&#10;} SYSTEM_THREAD_INFORMATION, *PSYSTEM_THREAD_INFORMATION;">SYSTEM_THREAD_INFORMATION</a></strong> structures as
there are processes and threads running in the system. This size is specified by the <em>ReturnLength</em> parameter.</p>

<p>Each <strong><a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a></strong> structure has the following
layout:</p>

<pre><code>typedef <a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">struct _SYSTEM_PROCESS_INFORMATION</a> {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NextEntryOffset;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NumberOfThreads;
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> Reserved1[48];
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> ImageName;
    <a href="kpriority" title="typedef LONG KPRIORITY, *PKPRIORITY;">KPRIORITY</a> BasePriority;
    HANDLE UniqueProcessId;
    HANDLE InheritedFromUniqueProcessId;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> HandleCount;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SessionId;
    PVOID Reserved3;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> PeakVirtualSize;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> VirtualSize;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved4;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> PeakWorkingSetSize;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> WorkingSetSize;
    PVOID Reserved5;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> QuotaPagedPoolUsage;
    PVOID Reserved6;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> QuotaNonPagedPoolUsage;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> PagefileUsage;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> PeakPagefileUsage;
    <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> PrivatePageCount;
    LARGE_INTEGER Reserved7[6];
} <a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a>;
</code></pre>

<p>The start of the next item in the array is the address of the previous item plus the value in the <strong>NextEntryOffset</strong> member. For the last item in the array, <strong>NextEntryOffset</strong> is 0.</p>

<p>The <strong>NumberOfThreads</strong> member contains the number of threads in the process.</p>

<p>The <strong>ImageName</strong> member contains the process's image name.</p>

<p>The <strong>BasePriority</strong> member contains the base priority of the process, which is the starting priority for threads created within the associated process.</p>

<p>The <strong>UniqueProcessId</strong> member contains the process's unique process ID.</p>

<p>The <strong>InheritedFromUniqueProcessId</strong> member contains the unique process ID of its parent.</p>

<p>The <strong>HandleCount</strong> member contains the total number
of handles being used by the process in question; use <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getprocesshandlecount">GetProcessHandleCount</a> to retrieve this information
instead.</p>

<p>The <strong>SessionId</strong> member contains the session identifier of the process session.</p>

<p>The <strong>PeakVirtualSize</strong> member contains the peak size, in bytes, of the virtual memory used by the process.</p>

<p>The <strong>VirtualSize</strong> member contains the current size, in bytes, of virtual memory used by the process.</p>

<p>The <strong>PeakWorkingSetSize</strong> member contains the peak size, in kilobytes, of the working set of the process.</p>

<p>The <strong>QuotaPagedPoolUsage</strong> member contains the current quota charged to the process for paged pool usage.</p>

<p>The <strong>QuotaNonPagedPoolUsage</strong> member contains the current quota charged to the process for nonpaged pool usage.</p>

<p>The <strong>PagefileUsage</strong> member contains the number of bytes of page file storage in use by the process.</p>

<p>The <strong>PeakPagefileUsage</strong> member contains the
maximum number of bytes of page-file storage used by the process.</p>

<p>The <strong>PrivatePageCount</strong> member contains the number of memory
pages allocated for the use of this process.</p>

<p>You can also retrieve the <strong>PeakWorkingSetSize</strong>, <strong>QuotaPagedPoolUsage</strong>, <strong>QuotaNonPagedPoolUsage</strong>, <strong>PagefileUsage</strong>, <strong>PeakPagefileUsage</strong>, and <strong>PrivatePageCount</strong> information using either the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/psapi/nf-psapi-getprocessmemoryinfo">GetProcessMemoryInfo</a> function or the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/CIMWin32Prov/win32-process">Win32_Process</a> class.</p>

<p>The other members of the structure are reserved for internal use by the
operating system.</p>

<h4 id="system_thread_information"><a href="system_thread_information" title="typedef struct _SYSTEM_THREAD_INFORMATION&#10;{&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals spent executing kernel code.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals spent executing user code.&#10;    LARGE_INTEGER CreateTime;                   // The date and time when the thread was created.&#10;    ULONG WaitTime;                             // The current time spent in ready queue or waiting (depending on the thread state).&#10;    PVOID StartAddress;                         // The initial start address of the thread.&#10;    CLIENT_ID ClientId;                         // The identifier of the thread and the process owning the thread.&#10;    KPRIORITY Priority;                         // The dynamic priority of the thread.&#10;    KPRIORITY BasePriority;                     // The starting priority of the thread.&#10;    ULONG ContextSwitches;                      // The total number of context switches performed.&#10;    KTHREAD_STATE ThreadState;                  // The current state of the thread.&#10;    KWAIT_REASON WaitReason;                    // The current reason the thread is waiting.&#10;} SYSTEM_THREAD_INFORMATION, *PSYSTEM_THREAD_INFORMATION;">SYSTEM_THREAD_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemProcessInformation</strong>, the buffer pointed to by
the <em>SystemInformation</em> parameter contains a <strong><a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a></strong> structure for each process. Each of these structures is immediately followed in memory by one or more <strong><a href="system_thread_information" title="typedef struct _SYSTEM_THREAD_INFORMATION&#10;{&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals spent executing kernel code.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals spent executing user code.&#10;    LARGE_INTEGER CreateTime;                   // The date and time when the thread was created.&#10;    ULONG WaitTime;                             // The current time spent in ready queue or waiting (depending on the thread state).&#10;    PVOID StartAddress;                         // The initial start address of the thread.&#10;    CLIENT_ID ClientId;                         // The identifier of the thread and the process owning the thread.&#10;    KPRIORITY Priority;                         // The dynamic priority of the thread.&#10;    KPRIORITY BasePriority;                     // The starting priority of the thread.&#10;    ULONG ContextSwitches;                      // The total number of context switches performed.&#10;    KTHREAD_STATE ThreadState;                  // The current state of the thread.&#10;    KWAIT_REASON WaitReason;                    // The current reason the thread is waiting.&#10;} SYSTEM_THREAD_INFORMATION, *PSYSTEM_THREAD_INFORMATION;">SYSTEM_THREAD_INFORMATION</a></strong> structures that provide info for each thread in the preceding process. For more information about <strong><a href="system_process_information" title="typedef struct _SYSTEM_PROCESS_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;                      // The address of the previous item plus the value in the NextEntryOffset member. For the last item in the array, NextEntryOffset is 0.&#10;    ULONG NumberOfThreads;                      // The NumberOfThreads member contains the number of threads in the process.&#10;    ULONGLONG WorkingSetPrivateSize;            // The total private memory that a process currently has allocated and is physically resident in memory. // since VISTA&#10;    ULONG HardFaultCount;                       // The total number of hard faults for data from disk rather than from in-memory pages. // since WIN7&#10;    ULONG NumberOfThreadsHighWatermark;         // The peak number of threads that were running at any given point in time, indicative of potential performance bottlenecks related to thread management.&#10;    ULONGLONG CycleTime;                        // The sum of the cycle time of all threads in the process.&#10;    LARGE_INTEGER CreateTime;                   // Number of 100-nanosecond intervals since the creation time of the process. Not updated during system timezone changes.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals the process has executed in user mode.&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals the process has executed in kernel mode.&#10;    UNICODE_STRING ImageName;                   // The file name of the executable image.&#10;    KPRIORITY BasePriority;                     // The starting priority of the process.&#10;    HANDLE UniqueProcessId;                     // The identifier of the process.&#10;    HANDLE InheritedFromUniqueProcessId;        // The identifier of the process that created this process. Not updated and incorrectly refers to processes with recycled identifiers. &#10;    ULONG HandleCount;                          // The current number of open handles used by the process.&#10;    ULONG SessionId;                            // The identifier of the Remote Desktop Services session under which the specified process is running. &#10;    ULONG_PTR UniqueProcessKey;                 // since VISTA (requires SystemExtendedProcessInformation)&#10;    SIZE_T PeakVirtualSize;                     // The peak size, in bytes, of the virtual memory used by the process.&#10;    SIZE_T VirtualSize;                         // The current size, in bytes, of virtual memory used by the process.&#10;...">SYSTEM_PROCESS_INFORMATION</a></strong>, see the section about this structure in this article. Each <strong><a href="system_thread_information" title="typedef struct _SYSTEM_THREAD_INFORMATION&#10;{&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals spent executing kernel code.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals spent executing user code.&#10;    LARGE_INTEGER CreateTime;                   // The date and time when the thread was created.&#10;    ULONG WaitTime;                             // The current time spent in ready queue or waiting (depending on the thread state).&#10;    PVOID StartAddress;                         // The initial start address of the thread.&#10;    CLIENT_ID ClientId;                         // The identifier of the thread and the process owning the thread.&#10;    KPRIORITY Priority;                         // The dynamic priority of the thread.&#10;    KPRIORITY BasePriority;                     // The starting priority of the thread.&#10;    ULONG ContextSwitches;                      // The total number of context switches performed.&#10;    KTHREAD_STATE ThreadState;                  // The current state of the thread.&#10;    KWAIT_REASON WaitReason;                    // The current reason the thread is waiting.&#10;} SYSTEM_THREAD_INFORMATION, *PSYSTEM_THREAD_INFORMATION;">SYSTEM_THREAD_INFORMATION</a></strong> structure has the following
layout:</p>

<pre><code>typedef <a href="system_thread_information" title="typedef struct _SYSTEM_THREAD_INFORMATION&#10;{&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals spent executing kernel code.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals spent executing user code.&#10;    LARGE_INTEGER CreateTime;                   // The date and time when the thread was created.&#10;    ULONG WaitTime;                             // The current time spent in ready queue or waiting (depending on the thread state).&#10;    PVOID StartAddress;                         // The initial start address of the thread.&#10;    CLIENT_ID ClientId;                         // The identifier of the thread and the process owning the thread.&#10;    KPRIORITY Priority;                         // The dynamic priority of the thread.&#10;    KPRIORITY BasePriority;                     // The starting priority of the thread.&#10;    ULONG ContextSwitches;                      // The total number of context switches performed.&#10;    KTHREAD_STATE ThreadState;                  // The current state of the thread.&#10;    KWAIT_REASON WaitReason;                    // The current reason the thread is waiting.&#10;} SYSTEM_THREAD_INFORMATION, *PSYSTEM_THREAD_INFORMATION;">struct _SYSTEM_THREAD_INFORMATION</a> {
    LARGE_INTEGER Reserved1[3];
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved2;
    PVOID StartAddress;
    <a href="client_id" title="typedef struct _CLIENT_ID&#10;{&#10;    HANDLE UniqueProcess;&#10;    HANDLE UniqueThread;&#10;} CLIENT_ID, *PCLIENT_ID;">CLIENT_ID</a> ClientId;
    <a href="kpriority" title="typedef LONG KPRIORITY, *PKPRIORITY;">KPRIORITY</a> Priority;
    <a href="long" title="typedef long LONG;">LONG</a> BasePriority;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved3;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ThreadState;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> WaitReason;
} <a href="system_thread_information" title="typedef struct _SYSTEM_THREAD_INFORMATION&#10;{&#10;    LARGE_INTEGER KernelTime;                   // Number of 100-nanosecond intervals spent executing kernel code.&#10;    LARGE_INTEGER UserTime;                     // Number of 100-nanosecond intervals spent executing user code.&#10;    LARGE_INTEGER CreateTime;                   // The date and time when the thread was created.&#10;    ULONG WaitTime;                             // The current time spent in ready queue or waiting (depending on the thread state).&#10;    PVOID StartAddress;                         // The initial start address of the thread.&#10;    CLIENT_ID ClientId;                         // The identifier of the thread and the process owning the thread.&#10;    KPRIORITY Priority;                         // The dynamic priority of the thread.&#10;    KPRIORITY BasePriority;                     // The starting priority of the thread.&#10;    ULONG ContextSwitches;                      // The total number of context switches performed.&#10;    KTHREAD_STATE ThreadState;                  // The current state of the thread.&#10;    KWAIT_REASON WaitReason;                    // The current reason the thread is waiting.&#10;} SYSTEM_THREAD_INFORMATION, *PSYSTEM_THREAD_INFORMATION;">SYSTEM_THREAD_INFORMATION</a>;
</code></pre>

<p>The <strong>StartAddress</strong> member contains the start address of the thread.</p>

<p>The <strong>ClientId</strong> member contains the
ID of the thread and the process owning the thread.</p>

<p>The <strong>Priority</strong> member contains the
dynamic thread priority.</p>

<p>The <strong>BasePriority</strong> member contains the
base thread priority.</p>

<p>The <strong>ThreadState</strong> member contains the current thread state.</p>

<p>The <strong>WaitReason</strong> member contains the reason the thread is waiting.</p>

<p>The other members of the structure are reserved for internal use by the
operating system.</p>

<h4 id="system_processor_performance_information"><a href="system_processor_performance_information" title="typedef struct _SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleTime;&#10;    LARGE_INTEGER KernelTime;&#10;    LARGE_INTEGER UserTime;&#10;    LARGE_INTEGER DpcTime;&#10;    LARGE_INTEGER InterruptTime;&#10;    ULONG InterruptCount;&#10;    ULONG Spare0;&#10;} SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION, *PSYSTEM_PROCESSOR_PERFORMANCE_INFORMATION;">SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemProcessorPerformanceInformation</strong>, the buffer
pointed to by the <em>SystemInformation</em> parameter should
be large enough to hold an array that contains as many <strong><a href="system_processor_performance_information" title="typedef struct _SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleTime;&#10;    LARGE_INTEGER KernelTime;&#10;    LARGE_INTEGER UserTime;&#10;    LARGE_INTEGER DpcTime;&#10;    LARGE_INTEGER InterruptTime;&#10;    ULONG InterruptCount;&#10;    ULONG Spare0;&#10;} SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION, *PSYSTEM_PROCESSOR_PERFORMANCE_INFORMATION;">SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION</a></strong> structures as there are processors (CPUs) installed in the system. Each
structure has the following layout:</p>

<pre><code>typedef struct
_SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION {
    LARGE_INTEGER IdleTime;
    LARGE_INTEGER KernelTime;
    LARGE_INTEGER UserTime;
    LARGE_INTEGER Reserved1[2];
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved2;
} <a href="system_processor_performance_information" title="typedef struct _SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION&#10;{&#10;    LARGE_INTEGER IdleTime;&#10;    LARGE_INTEGER KernelTime;&#10;    LARGE_INTEGER UserTime;&#10;    LARGE_INTEGER DpcTime;&#10;    LARGE_INTEGER InterruptTime;&#10;    ULONG InterruptCount;&#10;    ULONG Spare0;&#10;} SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION, *PSYSTEM_PROCESSOR_PERFORMANCE_INFORMATION;">SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION</a>;
</code></pre>

<p>The <strong>IdleTime</strong> member contains the amount of time
that the system has been idle, in 100-nanosecond intervals.</p>

<p>The <strong>KernelTime</strong> member contains the amount of time
that the system has spent executing in Kernel mode (including all threads in all
processes, on all processors), in 100-nanosecond intervals.</p>

<p>The <strong>UserTime</strong> member contains the amount of time
that the system has spent executing in User mode (including all threads in all
processes, on all processors), in 100-nanosecond intervals.</p>

<p>Use <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getsystemtimes">GetSystemTimes</a> instead to retrieve this information.</p>

<h4 id="system_query_performance_counter_information"><a href="system_query_performance_counter_information" title="typedef struct _SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION&#10;{&#10;    ULONG Version;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS Flags;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS ValidFlags;&#10;} SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION, *PSYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION;">SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is <strong>SystemQueryPerformanceCounterInformation</strong>, the buffer pointed to by the <em>SystemInformation</em> parameter should be large
enough to hold a single <strong><a href="system_query_performance_counter_information" title="typedef struct _SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION&#10;{&#10;    ULONG Version;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS Flags;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS ValidFlags;&#10;} SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION, *PSYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION;">SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION</a></strong> structure having the following layout:</p>

<pre><code>typedef <a href="system_query_performance_counter_information" title="typedef struct _SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION&#10;{&#10;    ULONG Version;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS Flags;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS ValidFlags;&#10;} SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION, *PSYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION;">struct _SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION</a> {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                           Version;
    <a href="query_performance_counter_flags" title="typedef struct _QUERY_PERFORMANCE_COUNTER_FLAGS&#10;{&#10;    union&#10;    {&#10;        struct&#10;        {&#10;            ULONG KernelTransition : 1;&#10;            ULONG Reserved : 31;&#10;        };&#10;        ULONG ul;&#10;    };&#10;} QUERY_PERFORMANCE_COUNTER_FLAGS;">QUERY_PERFORMANCE_COUNTER_FLAGS</a> Flags;
    <a href="query_performance_counter_flags" title="typedef struct _QUERY_PERFORMANCE_COUNTER_FLAGS&#10;{&#10;    union&#10;    {&#10;        struct&#10;        {&#10;            ULONG KernelTransition : 1;&#10;            ULONG Reserved : 31;&#10;        };&#10;        ULONG ul;&#10;    };&#10;} QUERY_PERFORMANCE_COUNTER_FLAGS;">QUERY_PERFORMANCE_COUNTER_FLAGS</a> ValidFlags;
} <a href="system_query_performance_counter_information" title="typedef struct _SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION&#10;{&#10;    ULONG Version;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS Flags;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS ValidFlags;&#10;} SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION, *PSYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION;">SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION</a>;

</code></pre>

<p>The <strong>Flags</strong> and <strong>ValidFlags</strong> members are <strong><a href="query_performance_counter_flags" title="typedef struct _QUERY_PERFORMANCE_COUNTER_FLAGS&#10;{&#10;    union&#10;    {&#10;        struct&#10;        {&#10;            ULONG KernelTransition : 1;&#10;            ULONG Reserved : 31;&#10;        };&#10;        ULONG ul;&#10;    };&#10;} QUERY_PERFORMANCE_COUNTER_FLAGS;">QUERY_PERFORMANCE_COUNTER_FLAGS</a></strong> structures having the following layout:</p>

<pre><code>typedef <a href="query_performance_counter_flags" title="typedef struct _QUERY_PERFORMANCE_COUNTER_FLAGS&#10;{&#10;    union&#10;    {&#10;        struct&#10;        {&#10;            ULONG KernelTransition : 1;&#10;            ULONG Reserved : 31;&#10;        };&#10;        ULONG ul;&#10;    };&#10;} QUERY_PERFORMANCE_COUNTER_FLAGS;">struct _QUERY_PERFORMANCE_COUNTER_FLAGS</a> {
    union {
        struct {
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> KernelTransition:1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved:31;
        };
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ul;
    };
} <a href="query_performance_counter_flags" title="typedef struct _QUERY_PERFORMANCE_COUNTER_FLAGS&#10;{&#10;    union&#10;    {&#10;        struct&#10;        {&#10;            ULONG KernelTransition : 1;&#10;            ULONG Reserved : 31;&#10;        };&#10;        ULONG ul;&#10;    };&#10;} QUERY_PERFORMANCE_COUNTER_FLAGS;">QUERY_PERFORMANCE_COUNTER_FLAGS</a>;
</code></pre>

<p>The <strong>ValidFlags</strong> member of the <strong><a href="system_query_performance_counter_information" title="typedef struct _SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION&#10;{&#10;    ULONG Version;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS Flags;&#10;    QUERY_PERFORMANCE_COUNTER_FLAGS ValidFlags;&#10;} SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION, *PSYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION;">SYSTEM_QUERY_PERFORMANCE_COUNTER_INFORMATION</a></strong> structure indicates which bits of the <strong>Flags</strong> member contain valid information. If a kernel transition is required, the <strong>KernelTransition</strong> bit is set in both <strong>ValidFlags</strong> and <strong>Flags</strong>. If a kernel transition is not required, the <strong>KernelTransition</strong> bit is set in <strong>ValidFlags</strong> and clear in <strong>Flags</strong>.</p>

<h4 id="system_registry_quota_information"><a href="system_registry_quota_information" title="typedef struct _SYSTEM_REGISTRY_QUOTA_INFORMATION&#10;{&#10;    ULONG RegistryQuotaAllowed;&#10;    ULONG RegistryQuotaUsed;&#10;    SIZE_T PagedPoolSize;&#10;} SYSTEM_REGISTRY_QUOTA_INFORMATION, *PSYSTEM_REGISTRY_QUOTA_INFORMATION;">SYSTEM_REGISTRY_QUOTA_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemRegistryQuotaInformation</strong>, the buffer pointed
to by the <em>SystemInformation</em> parameter should be large
enough to hold a single <strong><a href="system_registry_quota_information" title="typedef struct _SYSTEM_REGISTRY_QUOTA_INFORMATION&#10;{&#10;    ULONG RegistryQuotaAllowed;&#10;    ULONG RegistryQuotaUsed;&#10;    SIZE_T PagedPoolSize;&#10;} SYSTEM_REGISTRY_QUOTA_INFORMATION, *PSYSTEM_REGISTRY_QUOTA_INFORMATION;">SYSTEM_REGISTRY_QUOTA_INFORMATION</a></strong> structure having the
following layout:</p>

<pre><code>typedef <a href="system_registry_quota_information" title="typedef struct _SYSTEM_REGISTRY_QUOTA_INFORMATION&#10;{&#10;    ULONG RegistryQuotaAllowed;&#10;    ULONG RegistryQuotaUsed;&#10;    SIZE_T PagedPoolSize;&#10;} SYSTEM_REGISTRY_QUOTA_INFORMATION, *PSYSTEM_REGISTRY_QUOTA_INFORMATION;">struct _SYSTEM_REGISTRY_QUOTA_INFORMATION</a> {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> RegistryQuotaAllowed;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> RegistryQuotaUsed;
    PVOID Reserved1;
} <a href="system_registry_quota_information" title="typedef struct _SYSTEM_REGISTRY_QUOTA_INFORMATION&#10;{&#10;    ULONG RegistryQuotaAllowed;&#10;    ULONG RegistryQuotaUsed;&#10;    SIZE_T PagedPoolSize;&#10;} SYSTEM_REGISTRY_QUOTA_INFORMATION, *PSYSTEM_REGISTRY_QUOTA_INFORMATION;">SYSTEM_REGISTRY_QUOTA_INFORMATION</a>;
</code></pre>

<p>The <strong>RegistryQuotaAllowed</strong> member contains the
maximum size, in bytes, that the Registry can attain on this system.</p>

<p>The <strong>RegistryQuotaUsed</strong> member contains the current
size of the Registry, in bytes.</p>

<p>Use <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/winbase/nf-winbase-getsystemregistryquota">GetSystemRegistryQuota</a> instead to retrieve this
information.</p>

<p>The other member of the structure is reserved for internal use by the
operating system.</p>

<h4 id="system_speculation_control_information"><a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">SYSTEM_SPECULATION_CONTROL_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemSpeculationControlInformation</strong>, the buffer pointed to by
the <em>SystemInformation</em> parameter should be large
enough to hold a single <strong><a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">SYSTEM_SPECULATION_CONTROL_INFORMATION</a></strong> structure having the following layout:</p>

<pre><code>typedef <a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">struct _SYSTEM_SPECULATION_CONTROL_INFORMATION</a> {
    struct {
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BpbEnabled:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BpbDisabledSystemPolicy:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BpbDisabledNoHardwareSupport:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpecCtrlEnumerated:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpecCmdEnumerated:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> IbrsPresent:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> StibpPresent:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SmepPresent:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisableAvailable:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisableSupported:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisabledSystemWide:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisabledKernel:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpeculativeStoreBypassDisableRequired:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BpbDisabledKernelToUser:1;
         <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved:18;
    } SpeculationControlFlags;

} <a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">SYSTEM_SPECULATION_CONTROL_INFORMATION</a>, * <a href="system_speculation_control_information" title="typedef struct _SYSTEM_SPECULATION_CONTROL_INFORMATION&#10;{&#10;    union&#10;    {&#10;        ULONG Flags;&#10;        struct&#10;        {&#10;            ULONG BpbEnabled : 1;&#10;            ULONG BpbDisabledSystemPolicy : 1;&#10;            ULONG BpbDisabledNoHardwareSupport : 1;&#10;            ULONG SpecCtrlEnumerated : 1;&#10;            ULONG SpecCmdEnumerated : 1;&#10;            ULONG IbrsPresent : 1;&#10;            ULONG StibpPresent : 1;&#10;            ULONG SmepPresent : 1;&#10;            ULONG SpeculativeStoreBypassDisableAvailable : 1; // REDSTONE4 (CVE-2018-3639)&#10;            ULONG SpeculativeStoreBypassDisableSupported : 1;&#10;            ULONG SpeculativeStoreBypassDisabledSystemWide : 1;&#10;            ULONG SpeculativeStoreBypassDisabledKernel : 1;&#10;            ULONG SpeculativeStoreBypassDisableRequired : 1;&#10;...">PSYSTEM_SPECULATION_CONTROL_INFORMATION</a>;
</code></pre>

<p>The <strong>BpbEnabled</strong> indicates whether speculation control features are supported and enabled.</p>

<p>The <strong>BpbDisabledSystemPolicy</strong> indicates whether speculation control features are disabled due to system
policy.</p>

<p>The <strong>BpbDisabledNoHardwareSupport</strong> whether speculation control features are disabled due to the absence of hardware support.</p>

<p>The <strong>SpecCtrlEnumerated</strong> whether the IA32_SPEC_CTRL MSR is enumerated by hardware.</p>

<p>The <strong>SpecCmdEnumerated</strong> indicates whether the IA32_SPEC_CMD MSR is enumerated by hardware.</p>

<p>The <strong>IbrsPresent</strong> indicates whether the IBRS MSR is treated as being present.</p>

<p>The <strong>StibpPresent</strong> indicates whether the STIBP MSR is present.</p>

<p>The <strong>SmepPresent</strong> indicates whether the SMEP feature is present and enabled.</p>

<p>The <strong>SpeculativeStoreBypassDisableAvailable</strong> indicates whether the other speculative store bypass disable (SSBD) fields in this data structure are supported by the operating system.</p>

<p>The <strong>SpeculativeStoreBypassDisableSupported</strong> indicates whether hardware support for SSBD is present.</p>

<p>The <strong>SpeculativeStoreBypassDisabledSystemWide</strong> indicates whether SSBD has been enabled system-wide.</p>

<p>The <strong>SpeculativeStoreBypassDisabledKernel</strong> indicates whether SSBD has been disabled for kernel-mode.</p>

<p>The <strong>SpeculativeStoreBypassDisableRequired</strong> indicates whether the hardware is known to be susceptible to speculative store bypass.</p>

<p>The <strong>BpbDisabledKernelToUser</strong> indicates whether indirect branch prediction is flushed on every to kernel to user transition.</p>

<p>The <strong>Reserved</strong> member of the structure is reserved for internal use by the
operating system.</p>

<h4 id="system_timeofday_information"><a href="system_timeofday_information" title="typedef struct _SYSTEM_TIMEOFDAY_INFORMATION&#10;{&#10;    LARGE_INTEGER BootTime;                     // Number of 100-nanosecond intervals since the system was started.&#10;    LARGE_INTEGER CurrentTime;                  // The current system date and time.&#10;    LARGE_INTEGER TimeZoneBias;                 // Number of 100-nanosecond intervals between local time and Coordinated Universal Time (UTC).&#10;    ULONG TimeZoneId;                           // The current system time zone identifier.&#10;    ULONG Reserved;                             // Reserved&#10;    ULONGLONG BootTimeBias;                     // Number of 100-nanosecond intervals between the boot time and Coordinated Universal Time (UTC).&#10;    ULONGLONG SleepTimeBias;                    // Number of 100-nanosecond intervals between the sleep time and Coordinated Universal Time (UTC).&#10;} SYSTEM_TIMEOFDAY_INFORMATION, *PSYSTEM_TIMEOFDAY_INFORMATION;">SYSTEM_TIMEOFDAY_INFORMATION</a></h4>

<p>When the <em>SystemInformationClass</em> parameter is
<strong>SystemTimeOfDayInformation</strong>, the buffer pointed to
by the <em>SystemInformation</em> parameter should be large
enough to hold an opaque <strong><a href="system_timeofday_information" title="typedef struct _SYSTEM_TIMEOFDAY_INFORMATION&#10;{&#10;    LARGE_INTEGER BootTime;                     // Number of 100-nanosecond intervals since the system was started.&#10;    LARGE_INTEGER CurrentTime;                  // The current system date and time.&#10;    LARGE_INTEGER TimeZoneBias;                 // Number of 100-nanosecond intervals between local time and Coordinated Universal Time (UTC).&#10;    ULONG TimeZoneId;                           // The current system time zone identifier.&#10;    ULONG Reserved;                             // Reserved&#10;    ULONGLONG BootTimeBias;                     // Number of 100-nanosecond intervals between the boot time and Coordinated Universal Time (UTC).&#10;    ULONGLONG SleepTimeBias;                    // Number of 100-nanosecond intervals between the sleep time and Coordinated Universal Time (UTC).&#10;} SYSTEM_TIMEOFDAY_INFORMATION, *PSYSTEM_TIMEOFDAY_INFORMATION;">SYSTEM_TIMEOFDAY_INFORMATION</a></strong> structure for use in
generating an unpredictable seed for a random number generator. For this
purpose, the structure has the following layout:</p>

<pre><code>typedef <a href="system_timeofday_information" title="typedef struct _SYSTEM_TIMEOFDAY_INFORMATION&#10;{&#10;    LARGE_INTEGER BootTime;                     // Number of 100-nanosecond intervals since the system was started.&#10;    LARGE_INTEGER CurrentTime;                  // The current system date and time.&#10;    LARGE_INTEGER TimeZoneBias;                 // Number of 100-nanosecond intervals between local time and Coordinated Universal Time (UTC).&#10;    ULONG TimeZoneId;                           // The current system time zone identifier.&#10;    ULONG Reserved;                             // Reserved&#10;    ULONGLONG BootTimeBias;                     // Number of 100-nanosecond intervals between the boot time and Coordinated Universal Time (UTC).&#10;    ULONGLONG SleepTimeBias;                    // Number of 100-nanosecond intervals between the sleep time and Coordinated Universal Time (UTC).&#10;} SYSTEM_TIMEOFDAY_INFORMATION, *PSYSTEM_TIMEOFDAY_INFORMATION;">struct _SYSTEM_TIMEOFDAY_INFORMATION</a> {
    <a href="byte" title="typedef unsigned char BYTE;">BYTE</a> Reserved1[48];
} <a href="system_timeofday_information" title="typedef struct _SYSTEM_TIMEOFDAY_INFORMATION&#10;{&#10;    LARGE_INTEGER BootTime;                     // Number of 100-nanosecond intervals since the system was started.&#10;    LARGE_INTEGER CurrentTime;                  // The current system date and time.&#10;    LARGE_INTEGER TimeZoneBias;                 // Number of 100-nanosecond intervals between local time and Coordinated Universal Time (UTC).&#10;    ULONG TimeZoneId;                           // The current system time zone identifier.&#10;    ULONG Reserved;                             // Reserved&#10;    ULONGLONG BootTimeBias;                     // Number of 100-nanosecond intervals between the boot time and Coordinated Universal Time (UTC).&#10;    ULONGLONG SleepTimeBias;                    // Number of 100-nanosecond intervals between the sleep time and Coordinated Universal Time (UTC).&#10;} SYSTEM_TIMEOFDAY_INFORMATION, *PSYSTEM_TIMEOFDAY_INFORMATION;">SYSTEM_TIMEOFDAY_INFORMATION</a>;
</code></pre>

<p>Individual members of the structure are reserved for internal
use by the operating system.</p>

<p>Use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptgenrandom">CryptGenRandom</a>
function instead to generate cryptographically random data.</p>

<h3 id="systeminformationlength-in"><code>SystemInformationLength</code> [in]</h3>

<p>The size of the buffer pointed to by the <em>SystemInformation</em> parameter, in bytes.</p>

<h3 id="returnlength-out-optional"><code>ReturnLength</code> [out, optional]</h3>

<p>An optional pointer to a location where the function writes the actual size
of the information requested. If that size is less than or equal to the
<em>SystemInformationLength</em> parameter, the function copies the information
into the <em>SystemInformation</em> buffer; otherwise, it returns an <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a>
error code and returns in <em>ReturnLength</em> the size of
buffer required to receive the requested information.</p>

<h2 id="return-value">Return value</h2>

<p>Returns an <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> success or error code.</p>

<p>The
forms and significance of <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> error codes are listed in the
Ntstatus.h header file available in the DDK, and are described in the DDK documentation.</p>

<h2 id="remarks">Remarks</h2>

<p>The <strong>NtQuerySystemInformation</strong> function and the structures
that it returns are internal to the operating system and subject to change from
one release of Windows to another. To maintain the compatibility of your
application, it is better to use the alternate functions previously mentioned instead.</p>

<p>If you do use <strong>NtQuerySystemInformation</strong>, access the function through
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/Dlls/using-run-time-dynamic-linking">run-time dynamic
linking</a>. This gives your code an
opportunity to respond gracefully if the function has been changed or removed
from the operating system. Signature changes, however, may not be
detectable.</p>

<p>This function has no associated import library. You must use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya">LoadLibrary</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress">GetProcAddress</a> functions to dynamically link to Ntdll.dll.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getprocesshandlecount">GetProcessHandleCount</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/psapi/nf-psapi-getprocessmemoryinfo">GetProcessMemoryInfo</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsysteminfo">GetSystemInfo</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/winbase/nf-winbase-getsystemregistryquota">GetSystemRegistryQuota</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getsystemtimes">GetSystemTimes</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winternl/nf-winternl-ntquerysysteminformation">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/winternl/nf-winternl-ntquerysysteminformation.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>NTinternals.net (undocumented.ntinternals.net)</h1>
</div>
<div class="ntdoc-description">
<p>This function is <a rel="noopener" target="_blank" href="https://learn.microsoft.com/en-us/windows/win32/api/winternl/nf-winternl-ntquerysysteminformation">documented in Windows SDK</a>.</p>

<hr />

<p><code>NtQuerySystemInformation</code> is used to check some system information available only in <em>KernelMode</em> (above <em>0x80000000</em>).<br />
All available (or all known) information classes are described in <code><a href="system_information_class" title="typedef enum _SYSTEM_INFORMATION_CLASS&#10;{&#10;    SystemBasicInformation,                                 // q: SYSTEM_BASIC_INFORMATION&#10;    SystemProcessorInformation,                             // q: SYSTEM_PROCESSOR_INFORMATION&#10;    SystemPerformanceInformation,                           // q: SYSTEM_PERFORMANCE_INFORMATION&#10;    SystemTimeOfDayInformation,                             // q: SYSTEM_TIMEOFDAY_INFORMATION&#10;    SystemPathInformation,                                  // q: not implemented&#10;    SystemProcessInformation,                               // q: SYSTEM_PROCESS_INFORMATION&#10;    SystemCallCountInformation,                             // q: SYSTEM_CALL_COUNT_INFORMATION&#10;    SystemDeviceInformation,                                // q: SYSTEM_DEVICE_INFORMATION&#10;    SystemProcessorPerformanceInformation,                  // q: SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION (EX in: USHORT ProcessorGroup)&#10;    SystemFlagsInformation,                                 // qs: SYSTEM_FLAGS_INFORMATION&#10;    SystemCallTimeInformation,                              // q: SYSTEM_CALL_TIME_INFORMATION // not implemented // 10&#10;    SystemModuleInformation,                                // q: RTL_PROCESS_MODULES&#10;    SystemLocksInformation,                                 // q: RTL_PROCESS_LOCKS&#10;    SystemStackTraceInformation,                            // q: RTL_PROCESS_BACKTRACES&#10;    SystemPagedPoolInformation,                             // q: not implemented&#10;    SystemNonPagedPoolInformation,                          // q: not implemented&#10;    SystemHandleInformation,                                // q: SYSTEM_HANDLE_INFORMATION&#10;    SystemObjectInformation,                                // q: SYSTEM_OBJECTTYPE_INFORMATION mixed with SYSTEM_OBJECT_INFORMATION&#10;...">SYSTEM_INFORMATION_CLASS</a></code>.</p>

<h3>SystemInformationClass</h3>

<p>Information class (see <code><a href="system_information_class" title="typedef enum _SYSTEM_INFORMATION_CLASS&#10;{&#10;    SystemBasicInformation,                                 // q: SYSTEM_BASIC_INFORMATION&#10;    SystemProcessorInformation,                             // q: SYSTEM_PROCESSOR_INFORMATION&#10;    SystemPerformanceInformation,                           // q: SYSTEM_PERFORMANCE_INFORMATION&#10;    SystemTimeOfDayInformation,                             // q: SYSTEM_TIMEOFDAY_INFORMATION&#10;    SystemPathInformation,                                  // q: not implemented&#10;    SystemProcessInformation,                               // q: SYSTEM_PROCESS_INFORMATION&#10;    SystemCallCountInformation,                             // q: SYSTEM_CALL_COUNT_INFORMATION&#10;    SystemDeviceInformation,                                // q: SYSTEM_DEVICE_INFORMATION&#10;    SystemProcessorPerformanceInformation,                  // q: SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION (EX in: USHORT ProcessorGroup)&#10;    SystemFlagsInformation,                                 // qs: SYSTEM_FLAGS_INFORMATION&#10;    SystemCallTimeInformation,                              // q: SYSTEM_CALL_TIME_INFORMATION // not implemented // 10&#10;    SystemModuleInformation,                                // q: RTL_PROCESS_MODULES&#10;    SystemLocksInformation,                                 // q: RTL_PROCESS_LOCKS&#10;    SystemStackTraceInformation,                            // q: RTL_PROCESS_BACKTRACES&#10;    SystemPagedPoolInformation,                             // q: not implemented&#10;    SystemNonPagedPoolInformation,                          // q: not implemented&#10;    SystemHandleInformation,                                // q: SYSTEM_HANDLE_INFORMATION&#10;    SystemObjectInformation,                                // q: SYSTEM_OBJECTTYPE_INFORMATION mixed with SYSTEM_OBJECT_INFORMATION&#10;...">SYSTEM_INFORMATION_CLASS</a></code>).</p>

<h3>SystemInformation</h3>

<p>User-allocated buffer for results. Sometimes this parameter can be <em>NULL</em> (<code>OPTIONAL</code>), if you check required buffer size (see below).</p>

<h3>SystemInformationLength</h3>

<p>Length of <code>SystemInformation</code> buffer (in bytes).</p>

<h3>ReturnLength</h3>

<p>Required length of <code>SystemInformation</code> buffer.</p>

<h1>Documented by</h1>

<ul>
<li>Sven B. Schreiber</li>
<li>Tomasz Nowak</li>
</ul>

<h1>See also</h1>

<ul>
<li><code><a href="ntsetsysteminformation" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtSetSystemInformation(&#10;    _In_ SYSTEM_INFORMATION_CLASS SystemInformationClass,&#10;    _In_reads_bytes_opt_(SystemInformationLength) PVOID SystemInformation,&#10;    _In_ ULONG SystemInformationLength&#10;    );">NtSetSystemInformation</a></code></li>
<li><code><a href="system_information_class" title="typedef enum _SYSTEM_INFORMATION_CLASS&#10;{&#10;    SystemBasicInformation,                                 // q: SYSTEM_BASIC_INFORMATION&#10;    SystemProcessorInformation,                             // q: SYSTEM_PROCESSOR_INFORMATION&#10;    SystemPerformanceInformation,                           // q: SYSTEM_PERFORMANCE_INFORMATION&#10;    SystemTimeOfDayInformation,                             // q: SYSTEM_TIMEOFDAY_INFORMATION&#10;    SystemPathInformation,                                  // q: not implemented&#10;    SystemProcessInformation,                               // q: SYSTEM_PROCESS_INFORMATION&#10;    SystemCallCountInformation,                             // q: SYSTEM_CALL_COUNT_INFORMATION&#10;    SystemDeviceInformation,                                // q: SYSTEM_DEVICE_INFORMATION&#10;    SystemProcessorPerformanceInformation,                  // q: SYSTEM_PROCESSOR_PERFORMANCE_INFORMATION (EX in: USHORT ProcessorGroup)&#10;    SystemFlagsInformation,                                 // qs: SYSTEM_FLAGS_INFORMATION&#10;    SystemCallTimeInformation,                              // q: SYSTEM_CALL_TIME_INFORMATION // not implemented // 10&#10;    SystemModuleInformation,                                // q: RTL_PROCESS_MODULES&#10;    SystemLocksInformation,                                 // q: RTL_PROCESS_LOCKS&#10;    SystemStackTraceInformation,                            // q: RTL_PROCESS_BACKTRACES&#10;    SystemPagedPoolInformation,                             // q: not implemented&#10;    SystemNonPagedPoolInformation,                          // q: not implemented&#10;    SystemHandleInformation,                                // q: SYSTEM_HANDLE_INFORMATION&#10;    SystemObjectInformation,                                // q: SYSTEM_OBJECTTYPE_INFORMATION mixed with SYSTEM_OBJECT_INFORMATION&#10;...">SYSTEM_INFORMATION_CLASS</a></code></li>
</ul>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/undocumented.ntinternals.net/ntquerysysteminformation.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
