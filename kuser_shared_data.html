<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="KUSER_SHARED_DATA - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>KUSER_SHARED_DATA - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            KUSER_SHARED_DATA - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">#ifndef _NTEXAPI_H
#if (PHNT_MODE != PHNT_MODE_KERNEL)

</span><span class="ntdoc-code-intro">/**
 * The KUSER_SHARED_DATA structure contains information shared with user-mode.
 *
 * \sa https://learn.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddk/ns-ntddk-kuser_shared_data
 */
</span><span class="ntdoc-code-body">typedef struct _KUSER_SHARED_DATA
{
    //
    // Current low 32-bit of tick count and tick count multiplier.
    //
    // N.B. The tick count is updated each time the clock ticks.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TickCountLowDeprecated;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TickCountMultiplier;

    //
    // Current 64-bit interrupt time in 100ns units.
    //

    volatile <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a> InterruptTime;

    //
    // Current 64-bit system time in 100ns units.
    //

    volatile <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a> SystemTime;

    //
    // Current 64-bit time zone bias.
    //

    volatile <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a> TimeZoneBias;

    //
    // Support image magic number range for the host system.
    //
    // N.B. This is an inclusive range.
    //

    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> ImageNumberLow;
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> ImageNumberHigh;

    //
    // Copy of system root in unicode.
    //
    // N.B. This field must be accessed via the <a href="rtlgetntsystemroot" title="NTSYSAPI&#10;PWSTR&#10;NTAPI&#10;RtlGetNtSystemRoot(&#10;    VOID&#10;    );">RtlGetNtSystemRoot</a> API for
    //      an accurate result.
    //

    WCHAR NtSystemRoot[260];

    //
    // Maximum stack trace depth if tracing enabled.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> MaxStackTraceDepth;

    //
    // Crypto exponent value.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CryptoExponent;

    //
    // Time zone ID.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TimeZoneId;

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> LargePageMinimum;

    //
    // This value controls the AIT Sampling rate.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> AitSamplingValue;

    //
    // This value controls switchback processing.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> AppCompatFlag;

    //
    // Current Kernel Root RNG state seed version
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> RNGSeedVersion;

    //
    // This value controls assertion failure handling.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> GlobalValidationRunlevel;

    volatile <a href="long" title="typedef long LONG;">LONG</a> TimeZoneBiasStamp;

    //
    // The shared collective build number undecorated with C or F.
    // GetVersionEx hides the real number
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NtBuildNumber;

    //
    // Product type.
    //
    // N.B. This field must be accessed via the <a href="rtlgetntproducttype" title="NTSYSAPI&#10;BOOLEAN&#10;NTAPI&#10;RtlGetNtProductType(&#10;    _Out_ PNT_PRODUCT_TYPE NtProductType&#10;    );">RtlGetNtProductType</a> API for
    //      an accurate result.
    //

    <a href="nt_product_type" title="typedef enum _NT_PRODUCT_TYPE&#10;{&#10;    NtProductWinNt = 1,&#10;    NtProductLanManNt,&#10;    NtProductServer&#10;} NT_PRODUCT_TYPE, *PNT_PRODUCT_TYPE;">NT_PRODUCT_TYPE</a> NtProductType;
    BOOLEAN ProductTypeIsValid;
    BOOLEAN Reserved0[1];
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NativeProcessorArchitecture;

    //
    // The NT Version.
    //
    // N. B. Note that each process sees a version from its <a href="peb" title="typedef struct _PEB&#10;{&#10;    //&#10;    // The process was cloned with an inherited address space.&#10;    //&#10;    BOOLEAN InheritedAddressSpace;&#10;&#10;    //&#10;    // The process has image file execution options (IFEO).&#10;    //&#10;    BOOLEAN ReadImageFileExecOptions;&#10;&#10;    //&#10;    // The process has a debugger attached.&#10;    //&#10;    BOOLEAN BeingDebugged;&#10;&#10;    union&#10;    {&#10;        BOOLEAN BitField;&#10;...">PEB</a>, but if the
    //       process is running with an altered view of the system version,
    //       the following two fields are used to correctly identify the
    //       version
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NtMajorVersion;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NtMinorVersion;

    //
    // Processor features.
    //

    BOOLEAN ProcessorFeatures[<a href="processor_feature_max" title="#define PROCESSOR_FEATURE_MAX 64">PROCESSOR_FEATURE_MAX</a>];

    //
    // Reserved fields - do not use.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> MaximumUserModeAddressDeprecated; // Deprecated, use SystemBasicInformation instead.
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SystemRangeStartDeprecated; // Deprecated, use SystemRangeStartInformation instead.

    //
    // Time slippage while in debugger.
    //

    volatile <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TimeSlip;

    //
    // Alternative system architecture, e.g., NEC PC98xx on x86.
    //

    <a href="alternative_architecture_type" title="typedef enum _ALTERNATIVE_ARCHITECTURE_TYPE&#10;{&#10;    StandardDesign,&#10;    NEC98x86,&#10;    EndAlternatives&#10;} ALTERNATIVE_ARCHITECTURE_TYPE;">ALTERNATIVE_ARCHITECTURE_TYPE</a> AlternativeArchitecture;

    //
    // Boot sequence, incremented for each boot attempt by the OS loader.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BootId;

    //
    // If the system is an evaluation unit, the following field contains the
    // date and time that the evaluation unit expires. A value of 0 indicates
    // that there is no expiration. A non-zero value is the UTC absolute time
    // that the system expires.
    //

    LARGE_INTEGER SystemExpirationDate;

    //
    // Suite support.
    //
    // N.B. This field must be accessed via the <a href="rtlgetsuitemask" title="NTSYSAPI&#10;ULONG&#10;NTAPI&#10;RtlGetSuiteMask(&#10;    VOID&#10;    );">RtlGetSuiteMask</a> API for
    //      an accurate result.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SuiteMask;

    //
    // TRUE if a kernel debugger is connected/enabled.
    //

    BOOLEAN KdDebuggerEnabled;

    //
    // Mitigation policies.
    //

    union
    {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> MitigationPolicies;
        struct
        {
            <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> NXSupportPolicy : 2;
            <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> SEHValidationPolicy : 2;
            <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> CurDirDevicesSkippedForDlls : 2;
            <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved : 2;
        };
    };

    //
    // Measured duration of a single processor yield, in cycles. This is used by
    // lock packages to determine how many times to spin waiting for a state
    // change before blocking.
    //

    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> CyclesPerYield;

    //
    // Current console session Id. Always zero on non-TS systems.
    //
    // N.B. This field must be accessed via the <a href="rtlgetactiveconsoleid" title="NTSYSAPI&#10;ULONG&#10;NTAPI&#10;RtlGetActiveConsoleId(&#10;    VOID&#10;    );">RtlGetActiveConsoleId</a> API for an
    //      accurate result.
    //

    volatile <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ActiveConsoleId;

    //
    // Force-dismounts cause handles to become invalid. Rather than always
    // probe handles, a serial number of dismounts is maintained that clients
    // can use to see if they need to probe handles.
    //

    volatile <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DismountCount;

    //
    // This field indicates the status of the 64-bit COM+ package on the
    // system. It indicates whether the Intermediate Language (IL) COM+
    // images need to use the 64-bit COM+ runtime or the 32-bit COM+ runtime.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ComPlusPackage;

    //
    // Time in tick count for system-wide last user input across all terminal
    // sessions. For MP performance, it is not updated all the time (e.g. once
    // a minute per session). It is used for idle detection.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> LastSystemRITEventTickCount;

    //
    // Number of physical pages in the system. This can dynamically change as
    // physical memory can be added or removed from a running system.  This
    // cell is too small to hold the non-truncated value on very large memory
    // machines so code that needs the full value should access
    // FullNumberOfPhysicalPages instead.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NumberOfPhysicalPages;

    //
    // True if the system was booted in safe boot mode.
    //

    BOOLEAN SafeBootMode;

    //
    // Virtualization flags.
    //

    union
    {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> VirtualizationFlags;

#if defined(_ARM64_)

        //
        // N.B. Keep this bitfield in sync with the one in arc.w.
        //

        struct
        {
            <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> ArchStartedInEl2 : 1;
            <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> QcSlIsSupported : 1;
            <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> : 6;
        };

#endif

    };

    //
    // Reserved (available for reuse).
    //

    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved12[2];

    //
    // This is a packed bitfield that contains various flags concerning
    // the system state. They must be manipulated using interlocked
    // operations.
    //
    // N.B. DbgMultiSessionSku must be accessed via the <a href="rtlismultisessionsku" title="NTSYSAPI&#10;BOOLEAN&#10;NTAPI&#10;RtlIsMultiSessionSku(&#10;    VOID&#10;    );">RtlIsMultiSessionSku</a>
    //      API for an accurate result
    //

    union
    {
        <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SharedDataFlags;
        struct
        {
            //
            // The following bit fields are for the debugger only. Do not use.
            // Use the bit definitions instead.
            //

            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgErrorPortPresent       : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgElevationEnabled       : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgVirtEnabled            : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgInstallerDetectEnabled : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgLkgEnabled             : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgDynProcessorEnabled    : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgConsoleBrokerEnabled   : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgSecureBootEnabled      : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgMultiSessionSku        : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgMultiUsersInSessionSku : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgStateSeparationEnabled : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgSplitTokenEnabled      : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgShadowAdminEnabled     : 1;
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpareBits                 : 19;
        } DUMMYSTRUCTNAME2;
    } DUMMYUNIONNAME2;

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DataFlagsPad[1];

    //
    // Depending on the processor, the code for fast system call will differ,
    // Stub code is provided pointers below to access the appropriate code.
    //
    // N.B. The following field is only used on 32-bit systems.
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> TestRetInstruction;

    <a href="longlong" title="typedef __int64 LONGLONG;">LONGLONG</a> QpcFrequency;

    //
    // On AMD64, this value is initialized to a nonzero value if the system
    // operates with an altered view of the system service call mechanism.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SystemCall;

    //
    // Reserved field - do not use. Used to be UserCetAvailableEnvironments.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved2;

    //
    // Full 64 bit version of the number of physical pages in the system.
    // This can dynamically change as physical memory can be added or removed
    // from a running system.
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> FullNumberOfPhysicalPages;

    //
    // Reserved, available for reuse.
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> SystemCallPad[1];

    //
    // The 64-bit tick count.
    //

    union
    {
        volatile <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a> TickCount;
        volatile <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> TickCountQuad;
        struct
        {
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ReservedTickCountOverlay[3];
            <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TickCountPad[1];
        } DUMMYSTRUCTNAME;
    } DUMMYUNIONNAME3;

    //
    // Cookie for encoding pointers system wide.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Cookie;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CookiePad[1];

    //
    // Client id of the process having the focus in the current
    // active console session id.
    //
    // N.B. This field must be accessed via the
    //      <a href="rtlgetconsolesessionforegroundprocessid" title="NTSYSAPI&#10;LONGLONG&#10;NTAPI&#10;RtlGetConsoleSessionForegroundProcessId(&#10;    VOID&#10;    );">RtlGetConsoleSessionForegroundProcessId</a> API for an accurate result.
    //

    <a href="longlong" title="typedef __int64 LONGLONG;">LONGLONG</a> ConsoleSessionForegroundProcessId;

    //
    // N.B. The following data is used to implement the precise time
    //      services. It is aligned on a 64-byte cache-line boundary and
    //      arranged in the order of typical accesses.
    //
    // Placeholder for the (internal) time update lock.
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> TimeUpdateLock;

    //
    // The performance counter value used to establish the current system time.
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> BaselineSystemTimeQpc;

    //
    // The performance counter value used to compute the last interrupt time.
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> BaselineInterruptTimeQpc;

    //
    // The scaled number of system time seconds represented by a single
    // performance count (this value may vary to achieve time synchronization).
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> QpcSystemTimeIncrement;

    //
    // The scaled number of interrupt time seconds represented by a single
    // performance count (this value is constant after the system is booted).
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> QpcInterruptTimeIncrement;

    //
    // The scaling shift count applied to the performance counter system time
    // increment.
    //

    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> QpcSystemTimeIncrementShift;

    //
    // The scaling shift count applied to the performance counter interrupt time
    // increment.
    //

    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> QpcInterruptTimeIncrementShift;

    //
    // The count of unparked processors.
    //

    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> UnparkedProcessorCount;

    //
    // A bitmask of enclave features supported on this system.
    //
    // N.B. This field must be accessed via the <a href="rtlisenclavefeaturepresent" title="NTSYSAPI&#10;BOOLEAN&#10;NTAPI&#10;RtlIsEnclaveFeaturePresent(&#10;    _In_ ULONG FeatureMask&#10;    );">RtlIsEnclaveFeaturePresent</a> API for an
    //      accurate result.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> EnclaveFeatureMask[4];

    //
    // Current coverage round for telemetry based coverage.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TelemetryCoverageRound;

    //
    // The following field is used for ETW user mode global logging
    // (UMGL).
    //

    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> UserModeGlobalLogger[16];

    //
    // Settings that can enable the use of Image File Execution Options
    // from HKCU in addition to the original HKLM.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ImageFileExecutionOptions;

    //
    // Generation of the kernel structure holding system language information
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> LangGenerationCount;

    //
    // Reserved (available for reuse).
    //

    <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> Reserved4;

    //
    // Current 64-bit interrupt time bias in 100ns units.
    //

    volatile <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> InterruptTimeBias;

    //
    // Current 64-bit performance counter bias, in performance counter units
    // before the shift is applied.
    //

    volatile <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a> QpcBias;

    //
    // Number of active processors and groups.
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ActiveProcessorCount;
    volatile <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> ActiveGroupCount;

    //
    // Reserved (available for re-use).
    //

    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved9;

    union
    {
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> QpcData;
        struct
        {
            //
            // A bitfield indicating whether performance counter queries can
            // read the counter directly (bypassing the system call) and flags.
            //

            volatile <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> QpcBypassEnabled;

            //
            // Reserved, leave as zero for backward compatibility. Was shift
            // applied to the raw counter value to derive QPC count.
            //

            <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> QpcReserved;
        };
    };

    //
    // Reserved for future use.
    //

    LARGE_INTEGER TimeZoneBiasEffectiveStart;
    LARGE_INTEGER TimeZoneBiasEffectiveEnd;

    //
    // Extended processor state configuration (AMD64 and x86).
    //

    XSTATE_CONFIGURATION XState;

    //
    // <a href="rtlqueryfeatureconfigurationchangestamp" title="NTSYSAPI&#10;RTL_FEATURE_CHANGE_STAMP&#10;NTAPI&#10;RtlQueryFeatureConfigurationChangeStamp(&#10;    VOID&#10;    );">RtlQueryFeatureConfigurationChangeStamp</a>
    //

    <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a> FeatureConfigurationChangeStamp;

    //
    // Spare (available for re-use).
    //

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Spare;

    //
    // This field holds a mask that is used in the process of authenticating pointers in user mode.
    // It helps in determining which bits of the pointer are used for authentication in user mode.
    //

    <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> UserPointerAuthMask;

    //
    // Extended processor state configuration (ARM64). The reserved space for
    // other architectures is not available for reuse.
    //

#if defined(_ARM64_)
    XSTATE_CONFIGURATION XStateArm64;
#else
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved10[210];
#endif
} KUSER_SHARED_DATA, *PKUSER_SHARED_DATA;
</span><span class="ntdoc-code-footer">
#endif
#endif
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://github.com/winsiderss/systeminformer/blob/443d121781061210978931c1766974f1372e359a/phnt/include/ntexapi.h#L6467">View code on GitHub</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _KUSER_SHARED_DATA {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         TickCountLowDeprecated;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         TickCountMultiplier;
  <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a>                  InterruptTime;
  <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a>                  SystemTime;
  <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a>                  TimeZoneBias;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                        ImageNumberLow;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                        ImageNumberHigh;
  WCHAR                         NtSystemRoot[260];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         MaxStackTraceDepth;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         CryptoExponent;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         TimeZoneId;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         LargePageMinimum;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         AitSamplingValue;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         AppCompatFlag;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     RNGSeedVersion;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         GlobalValidationRunlevel;
  <a href="long" title="typedef long LONG;">LONG</a>                          TimeZoneBiasStamp;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         NtBuildNumber;
  <a href="nt_product_type" title="typedef enum _NT_PRODUCT_TYPE&#10;{&#10;    NtProductWinNt = 1,&#10;    NtProductLanManNt,&#10;    NtProductServer&#10;} NT_PRODUCT_TYPE, *PNT_PRODUCT_TYPE;">NT_PRODUCT_TYPE</a>               NtProductType;
  BOOLEAN                       ProductTypeIsValid;
  BOOLEAN                       Reserved0[1];
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                        NativeProcessorArchitecture;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         NtMajorVersion;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         NtMinorVersion;
  BOOLEAN                       ProcessorFeatures[<a href="processor_feature_max" title="#define PROCESSOR_FEATURE_MAX 64">PROCESSOR_FEATURE_MAX</a>];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         Reserved1;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         Reserved3;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         TimeSlip;
  <a href="alternative_architecture_type" title="typedef enum _ALTERNATIVE_ARCHITECTURE_TYPE&#10;{&#10;    StandardDesign,&#10;    NEC98x86,&#10;    EndAlternatives&#10;} ALTERNATIVE_ARCHITECTURE_TYPE;">ALTERNATIVE_ARCHITECTURE_TYPE</a> AlternativeArchitecture;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         BootId;
  LARGE_INTEGER                 SystemExpirationDate;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         SuiteMask;
  BOOLEAN                       KdDebuggerEnabled;
  union {
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> MitigationPolicies;
    struct {
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> NXSupportPolicy : 2;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> SEHValidationPolicy : 2;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> CurDirDevicesSkippedForDlls : 2;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved : 2;
    };
  };
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                        CyclesPerYield;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         ActiveConsoleId;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         DismountCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         ComPlusPackage;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         LastSystemRITEventTickCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         NumberOfPhysicalPages;
  BOOLEAN                       SafeBootMode;
  union {
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> VirtualizationFlags;
    struct {
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> ArchStartedInEl2 : 1;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> QcSlIsSupported : 1;
    };
  };
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                         Reserved12[2];
  union {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SharedDataFlags;
    struct {
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgErrorPortPresent : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgElevationEnabled : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgVirtEnabled : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgInstallerDetectEnabled : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgLkgEnabled : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgDynProcessorEnabled : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgConsoleBrokerEnabled : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgSecureBootEnabled : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgMultiSessionSku : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgMultiUsersInSessionSku : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DbgStateSeparationEnabled : 1;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> SpareBits : 21;
    } DUMMYSTRUCTNAME2;
  } DUMMYUNIONNAME2;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         DataFlagsPad[1];
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     TestRetInstruction;
  <a href="longlong" title="typedef __int64 LONGLONG;">LONGLONG</a>                      QpcFrequency;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         SystemCall;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         Reserved2;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     FullNumberOfPhysicalPages;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     SystemCallPad[1];
  union {
    <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a> TickCount;
    <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a>      TickCountQuad;
    struct {
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ReservedTickCountOverlay[3];
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TickCountPad[1];
    } DUMMYSTRUCTNAME;
  } DUMMYUNIONNAME3;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         Cookie;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         CookiePad[1];
  <a href="longlong" title="typedef __int64 LONGLONG;">LONGLONG</a>                      ConsoleSessionForegroundProcessId;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     TimeUpdateLock;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     BaselineSystemTimeQpc;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     BaselineInterruptTimeQpc;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     QpcSystemTimeIncrement;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     QpcInterruptTimeIncrement;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                         QpcSystemTimeIncrementShift;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                         QpcInterruptTimeIncrementShift;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                        UnparkedProcessorCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         EnclaveFeatureMask[4];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         TelemetryCoverageRound;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                        UserModeGlobalLogger[16];
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         ImageFileExecutionOptions;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         LangGenerationCount;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     Reserved4;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     InterruptTimeBias;
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>                     QpcBias;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         ActiveProcessorCount;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                         ActiveGroupCount;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                         Reserved9;
  union {
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> QpcData;
    struct {
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> QpcBypassEnabled;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> QpcReserved;
    };
  };
  LARGE_INTEGER                 TimeZoneBiasEffectiveStart;
  LARGE_INTEGER                 TimeZoneBiasEffectiveEnd;
  XSTATE_CONFIGURATION          XState;
  <a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a>                  FeatureConfigurationChangeStamp;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         Spare;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a>                       UserPointerAuthMask;
  XSTATE_CONFIGURATION          XStateArm64;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                         Reserved10[210];
} KUSER_SHARED_DATA, *PKUSER_SHARED_DATA;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/ns-ntddk-kuser_shared_data">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<p>This structure is <a rel="noopener" target="_blank" href="https://learn.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddk/ns-ntddk-kuser_shared_data">documented in Windows Driver Kit</a>.</p>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/kuser_shared_data.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddk-kuser_shared_data)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>This topic describes the <strong>KUSER_SHARED_DATA</strong> structure.</p>

<h2 id="members">Members</h2>

<h3 id="tickcountlowdeprecated"><code>TickCountLowDeprecated</code></h3>

<p>Current low 32-bit of tick count.</p>

<h3 id="tickcountmultiplier"><code>TickCountMultiplier</code></h3>

<p>Tick count multiplier.</p>

<h3 id="interrupttime"><code>InterruptTime</code></h3>

<p>Current 64-bit interrupt time in 100ns units.</p>

<h3 id="systemtime"><code>SystemTime</code></h3>

<p>Current 64-bit system time in 100ns units.</p>

<h3 id="timezonebias"><code>TimeZoneBias</code></h3>

<p>Current 64-bit time zone bias.</p>

<h3 id="imagenumberlow"><code>ImageNumberLow</code></h3>

<p>Low image magic number for the host system.</p>

<h3 id="imagenumberhigh"><code>ImageNumberHigh</code></h3>

<p>High image magic number for the host system.</p>

<h3 id="ntsystemroot260"><code>NtSystemRoot[260]</code></h3>

<p>Copy of system root in unicode. This field must be accessed via the <strong><a href="rtlgetntsystemroot" title="NTSYSAPI&#10;PWSTR&#10;NTAPI&#10;RtlGetNtSystemRoot(&#10;    VOID&#10;    );">RtlGetNtSystemRoot</a></strong> API for an accurate result.</p>

<h3 id="maxstacktracedepth"><code>MaxStackTraceDepth</code></h3>

<p>Maximum stack trace depth if tracing enabled.</p>

<h3 id="cryptoexponent"><code>CryptoExponent</code></h3>

<p>Crypto exponent value.</p>

<h3 id="timezoneid"><code>TimeZoneId</code></h3>

<p>Time zone ID.</p>

<h3 id="largepageminimum"><code>LargePageMinimum</code></h3>

<p>Defines the <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> member <strong>LargePageMinimum</strong>.</p>

<h3 id="aitsamplingvalue"><code>AitSamplingValue</code></h3>

<p>This value controls the AIT sampling rate.</p>

<h3 id="appcompatflag"><code>AppCompatFlag</code></h3>

<p>This value controls switchback processing.</p>

<h3 id="rngseedversion"><code>RNGSeedVersion</code></h3>

<p>Current kernel root RNG state seed version.</p>

<h3 id="globalvalidationrunlevel"><code>GlobalValidationRunlevel</code></h3>

<p>This value controls assertion failure handling.</p>

<h3 id="timezonebiasstamp"><code>TimeZoneBiasStamp</code></h3>

<p>Defines the <strong><a href="long" title="typedef long LONG;">LONG</a></strong> member <strong>TimeZoneBiasStamp</strong>.</p>

<h3 id="ntbuildnumber"><code>NtBuildNumber</code></h3>

<p>The shared collective build number undecorated with C or F. <strong>GetVersionEx</strong> hides the real number.</p>

<h3 id="ntproducttype"><code>NtProductType</code></h3>

<p>Product type. This field must be accessed via the <strong><a href="rtlgetntproducttype" title="NTSYSAPI&#10;BOOLEAN&#10;NTAPI&#10;RtlGetNtProductType(&#10;    _Out_ PNT_PRODUCT_TYPE NtProductType&#10;    );">RtlGetNtProductType</a></strong> API for an accurate result.</p>

<h3 id="producttypeisvalid"><code>ProductTypeIsValid</code></h3>

<p>Defines the <strong>BOOLEAN</strong> member <strong>ProductTypeIsValid</strong>.</p>

<h3 id="reserved01"><code>Reserved0[1]</code></h3>

<p>Reserved for future use.</p>

<h3 id="nativeprocessorarchitecture"><code>NativeProcessorArchitecture</code></h3>

<p>Defines the <strong><a href="ushort" title="typedef unsigned short USHORT;">USHORT</a></strong> member <strong>NativeProcessorArchitecture</strong>.</p>

<h3 id="ntmajorversion"><code>NtMajorVersion</code></h3>

<p>The NT major version. Each process sees a version from its <a href="peb" title="typedef struct _PEB&#10;{&#10;    //&#10;    // The process was cloned with an inherited address space.&#10;    //&#10;    BOOLEAN InheritedAddressSpace;&#10;&#10;    //&#10;    // The process has image file execution options (IFEO).&#10;    //&#10;    BOOLEAN ReadImageFileExecOptions;&#10;&#10;    //&#10;    // The process has a debugger attached.&#10;    //&#10;    BOOLEAN BeingDebugged;&#10;&#10;    union&#10;    {&#10;        BOOLEAN BitField;&#10;...">PEB</a>, but if the process is running with an altered view of the system version, this field is used to correctly identify the version.</p>

<h3 id="ntminorversion"><code>NtMinorVersion</code></h3>

<p>The NT minor version. Each process sees a version from its <a href="peb" title="typedef struct _PEB&#10;{&#10;    //&#10;    // The process was cloned with an inherited address space.&#10;    //&#10;    BOOLEAN InheritedAddressSpace;&#10;&#10;    //&#10;    // The process has image file execution options (IFEO).&#10;    //&#10;    BOOLEAN ReadImageFileExecOptions;&#10;&#10;    //&#10;    // The process has a debugger attached.&#10;    //&#10;    BOOLEAN BeingDebugged;&#10;&#10;    union&#10;    {&#10;        BOOLEAN BitField;&#10;...">PEB</a>, but if the process is running with an altered view of the system version, this field is used to correctly identify the version.</p>

<h3 id="processorfeaturesprocessor_feature_max"><code>ProcessorFeatures[<a href="processor_feature_max" title="#define PROCESSOR_FEATURE_MAX 64">PROCESSOR_FEATURE_MAX</a>]</code></h3>

<p>Processor features.</p>

<h3 id="reserved1"><code>Reserved1</code></h3>

<p>Reserved for future use.</p>

<h3 id="reserved3"><code>Reserved3</code></h3>

<p>Reserved for future use.</p>

<h3 id="timeslip"><code>TimeSlip</code></h3>

<p>Time slippage while in debugger.</p>

<h3 id="alternativearchitecture"><code>AlternativeArchitecture</code></h3>

<p>Alternative system architecture. For example, NEC PC98xx on x86.</p>

<h3 id="bootid"><code>BootId</code></h3>

<p>Boot sequence, incremented for each boot attempt by the OS loader.</p>

<h3 id="systemexpirationdate"><code>SystemExpirationDate</code></h3>

<p>If the system is an evaluation unit, the following field contains the date and time that the evaluation unit expires. A value of 0 indicates that there is no expiration. A non-zero value is the UTC absolute time that the system expires.</p>

<h3 id="suitemask"><code>SuiteMask</code></h3>

<p>Suite support. This field must be accessed via the <a href="rtlgetsuitemask" title="NTSYSAPI&#10;ULONG&#10;NTAPI&#10;RtlGetSuiteMask(&#10;    VOID&#10;    );">RtlGetSuiteMask</a> API for an accurate result.</p>

<h3 id="kddebuggerenabled"><code>KdDebuggerEnabled</code></h3>

<p>TRUE if a kernel debugger is connected/enabled.</p>

<h3 id="mitigationpolicies"><code>MitigationPolicies</code></h3>

<p>Mitigation policies.</p>

<h3 id="nxsupportpolicy"><code>NXSupportPolicy</code></h3>

<p>Defines the <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong> member <strong>NXSupportPolicy</strong>.</p>

<h3 id="sehvalidationpolicy"><code>SEHValidationPolicy</code></h3>

<p>Defines the <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong> member <strong>SEHValidationPolicy</strong>.</p>

<h3 id="curdirdevicesskippedfordlls"><code>CurDirDevicesSkippedForDlls</code></h3>

<p>Defines the <strong><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></strong> member <strong>CurDirDevicesSkippedForDlls</strong>.</p>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Reserved for future use.</p>

<h3 id="cyclesperyield"><code>CyclesPerYield</code></h3>

<p>Measured duration of a single processor yield, in cycles. This is used by lock packages to determine how many times to spin waiting for a state change before blocking.</p>

<h3 id="activeconsoleid"><code>ActiveConsoleId</code></h3>

<p>Current console session Id. Always zero on non-TS systems. This field must be accessed via the <strong><a href="rtlgetactiveconsoleid" title="NTSYSAPI&#10;ULONG&#10;NTAPI&#10;RtlGetActiveConsoleId(&#10;    VOID&#10;    );">RtlGetActiveConsoleId</a></strong> API for an accurate result.</p>

<h3 id="dismountcount"><code>DismountCount</code></h3>

<p>Force-dismounts cause handles to become invalid. Rather than always probe handles, a serial number of dismounts is maintained that clients can use to see if they need to probe handles.</p>

<h3 id="compluspackage"><code>ComPlusPackage</code></h3>

<p>This field indicates the status of the 64-bit COM+ package on the system. It indicates whether the Intermediate Language (IL) COM+ images need to use the 64-bit COM+ runtime or the 32-bit COM+ runtime.</p>

<h3 id="lastsystemriteventtickcount"><code>LastSystemRITEventTickCount</code></h3>

<p>Time in tick count for system-wide last user input across all terminal sessions. For MP performance, it is not updated all the time (for example, once a minute per session). It is used for idle detection.</p>

<h3 id="numberofphysicalpages"><code>NumberOfPhysicalPages</code></h3>

<p>Number of physical pages in the system. This can dynamically change as physical memory can be added or removed from a running system.</p>

<h3 id="safebootmode"><code>SafeBootMode</code></h3>

<p>True if the system was booted in safe boot mode.</p>

<h3 id="virtualizationflags"><code>VirtualizationFlags</code></h3>

<p>Virtualization flags.</p>

<h3 id="archstartedinel2"><code>ArchStartedInEl2</code></h3>

<p>Keep this bitfield in sync with the one in arc.w.</p>

<h3 id="qcslissupported"><code>QcSlIsSupported</code></h3>

<p>Keep this bitfield in sync with the one in arc.w.</p>

<h3 id="reserved122"><code>Reserved12[2]</code></h3>

<p>Reserved for future use.</p>

<h3 id="dummyunionname2"><code>DUMMYUNIONNAME2</code></h3>

<p>This is a packed bitfield that contains various flags concerning the system state. They must be manipulated using interlocked operations. <strong>DbgMultiSessionSku</strong> must be accessed via the <strong><a href="rtlismultisessionsku" title="NTSYSAPI&#10;BOOLEAN&#10;NTAPI&#10;RtlIsMultiSessionSku(&#10;    VOID&#10;    );">RtlIsMultiSessionSku</a></strong> API for an accurate result.</p>

<h3 id="dummyunionname2shareddataflags"><code>DUMMYUNIONNAME2.SharedDataFlags</code></h3>

<p>Defines the <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> member <strong>SharedDataFlags</strong>.</p>

<h3 id="dummyunionname2dummystructname2"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2</code></h3>

<p>Defines the <strong>DUMMYSTRUCTNAME2</strong> structure.</p>

<h3 id="dummyunionname2dummystructname2dbgerrorportpresent"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgErrorPortPresent</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbgelevationenabled"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgElevationEnabled</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbgvirtenabled"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgVirtEnabled</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbginstallerdetectenabled"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgInstallerDetectEnabled</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbglkgenabled"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgLkgEnabled</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbgdynprocessorenabled"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgDynProcessorEnabled</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbgconsolebrokerenabled"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgConsoleBrokerEnabled</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbgsecurebootenabled"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgSecureBootEnabled</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbgmultisessionsku"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgMultiSessionSku</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbgmultiusersinsessionsku"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgMultiUsersInSessionSku</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2dbgstateseparationenabled"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.DbgStateSeparationEnabled</code></h3>

<p>For debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dummyunionname2dummystructname2sparebits"><code>DUMMYUNIONNAME2.DUMMYSTRUCTNAME2.SpareBits</code></h3>

<p>For the debugger only. Do not use. Use the bit definitions instead.</p>

<h3 id="dataflagspad1"><code>DataFlagsPad[1]</code></h3>

<p>Defines the <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> member <strong>DataFlagsPad</strong>.</p>

<h3 id="testretinstruction"><code>TestRetInstruction</code></h3>

<p>Depending on the processor, the code for fast system call will differ. This field is only used on 32-bit systems.</p>

<h3 id="qpcfrequency"><code>QpcFrequency</code></h3>

<p>Defines the <strong><a href="longlong" title="typedef __int64 LONGLONG;">LONGLONG</a></strong> member <strong>QpcFrequency</strong>.</p>

<h3 id="systemcall"><code>SystemCall</code></h3>

<p>On AMD64, this value is initialized to a nonzero value if the system operates with an altered view of the system service call mechanism.</p>

<h3 id="reserved2"><code>Reserved2</code></h3>

<p>Reserved for future use.</p>

<h3 id="fullnumberofphysicalpages"><code>FullNumberOfPhysicalPages</code></h3>

<p>Reserved for future use.</p>

<h3 id="systemcallpad1"><code>SystemCallPad[1]</code></h3>

<p>Reserved for future use.</p>

<h3 id="dummyunionname3"><code>DUMMYUNIONNAME3</code></h3>

<p>The 64-bit tick count.</p>

<h3 id="dummyunionname3tickcount"><code>DUMMYUNIONNAME3.TickCount</code></h3>

<p>Defines the <strong><a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a></strong> member <strong>TickCount</strong>.</p>

<h3 id="dummyunionname3tickcountquad"><code>DUMMYUNIONNAME3.TickCountQuad</code></h3>

<p>Defines the <strong><a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a></strong> member <strong>TickCountQuad</strong>.</p>

<h3 id="dummyunionname3dummystructname"><code>DUMMYUNIONNAME3.DUMMYSTRUCTNAME</code></h3>

<p>Defines <strong>DUMMYSTRUCTNAME</strong>.</p>

<h3 id="dummyunionname3dummystructnamereservedtickcountoverlay3"><code>DUMMYUNIONNAME3.DUMMYSTRUCTNAME.ReservedTickCountOverlay[3]</code></h3>

<p>Defines the <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> member <strong>ReservedTickCountOverlay</strong>.</p>

<h3 id="dummyunionname3dummystructnametickcountpad1"><code>DUMMYUNIONNAME3.DUMMYSTRUCTNAME.TickCountPad[1]</code></h3>

<p>Defines the <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> member <strong>TickCountPad</strong>.</p>

<h3 id="cookie"><code>Cookie</code></h3>

<p>Cookie for encoding pointers system wide.</p>

<h3 id="cookiepad1"><code>CookiePad[1]</code></h3>

<p>Reserved for future use.</p>

<h3 id="consolesessionforegroundprocessid"><code>ConsoleSessionForegroundProcessId</code></h3>

<p>Client id of the process having the focus in the current active console session id. This field must be accessed via the <strong><a href="rtlgetconsolesessionforegroundprocessid" title="NTSYSAPI&#10;LONGLONG&#10;NTAPI&#10;RtlGetConsoleSessionForegroundProcessId(&#10;    VOID&#10;    );">RtlGetConsoleSessionForegroundProcessId</a></strong> API for an accurate result.</p>

<h3 id="timeupdatelock"><code>TimeUpdateLock</code></h3>

<p>Placeholder for the (internal) time update lock. This data is used to implement the precise time services. It is aligned on a 64-byte cache-line boundary and arranged in the order of typical accesses.</p>

<h3 id="baselinesystemtimeqpc"><code>BaselineSystemTimeQpc</code></h3>

<p>The performance counter value used to establish the current system time.</p>

<h3 id="baselineinterrupttimeqpc"><code>BaselineInterruptTimeQpc</code></h3>

<p>The performance counter value used to compute the last interrupt time.</p>

<h3 id="qpcsystemtimeincrement"><code>QpcSystemTimeIncrement</code></h3>

<p>The scaled number of system time seconds represented by a single performance count (this value may vary to achieve time synchronization).</p>

<h3 id="qpcinterrupttimeincrement"><code>QpcInterruptTimeIncrement</code></h3>

<p>The scaled number of interrupt time seconds represented by a single performance count (this value is constant after the system is booted).</p>

<h3 id="qpcsystemtimeincrementshift"><code>QpcSystemTimeIncrementShift</code></h3>

<p>The scaling shift count applied to the performance counter system time increment.</p>

<h3 id="qpcinterrupttimeincrementshift"><code>QpcInterruptTimeIncrementShift</code></h3>

<p>The scaling shift count applied to the performance counter interrupt time increment.</p>

<h3 id="unparkedprocessorcount"><code>UnparkedProcessorCount</code></h3>

<p>The count of unparked processors.</p>

<h3 id="enclavefeaturemask4"><code>EnclaveFeatureMask[4]</code></h3>

<p>A bitmask of enclave features supported on this system. This field must be accessed via the <strong>RtlIsEnclareFeaturePresent</strong> API for an accurate result.</p>

<h3 id="telemetrycoverageround"><code>TelemetryCoverageRound</code></h3>

<p>Current coverage round for telemetry based coverage.</p>

<h3 id="usermodegloballogger16"><code>UserModeGlobalLogger[16]</code></h3>

<p>The following field is used for ETW user mode global logging (UMGL).</p>

<h3 id="imagefileexecutionoptions"><code>ImageFileExecutionOptions</code></h3>

<p>Settings that can enable the use of Image File Execution Options from HKCU in addition to the original HKLM.</p>

<h3 id="langgenerationcount"><code>LangGenerationCount</code></h3>

<p>Generation of the kernel structure holding system language information.</p>

<h3 id="reserved4"><code>Reserved4</code></h3>

<p>Reserved for future use.</p>

<h3 id="interrupttimebias"><code>InterruptTimeBias</code></h3>

<p>Current 64-bit interrupt time bias in 100ns units.</p>

<h3 id="qpcbias"><code>QpcBias</code></h3>

<p>Current 64-bit performance counter bias, in performance counter units before the shift is applied.</p>

<h3 id="activeprocessorcount"><code>ActiveProcessorCount</code></h3>

<p>Number of active processors.</p>

<h3 id="activegroupcount"><code>ActiveGroupCount</code></h3>

<p>Number of active groups.</p>

<h3 id="reserved9"><code>Reserved9</code></h3>

<p>Reserved for future use.</p>

<h3 id="qpcdata"><code>QpcData</code></h3>

<p>Defines the <strong><a href="ushort" title="typedef unsigned short USHORT;">USHORT</a></strong> member QpcData.</p>

<h3 id="qpcbypassenabled"><code>QpcBypassEnabled</code></h3>

<p>A boolean indicating whether performance counter queries can read the counter directly (bypassing the system call).</p>

<h3 id="qpcreserved"><code>QpcReserved</code></h3>

<p>Reserved for future use.</p>

<h3 id="timezonebiaseffectivestart"><code>TimeZoneBiasEffectiveStart</code></h3>

<p>Defines the <strong>LARGE_INTEGER</strong> member <strong>TimeZoneBiasEffectiveStart</strong>.</p>

<h3 id="timezonebiaseffectiveend"><code>TimeZoneBiasEffectiveEnd</code></h3>

<p>Defines the <strong>LARGE_INTEGER</strong> member <strong>TimeZoneBiasEffectiveEnd</strong>.</p>

<h3 id="xstate"><code>XState</code></h3>

<p>Extended processor state configuration.</p>

<h3 id="featureconfigurationchangestamp"><code>FeatureConfigurationChangeStamp</code></h3>

<p>Defines the <strong><a href="ksystem_time" title="typedef struct _KSYSTEM_TIME&#10;{&#10;    ULONG LowPart;&#10;    LONG High1Time;&#10;    LONG High2Time;&#10;} KSYSTEM_TIME, *PKSYSTEM_TIME;">KSYSTEM_TIME</a></strong> member <strong>FeatureConfigurationChangeStamp</strong>.</p>

<h3 id="spare"><code>Spare</code></h3>

<p>Defines the <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> member <strong>Spare</strong>.</p>

<h3 id="userpointerauthmask"><code>UserPointerAuthMask</code></h3>

<p>Defines the <strong><a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a></strong> member <strong>UserPointerAuthMask</strong>.</p>

<h2 id="remarks">Remarks</h2>

<h2 id="see-also">See also</h2>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/ns-ntddk-kuser_shared_data">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddk/ns-ntddk-kuser_shared_data.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
