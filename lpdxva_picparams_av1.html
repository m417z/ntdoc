<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="LPDXVA_PicParams_AV1 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>LPDXVA_PicParams_AV1 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            LPDXVA_PicParams_AV1 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// dxva.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXVA_PicParams_AV1 {
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>              width;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>              height;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>              max_width;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>              max_height;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             CurrPicTextureIndex;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             superres_denom;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             bitdepth;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             seq_profile;
  struct {
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  cols;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  rows;
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> context_update_id;
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> widths[64];
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> heights[64];
  } tiles;
  union {
    struct {
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> use_128x128_superblock : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> intra_edge_filter : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> interintra_compound : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> masked_compound : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> warped_motion : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> dual_filter : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> jnt_comp : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> screen_content_tools : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> integer_mv : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> cdef : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> restoration : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> film_grain : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> intrabc : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> high_precision_mv : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> switchable_motion_mode : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> filter_intra : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> disable_frame_end_update_cdf : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> disable_cdf_update : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> reference_mode : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> skip_mode : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> reduced_tx_set : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> superres : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> tx_mode : 2;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> use_ref_frame_mvs : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> enable_ref_frame_mvs : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> reference_frame_update : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 5;
    };
    <a href="uint32" title="typedef unsigned int UINT32;">UINT32</a> CodingParamToolFlags;
  } coding;
  union {
    struct {
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> frame_type : 2;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> show_frame : 1;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> showable_frame : 1;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> subsampling_x : 1;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> subsampling_y : 1;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> mono_chrome : 1;
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved : 1;
    };
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> FormatAndPictureInfoFlags;
  } format;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             primary_ref_frame;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             order_hint;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             order_hint_bits;
  <a href="lpdxva_picentry_av1" title="typedef struct _DXVA_PicEntry_AV1 {&#10;  UINT   width;&#10;  UINT   height;&#10;  INT    wmmat[6];&#10;  union {&#10;    struct {&#10;      UCHAR wminvalid : 1;&#10;      UCHAR wmtype : 2;&#10;      UCHAR Reserved : 5;&#10;    };&#10;    UCHAR GlobalMotionFlags;&#10;  } DUMMYUNIONNAME;&#10;  UCHAR  Index;&#10;  UINT16 Reserved16Bits;&#10;} DXVA_PicEntry_AV1, *LPDXVA_PicEntry_AV1;">DXVA_PicEntry_AV1</a> frame_refs[7];
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             RefFrameMapTextureIndex[8];
  struct {
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  filter_level[2];
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  filter_level_u;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  filter_level_v;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  sharpness_level;
    union {
      struct {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> mode_ref_delta_enabled : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> mode_ref_delta_update : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> delta_lf_multi : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> delta_lf_present : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved : 4;
      };
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  ControlFlags;
    } DUMMYUNIONNAME;
    <a href="char" title="typedef char CHAR;">CHAR</a>   ref_deltas[8];
    <a href="char" title="typedef char CHAR;">CHAR</a>   mode_deltas[2];
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  delta_lf_res;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  frame_restoration_type[3];
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> log2_restoration_unit_size[3];
    <a href="uint16" title="typedef unsigned short UINT16;">UINT16</a> Reserved16Bits;
  } loop_filter;
  struct {
    union {
      struct {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> delta_q_present : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> delta_q_res : 2;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved : 5;
      };
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  ControlFlags;
    } DUMMYUNIONNAME;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  base_qindex;
    <a href="char" title="typedef char CHAR;">CHAR</a>   y_dc_delta_q;
    <a href="char" title="typedef char CHAR;">CHAR</a>   u_dc_delta_q;
    <a href="char" title="typedef char CHAR;">CHAR</a>   v_dc_delta_q;
    <a href="char" title="typedef char CHAR;">CHAR</a>   u_ac_delta_q;
    <a href="char" title="typedef char CHAR;">CHAR</a>   v_ac_delta_q;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  qm_y;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  qm_u;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  qm_v;
    <a href="uint16" title="typedef unsigned short UINT16;">UINT16</a> Reserved16Bits;
  } quantization;
  struct {
    union {
      struct {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> damping : 2;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> bits : 2;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved : 4;
      };
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  ControlFlags;
    } DUMMYUNIONNAME;
    union {
      struct {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> primary : 6;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> secondary : 2;
      };
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  combined;
    };
    __unnamed_union_0011_60 y_strengths[8];
    union {
      struct {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> primary : 6;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> secondary : 2;
      };
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  combined;
    };
    __unnamed_union_0011_62 uv_strengths[8];
  } cdef;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>             interp_filter;
  struct {
    union {
      struct {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> enabled : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> update_map : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> update_data : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> temporal_update : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Reserved : 4;
      };
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  ControlFlags;
    } DUMMYUNIONNAME;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                   Reserved24Bits[3];
    union {
      struct {
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> alt_q : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> alt_lf_y_v : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> alt_lf_y_h : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> alt_lf_u : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> alt_lf_v : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> ref_frame : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> skip : 1;
        <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> globalmv : 1;
      };
      <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  mask;
    };
    __unnamed_union_0011_67 feature_mask[8];
    <a href="short" title="typedef short SHORT;">SHORT</a>                   feature_data[8][8];
  } segmentation;
  struct {
    union {
      struct {
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> apply_grain : 1;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> scaling_shift_minus8 : 2;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> chroma_scaling_from_luma : 1;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> ar_coeff_lag : 2;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> ar_coeff_shift_minus6 : 2;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> grain_scale_shift : 2;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> overlap_flag : 1;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> clip_to_restricted_range : 1;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> matrix_coeff_is_identity : 1;
        <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> Reserved : 3;
      };
      <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> ControlFlags;
    } DUMMYUNIONNAME;
    <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> grain_seed;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  scaling_points_y[14][2];
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  num_y_points;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  scaling_points_cb[10][2];
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  num_cb_points;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  scaling_points_cr[10][2];
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  num_cr_points;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  ar_coeffs_y[24];
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  ar_coeffs_cb[25];
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  ar_coeffs_cr[25];
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  cb_mult;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  cb_luma_mult;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  cr_mult;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  cr_luma_mult;
    <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  Reserved8Bits;
    <a href="short" title="typedef short SHORT;">SHORT</a>  cb_offset;
    <a href="short" title="typedef short SHORT;">SHORT</a>  cr_offset;
  } film_grain;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>              Reserved32Bits;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>              StatusReportFeedbackNumber;
} DXVA_PicParams_AV1, *LPDXVA_PicParams_AV1;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxva/ns-dxva-dxva_picparams_av1">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/lpdxva_picparams_av1.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-dxva-dxva_picparams_av1)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The DXVA_PicParams_AV1 structure provides the picture-level parameters of a compressed picture for AV1 video decoding.</p>

<h2 id="members">Members</h2>

<h3 id="width"><code>width</code></h3>

<p>Coded width of the current frame. Corresponds to the frame_width_minus_1 syntax element. See Remarks.</p>

<h3 id="height"><code>height</code></h3>

<p>Coded height of the current frame. Corresponds to the frame_height_minus_1 syntax element. See Remarks.</p>

<h3 id="max_width"><code>max_width</code></h3>

<h3 id="max_height"><code>max_height</code></h3>

<h3 id="currpictextureindex"><code>CurrPicTextureIndex</code></h3>

<p>The destination frame buffer/surface index for the decoded picture.</p>

<h3 id="superres_denom"><code>superres_denom</code></h3>

<p>When superres is enabled, this field specifies the denominator for computing the updated frame width. This corresponds to the SuperresDenom value from the AV1 specification. When superres is not enabled, this value shall be 8.</p>

<h3 id="bitdepth"><code>bitdepth</code></h3>

<p>The bit depth of the luma and chroma decoded samples. The allowed values are restricted by the profile value.</p>

<h3 id="seq_profile"><code>seq_profile</code></h3>

<p>The profile of the AV1 bitstream. This corresponds to the syntax element: seq_profile. The AV1 video coding format defines the following profiles:</p>

<table>
<thead>
<tr>
  <th>Profile</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>profile 0</td>
  <td>Supports 4:2:0 chroma sampling with 8 or 10 bits per sample and monochrome formats.</td>
</tr>
<tr>
  <td>profile 1</td>
  <td>Supports 4:4:4 chroma sampling with 8 or 10 bits per sample.</td>
</tr>
<tr>
  <td>profile 2</td>
  <td>Supports 4:2:0, 4:2:2, or 4:4:4 chroma sampling at 8, 10 or 12 bits per sample and monochrome formats.</td>
</tr>
</tbody>
</table>

<h3 id="tiles"><code>tiles</code></h3>

<p>Contains information specific to tiles.</p>

<h3 id="tilescols"><code>tiles.cols</code></h3>

<p>The number of tiles across a frame. This field corresponds to 2^TileColsLog2 from the AV1 specification.</p>

<h3 id="tilesrows"><code>tiles.rows</code></h3>

<p>The number of tiles down a frame. This field corresponds to 2^TileRowsLog2 from the AV1 specification.</p>

<h3 id="tilescontext_update_id"><code>tiles.context_update_id</code></h3>

<p>Specifies which tile to use for CDF update. This corresponds to the syntax element named context_update_tile_id from the AV1 specification.</p>

<h3 id="tileswidths"><code>tiles.widths</code></h3>

<p>The widths of each tile, in units of superblocks. Only the first 2^cols_log2 widths entries are valid. This field corresponds to the tileWidthSb variable from the AV1 specification.</p>

<h3 id="tilesheights"><code>tiles.heights</code></h3>

<p>The heights of each tile, in units of superblocks. Only the first 2^rows_log2 heights entries are valid. This field corresponds to the tileHeightSb variable from the AV1 specification.</p>

<h3 id="coding"><code>coding</code></h3>

<p>The coding tools.</p>

<h3 id="codinguse_128x128_superblock"><code>coding.use_128x128_superblock</code></h3>

<p>When equal to 1, indicates that superblocks contain 128x128 luma samples; otherwise, superblocks contain 64x64 luma samples. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="codingintra_edge_filter"><code>coding.intra_edge_filter</code></h3>

<p>Specifies whether the intra edge filtering process should be enabled. This field corresponds to the syntax element named enable_intra_edge_filter from the AV1 specification.</p>

<h3 id="codinginterintra_compound"><code>coding.interintra_compound</code></h3>

<p>When equal to 1, indicates that the mode info for inter blocks may contain the syntax element interintra; otherwise, the interintra syntax element will not be present. This field corresponds to the syntax element named enable_interintra_compound from the AV1 specification.</p>

<h3 id="codingmasked_compound"><code>coding.masked_compound</code></h3>

<p>When equal to 1, indicates that the mode info for inter blocks may contain the syntax element compound_type; otherwise, the compound_type syntax element will not be present. This field corresponds to the syntax element named enable_masked_compound from the AV1 specification.</p>

<h3 id="codingwarped_motion"><code>coding.warped_motion</code></h3>

<p>When equal to 1, indicates that the syntax element motion_mode may be present. This field corresponds to the syntax element named allow_warped_motion from the AV1 specification.</p>

<h3 id="codingdual_filter"><code>coding.dual_filter</code></h3>

<p>When equal to 1, indicates that the inter prediction filter type may be specified independently in the horizontal and vertical directions; otherwise, only one filter type may be specified. This field corresponds to the syntax element named enable_dual_filter from the AV1 specification.</p>

<h3 id="codingjnt_comp"><code>coding.jnt_comp</code></h3>

<p>When equal to 1, indicates that the distance weights process may be used for inter prediction. This field corresponds to the syntax element named enable_jnt_comp from the AV1 specification.</p>

<h3 id="codingscreen_content_tools"><code>coding.screen_content_tools</code></h3>

<p>When equal to 1, indicates that intra blocks may use palette encoding; otherwise, palette encoding will not be used. This field corresponds to the syntax element named allow_screen_content_tools from the AV1 specification.</p>

<h3 id="codinginteger_mv"><code>coding.integer_mv</code></h3>

<p>When equal to 1, indicates that motion vectors will always be integers. This field corresponds to the syntax element named force_integer_mv from the AV1 specification.</p>

<h3 id="codingcdef"><code>coding.cdef</code></h3>

<p>When equal to 1, indicates that Constrained Directional Enhancement Filter (CDEF) filtering may be enabled. This field corresponds to the syntax element named enable_cdef from the AV1 specification.</p>

<h3 id="codingrestoration"><code>coding.restoration</code></h3>

<p>When equal to 1, indicates that loop restoration filtering may be enabled. This field corresponds to the syntax element named enable_restoration from the AV1 specification.</p>

<h3 id="codingfilm_grain"><code>coding.film_grain</code></h3>

<p>When equal to 1, indicates that film grain processing may be enabled. This field corresponds to the syntax element named film_grain_params_present from the AV1 specification.</p>

<h3 id="codingintrabc"><code>coding.intrabc</code></h3>

<p>When equal to 1, indicates that intra block copy may be used. This field corresponds to the syntax element named allow_intrabc from the AV1 specification.</p>

<h3 id="codinghigh_precision_mv"><code>coding.high_precision_mv</code></h3>

<p>When equal to 1, indicates that motion vectors are specified to eighth pel precision; otherwise, motion vectors are specified to quarter pel precision. This field corresponds to the syntax element named allow_high_precision_mv from the AV1 specification.</p>

<h3 id="codingswitchable_motion_mode"><code>coding.switchable_motion_mode</code></h3>

<p>When equal to 1, indicates that only the SIMPLE motion mode may be used. This field corresponds to the syntax element named is_motion_mode_switchable from the AV1 specification.</p>

<h3 id="codingfilter_intra"><code>coding.filter_intra</code></h3>

<p>When equal to 1, indicates that the use_filter_intra syntax element may be present. This field corresponds to the syntax element named enable_filter_intra from the AV1 specification.</p>

<h3 id="codingdisable_frame_end_update_cdf"><code>coding.disable_frame_end_update_cdf</code></h3>

<p>Specifies whether the CDF arrays are saved in the symbol decoder exit process. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="codingdisable_cdf_update"><code>coding.disable_cdf_update</code></h3>

<p>Specifies whether the CDF update in the symbol decoding process should be disabled. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="codingreference_mode"><code>coding.reference_mode</code></h3>

<p>Controls the mode used for reference frame prediction. Can be one of the following values which correspond with the reference mode from the AV1 decoding process:</p>

<table>
<thead>
<tr>
  <th>reference_mode</th>
  <th>Name of reference_mode</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0</td>
  <td>SINGLE_REFERENCE</td>
</tr>
<tr>
  <td>1</td>
  <td>REFERENCE_MODE_SELECT</td>
</tr>
</tbody>
</table>

<h3 id="codingskip_mode"><code>coding.skip_mode</code></h3>

<p>Indicates whether skip mode syntax can be specified in compound prediction. This field corresponds to the skip_mode_present syntax element from the AV1 specification.</p>

<h3 id="codingreduced_tx_set"><code>coding.reduced_tx_set</code></h3>

<p>Specifies whether the frame uses a restricted set of transform types. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="codingsuperres"><code>coding.superres</code></h3>

<p>Specifies whether the frame uses super resolution. This field corresponds to the syntax element named use_superres from the AV1 specification.</p>

<h3 id="codingtx_mode"><code>coding.tx_mode</code></h3>

<p>Specifies how the transform size is determined. This field corresponds to the variable of the same name from the AV1 specification. It can take on one of the following values, as specified in the AV1 specification:</p>

<table>
<thead>
<tr>
  <th>TxMode value</th>
  <th>Name of TxMode</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0</td>
  <td>ONLY_4X4</td>
</tr>
<tr>
  <td>1</td>
  <td>TX_MODE_LARGEST</td>
</tr>
<tr>
  <td>2</td>
  <td>TX_MODE_SELECT</td>
</tr>
</tbody>
</table>

<h3 id="codinguse_ref_frame_mvs"><code>coding.use_ref_frame_mvs</code></h3>

<p>Specifies whether motion vectors from the previous frame should be used for the current frame. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="codingenable_ref_frame_mvs"><code>coding.enable_ref_frame_mvs</code></h3>

<p>Specifies whether use_ref_frame_mvs is disabled for the entire video sequence; when 0 use_ref_frame_mvs will also always be 0. This field corresponds to the syntax element of the same name from the AV1 specification (from the sequence header).</p>

<h3 id="codingreference_frame_update"><code>coding.reference_frame_update</code></h3>

<p>Indicates that the reference frame update process as specified by section 7.20 of the AV1 specification should be performed after decoding this frame. Otherwise section 7.21 should be performed.</p>

<h3 id="codingreserved"><code>coding.Reserved</code></h3>

<p>Reserved bit fields to complete the packed structure. Shall be set to 0. The accelerator shall ignore the values in the reserved bit fields.</p>

<h3 id="codingcodingparamtoolflags"><code>coding.CodingParamToolFlags</code></h3>

<p>Provides an alternative way to access the bit fields related to coding tool flags.</p>

<h3 id="format"><code>format</code></h3>

<p>Contains format and picture information.</p>

<h3 id="formatframe_type"><code>format.frame_type</code></h3>

<p>The frame type of the current frame. This field corresponds to the syntax element of the same name in the AV1 specification and affects the decoding process accordingly. The allowed values are 0, 1, 2 or 3, for the four types of AV1 frames: KEY_FRAME, INTER_FRAME, INTRA_ONLY_FRAME, and S_FRAME.</p>

<h3 id="formatshow_frame"><code>format.show_frame</code></h3>

<p>Indicates whether the current frame is intended to be output and displayed after its decoding is completed. This field corresponds to the syntax element of the same name in the AV1 specification and affects the decoding process accordingly. In DXVA, this has no direct effect, as the host controls the display of decoded frames separately by other function calls.</p>

<h3 id="formatshowable_frame"><code>format.showable_frame</code></h3>

<p>When equal to 1, specifies that the frame can be output using the show_existing_frame mechanism; otherwise equal to zero, which specifies that this frame will not be output using the show_existing_frame mechanism.</p>

<h3 id="formatsubsampling_x"><code>format.subsampling_x</code></h3>

<p>Together with <strong>subsampling_y</strong>, indicates the chroma sampling format. See Remarks.</p>

<h3 id="formatsubsampling_y"><code>format.subsampling_y</code></h3>

<p>Together with <strong>subsampling_x</strong>, indicates the chroma sampling format. See Remarks.</p>

<h3 id="formatmono_chrome"><code>format.mono_chrome</code></h3>

<p>Indicates whether the bitstream is monochrome. If 1 then only a luma plane is present. This field corresponds to the syntax element of the same name from the Color Config Syntax of the AV1 specification. The allowed values are restricted by the profile value.</p>

<h3 id="formatreserved"><code>format.Reserved</code></h3>

<p>Reserved bit fields to complete the packed structure. Shall be set to 0. The accelerator shall ignore the values in the reserved bit fields.</p>

<h3 id="formatformatandpictureinfoflags"><code>format.FormatAndPictureInfoFlags</code></h3>

<p>Provides an alternative way to access the bit fields related to format and picture info.</p>

<h3 id="primary_ref_frame"><code>primary_ref_frame</code></h3>

<p>Specifies which reference frame contains the CDF values and other state that should be loaded at the start of the frame. This field is 0x7 when there is no primary reference frame. It corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="order_hint"><code>order_hint</code></h3>

<p>The output ordering of the current frame. Corresponds to OrderHint from the AV1 specification.</p>

<h3 id="order_hint_bits"><code>order_hint_bits</code></h3>

<p>Corresponds to the syntax element named order_hint_bits_minus_1 in the AV1 specification. This field is defined as: order_hint_bits_minus_1 + 1. This field will be 0 when enable_order_hint from the AV1 specification is 0.</p>

<p>When this value is 0, no tools based on OrderHint should be used and the value of order_hint is undefined. When non-zero, it affects the calculation of relative distance accordingly (see function get_relative_dist from the AV1 specification).</p>

<h3 id="frame_refs"><code>frame_refs</code></h3>

<h3 id="refframemaptextureindex"><code>RefFrameMapTextureIndex</code></h3>

<p>Array of uncompressed frame buffer surfaces. Entries that will not be used for decoding the current picture, or any subsequent pictures, are indicated by setting this value to 0xFF. If the value is not 0xFF, the entry may be used as a reference surface for decoding the current picture or a subsequent picture in decoding order.</p>

<p>All uncompressed surfaces that correspond to frames that may be used for reference in the decoding process of the current picture or any subsequent picture shall be present in the <strong>RefFrameMapTextureIndex</strong> array (regardless of whether these pictures are actually used in the decoding process of the current frame). No particular order is specified for the ordering of the entries in the <strong>RefFrameMapTextureIndex</strong> array.</p>

<blockquote>
  <p>[!NOTE]
  The accelerator must use the content of the <strong>RefFrameMapTextureIndex</strong> as provided by the accelerator rather than trying to derive this information from the bitstream (in order to ensure stateless operation for which the decoded frame buffer handling is to be performed under the control of the host rather than inferred from the bitstream by the accelerator).</p>
</blockquote>

<h3 id="loop_filter"><code>loop_filter</code></h3>

<p>Structure with loop filter parameters.</p>

<h3 id="loop_filterfilter_level"><code>loop_filter.filter_level</code></h3>

<p>An array containing loop filter strength values. Corresponds to the syntax element of the same name in the AV1 specification, and affects the decoding processes of the deblocking filter accordingly. See <strong>sharpness_level</strong> field for more information.</p>

<h3 id="loop_filterfilter_level_u"><code>loop_filter.filter_level_u</code></h3>

<h3 id="loop_filterfilter_level_v"><code>loop_filter.filter_level_v</code></h3>

<h3 id="loop_filtersharpness_level"><code>loop_filter.sharpness_level</code></h3>

<p>Indicates the sharpness level. The <strong>filter_level</strong> and <strong>sharpness_level</strong> values together determine when a block edge is filtered, and by how much the filtering can change the sample values. The loop filter process is described in section 7.14 of the AV1 specification.</p>

<h3 id="loop_filterdummyunionname"><code>loop_filter.DUMMYUNIONNAME</code></h3>

<h3 id="loop_filterdummyunionnamemode_ref_delta_enabled"><code>loop_filter.DUMMYUNIONNAME.mode_ref_delta_enabled</code></h3>

<p>When equal to 1, indicates that the filter level depends on the mode and reference frame used to predict a block. This field corresponds to the syntax element named loop_filter_delta_enabled from the AV1 specification.</p>

<h3 id="loop_filterdummyunionnamemode_ref_delta_update"><code>loop_filter.DUMMYUNIONNAME.mode_ref_delta_update</code></h3>

<p>When equal to 1, indicates that additional syntax elements are present that specify which mode and reference frame deltas are to be updated. This field corresponds to the syntax element named loop_filter_delta_update from the AV1 specification.</p>

<h3 id="loop_filterdummyunionnamedelta_lf_multi"><code>loop_filter.DUMMYUNIONNAME.delta_lf_multi</code></h3>

<p>When equal to 1, indicates that separate loop filter deltas are sent for horizontal luma edges, vertical luma edges, U edges and V edges. This field corresponds to the syntax element named delta_lf_multi from the AV1 specification.</p>

<h3 id="loop_filterdummyunionnamedelta_lf_present"><code>loop_filter.DUMMYUNIONNAME.delta_lf_present</code></h3>

<p>When equal to 1, indicates that loop filter deltas are present. This is needed for the loop filter decoding process: read_delta_lf(). This field corresponds to the syntax element named delta_lf_present from the AV1 specification.</p>

<h3 id="loop_filterdummyunionnamereserved"><code>loop_filter.DUMMYUNIONNAME.Reserved</code></h3>

<p>Reserved bit fields to complete the packed structure. Shall be set to 0. The accelerator shall ignore the values in the reserved bit fields.</p>

<h3 id="loop_filterdummyunionnamecontrolflags"><code>loop_filter.DUMMYUNIONNAME.ControlFlags</code></h3>

<p>Provides an alternative way to access the bit fields related to loop filter flags.</p>

<h3 id="loop_filterref_deltas"><code>loop_filter.ref_deltas</code></h3>

<p>Corresponds to the syntax element named loop_filter_ref_deltas in the AV1 specification and affects the decoding processes of the loop filter accordingly.</p>

<h3 id="loop_filtermode_deltas"><code>loop_filter.mode_deltas</code></h3>

<p>Corresponds to the syntax element named loop_filter_mode_deltas in the AV1 specification and affects the decoding process of the loop filter accordingly.</p>

<h3 id="loop_filterdelta_lf_res"><code>loop_filter.delta_lf_res</code></h3>

<p>The left shift which should be applied to the decoded loop filter delta values. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="loop_filterframe_restoration_type"><code>loop_filter.frame_restoration_type</code></h3>

<p>The loop restoration mode for this frame. This field corresponds to the FrameRestorationType syntax element from the AV1 specification. It can be one of the following, which are the same values as specified in the AV1 specification:</p>

<table>
<thead>
<tr>
  <th>FrameRestorationType</th>
  <th>Name of FrameRestorationType</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0</td>
  <td>RESTORE_NONE</td>
</tr>
<tr>
  <td>1</td>
  <td>RESTORE_WIENER</td>
</tr>
<tr>
  <td>2</td>
  <td>RESTORE_SGRPROJ</td>
</tr>
<tr>
  <td>3</td>
  <td>RESTORE_SWITCHABLE</td>
</tr>
</tbody>
</table>

<h3 id="loop_filterlog2_restoration_unit_size"><code>loop_filter.log2_restoration_unit_size</code></h3>

<p>The log2 size of loop restoration units in units of samples in the current plane. Element 0 corresponds to the luma plane, element 1 to the U plane and element 2 to the V plane. This field corresponds to the log2(LoopRestorationSize[plane]) variable from the AV1 specification.</p>

<h3 id="loop_filterreserved16bits"><code>loop_filter.Reserved16Bits</code></h3>

<p>Reserved bit fields to complete the packed structure. Shall be set to 0. The accelerator shall ignore the values in the reserved bit fields.</p>

<h3 id="quantization"><code>quantization</code></h3>

<p>Contains quantization information.</p>

<h3 id="quantizationdummyunionname"><code>quantization.DUMMYUNIONNAME</code></h3>

<h3 id="quantizationdummyunionnamedelta_q_present"><code>quantization.DUMMYUNIONNAME.delta_q_present</code></h3>

<p>Specifies whether the quantizer index delta values are present. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="quantizationdummyunionnamedelta_q_res"><code>quantization.DUMMYUNIONNAME.delta_q_res</code></h3>

<p>The left shift, which should be applied to decoded quantizer index delta values. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="quantizationdummyunionnamereserved"><code>quantization.DUMMYUNIONNAME.Reserved</code></h3>

<p>Reserved bit fields to complete the packed structure. Shall be set to 0. The accelerator shall ignore the values in the reserved bit fields.</p>

<h3 id="quantizationdummyunionnamecontrolflags"><code>quantization.DUMMYUNIONNAME.ControlFlags</code></h3>

<p>Provides an alternative way to access the bit fields related to quantization.</p>

<h3 id="quantizationbase_qindex"><code>quantization.base_qindex</code></h3>

<p>Indicates the base frame qindex. This field corresponds to the syntax element named base_q_idx from the AV1 specification.</p>

<h3 id="quantizationy_dc_delta_q"><code>quantization.y_dc_delta_q</code></h3>

<p>The Y DC quantizer relative to base_qindex. This field corresponds to DeltaQYDc from the AV1 specification.</p>

<h3 id="quantizationu_dc_delta_q"><code>quantization.u_dc_delta_q</code></h3>

<p>The U DC quantizer relative to base_qindex. This field corresponds to DeltaQUDc from the AV1 specification.</p>

<h3 id="quantizationv_dc_delta_q"><code>quantization.v_dc_delta_q</code></h3>

<p>The V DC quantizer relative to base_qindex. This field corresponds to DeltaQVDc from the AV1 specification.</p>

<h3 id="quantizationu_ac_delta_q"><code>quantization.u_ac_delta_q</code></h3>

<p>The U AC quantizer relative to base_qindex. This field corresponds to DeltaQUAc from the AV1 specification.</p>

<h3 id="quantizationv_ac_delta_q"><code>quantization.v_ac_delta_q</code></h3>

<p>The V AC quantizer relative to base_qindex. This field corresponds to DeltaQVAc from the AV1 specification.</p>

<h3 id="quantizationqm_y"><code>quantization.qm_y</code></h3>

<p>The level in the quantizer matrix that should be used for luma plane decoding. When unspecified (using_qmatrix=0), this field will be 0xFF (which is an invalid quantizer matrix level). This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="quantizationqm_u"><code>quantization.qm_u</code></h3>

<p>The level in the quantizer matrix that should be used for U-plane decoding. When unspecified (using_qmatrix=0), this field will be 0xFF (which is an invalid quantizer matrix level). This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="quantizationqm_v"><code>quantization.qm_v</code></h3>

<p>The level in the quantizer matrix that should be used for V-plane decoding. When unspecified (using_qmatrix=0), this field will be 0xFF (which is an invalid quantizer matrix level). This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="quantizationreserved16bits"><code>quantization.Reserved16Bits</code></h3>

<p>Reserved.</p>

<h3 id="cdef"><code>cdef</code></h3>

<p>Constrained directional enhancement filter (CDEF) parameters.</p>

<h3 id="cdefdummyunionname"><code>cdef.DUMMYUNIONNAME</code></h3>

<h3 id="cdefdummyunionnamedamping"><code>cdef.DUMMYUNIONNAME.damping</code></h3>

<p>Controls the amount of damping in the deringing filter. This field corresponds to the variable named cdef_damping_minus_3 from the AV1 specification.</p>

<h3 id="cdefdummyunionnamebits"><code>cdef.DUMMYUNIONNAME.bits</code></h3>

<p>The number of bits used to signal the CDEF filter setting. This field corresponds to the syntax element named cdef_bits from the AV1 specification.</p>

<h3 id="cdefdummyunionnamereserved"><code>cdef.DUMMYUNIONNAME.Reserved</code></h3>

<p>Reserved bit fields to complete the packed structure. Shall be set to 0. The accelerator shall ignore the values in the reserved bit fields.</p>

<h3 id="cdefdummyunionnamecontrolflags"><code>cdef.DUMMYUNIONNAME.ControlFlags</code></h3>

<p>Provides an alternative way to access the bit fields related to CDEF parameters.</p>

<h3 id="cdefprimary"><code>cdef.primary</code></h3>

<p>Primary filter strength for the y-channel. This field corresponds to cdef_y_pri_strength from the AV1 specification.</p>

<h3 id="cdefsecondary"><code>cdef.secondary</code></h3>

<p>Secondary filter strength for the y-channel. This field corresponds to cdef_y_sec_strength from the AV1 specification.</p>

<h3 id="cdefcombined"><code>cdef.combined</code></h3>

<p>Provides an alternative way to access the y_strengths primary and secondary bits.</p>

<h3 id="cdefy_strengths"><code>cdef.y_strengths</code></h3>

<p>The primary and secondary filter strengths for the y-channel.</p>

<h3 id="cdefuv_strengths"><code>cdef.uv_strengths</code></h3>

<p>The primary and secondary filter strengths for the uv-channels. This corresponds to the cdef_uv_pri_strength, and cdef_uv_sec_strength syntax elements from the AV1 specification.</p>

<h3 id="interp_filter"><code>interp_filter</code></h3>

<p>Corresponds to the same syntax element of the same name in the AV1 specification and affects the decoding process of motion compensation interpolation accordingly. The table below shows the possible values of interp_filter.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Filter type</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0</td>
  <td>normal 8-tap</td>
</tr>
<tr>
  <td>1</td>
  <td>smooth 8-tap</td>
</tr>
<tr>
  <td>2</td>
  <td>sharp 8-tap</td>
</tr>
<tr>
  <td>3</td>
  <td>bilinear</td>
</tr>
<tr>
  <td>4</td>
  <td>all filters</td>
</tr>
</tbody>
</table>

<h3 id="segmentation"><code>segmentation</code></h3>

<p>Segmentation parameters.</p>

<h3 id="segmentationdummyunionname"><code>segmentation.DUMMYUNIONNAME</code></h3>

<h3 id="segmentationdummyunionnameenabled"><code>segmentation.DUMMYUNIONNAME.enabled</code></h3>

<p>When equal to 1, indicates that this frame makes use of the segmentation tool. This field corresponds to the syntax element named segmentation_enabled from the AV1 specification.</p>

<h3 id="segmentationdummyunionnameupdate_map"><code>segmentation.DUMMYUNIONNAME.update_map</code></h3>

<p>When equal to 1, indicates that the segmentation map is updated during the decoding of this frame. This field corresponds to the syntax element named segmentation_update_map from the AV1 specification.</p>

<h3 id="segmentationdummyunionnameupdate_data"><code>segmentation.DUMMYUNIONNAME.update_data</code></h3>

<p>When equal to 1, indicates that new parameters are supplied for each segment. This field corresponds to the syntax element named segmentation_update_data from the AV1 specification.</p>

<h3 id="segmentationdummyunionnametemporal_update"><code>segmentation.DUMMYUNIONNAME.temporal_update</code></h3>

<p>When equal to 1, indicates that the updates to the segmentation map are coded relative to the existing segmentation map. This field corresponds to the syntax element named segmentation_temporal_update from the AV1 specification.</p>

<h3 id="segmentationdummyunionnamereserved"><code>segmentation.DUMMYUNIONNAME.Reserved</code></h3>

<p>Reserved bit fields to complete the packed structure. Shall be set to 0. The accelerator shall ignore the values in the reserved bit fields.</p>

<h3 id="segmentationdummyunionnamecontrolflags"><code>segmentation.DUMMYUNIONNAME.ControlFlags</code></h3>

<p>Provides an alternative way to access the bit fields related to segmentation.</p>

<h3 id="segmentationreserved24bits"><code>segmentation.Reserved24Bits</code></h3>

<p>Reserved.</p>

<h3 id="segmentationalt_q"><code>segmentation.alt_q</code></h3>

<h3 id="segmentationalt_lf_y_v"><code>segmentation.alt_lf_y_v</code></h3>

<h3 id="segmentationalt_lf_y_h"><code>segmentation.alt_lf_y_h</code></h3>

<h3 id="segmentationalt_lf_u"><code>segmentation.alt_lf_u</code></h3>

<h3 id="segmentationalt_lf_v"><code>segmentation.alt_lf_v</code></h3>

<h3 id="segmentationref_frame"><code>segmentation.ref_frame</code></h3>

<h3 id="segmentationskip"><code>segmentation.skip</code></h3>

<h3 id="segmentationglobalmv"><code>segmentation.globalmv</code></h3>

<h3 id="segmentationmask"><code>segmentation.mask</code></h3>

<h3 id="segmentationfeature_mask"><code>segmentation.feature_mask</code></h3>

<p>Specifies which segment data features are updated in this frame. This field corresponds to the syntax element feature_enabled from the AV1 specification.</p>

<h3 id="segmentationfeature_data"><code>segmentation.feature_data</code></h3>

<p>Specifies segmentation feature values. This field corresponds to the syntax element feature_value from the AV1 specification.</p>

<h3 id="film_grain"><code>film_grain</code></h3>

<p>Film grain parameters.</p>

<h3 id="film_graindummyunionname"><code>film_grain.DUMMYUNIONNAME</code></h3>

<h3 id="film_graindummyunionnameapply_grain"><code>film_grain.DUMMYUNIONNAME.apply_grain</code></h3>

<p>When equal to 1, indicates that film grain should be added to this frame. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graindummyunionnamescaling_shift_minus8"><code>film_grain.DUMMYUNIONNAME.scaling_shift_minus8</code></h3>

<p>The shift -8 applied to values of the chroma component. This field corresponds to the syntax element named grain_scaling_minus8 from the AV1 specification.</p>

<h3 id="film_graindummyunionnamechroma_scaling_from_luma"><code>film_grain.DUMMYUNIONNAME.chroma_scaling_from_luma</code></h3>

<p>When equal to 1, specifies that the chroma scaling is inferred from the luma scaling. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graindummyunionnamear_coeff_lag"><code>film_grain.DUMMYUNIONNAME.ar_coeff_lag</code></h3>

<p>The number of auto-regressive coefficients for luma and chroma. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graindummyunionnamear_coeff_shift_minus6"><code>film_grain.DUMMYUNIONNAME.ar_coeff_shift_minus6</code></h3>

<p>The range of auto-regressive coefficients. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graindummyunionnamegrain_scale_shift"><code>film_grain.DUMMYUNIONNAME.grain_scale_shift</code></h3>

<p>Specifies how much the Gaussian random numbers should be scaled down during the grain synthesis process. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graindummyunionnameoverlap_flag"><code>film_grain.DUMMYUNIONNAME.overlap_flag</code></h3>

<p>When equal to 1, indicates that the overlap between film grain blocks shall be applied. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graindummyunionnameclip_to_restricted_range"><code>film_grain.DUMMYUNIONNAME.clip_to_restricted_range</code></h3>

<p>If equal to 1, indicates that clipping to the restricted (studio) range shall be applied to the sample
values after adding the film grain (see the semantics for color_range for an explanation of studio swing).
If equal to 0, indicates that clipping to the full range shall be applied to the sample values after
adding the film grain.</p>

<h3 id="film_graindummyunionnamematrix_coeff_is_identity"><code>film_grain.DUMMYUNIONNAME.matrix_coeff_is_identity</code></h3>

<h3 id="film_graindummyunionnamereserved"><code>film_grain.DUMMYUNIONNAME.Reserved</code></h3>

<p>Reserved bit fields to complete the packed structure. Shall be set to 0. The accelerator shall ignore the values in the reserved bit fields.</p>

<h3 id="film_graindummyunionnamecontrolflags"><code>film_grain.DUMMYUNIONNAME.ControlFlags</code></h3>

<p>Provides an alternative way to access the bit fields related to film grain.</p>

<h3 id="film_graingrain_seed"><code>film_grain.grain_seed</code></h3>

<p>The starting value for the pseudo-random number generator used for film grain synthesis. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_grainscaling_points_y"><code>film_grain.scaling_points_y</code></h3>

<p>Represents the x,y coordinates for the piecewise linear scaling function for the y-plane. This is a 2D array, at each piecewise segment the first value specified is the x (luma value) coordinate and the second value is the scaling value (y, output). This field corresponds to the point_y_value syntax element from the AV1 specification.</p>

<h3 id="film_grainnum_y_points"><code>film_grain.num_y_points</code></h3>

<p>The number of valid piecewise segments specified in scaling_points_y. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_grainscaling_points_cb"><code>film_grain.scaling_points_cb</code></h3>

<p>Represents the x,y coordinates for the piecewise linear scaling function for the cb-plane. This is a 2D array, at each piecewise segment the first value specified is the x (luma value) coordinate and the second value is the scaling value (y, output). This field corresponds to the point_cb_value syntax element from the AV1 specification.</p>

<h3 id="film_grainnum_cb_points"><code>film_grain.num_cb_points</code></h3>

<p>The number of valid piecewise segments specified in scaling_points_cb. This field corresponds to the syntax elements of the same name from the AV1 specification.</p>

<h3 id="film_grainscaling_points_cr"><code>film_grain.scaling_points_cr</code></h3>

<p>Represents the x,y coordinates for the piecewise linear scaling function for the cr-plane. This is a 2D array, at each piecewise segment the first value specified is the x (luma value) coordinate and the second value is the scaling value (y, output). This field corresponds to the point_cr_value syntax element from the AV1 specification.</p>

<h3 id="film_grainnum_cr_points"><code>film_grain.num_cr_points</code></h3>

<p>The number of valid piecewise segments specified in scaling_points_cr. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_grainar_coeffs_y"><code>film_grain.ar_coeffs_y</code></h3>

<p>The auto-regressive coefficients for the Y plane. This field corresponds to the ar_coeffs_y_plus_128 syntax element from the AV1 specification.</p>

<h3 id="film_grainar_coeffs_cb"><code>film_grain.ar_coeffs_cb</code></h3>

<p>The auto-regressive coefficients for the U plane. This field corresponds to the ar_coeffs_cb_plus_128 syntax element from the AV1 specification.</p>

<h3 id="film_grainar_coeffs_cr"><code>film_grain.ar_coeffs_cr</code></h3>

<p>The auto-regressive coefficients for the V plane. This field corresponds to the ar_coeffs_cr_plus_128 syntax element from the AV1 specification.</p>

<h3 id="film_graincb_mult"><code>film_grain.cb_mult</code></h3>

<p>The multiplier for the Cb component used in derivation of the input index to the component scaling function. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graincb_luma_mult"><code>film_grain.cb_luma_mult</code></h3>

<p>The multiplier used for the luma component into the Cb component scaling function. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graincr_mult"><code>film_grain.cr_mult</code></h3>

<p>The multiplier for the Cr component used in derivation of the input index to the component scaling function. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graincr_luma_mult"><code>film_grain.cr_luma_mult</code></h3>

<p>The multiplier used for the luma component into the Cr component scaling function. This field corresponds to the syntax elements of the same name from the AV1 specification.</p>

<h3 id="film_grainreserved8bits"><code>film_grain.Reserved8Bits</code></h3>

<p>Reserved.</p>

<h3 id="film_graincb_offset"><code>film_grain.cb_offset</code></h3>

<p>The offset used in derivation of the input index to the Cb component scaling function. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="film_graincr_offset"><code>film_grain.cr_offset</code></h3>

<p>The offset used in derivation of the input index to the Cr component scaling function. This field corresponds to the syntax element of the same name from the AV1 specification.</p>

<h3 id="reserved32bits"><code>Reserved32Bits</code></h3>

<p>Reserved.</p>

<h3 id="statusreportfeedbacknumber"><code>StatusReportFeedbackNumber</code></h3>

<p>Arbitrary number set by the host decoder to use as a tag in the status report feedback data. The value should not be equal to 0, and should be different in each call to Execute. For more information, see the Status Report Data Structure section in the <a rel="noopener" target="_blank" href="https://www.microsoft.com/download/details.aspx?id=101577">Direct X Video Acceleration Specification for AV1 Video Coding</a>.</p>

<h2 id="remarks">Remarks</h2>

<p>If <strong>width</strong> and <strong>height</strong> are derived for the frame (for example via the frame_size_override_flag), the host decoder will derive the appropriate values and store the result in these fields. If <strong>superres</strong> is enabled, these values represent the post-scaled frame resolution (referred to in the AV1 specification as UpscaledWidth).</p>

<p>The allowed values of <strong>subsampling_x</strong> and <strong>subsampling_y</strong> are constrained by the profile value. The following table specifies the allowed values for <strong>subsampling_x</strong> and <strong>subsampling_y</strong>, and the associated chroma formats.</p>

<table>
<thead>
<tr>
  <th>subsampling_x</th>
  <th>subsampling_y</th>
  <th>Chroma format</th>
</tr>
</thead>
<tbody>
<tr>
  <td>1</td>
  <td>1</td>
  <td>4:2:0</td>
</tr>
<tr>
  <td>1</td>
  <td>0</td>
  <td>4:2:2</td>
</tr>
<tr>
  <td>0</td>
  <td>0</td>
  <td>4:4:4</td>
</tr>
</tbody>
</table>

<p>See the <a rel="noopener" target="_blank" href="https://www.microsoft.com/download/details.aspx?id=101577">Direct X Video Acceleration Specification for AV1 Video Coding</a> for detailed information, including how to use this structure.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxva/ns-dxva-dxva_picparams_av1">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/dxva/ns-dxva-dxva_picparams_av1.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
