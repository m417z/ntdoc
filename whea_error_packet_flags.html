<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WHEA_ERROR_PACKET_FLAGS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WHEA_ERROR_PACKET_FLAGS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WHEA_ERROR_PACKET_FLAGS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef union _WHEA_ERROR_PACKET_FLAGS {
  struct {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> PreviousError : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CriticalEvent : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> HypervisorError : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Simulated : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> PlatformPfaControl : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> PlatformDirectedOffline : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> AddressTranslationRequired : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> AddressTranslationCompleted : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> RecoveryOptional : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved2 : 23;
  } DUMMYSTRUCTNAME;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  AsULONG;
} WHEA_ERROR_PACKET_FLAGS, *PWHEA_ERROR_PACKET_FLAGS;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/ns-ntddk-_whea_error_packet_flags">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/whea_error_packet_flags.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddk-_whea_error_packet_flags)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The WHEA_ERROR_PACKET_FLAGS union defines the error condition reported through a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/drivers/ff560465(v=vs.85)">WHEA_ERROR_PACKET</a> structure.</p>

<h2 id="members">Members</h2>

<h3 id="dummystructname"><code>DUMMYSTRUCTNAME</code></h3>

<h3 id="dummystructnamepreviouserror"><code>DUMMYSTRUCTNAME.PreviousError</code></h3>

<p>A single bit that indicates whether the hardware error packet contains information about a fatal hardware error. This error caused the operating system to generate a bug check and restart.</p>

<h3 id="dummystructnamecriticalevent"><code>DUMMYSTRUCTNAME.CriticalEvent</code></h3>

<h3 id="dummystructnamehypervisorerror"><code>DUMMYSTRUCTNAME.HypervisorError</code></h3>

<p>A single bit that indicates that a hypervisor error has occurred.</p>

<h3 id="dummystructnamesimulated"><code>DUMMYSTRUCTNAME.Simulated</code></h3>

<p>A single bit that indicates that the error condition was simulated.</p>

<h3 id="dummystructnameplatformpfacontrol"><code>DUMMYSTRUCTNAME.PlatformPfaControl</code></h3>

<p>A single bit that indicates whether WHEA or a PSHED plug-in is in control of predictive failure analysis (PFA). If this bit is set, the PSHED plug-in is in control of PFA and must set the <strong>PlatformDirectedOffline</strong> to bring an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/">ECC</a> memory page into an offline state.</p>

<p>For more information about PFA support for WHEA, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/whea/predictive-failure-analysis--pfa-">Predictive Failure Analysis (PFA)</a>.</p>

<h3 id="dummystructnameplatformdirectedoffline"><code>DUMMYSTRUCTNAME.PlatformDirectedOffline</code></h3>

<p>A single bit that indicates whether the PSHED plug-in that performs PFA on a system component has determined if the component should be brought into an offline state. This bit is only valid if the <strong>PlatformPfaControl</strong> member is set.</p>

<h3 id="dummystructnameaddresstranslationrequired"><code>DUMMYSTRUCTNAME.AddressTranslationRequired</code></h3>

<p>This field indicates that WHEA has identified this packet represents a memory error but the error data gathered by WHEA does not contain
a valid physical address. A PSHED Plug-in may perform platform specific translation on the address to allow WHEA to take action. If
this flag is set and the <strong>RecoveryOptional</strong> flag is 0 the system crashes with <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/debugger/bug-check-0x124---whea-uncorrectable-error">bug check code 0x124</a> indicating a fatal hardware error.</p>

<h3 id="dummystructnameaddresstranslationcompleted"><code>DUMMYSTRUCTNAME.AddressTranslationCompleted</code></h3>

<p>If the <strong>AddressTranslationRequired</strong> bit is set, a PSHED plug-in may set this bit during its retrieve error info callback to indicate the
memory address contained in the error state has been updated to reflect a valid physical address. This will allow WHEA to perform
recovery.</p>

<h3 id="dummystructnamerecoveryoptional"><code>DUMMYSTRUCTNAME.RecoveryOptional</code></h3>

<p>This field indicates that recovery is optional and the system may continue execution without further action. This flag is set
for errors where action is optional and AddressTranslationRequired is set to prevent the system from crashing if a PSHED plug-in
does not provide a translation.</p>

<h3 id="dummystructnamereserved2"><code>DUMMYSTRUCTNAME.Reserved2</code></h3>

<p>Reserved for system use.</p>

<h3 id="asulong"><code>AsULONG</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> representation of the contents of the <strong>WHEA_ERROR_PACKET_FLAGS</strong> union.</p>

<h2 id="remarks">Remarks</h2>

<p>The WHEA_ERROR_PACKET_FLAGS union describes the error condition reported by using a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/drivers/ff560465(v=vs.85)"><strong>WHEA_ERROR_PACKET</strong></a> structure.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/whea/predictive-failure-analysis--pfa-">Predictive Failure Analysis (PFA)</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/drivers/ff560465(v=vs.85)"><strong>WHEA_ERROR_PACKET</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/ns-ntddk-_whea_error_packet_flags">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddk/ns-ntddk-_whea_error_packet_flags.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
