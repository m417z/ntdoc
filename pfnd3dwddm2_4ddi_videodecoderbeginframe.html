<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PFND3DWDDM2_4DDI_VIDEODECODERBEGINFRAME - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PFND3DWDDM2_4DDI_VIDEODECODERBEGINFRAME - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PFND3DWDDM2_4DDI_VIDEODECODERBEGINFRAME - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d10umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">PFND3DWDDM2_4DDI_VIDEODECODERBEGINFRAME Pfnd3dwddm24DdiVideodecoderbeginframe;

HRESULT Pfnd3dwddm24DdiVideodecoderbeginframe(
  D3D10DDI_HDEVICE hDevice,
  D3D11_1DDI_HDECODE hDecode,
  const <a href="d3dwddm2_4ddiarg_videodecoderbeginframe" title="typedef struct D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME {&#10;  D3D11_1DDI_HVIDEODECODEROUTPUTVIEW    hOutputView;&#10;  const void                            *pContentKey;&#10;  UINT                                  ContentKeySize;&#10;  D3DWDDM2_4DDI_VIDEO_DECODER_HISTOGRAM Histograms[D3DWDDM2_4DDI_VIDEO_DECODER_MAX_HISTOGRAM_COMPONENTS];&#10;} D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME;">D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME</a> *pBeginFrame
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3dwddm2_4ddi_videodecoderbeginframe">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pfnd3dwddm2_4ddi_videodecoderbeginframe.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-d3d10umddi-pfnd3dwddm2_4ddi_videodecoderbeginframe)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>PFND3DWDDM2_4DDI_VIDEODECODERBEGINFRAME callback function</h1>
<h2>Description</h2>
<p>Starts a DirectX Video Acceleration (DXVA) decoding operation to decode a video frame.</p>
<h2>Parameters</h2>
<h3><code>hDevice</code></h3>
<p>A handle to the display device (graphics context).</p>
<h3><code>hDecode</code></h3>
<p>A handle to the video decoder object that was created through a call to the CreateVideoDecoder function.</p>
<h3><code>pBeginFrame</code></h3>
<p>A pointer to a <a href="d3dwddm2_4ddiarg_videodecoderbeginframe_rs4_0" title="typedef struct D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME_RS4_0 {&#10;  D3D11_1DDI_HVIDEODECODEROUTPUTVIEW          hOutputView;&#10;  const void                                  *pContentKey;&#10;  UINT                                        ContentKeySize;&#10;  D3DWDDM2_4DDI_VIDEO_DECODER_HISTOGRAM_RS4_0 Histograms[D3DWDDM2_4DDI_VIDEO_DECODER_MAX_HISTOGRAM_COMPONENTS];&#10;} D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME_RS4_0;">D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME_RS4_0</a> structure. For more information, see the Remarks section.</p>
<h2>Return value</h2>
<p>Returns one of the following HRESULT values:</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>S_OK</td>
<td>The session key for the cryptographic session was negotiated successfully.</td>
</tr>
<tr>
<td>E_OUTOFMEMORY</td>
<td>Memory was not available to complete the operation.</td>
</tr>
</tbody>
</table>
<h2>Prototype</h2>
<pre lang="cpp"><code>//Declaration

PFND3DWDDM2_4DDI_VIDEODECODERBEGINFRAME Pfnd3dwddm24DdiVideodecoderbeginframe;

// Definition

HRESULT Pfnd3dwddm24DdiVideodecoderbeginframe
(
	D3D10DDI_HDEVICE hDevice
	D3D11_1DDI_HDECODE hDecode
	CONST <a href="d3dwddm2_4ddiarg_videodecoderbeginframe" title="typedef struct D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME {&#10;  D3D11_1DDI_HVIDEODECODEROUTPUTVIEW    hOutputView;&#10;  const void                            *pContentKey;&#10;  UINT                                  ContentKeySize;&#10;  D3DWDDM2_4DDI_VIDEO_DECODER_HISTOGRAM Histograms[D3DWDDM2_4DDI_VIDEO_DECODER_MAX_HISTOGRAM_COMPONENTS];&#10;} D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME;">D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME</a> *pBeginFrame
)
{...}

PFND3DWDDM2_4DDI_VIDEODECODERBEGINFRAME

</code></pre>
<h2>Remarks</h2>
<p>If this function returns S_OK, the Microsoft Direct3D runtime calls the VideoDecoderSubmitBuffers function to perform the decoding operations. When all decoding operations have been executed, the runtime calls the VideoDecoderEndFrame function to stop the decoding operation on a video frame.</p>
<blockquote>
<p>[!NOTE]
Each call to VideoDecoderBeginFrame must have a matching call to VideoDecoderEndFrame, and VideoDecoderBeginFrame calls cannot be nested.</p>
</blockquote>
<p>The <a href="d3dwddm2_4ddiarg_videodecoderbeginframe_rs4_0" title="typedef struct D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME_RS4_0 {&#10;  D3D11_1DDI_HVIDEODECODEROUTPUTVIEW          hOutputView;&#10;  const void                                  *pContentKey;&#10;  UINT                                        ContentKeySize;&#10;  D3DWDDM2_4DDI_VIDEO_DECODER_HISTOGRAM_RS4_0 Histograms[D3DWDDM2_4DDI_VIDEO_DECODER_MAX_HISTOGRAM_COMPONENTS];&#10;} D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME_RS4_0;">D3DWDDM2_4DDIARG_VIDEODECODERBEGINFRAME_RS4_0</a> structure contains the following data:</p>
<ul>
<li>The resource that will receive the decrypted and decoded data.</li>
<li>A content key that was used to encrypt the video frame data.</li>
</ul>
<p>If the <em>pContentKey</em> member of this structure is not set to NULL, the buffer that is referenced by this member contains a per-frame content key. This key must be used to decrypt the data instead of using the session key.</p>
<blockquote>
<p>[!NOTE]
If the <em>pContentKey</em> member is not set to NULL, the buffer that is referenced by this member is encrypted by using the session key with the AES-ECB algorithm.</p>
</blockquote>
<p>If the pContentKey member is set to NULL, the video frame data should be decrypted by using the session key.</p>
<h2>See also</h2>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d11_1ddi_createvideodecoder">CreateVideoDecoder</a>
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3dwddm2_4ddi_negotiatecryptosessionkeyexchange">NegotiateCryptoSessionKeyeExchange</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3dwddm2_4ddi_videodecoderbeginframe">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d10umddi/nc-d3d10umddi-pfnd3dwddm2_4ddi_videodecoderbeginframe.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
