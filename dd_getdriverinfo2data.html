<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DD_GETDRIVERINFO2DATA - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DD_GETDRIVERINFO2DATA - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DD_GETDRIVERINFO2DATA - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dhal.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DD_GETDRIVERINFO2DATA {
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwReserved;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwMagic;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwType;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwExpectedSize;
} DD_GETDRIVERINFO2DATA;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dhal/ns-d3dhal-_dd_getdriverinfo2data">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dd_getdriverinfo2data.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dhal-_dd_getdriverinfo2data)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_dd_getdriverinfo2data-structure">_DD_GETDRIVERINFO2DATA structure</h1>

<h2 id="description">Description</h2>

<p>DirectX 8.0 and later versions only.</p>

<p>DD_GETDRIVERINFO2DATA is passed in the <strong>lpvData</strong> member of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ddrawint/ns-ddrawint-dd_getdriverinfodata">DD_GETDRIVERINFODATA</a> structure when GUID_GetDriverInfo2 is specified in the <strong>guidInfo</strong> member of DD_GETDRIVERINFODATA in a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ddrawint/nc-ddrawint-pdd_getdriverinfo">DdGetDriverInfo</a> call.</p>

<h2 id="members">Members</h2>

<h3 id="dwreserved"><code>dwReserved</code></h3>

<p>Specifies a reserved field. Driver should not read or write.</p>

<h3 id="dwmagic"><code>dwMagic</code></h3>

<p>Specifies the magic number. Has the value D3DGDI2_MAGIC if this is a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/supporting-getdriverinfo2">GetDriverInfo2</a> call. Otherwise this structure is, in fact, a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ddrawint/ns-ddrawint-dd_stereomode">DD_STEREOMODE</a> call.</p>

<h3 id="dwtype"><code>dwType</code></h3>

<p>Specifies the type of information requested, which can contain one of the following D3DGDI2_TYPE_<em>Xxx</em> values. Driver should only read (not write) this member.</p>

<table>
<thead>
<tr>
  <th style="text-align:left;"><strong>Value</strong></th>
  <th style="text-align:left;"><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_DEFER_AGP_FREES</td>
  <td style="text-align:left;"><strong>NT-based operating systems only.</strong><br>Is used to notify the driver that it should properly handle the destruction of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/agp-support">AGP memory</a> for surfaces. The runtime provides a pointer to a <a href="dd_free_deferred_agp_data" title="typedef struct _DD_FREE_DEFERRED_AGP_DATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwProcessId;&#10;} DD_FREE_DEFERRED_AGP_DATA;">DD_FREE_DEFERRED_AGP_DATA</a> structure in the lpvData field of the DD_GETDRIVERINFODATA data structure.<br>The driver sometimes receives this notification before a display mode change occurs. The runtime only sends this notification if it is to be used to perform the display mode change. Drivers should check the process identifier (PID) of the process destroying the surface against the process that created the surface. If the PIDs are different, the driver probably should not destroy the user-mode mappings of the AGP memory because an application might still be using the memory.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_DEFERRED_AGP_AWARE</td>
  <td style="text-align:left;"><strong>NT-based operating systems only.</strong><br>Is used to inform the driver that the runtime sends D3DGDI2_TYPE_FREE_DEFERRED_AGP and D3DGDI2_TYPE_DEFER_AGP_FREES notifications at the appropriate time (such as, after the last outstanding <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/agp-support">AGP memory</a> lock is released). The runtime provides a pointer to a <a href="dd_deferred_agp_aware_data" title="typedef struct _DD_DEFERRED_AGP_AWARE_DATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;} DD_DEFERRED_AGP_AWARE_DATA;">DD_DEFERRED_AGP_AWARE_DATA</a> structure in the lpvData field of the DD_GETDRIVERINFODATA data structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_DXVERSION</td>
  <td style="text-align:left;">Is used to notify the driver of the current DX runtime version being used by the application. The runtime provides a pointer to a <a href="dd_dxversion" title="typedef struct _DD_DXVERSION {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwDXVersion;&#10;  DWORD                 dwReserved;&#10;} DD_DXVERSION;">DD_DXVERSION</a> structure in the lpvData field of the DD_GETDRIVERINFODATA data structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_FREE_DEFERRED_AGP</td>
  <td style="text-align:left;"><strong>NT-based operating systems only.</strong><br>Is used to notify the driver that it is now safe to destroy all the user-mode mappings of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/agp-support">AGP memory</a> . The driver preserved these user-mode mappings when surfaces were destroyed and it received a D3DGDI2_TYPE_DEFER_AGP_FREES notification. The runtime provides a pointer to a <a href="dd_free_deferred_agp_data" title="typedef struct _DD_FREE_DEFERRED_AGP_DATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwProcessId;&#10;} DD_FREE_DEFERRED_AGP_DATA;">DD_FREE_DEFERRED_AGP_DATA</a> structure in the lpvData field of the DD_GETDRIVERINFODATA data structure.<br>The driver receives this notification when all display devices within the process stop using surfaces, textures, vertex buffers, and index buffers that were locked at the time of the display mode change.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETADAPTERGROUP</td>
  <td style="text-align:left;"><strong>DirectX 9.0 and later versions only.</strong><br>Is used to query the driver for the identity of the group of adapters that are part of its multiple-head video card. This group shares video hardware like video memory and the 3D accelerator. The driver should set the data structure pointed to by the lpvData field of the DD_GETDRIVERINFODATA data structure to <a href="dd_getadaptergroupdata" title="typedef struct _DD_GETADAPTERGROUPDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  ULONG_PTR             ulUniqueAdapterGroupId;&#10;  DWORD                 dwReserved1;&#10;  DWORD                 dwReserved2;&#10;} DD_GETADAPTERGROUPDATA;">DD_GETADAPTERGROUPDATA</a>.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETD3DCAPS8</td>
  <td style="text-align:left;">This type indicates that the runtime requests to receive a D3DCAPS8 structure giving the DirectX 8.0 style capabilities of the device. The driver should copy an initialized D3DCAPS8 structure into the lpvData field of the DD_GETDRIVERINFODATA structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETD3DCAPS9</td>
  <td style="text-align:left;"><strong>Required for DirectX 9.0 and later versions only.</strong><br>This type indicates that the runtime requests to receive a D3DCAPS9 structure giving the DirectX 9.0 style capabilities of the device. The driver should copy an initialized D3DCAPS9 structure into the lpvData field of the DD_GETDRIVERINFODATA structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETD3DQUERY</td>
  <td style="text-align:left;"><strong>DirectX 9.0 and later versions only.</strong> <br>Is used to query the driver for information about a particular query type that it supports. The driver should set the data structure pointed to by thelpvData field of the DD_GETDRIVERINFODATA data structure to <a href="dd_getd3dquerydata" title="typedef struct _DD_GETD3DQUERYDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  union {&#10;    DWORD        dwQueryIndex;&#10;    D3DQUERYTYPE QueryType;&#10;  };&#10;} DD_GETD3DQUERYDATA;">DD_GETD3DQUERYDATA</a>.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETD3DQUERYCOUNT</td>
  <td style="text-align:left;"><strong>DirectX 9.0 and later versions only.</strong><br>Is used to query the driver for the number of query types that it supports. The driver should set the data structure pointed to by the lpvData field of the DD_GETDRIVERINFODATA data structure to <a href="dd_getd3dquerycountdata" title="typedef struct _DD_GETD3DQUERYCOUNTDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwNumQueries;&#10;} DD_GETD3DQUERYCOUNTDATA;">DD_GETD3DQUERYCOUNTDATA</a>.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETDDIVERSION</td>
  <td style="text-align:left;"><strong>DirectX 9.0 and later versions only.</strong><br>Is used to query the driver for the version of the DDI that the driver supports; this DDI version, in turn, depends on the version of DirectX that makes this request. The driver should set the dwDDIVersion member of the <a href="dd_getddiversiondata" title="typedef struct _DD_GETDDIVERSIONDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwDXVersion;&#10;  DWORD                 dwDDIVersion;&#10;} DD_GETDDIVERSIONDATA;">DD_GETDDIVERSIONDATA</a> structure, which the lpvData field of the DD_GETDRIVERINFODATA data structure points to, to the appropriate DDI version.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETEXTENDEDMODE</td>
  <td style="text-align:left;"><strong>DirectX 9.0 and later versions only.</strong><br>Is used to query the driver for information about a particular extended display mode that it supports. The driver should set the data structure pointed to by the lpvData field of the DD_GETDRIVERINFODATA data structure to <a href="dd_getextendedmodedata" title="typedef struct _DD_GETEXTENDEDMODEDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwModeIndex;&#10;  D3DDISPLAYMODE        mode;&#10;} DD_GETEXTENDEDMODEDATA;">DD_GETEXTENDEDMODEDATA</a>.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETEXTENDEDMODECOUNT</td>
  <td style="text-align:left;"><strong>DirectX 9.0 and later versions only.</strong><br>Is used to query the driver for the number of extended display modes that it supports. The driver should set the data structure pointed to by the lpvData field of the DD_GETDRIVERINFODATA data structure to <a href="dd_getextendedmodecountdata" title="typedef struct _DD_GETEXTENDEDMODECOUNTDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwModeCount;&#10;  DWORD                 dwReserved;&#10;} DD_GETEXTENDEDMODECOUNTDATA;">DD_GETEXTENDEDMODECOUNTDATA</a>.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETFORMAT</td>
  <td style="text-align:left;">Is used to query for a particular surface format from the driver. The data structure pointed to by the lpvDatafield of the DD_GETDRIVERINFODATA data structure is <a href="dd_getformatdata" title="typedef struct _DD_GETFORMATDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwFormatIndex;&#10;  DDPIXELFORMAT         format;&#10;} DD_GETFORMATDATA;">DD_GETFORMATDATA</a> .</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETFORMATCOUNT</td>
  <td style="text-align:left;">Is used to request the number of DirectX 8.0 and later style surface formats supported by the driver. The data structure pointed to by thelpvData field of the DD_GETDRIVERINFODATA is <a href="dd_getformatcountdata" title="typedef struct _DD_GETFORMATCOUNTDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwFormatCount;&#10;  DWORD                 dwReserved;&#10;} DD_GETFORMATCOUNTDATA;">DD_GETFORMATCOUNTDATA</a>.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DGDI2_TYPE_GETMULTISAMPLEQUALITYLEVELS</td>
  <td style="text-align:left;"><strong>DirectX 9.0 and later versions only.</strong><br>Is used to query the driver for the number of multiple-sample quality levels for a given render-target format that it supports. Whether the display device supports maskable or submaskable multisampling, the driver for the device must provide the number of quality levels for the D3DMULTISAMPLE_NONMASKABLE multiple-sample type. The driver should set the data structure pointed to by the lpvData field of the DD_GETDRIVERINFODATA data structure to <a href="dd_multisamplequalitylevelsdata" title="typedef struct _DD_MULTISAMPLEQUALITYLEVELSDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  D3DFORMAT             Format;&#10;  BOOL                  bFlip : 1;&#10;  D3DMULTISAMPLE_TYPE   MSType : 31;&#10;  DWORD                 QualityLevels;&#10;} DD_MULTISAMPLEQUALITYLEVELSDATA;">DD_MULTISAMPLEQUALITYLEVELSDATA</a>.</td>
</tr>
</tbody>
</table>

<h3 id="dwexpectedsize"><code>dwExpectedSize</code></h3>

<p>Specifies the expected size, in bytes, of the information requested. Driver should only read (not write) this member.</p>

<h2 id="remarks">Remarks</h2>

<p>The <strong>dwExpectedSize</strong> member of the DD_GETDRIVERINFODATA structure is not used when a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/supporting-getdriverinfo2">GetDriverInfo2</a> request is being made. Its value is undefined in this case and should be ignored. Instead, the actual expected size of the data is found in the <strong>dwExpectedSize</strong> member of DD_GETDRIVERINFO2DATA.</p>

<p>The following code fragment demonstrates how to handle <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/supporting-getdriverinfo2">GetDriverInfo2</a>:</p>

<p><!-- CODE_MARKER --></p>

<div class="codehilite">
<pre><span></span><code><span class="n">D3DCAPS8</span><span class="w"> </span><span class="n">myD3DCaps8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">};</span>

<span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w"> </span><span class="n">CALLBACK</span>
<span class="n">DdGetDriverInfo</span><span class="p">(</span><span class="n">LPDDHAL_GETDRIVERINFODATA</span><span class="w"> </span><span class="n">lpData</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MATCH_GUID</span><span class="p">((</span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">guidInfo</span><span class="p">),</span><span class="w"> </span><span class="n">GUID_GetDriverInfo2</span><span class="p">))</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n"><a href="assert" title="#define ASSERT( exp ) \&#10;    ((!(exp)) ? \&#10;        (RtlAssert( (PVOID)#exp, (PVOID)__FILE__, __LINE__, NULL ),FALSE) : \&#10;        TRUE)">ASSERT</a></span><span class="p">(</span><span class="nb">NULL</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">lpData</span><span class="p">);</span>
<span class="w">    </span><span class="n"><a href="assert" title="#define ASSERT( exp ) \&#10;    ((!(exp)) ? \&#10;        (RtlAssert( (PVOID)#exp, (PVOID)__FILE__, __LINE__, NULL ),FALSE) : \&#10;        TRUE)">ASSERT</a></span><span class="p">(</span><span class="nb">NULL</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">lpvData</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Is this a call to GetDriverInfo2 or DDStereoMode?</span>
<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(((</span><span class="n">DD_GETDRIVERINFO2DATA</span><span class="o">*</span><span class="p">)(</span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">lpvData</span><span class="p">))</span><span class="o">-&gt;</span><span class="n">dwMagic</span>
<span class="w">      </span><span class="o">==</span><span class="w"> </span><span class="n">D3DGDI2_MAGIC</span><span class="p">)</span>
<span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Yes, it&#39;s a call to GetDriverInfo2, fetch the</span>
<span class="w"> </span><span class="c1">// DD_GETDRIVERINFO2DATA data structure.</span>
<span class="w">      </span><span class="n">DD_GETDRIVERINFO2DATA</span><span class="o">*</span><span class="w"> </span><span class="n">pgdi2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">lpvData</span><span class="p">;</span>
<span class="w"> </span><span class="n"><a href="assert" title="#define ASSERT( exp ) \&#10;    ((!(exp)) ? \&#10;        (RtlAssert( (PVOID)#exp, (PVOID)__FILE__, __LINE__, NULL ),FALSE) : \&#10;        TRUE)">ASSERT</a></span><span class="p">(</span><span class="nb">NULL</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">pgdi2</span><span class="p">);</span>
<span class="w">      </span><span class="c1">// What type of request is this?</span>
<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">pgdi2</span><span class="o">-&gt;</span><span class="n">dwType</span><span class="p">)</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">D3DGDI2_TYPE_GETD3DCAPS8</span><span class="p">:</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="c1">// The runtime is requesting the DX8 D3D caps</span>
<span class="w">          </span><span class="c1">// so copy them over now. It should be noted</span>
<span class="w">          </span><span class="c1">// that the dwExpectedSize field of</span>
<span class="w">          </span><span class="c1">// DD_GETDRIVERINFODATA is not used for</span>
<span class="w">          </span><span class="c1">// GetDriverInfo2 calls and should be ignored.</span>
<span class="w">          </span><span class="kt"><a href="size_t" title="typedef unsigned __int64 size_t;">size_t</a></span><span class="w"> </span><span class="n">copySize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span>
<span class="w">            </span><span class="k">sizeof</span><span class="p">(</span><span class="n">myD3DCaps8</span><span class="p">),</span><span class="w"> </span><span class="n">pgdi2</span><span class="o">-&gt;</span><span class="n">dwExpectedSize</span><span class="p">);</span>
<span class="w">          </span><span class="n">memcpy</span><span class="p">(</span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">lpvData</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">myD3DCaps8</span><span class="p">,</span><span class="w"> </span><span class="n">copySize</span><span class="p">);</span>
<span class="w">          </span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">dwActualSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">copySize</span><span class="p">;</span>
<span class="w">          </span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">ddRVal</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">DD_OK</span><span class="p">;</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">DDHAL_DRIVER_HANDLED</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">          </span><span class="c1">// For any other GetDriverInfo2 types not handled</span>
<span class="w">          </span><span class="c1">// or understood by the driver set a ddRVal of</span>
<span class="w">          </span><span class="c1">// DDERR_CURRENTLYNOTAVAIL and return</span>
<span class="w">          </span><span class="c1">// DDHAL_DRIVER_HANDLED.</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">DDHAL_DRIVER_HANDLED</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// It must be a call to request for stereo mode support.</span>
<span class="w"> </span><span class="c1">// Fetch the stereo mode data</span>
<span class="w">      </span><span class="n">DD_STEREOMODE</span><span class="o">*</span><span class="w"> </span><span class="n">pStereoMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">lpvData</span><span class="p">;</span>
<span class="w"> </span><span class="n"><a href="assert" title="#define ASSERT( exp ) \&#10;    ((!(exp)) ? \&#10;        (RtlAssert( (PVOID)#exp, (PVOID)__FILE__, __LINE__, NULL ),FALSE) : \&#10;        TRUE)">ASSERT</a></span><span class="p">(</span><span class="nb">NULL</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">pStereoMode</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// Process the stereo mode request...</span>
<span class="w">      </span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">dwActualSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">DD_STEREOMODE</span><span class="p">);</span>
<span class="w">      </span><span class="n">lpData</span><span class="o">-&gt;</span><span class="n">ddRVal</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">DD_OK</span><span class="p">;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">DDHAL_DRIVER_HANDLED</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Handle any other device GUIDs...</span>

<span class="p">}</span><span class="w"> </span><span class="c1">// DdGetDriverInfo</span>
</code></pre>
</div>

<p>For more information about D3DCAPS8 and D3DCAPS9, see the DirectX SDK documentation.</p>

<h2 id="see-also">See also</h2>

<p><a href="dd_deferred_agp_aware_data" title="typedef struct _DD_DEFERRED_AGP_AWARE_DATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;} DD_DEFERRED_AGP_AWARE_DATA;">DD_DEFERRED_AGP_AWARE_DATA</a></p>

<p><a href="dd_dxversion" title="typedef struct _DD_DXVERSION {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwDXVersion;&#10;  DWORD                 dwReserved;&#10;} DD_DXVERSION;">DD_DXVERSION</a></p>

<p><a href="dd_free_deferred_agp_data" title="typedef struct _DD_FREE_DEFERRED_AGP_DATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwProcessId;&#10;} DD_FREE_DEFERRED_AGP_DATA;">DD_FREE_DEFERRED_AGP_DATA</a></p>

<p><a href="dd_getadaptergroupdata" title="typedef struct _DD_GETADAPTERGROUPDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  ULONG_PTR             ulUniqueAdapterGroupId;&#10;  DWORD                 dwReserved1;&#10;  DWORD                 dwReserved2;&#10;} DD_GETADAPTERGROUPDATA;">DD_GETADAPTERGROUPDATA</a></p>

<p><a href="dd_getd3dquerycountdata" title="typedef struct _DD_GETD3DQUERYCOUNTDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwNumQueries;&#10;} DD_GETD3DQUERYCOUNTDATA;">DD_GETD3DQUERYCOUNTDATA</a></p>

<p><a href="dd_getd3dquerydata" title="typedef struct _DD_GETD3DQUERYDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  union {&#10;    DWORD        dwQueryIndex;&#10;    D3DQUERYTYPE QueryType;&#10;  };&#10;} DD_GETD3DQUERYDATA;">DD_GETD3DQUERYDATA</a></p>

<p><a href="dd_getddiversiondata" title="typedef struct _DD_GETDDIVERSIONDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwDXVersion;&#10;  DWORD                 dwDDIVersion;&#10;} DD_GETDDIVERSIONDATA;">DD_GETDDIVERSIONDATA</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ddrawint/ns-ddrawint-dd_getdriverinfodata">DD_GETDRIVERINFODATA</a></p>

<p><a href="dd_getextendedmodecountdata" title="typedef struct _DD_GETEXTENDEDMODECOUNTDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwModeCount;&#10;  DWORD                 dwReserved;&#10;} DD_GETEXTENDEDMODECOUNTDATA;">DD_GETEXTENDEDMODECOUNTDATA</a></p>

<p><a href="dd_getextendedmodedata" title="typedef struct _DD_GETEXTENDEDMODEDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwModeIndex;&#10;  D3DDISPLAYMODE        mode;&#10;} DD_GETEXTENDEDMODEDATA;">DD_GETEXTENDEDMODEDATA</a></p>

<p><a href="dd_getformatcountdata" title="typedef struct _DD_GETFORMATCOUNTDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwFormatCount;&#10;  DWORD                 dwReserved;&#10;} DD_GETFORMATCOUNTDATA;">DD_GETFORMATCOUNTDATA</a></p>

<p><a href="dd_getformatdata" title="typedef struct _DD_GETFORMATDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  DWORD                 dwFormatIndex;&#10;  DDPIXELFORMAT         format;&#10;} DD_GETFORMATDATA;">DD_GETFORMATDATA</a></p>

<p><a href="dd_multisamplequalitylevelsdata" title="typedef struct _DD_MULTISAMPLEQUALITYLEVELSDATA {&#10;  DD_GETDRIVERINFO2DATA gdi2;&#10;  D3DFORMAT             Format;&#10;  BOOL                  bFlip : 1;&#10;  D3DMULTISAMPLE_TYPE   MSType : 31;&#10;  DWORD                 QualityLevels;&#10;} DD_MULTISAMPLEQUALITYLEVELSDATA;">DD_MULTISAMPLEQUALITYLEVELSDATA</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ddrawint/ns-ddrawint-dd_stereomode">DD_STEREOMODE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ddrawint/nc-ddrawint-pdd_getdriverinfo">DdGetDriverInfo</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dhal/ns-d3dhal-_dd_getdriverinfo2data">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dhal/ns-d3dhal-_dd_getdriverinfo2data.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
