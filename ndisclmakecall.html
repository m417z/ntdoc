<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NdisClMakeCall - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NdisClMakeCall - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NdisClMakeCall - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">NDIS_STATUS NdisClMakeCall(
  [in]            NDIS_HANDLE         NdisVcHandle,
  [in, out]       PCO_CALL_PARAMETERS CallParameters,
  [in, optional]  NDIS_HANDLE         ProtocolPartyContext,
  [out, optional] PNDIS_HANDLE        NdisPartyHandle
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndisclmakecall">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndisclmakecall.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-ndis-ndisclmakecall)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>NdisClMakeCall function</h1>

<h2>Description</h2>

<p><strong>NdisClMakeCall</strong> sets up an outgoing call on a client-created VC.</p>

<h2>Parameters</h2>

<h3><code>NdisVcHandle</code> [in]</h3>

<p>Specifies the handle returned by a preceding call to
<a href="ndiscocreatevc" title="NDIS_STATUS NdisCoCreateVc(&#10;  [in]           NDIS_HANDLE  NdisBindingHandle,&#10;  [in, optional] NDIS_HANDLE  NdisAfHandle,&#10;  [in]           NDIS_HANDLE  ProtocolVcContext,&#10;  [in, out]      PNDIS_HANDLE NdisVcHandle&#10;);">NdisCoCreateVc</a>.</p>

<h3><code>CallParameters</code> [in, out]</h3>

<p>Pointer to a structure of type
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/network/ff545384(v=vs.85)">CO_CALL_PARAMETERS</a> in which the caller has
specified the attributes for this connection, such as the address of the target for the call, latency,
bandwidth, and quality of service if the network medium and address family supported by the call manager
permits QoS specifications.</p>

<h3><code>ProtocolPartyContext</code> [in, optional]</h3>

<p>Optionally specifies a caller-supplied handle to a resident context area in which the client will
maintain per-party state for the initial party on its multipoint VC. This parameter is <strong>NULL</strong> if the given
VC does not represent a multipoint connection. For a multipoint VC, NDIS passes this handle back to the
client's ProtocolCl<em>Xxx</em> functions in all subsequent calls that affect this particular party.</p>

<h3><code>NdisPartyHandle</code> [out, optional]</h3>

<p>Pointer to a caller-supplied variable, usually in the caller-allocated party context area, in
which NDIS returns a handle representing the initial party to the multipoint connection if the request
to set up an outgoing call is successful. If
<em>ProtocolPartyContext</em> is <strong>NULL</strong>, this variable, usually in the client's VC context area, also is set
to <strong>NULL</strong> on completion of outgoing-call setup.</p>

<h2>Return value</h2>

<p>When
<strong>NdisClMakeCall</strong> returns anything other than NDIS_STATUS_PENDING, the client should make an internal
call to its
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_cl_make_call_complete">ProtocolClMakeCallComplete</a> function. Otherwise, NDIS calls the client's
<em>ProtocolClMakeCallComplete</em> function when this operation is completed.</p>

<h2>Remarks</h2>

<p><strong>NdisClMakeCall</strong> sets up the attributes of a client-created VC for a client-initiated outgoing call.
The client must set up the VC with
<a href="ndiscocreatevc" title="NDIS_STATUS NdisCoCreateVc(&#10;  [in]           NDIS_HANDLE  NdisBindingHandle,&#10;  [in, optional] NDIS_HANDLE  NdisAfHandle,&#10;  [in]           NDIS_HANDLE  ProtocolVcContext,&#10;  [in, out]      PNDIS_HANDLE NdisVcHandle&#10;);">NdisCoCreateVc</a> before it attempts to make
an outgoing call.</p>

<p>A call to
<strong>NdisClMakeCall</strong> causes NDIS to forward this request to the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_cm_make_call">ProtocolCmMakeCall</a> function of the
call manager with which the client shares the given
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_cl_make_call_complete">NdisVcHandle</a>. The CM is
responsible for validating the given data at
<em>CallParameters</em> . It can modify this client-supplied data while negotiating with relevant network
components and can return different traffic parameters than the client originally gave to
<strong>NdisClMakeCall</strong>. The client's
<em>ProtocolClMakeCallComplete</em> function is responsible for accepting the modified call parameters if
this occurs or for tearing down the call if the CM's proposed call parameters are unacceptable.</p>

<p>Consequently, the data at
<em>CallParameters</em> must remain available to the call manager at least for the duration of call setup.
The client cannot free this buffer when
<strong>NdisClMakeCall</strong> returns NDIS_STATUS_PENDING. It must defer releasing this client-allocated resource
until its
<em>ProtocolClMakeCallComplete</em> function is called.</p>

<p>If
<strong>NdisClMakeCall</strong> sets up a multipoint connection, the client is establishing the traffic parameters
globally for the given VC, unless the underlying network medium supports per-party traffic
parameters.</p>

<p>The client's
<em>ProtocolClMakeCallComplete</em> function should check the input
<em>Status</em> for NDIS_STATUS_SUCCESS before it uses any returned handle at
<em>NdisPartyHandle</em> . If the call manager fails the request to set up a call on a multipoint
connection, the value of this client-supplied variable is invalid.</p>

<h2>See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/network/ff545384(v=vs.85)">CO_CALL_PARAMETERS</a></p>

<p><a href="ndisallocatefromnpagedlookasidelist" title="void NdisAllocateFromNPagedLookasideList(&#10;  _L&#10;);">NdisAllocateFromNPagedLookasideList</a></p>

<p><a href="ndiscladdparty" title="NDIS_STATUS NdisClAddParty(&#10;  [in]      NDIS_HANDLE         NdisVcHandle,&#10;  [in]      NDIS_HANDLE         ProtocolPartyContext,&#10;  [in, out] PCO_CALL_PARAMETERS CallParameters,&#10;  [out]     PNDIS_HANDLE        NdisPartyHandle&#10;);">NdisClAddParty</a></p>

<p><a href="ndisclclosecall" title="NDIS_STATUS NdisClCloseCall(&#10;  [in]           NDIS_HANDLE NdisVcHandle,&#10;  [in, optional] NDIS_HANDLE NdisPartyHandle,&#10;  [in, optional] PVOID       Buffer,&#10;  [in]           UINT        Size&#10;);">NdisClCloseCall</a></p>

<p><a href="ndisclmodifycallqos" title="NDIS_STATUS NdisClModifyCallQoS(&#10;  [in] NDIS_HANDLE         NdisVcHandle,&#10;  [in] PCO_CALL_PARAMETERS CallParameters&#10;);">NdisClModifyCallQoS</a></p>

<p><a href="ndiscmactivatevc" title="NDIS_STATUS NdisCmActivateVc(&#10;  [in]      NDIS_HANDLE         NdisVcHandle,&#10;  [in, out] PCO_CALL_PARAMETERS CallParameters&#10;);">NdisCmActivateVc</a></p>

<p><a href="ndiscmmakecallcomplete" title="VOID NdisCmMakeCallComplete(&#10;  [in]           NDIS_STATUS         Status,&#10;  [in]           NDIS_HANDLE         NdisVcHandle,&#10;  [in, optional] NDIS_HANDLE         NdisPartyHandle,&#10;  [in, optional] NDIS_HANDLE         CallMgrPartyContext,&#10;  [in]           PCO_CALL_PARAMETERS CallParameters&#10;);">NdisCmMakeCallComplete</a></p>

<p><a href="ndiscocreatevc" title="NDIS_STATUS NdisCoCreateVc(&#10;  [in]           NDIS_HANDLE  NdisBindingHandle,&#10;  [in, optional] NDIS_HANDLE  NdisAfHandle,&#10;  [in]           NDIS_HANDLE  ProtocolVcContext,&#10;  [in, out]      PNDIS_HANDLE NdisVcHandle&#10;);">NdisCoCreateVc</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_cl_make_call_complete">ProtocolClMakeCallComplete</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_cm_make_call">ProtocolCmMakeCall</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndisclmakecall">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ndis/nf-ndis-ndisclmakecall.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
