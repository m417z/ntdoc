<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DRIVE_LAYOUT_INFORMATION_GPT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DRIVE_LAYOUT_INFORMATION_GPT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DRIVE_LAYOUT_INFORMATION_GPT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntdddisk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DRIVE_LAYOUT_INFORMATION_GPT {
  GUID          DiskId;
  LARGE_INTEGER StartingUsableOffset;
  LARGE_INTEGER UsableLength;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         MaxPartitionCount;
} DRIVE_LAYOUT_INFORMATION_GPT, *PDRIVE_LAYOUT_INFORMATION_GPT;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntdddisk/ns-ntdddisk-_drive_layout_information_gpt">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// winioctl.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DRIVE_LAYOUT_INFORMATION_GPT {
  GUID          DiskId;
  LARGE_INTEGER StartingUsableOffset;
  LARGE_INTEGER UsableLength;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>         MaxPartitionCount;
} DRIVE_LAYOUT_INFORMATION_GPT, *PDRIVE_LAYOUT_INFORMATION_GPT;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-drive_layout_information_gpt">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/drive_layout_information_gpt.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntdddisk-_drive_layout_information_gpt)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_DRIVE_LAYOUT_INFORMATION_GPT structure</h1>
<h2>Description</h2>
<p>The DRIVE_LAYOUT_INFORMATION_GPT structure reports the drive signature for a GUID Partition Table partition.</p>
<h2>Members</h2>
<h3><code>DiskId</code></h3>
<p>Contains a GUID that uniquely identifies the drive. The GUID data type is described on the <a href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-guids-in-drivers">Using GUIDs in Drivers</a> reference page.</p>
<h3><code>StartingUsableOffset</code></h3>
<p>Contains an offset in bytes to the location immediately following the primary partition table. This offset begins the region on the drive where partitions reside, but partition one is not necessarily located precisely at this offset.</p>
<h3><code>UsableLength</code></h3>
<p>Indicates the total usable space in bytes available on the drive.</p>
<h3><code>MaxPartitionCount</code></h3>
<p>Indicates the maximum number of partitions allowed on the drive.</p>
<h2>Remarks</h2>
<p>This structure contains the drive layout information that is specific to a drive with a GUID Partition Table partition. It is encapsulated within the <a href="drive_layout_information_ex" title="typedef struct _DRIVE_LAYOUT_INFORMATION_EX {&#10;  ULONG                    PartitionStyle;&#10;  ULONG                    PartitionCount;&#10;  union {&#10;    DRIVE_LAYOUT_INFORMATION_MBR Mbr;&#10;    DRIVE_LAYOUT_INFORMATION_GPT Gpt;&#10;  } DUMMYUNIONNAME;&#10;  PARTITION_INFORMATION_EX PartitionEntry[1];&#10;} DRIVE_LAYOUT_INFORMATION_EX, *PDRIVE_LAYOUT_INFORMATION_EX;">DRIVE_LAYOUT_INFORMATION_EX</a> structure. For further information see Intel's <em>Extensible Firmware Interface</em> specification.</p>
<h2>See also</h2>
<p><a href="drive_layout_information_ex" title="typedef struct _DRIVE_LAYOUT_INFORMATION_EX {&#10;  ULONG                    PartitionStyle;&#10;  ULONG                    PartitionCount;&#10;  union {&#10;    DRIVE_LAYOUT_INFORMATION_MBR Mbr;&#10;    DRIVE_LAYOUT_INFORMATION_GPT Gpt;&#10;  } DUMMYUNIONNAME;&#10;  PARTITION_INFORMATION_EX PartitionEntry[1];&#10;} DRIVE_LAYOUT_INFORMATION_EX, *PDRIVE_LAYOUT_INFORMATION_EX;">DRIVE_LAYOUT_INFORMATION_EX</a></p>
<p><a href="ioreadpartitiontable" title="NTSTATUS IoReadPartitionTable(&#10;  [in]  PDEVICE_OBJECT            DeviceObject,&#10;  [in]  ULONG                     SectorSize,&#10;  [in]  BOOLEAN                   ReturnRecognizedPartitions,&#10;  [out] _DRIVE_LAYOUT_INFORMATION **PartitionBuffer&#10;);">IoReadPartitionTable</a></p>
<p><a href="iowritepartitiontable" title="NTSTATUS IoWritePartitionTable(&#10;  [in] PDEVICE_OBJECT            DeviceObject,&#10;  [in] ULONG                     SectorSize,&#10;  [in] ULONG                     SectorsPerTrack,&#10;  [in] ULONG                     NumberOfHeads,&#10;  [in] _DRIVE_LAYOUT_INFORMATION *PartitionBuffer&#10;);">IoWritePartitionTable</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntdddisk/ns-ntdddisk-_drive_layout_information_gpt">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntdddisk/ns-ntdddisk-_drive_layout_information_gpt.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ns-winioctl-drive_layout_information_gpt)</h1>
</div>
<div class="ntdoc-description">
<h1>DRIVE_LAYOUT_INFORMATION_GPT structure</h1>
<h2>Description</h2>
<p>Contains information about a drive's GUID partition table (GPT) partitions.</p>
<h2>Members</h2>
<h3><code>DiskId</code></h3>
<p>The <strong>GUID</strong> of the disk.</p>
<h3><code>StartingUsableOffset</code></h3>
<p>The starting byte offset of the first usable block.</p>
<h3><code>UsableLength</code></h3>
<p>The size of the usable blocks on the disk, in bytes.</p>
<h3><code>MaxPartitionCount</code></h3>
<p>The maximum number of partitions that can be defined in the usable block.</p>
<h2>See also</h2>
<p><a href="drive_layout_information_ex" title="typedef struct _DRIVE_LAYOUT_INFORMATION_EX {&#10;  ULONG                    PartitionStyle;&#10;  ULONG                    PartitionCount;&#10;  union {&#10;    DRIVE_LAYOUT_INFORMATION_MBR Mbr;&#10;    DRIVE_LAYOUT_INFORMATION_GPT Gpt;&#10;  } DUMMYUNIONNAME;&#10;  PARTITION_INFORMATION_EX PartitionEntry[1];&#10;} DRIVE_LAYOUT_INFORMATION_EX, *PDRIVE_LAYOUT_INFORMATION_EX;">DRIVE_LAYOUT_INFORMATION_EX</a></p>
<p><a href="drive_layout_information_mbr" title="typedef struct _DRIVE_LAYOUT_INFORMATION_MBR {&#10;  ULONG Signature;&#10;  ULONG CheckSum;&#10;} DRIVE_LAYOUT_INFORMATION_MBR, *PDRIVE_LAYOUT_INFORMATION_MBR;">DRIVE_LAYOUT_INFORMATION_MBR</a></p>
<p><a href="ioctl_disk_get_drive_layout_ex" title="// CTL_CODE(0x0007, 0x014, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_DISK_GET_DRIVE_LAYOUT_EX 0x00070050">IOCTL_DISK_GET_DRIVE_LAYOUT_EX</a></p>
<p><a href="ioctl_disk_set_drive_layout_ex" title="// CTL_CODE(0x0007, 0x015, METHOD_BUFFERED, FILE_READ_ACCESS | FILE_WRITE_ACCESS)&#10;#define IOCTL_DISK_SET_DRIVE_LAYOUT_EX 0x0007C054">IOCTL_DISK_SET_DRIVE_LAYOUT_EX</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-drive_layout_information_gpt">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/winioctl/ns-winioctl-drive_layout_information_gpt.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
