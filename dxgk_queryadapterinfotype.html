<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGK_QUERYADAPTERINFOTYPE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGK_QUERYADAPTERINFOTYPE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGK_QUERYADAPTERINFOTYPE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef enum _DXGK_QUERYADAPTERINFOTYPE {
  DXGKQAITYPE_UMDRIVERPRIVATE = 0,
  DXGKQAITYPE_DRIVERCAPS = 1,
  DXGKQAITYPE_QUERYSEGMENT = 2,
  DXGKQAITYPE_RESERVED = 3,
  DXGKQAITYPE_QUERYSEGMENT2 = 4,
  DXGKQAITYPE_QUERYSEGMENT3 = 5,
  DXGKQAITYPE_NUMPOWERCOMPONENTS = 6,
  DXGKQAITYPE_POWERCOMPONENTINFO = 7,
  DXGKQAITYPE_PREFERREDGPUNODE = 8,
  DXGKQAITYPE_POWERCOMPONENTPSTATEINFO = 9,
  DXGKQAITYPE_HISTORYBUFFERPRECISION = 10,
  DXGKQAITYPE_QUERYSEGMENT4 = 11,
  DXGKQAITYPE_SEGMENTMEMORYSTATE = 12,
  DXGKQAITYPE_GPUMMUCAPS = 13,
  DXGKQAITYPE_PAGETABLELEVELDESC = 14,
  DXGKQAITYPE_PHYSICALADAPTERCAPS = 15,
  DXGKQAITYPE_DISPLAY_DRIVERCAPS_EXTENSION = 16,
  DXGKQAITYPE_INTEGRATED_DISPLAY_DESCRIPTOR = 17,
  DXGKQAITYPE_UEFIFRAMEBUFFERRANGES = 18,
  DXGKQAITYPE_QUERYCOLORIMETRYOVERRIDES = 19,
  DXGKQAITYPE_DISPLAYID_DESCRIPTOR = 20,
  DXGKQAITYPE_FRAMEBUFFERSAVESIZE = 21,
  DXGKQAITYPE_HARDWARERESERVEDRANGES = 22,
  DXGKQAITYPE_INTEGRATED_DISPLAY_DESCRIPTOR2 = 23,
  DXGKQAITYPE_NODEPERFDATA = 24,
  DXGKQAITYPE_ADAPTERPERFDATA = 25,
  DXGKQAITYPE_ADAPTERPERFDATA_CAPS = 26,
  DXGKQAITYPE_GPUVERSION = 27,
  DXGKQAITYPE_DEVICE_TYPE_CAPS = 28,
  DXGKQAITYPE_WDDMDEVICECAPS = 29,
  DXGKQAITYPE_GPUPCAPS = 30,
  DXGKQAITYPE_QUERYTARGETGAMMACAPS = 31,
  DXGKQAITYPE_SCANOUT_CAPS = 33,
  DXGKQAITYPE_PHYSICAL_MEMORY_CAPS = 34,
  DXGKQAITYPE_IOMMU_CAPS = 35,
  DXGKQAITYPE_HARDWARERESERVEDRANGES2 = 36,
  DXGKQAITYPE_NATIVE_FENCE_CAPS = 37,
  DXGKQAITYPE_USERMODESUBMISSION_CAPS = 38,
  DXGKQAITYPE_DIRTYBITTRACKINGCAPS = 39,
  DXGKQAITYPE_DIRTYBITTRACKINGSEGMENTCAPS = 40,
  DXGKQAITYPE_SCATTER_RESERVE = 41,
  DXGKQAITYPE_QUERYPAGINGBUFFERINFO = 42,
  DXGKQAITYPE_QUERYSEGMENTCOUNT = 43,
  DXGKQAITYPE_QUERYSEGMENT5 = 44,
  DXGKQAITYPE_QUERYMMUCOUNT = 45,
  DXGKQAITYPE_QUERYMMUS = 46,
  DXGKQAITYPE_64BITONLYCAPS = 47,
  DXGKQAITYPE_PAGINGPROCESSGPUVASIZE = 48
} DXGK_QUERYADAPTERINFOTYPE;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ne-d3dkmddi-_dxgk_queryadapterinfotype">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgk_queryadapterinfotype.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ne-d3dkmddi-_dxgk_queryadapterinfotype)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dxgk_queryadapterinfotype-enumeration">DXGK_QUERYADAPTERINFOTYPE enumeration</h1>

<h2 id="description">Description</h2>

<p>The <strong>DXGK_QUERYADAPTERINFOTYPE</strong> enumeration indicates the type of information the kernel-mode display miniport driver (KMD) should return in the buffer that <strong>pOutputData</strong> points to when its <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_queryadapterinfo"><strong>DxgkDdiQueryAdapterInfo</strong></a> function is called. See <a rel="noopener" target="_blank" href="dxgkarg_queryadapterinfo"><strong>DXGKARG_QUERYADAPTERINFO</strong></a> for details regarding those types that require input (<strong>pInputData</strong>).</p>

<h2 id="constants">Constants</h2>

<h3 id="dxgkqaitype_umdriverprivate0"><code>DXGKQAITYPE_UMDRIVERPRIVATE:0</code></h3>

<p>Indicates a private, proprietary-defined data structure for the display driver.</p>

<h3 id="dxgkqaitype_drivercaps1"><code>DXGKQAITYPE_DRIVERCAPS:1</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_drivercaps"><strong>DXGK_DRIVERCAPS</strong></a> structure with its driver capabilities.</p>

<h3 id="dxgkqaitype_querysegment2"><code>DXGKQAITYPE_QUERYSEGMENT:2</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_querysegmentout"><strong>DXGK_QUERYSEGMENTOUT</strong></a> structure with its memory-segment information.</p>

<h3 id="dxgkqaitype_reserved3"><code>DXGKQAITYPE_RESERVED:3</code></h3>

<p>Reserved for system use. Do not use in your driver. This constant occurs starting in Windows 7.</p>

<h3 id="dxgkqaitype_querysegment24"><code>DXGKQAITYPE_QUERYSEGMENT2:4</code></h3>

<p>Reserved for system use. Do not use in your driver. This constant occurs starting in Windows 7.</p>

<h3 id="dxgkqaitype_querysegment35"><code>DXGKQAITYPE_QUERYSEGMENT3:5</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_querysegmentout3"><strong>DXGK_QUERYSEGMENTOUT3</strong></a> structure with memory-segment information. Supported starting in Windows 8.</p>

<h3 id="dxgkqaitype_numpowercomponents6"><code>DXGKQAITYPE_NUMPOWERCOMPONENTS:6</code></h3>

<p>The display miniport should provide a <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies the number of power components that it uses. Supported starting in Windows 8.</p>

<h3 id="dxgkqaitype_powercomponentinfo7"><code>DXGKQAITYPE_POWERCOMPONENTINFO:7</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_power_runtime_component"><strong>DXGK_POWER_RUNTIME_COMPONENT</strong></a> structure with information about the <em>n</em>th power component, where <em>n</em> is the component index specified by <strong><a rel="noopener" target="_blank" href="dxgkarg_queryadapterinfo">DXGKARG_QUERYADAPTERINFO</a>.pInputData</strong> in a call to <a rel="noopener" target="_blank" href="dxgkarg_queryadapterinfo">DxgkDdiQueryAdapterInfo</a>. Supported starting in Windows 8.</p>

<h3 id="dxgkqaitype_preferredgpunode8"><code>DXGKQAITYPE_PREFERREDGPUNODE:8</code></h3>

<p>Reserved for system use. Do not use in your driver. This constant occurs starting in Windows 8.</p>

<h3 id="dxgkqaitype_powercomponentpstateinfo9"><code>DXGKQAITYPE_POWERCOMPONENTPSTATEINFO:9</code></h3>

<p>Reserved for system use. Do not use in your driver. Supported starting in Windows 8.1.</p>

<h3 id="dxgkqaitype_historybufferprecision10"><code>DXGKQAITYPE_HISTORYBUFFERPRECISION:10</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgkarg_historybufferprecision"><strong>DXGKARG_HISTORYBUFFERPRECISION</strong></a> structure with information about the precision of history buffer data that it uses. Supported starting in Windows 8.1.</p>

<h3 id="dxgkqaitype_querysegment411"><code>DXGKQAITYPE_QUERYSEGMENT4:11</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_querysegmentout4"><strong>DXGK_QUERYSEGMENTOUT4</strong></a> structure to indicate its memory-segment information. Supported starting in Windows 10.</p>

<h3 id="dxgkqaitype_segmentmemorystate12"><code>DXGKQAITYPE_SEGMENTMEMORYSTATE:12</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_memoryrange"><strong>DXGK_MEMORYRANGE</strong></a> structure with its bad memory ranges. Supported starting in Windows 10.</p>

<h3 id="dxgkqaitype_gpummucaps13"><code>DXGKQAITYPE_GPUMMUCAPS:13</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_gpummucaps"><strong>DXGK_GPUMMUCAPS</strong></a> structure with its virtual memory management capabilities. Supported starting in Windows 10.</p>

<h3 id="dxgkqaitype_pagetableleveldesc14"><code>DXGKQAITYPE_PAGETABLELEVELDESC:14</code></h3>

<p>Reserved for system use. Do not use in your driver. This constant occurs starting in Windows 10.</p>

<h3 id="dxgkqaitype_physicaladaptercaps15"><code>DXGKQAITYPE_PHYSICALADAPTERCAPS:15</code></h3>

<p>Reserved for system use. Do not use in your driver. This constant occurs starting in Windows 10.</p>

<h3 id="dxgkqaitype_display_drivercaps_extension16"><code>DXGKQAITYPE_DISPLAY_DRIVERCAPS_EXTENSION:16</code></h3>

<p>Reserved for system use. Do not use in your driver. This constant occurs starting in Windows 10.</p>

<h3 id="dxgkqaitype_integrated_display_descriptor17"><code>DXGKQAITYPE_INTEGRATED_DISPLAY_DESCRIPTOR:17</code></h3>

<p>Supported starting in Windows 10, version 1703. Indicates a request for an integrated panel descriptor where the input buffer to the query will be a <a rel="noopener" target="_blank" href="dxgk_qaitargetin"><strong>DXGK_QUERYINTEGRATEDDISPLAYIN</strong></a> structure and the output buffer is a <a rel="noopener" target="_blank" href="dxgk_queryintegrateddisplayout2"><strong>DXGK_QUERYINTEGRATEDDISPLAYOUT</strong></a> structure.</p>

<p>Although this function addresses a target, only DxgKrnl adapter locks are taken over this call, not child device locks. In practice, since this call will be made before the child device is exposed, there should be no concurrent DDI calls which address the same target.</p>

<p>NOTE: Unlike most QueryAdapterInfo calls, the output buffer size is variable although it is still known in advance from the DescriptorLength field of the <a rel="noopener" target="_blank" href="dxgk_integrated_display_child"><strong>DXGK_INTEGRATED_DISPLAY_CHILD</strong></a> structure for the target id. The size of the output buffer is:
<code>DescriptorLength + <a href="field_offset" title="void FIELD_OFFSET(&#10;  type,&#10;  field&#10;);">FIELD_OFFSET</a>( <a href="dxgk_queryintegrateddisplayout" title="typedef struct _DXGK_QUERYINTEGRATEDDISPLAYOUT {&#10;  DXGK_INTEGRATEDDISPLAYFLAGS       Flags;&#10;  D3DKMDT_VIDEO_SIGNAL_INFO         NativeTiming;&#10;  DXGK_MONITORLINKINFO_CAPABILITIES LinkCapabilities;&#10;  DXGK_COLORIMETRY                  Colorimetry;&#10;  DXGK_DISPLAY_TECHNOLOGY           DisplayTechnology;&#10;  DXGK_DISPLAY_USAGE                IntendedUsage;&#10;  BYTE                              Instance;&#10;  DXGK_DISPLAY_DESCRIPTOR_TYPE      DescriptorType;&#10;  BYTE                              Descriptor[1];&#10;} DXGK_QUERYINTEGRATEDDISPLAYOUT, *PDXGK_QUERYINTEGRATEDDISPLAYOUT;">DXGK_QUERYINTEGRATEDDISPLAYOUT</a>, Descriptor )</code>.</p>

<h3 id="dxgkqaitype_uefiframebufferranges18"><code>DXGKQAITYPE_UEFIFRAMEBUFFERRANGES:18</code></h3>

<p>Indicates request for the UEFI frame buffer ranges. Supported starting in Windows 10, version 1703.</p>

<h3 id="dxgkqaitype_querycolorimetryoverrides19"><code>DXGKQAITYPE_QUERYCOLORIMETRYOVERRIDES:19</code></h3>

<p>Supported starting in Windows 10, version 1703. Indicates a request for colorimetry overrides for an external display, where the input buffer to the query will be a <a rel="noopener" target="_blank" href="dxgk_qaitargetin"><strong>DXGK_QUERYCOLORIMETRYOVERRIDESIN</strong></a> structure, containing only the target id being addressed and the output buffer is a <a rel="noopener" target="_blank" href="dxgk_colorimetry"><strong>DXGK_COLORIMETRY</strong></a> structure into which the driver writes overrides for the monitor attached to the target.</p>

<p>Although this function addresses a target, only DxgKrnl adapter locks are taken over this call, not child device locks. Since this call will be made before the child device is exposed, there should be no concurrent DDI calls which address the same target.</p>

<p>The output buffer is zeroed when passed to the driver. If the driver has no overrides for the monitor, it should return <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> and leave the output buffer zeroed. If the driver has overrides, it fill in all fields of the <a href="dxgk_colorimetry" title="typedef struct _DXGK_COLORIMETRY {&#10;  D3DKMDT_2DOFFSET                   RedPoint;&#10;  D3DKMDT_2DOFFSET                   GreenPoint;&#10;  D3DKMDT_2DOFFSET                   BluePoint;&#10;  D3DKMDT_2DOFFSET                   WhitePoint;&#10;  ULONG                              MinLuminance;&#10;  ULONG                              MaxLuminance;&#10;  ULONG                              MaxFullFrameLuminance;&#10;  D3DKMDT_WIRE_FORMAT_AND_PREFERENCE FormatBitDepths;&#10;  DXGK_STANDARD_COLORIMETRY_FLAGS    StandardColorimetryFlags;&#10;} DXGK_COLORIMETRY, *PDXGK_COLORIMETRY;">DXGK_COLORIMETRY</a> to describe the monitor capabilities as the OS will not accept partial overrides.</p>

<h3 id="dxgkqaitype_displayid_descriptor20"><code>DXGKQAITYPE_DISPLAYID_DESCRIPTOR:20</code></h3>

<p>Indicates a request for an integrated panel descriptor where the input buffer to the query will be a <a rel="noopener" target="_blank" href="dxgk_qaitargetin"><strong>DXGK_QAITARGETIN</strong></a> structure and the output buffer is a <a rel="noopener" target="_blank" href="dxgk_queryintegrateddisplayout2"><strong>DXGK_QUERYINTEGRATEDDISPLAYOUT</strong></a> structure. Supported starting in Windows 10, version 1709.</p>

<h3 id="dxgkqaitype_framebuffersavesize21"><code>DXGKQAITYPE_FRAMEBUFFERSAVESIZE:21</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_framebuffersavearea"><strong>DXGK_FRAMEBUFFERSAVEAREA</strong></a> structure with the size of the frame buffer to save to system memory during power transitions. Supported starting in Windows 10, version 1803.</p>

<h3 id="dxgkqaitype_hardwarereservedranges22"><code>DXGKQAITYPE_HARDWARERESERVEDRANGES:22</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_hardwarereservedranges"><strong>DXGK_HARDWARERESERVEDRANGES</strong></a> structure with its hardware reserved memory ranges. Supported starting in Windows 10, version 1803.</p>

<h3 id="dxgkqaitype_integrated_display_descriptor223"><code>DXGKQAITYPE_INTEGRATED_DISPLAY_DESCRIPTOR2:23</code></h3>

<p>Supported starting in Windows 10, version 1803. Indicates a request for an integrated panel descriptor where the input buffer to the query will be a <a rel="noopener" target="_blank" href="dxgk_qaitargetin"><strong>DXGK_QAITARGETIN</strong></a> structure and the output buffer is a <a rel="noopener" target="_blank" href="dxgk_queryintegrateddisplayout2"><strong>DXGK_QUERYINTEGRATEDDISPLAYOUT2</strong></a> structure. This query replaces use of the <strong>DXGKQAITYPE_INTEGRATED_DISPLAY_DESCRIPTOR</strong> query for WDDM 2.4 drivers.</p>

<p><a rel="noopener" target="_blank" href="dxgk_child_device_type"><strong>TypeIntegratedDisplay</strong> child devices</a> are reported by calling <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_queryadapterinfo"><strong>DxgkDdiQueryAdapterInfo</strong></a> with the <em>Type</em> set to this value.</p>

<h3 id="dxgkqaitype_nodeperfdata24"><code>DXGKQAITYPE_NODEPERFDATA:24</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_node_perfdata"><strong>DXGK_NODE_PERFDATA</strong></a> structure that represents performance data collected per engine from an adapter on an interval basis. Supported starting in Windows 10, version 1803.</p>

<h3 id="dxgkqaitype_adapterperfdata25"><code>DXGKQAITYPE_ADAPTERPERFDATA:25</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_adapter_perfdata"><strong>DXGK_ADAPTER_PERFDATA</strong></a> structure that represents performance data collected per adapter on an interval basis. Supported starting in Windows 10, version 1803.</p>

<h3 id="dxgkqaitype_adapterperfdata_caps26"><code>DXGKQAITYPE_ADAPTERPERFDATA_CAPS:26</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_adapter_perfdatacaps"><strong>DXGK_ADAPTER_PERFDATACAPS</strong></a> structure that represents data capabilities that are static and queried once per GPU during initialization. Supported starting in Windows 10, version 1803.</p>

<h3 id="dxgkqaitype_gpuversion27"><code>DXGKQAITYPE_GPUVERSION:27</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_gpuversion"><strong>DXGK_GPUVERSION</strong></a> structure used to collect the BIOS version and GPU architecture name once during GPU initialization. Supported starting in Windows 10, version 1803.</p>

<h3 id="dxgkqaitype_device_type_caps28"><code>DXGKQAITYPE_DEVICE_TYPE_CAPS:28</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_device_type_caps"><strong>DXGK_DEVICE_TYPE_CAPS</strong></a> structure that describes the type of capabilities for a device. Supported starting in Windows 10, version 1809.</p>

<h3 id="dxgkqaitype_wddmdevicecaps29"><code>DXGKQAITYPE_WDDMDEVICECAPS:29</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_wddmdevicecaps"><strong>DXGK_WDDMDEVICECAPS</strong></a> structure that contains the WDDM capabilities that are queried by the OS during device initialization. Supported starting in Windows 10, version 1903.</p>

<h3 id="dxgkqaitype_gpupcaps30"><code>DXGKQAITYPE_GPUPCAPS:30</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_gpupcaps"><strong>DXGK_GPUPCAPS</strong></a> structure that contains the GPU capabilities for a kernel mode display driver. Supported starting in Windows 10, version 1903.</p>

<h3 id="dxgkqaitype_querytargetgammacaps31"><code>DXGKQAITYPE_QUERYTARGETGAMMACAPS:31</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_target_gamma_caps"><strong>DXGK_TARGET_GAMMA_CAPS</strong></a> structure that describes the gamma capabilities of The KMD. Supported starting in Windows 10, version 1903.</p>

<h3 id="dxgkqaitype_scanout_caps33"><code>DXGKQAITYPE_SCANOUT_CAPS:33</code></h3>

<p>The KMD should populate a DXGK_QUERY_SCANOUT_CAPS_OUT structure that describes the scanout capabilities of the driver. Supported starting in Windows 10, version 1903.</p>

<h3 id="dxgkqaitype_physical_memory_caps34"><code>DXGKQAITYPE_PHYSICAL_MEMORY_CAPS:34</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_physical_memory_caps"><strong>DXGK_PHYSICAL_MEMORY_CAPS</strong></a> structure that describes the physical memory restrictions (the highest visible physical address) of the device. Supported starting in Windows Server 2022 (WDDM 2.9).</p>

<p>See <strong>DXGKQAITYPE_IOMMU_CAPS</strong> for details on how to indicate driver support for IOMMU linear remapping.</p>

<h3 id="dxgkqaitype_iommu_caps35"><code>DXGKQAITYPE_IOMMU_CAPS:35</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_iommu_caps"><strong>DXGK_IOMMU_CAPS</strong></a> structure that indicates that IOMMU linear remapping is supported by the driver. Supported starting in Windows Server 2022 (WDDM 2.9). To indicate support for linear remapping, the driver must also inform <em>Dxgkernel</em> about its physical memory restrictions through the <strong>DXGKQAITYPE_PHYSICAL_MEMORY_CAPS</strong> cap.</p>

<p>Logical remapping can only be done if no existing physical memory is referenced by the device, so <em>Dxgkrnl</em>'s call sequence is as follows:</p>

<ul>
<li><p>Call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_add_device"><strong>DxgkDdiAddDevice</strong></a> for all physical adapters, so that the driver can gather information for all linked physical adapters.</p></li>
<li><p>Call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_queryadapterinfo"><strong>DxgkDdiQueryAdapterInfo</strong></a> with DXGKQAITYPE_PHYSICAL_MEMORY_CAPS and DXGKQAITYPE_IOMMU_CAPS so that it can then create and attach the device to an IOMMU domain before any memory can be accessed.</p></li>
<li><p>Call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_start_device"><strong>DxgkDdiStartDevice</strong></a> to start the device.</p></li>
</ul>

<h3 id="dxgkqaitype_hardwarereservedranges236"><code>DXGKQAITYPE_HARDWARERESERVEDRANGES2:36</code></h3>

<h3 id="dxgkqaitype_native_fence_caps37"><code>DXGKQAITYPE_NATIVE_FENCE_CAPS:37</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_native_fence_caps"><strong>DXGK_NATIVE_FENCE_CAPS</strong></a> structure that contains the driver's support details for native GPU fences. Supported starting in Windows 11, version 24H2. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/native-gpu-fence-objects">Native GPU fences</a>.</p>

<h3 id="dxgkqaitype_usermodesubmission_caps38"><code>DXGKQAITYPE_USERMODESUBMISSION_CAPS:38</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_usermodesubmission_caps"><strong>DXGK_USERMODESUBMISSION_CAPS</strong></a> structure that contains the driver's support details for user-mode work submission. Supported starting in Windows 11, version 24H2. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/user-mode-work-submission">User-mode work submission</a>.</p>

<h3 id="dxgkqaitype_dirtybittrackingcaps39"><code>DXGKQAITYPE_DIRTYBITTRACKINGCAPS:39</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_dirty_bit_tracking_caps"><strong>DXGK_DIRTY_BIT_TRACKING_CAPS</strong></a> structure that contains the driver's support details for dirty bit tracking. Supported starting in Windows 11, version 24H2. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/dirty-bit-tracking">Dirty bit tracking</a>.</p>

<h3 id="dxgkqaitype_dirtybittrackingsegmentcaps40"><code>DXGKQAITYPE_DIRTYBITTRACKINGSEGMENTCAPS:40</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_dirty_bit_tracking_segment_caps"><strong>DXGK_DIRTY_BIT_TRACKING_SEGMENT_CAPS</strong></a> structure that contains the driver's support details for dirty bit tracking on a specific memory segment. Supported starting in Windows 11, version 24H2. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/dirty-bit-tracking">Dirty bit tracking</a>.</p>

<h3 id="dxgkqaitype_scatter_reserve41"><code>DXGKQAITYPE_SCATTER_RESERVE:41</code></h3>

<p>The KMD should populate a <a rel="noopener" target="_blank" href="dxgk_queryscatterreserveout"><strong>DXGK_QUERYSCATTERRESERVEOUT</strong></a> structure that contains the driver's support details for scatter reserve. Supported starting in Windows 11, version 24H2. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/live-migration-on-gpup-devices">Live migration on GPU-P devices</a>.</p>

<h3 id="dxgkqaitype_querypagingbufferinfo42"><code>DXGKQAITYPE_QUERYPAGINGBUFFERINFO:42</code></h3>

<h3 id="dxgkqaitype_querysegmentcount43"><code>DXGKQAITYPE_QUERYSEGMENTCOUNT:43</code></h3>

<h3 id="dxgkqaitype_querysegment544"><code>DXGKQAITYPE_QUERYSEGMENT5:44</code></h3>

<h3 id="dxgkqaitype_querymmucount45"><code>DXGKQAITYPE_QUERYMMUCOUNT:45</code></h3>

<h3 id="dxgkqaitype_querymmus46"><code>DXGKQAITYPE_QUERYMMUS:46</code></h3>

<h3 id="dxgkqaitype_64bitonlycaps47"><code>DXGKQAITYPE_64BITONLYCAPS:47</code></h3>

<h3 id="dxgkqaitype_pagingprocessgpuvasize48"><code>DXGKQAITYPE_PAGINGPROCESSGPUVASIZE:48</code></h3>

<p>KMD should return the size of the paging process GPU VA space, in megabytes. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/allocation-notification">Allocation Notification</a>. Available starting in Windows 11, version 24H2 (WDDM 3.2).</p>

<h2 id="remarks">Remarks</h2>

<p><em>Dxgkrnl</em> calls The KMD's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_queryadapterinfo"><strong>DxgkDdiQueryAdapterInfo</strong></a> callback to retrieve configuration information from the graphics adapter. The driver fills the requested information in the buffer pointed to by the <strong>pOutputData</strong> member of the <a rel="noopener" target="_blank" href="dxgkarg_queryadapterinfo"><strong>DXGKARG_QUERYADAPTERINFO</strong></a> structure. See each enumeration value for the type of structure to fill in.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="dxgkarg_queryadapterinfo"><strong>DXGKARG_QUERYADAPTERINFO</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_queryadapterinfo"><strong>DxgkDdiQueryAdapterInfo</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ne-d3dkmddi-_dxgk_queryadapterinfotype">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ne-d3dkmddi-_dxgk_queryadapterinfotype.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
