<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HidP_GetScaledUsageValue - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>HidP_GetScaledUsageValue - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            HidP_GetScaledUsageValue - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// hidpi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> HidP_GetScaledUsageValue(
  [in]  <a href="hidp_report_type" title="typedef enum _HIDP_REPORT_TYPE {&#10;  HidP_Input,&#10;  HidP_Output,&#10;  HidP_Feature&#10;} HIDP_REPORT_TYPE;">HIDP_REPORT_TYPE</a>     ReportType,
  [in]  USAGE                UsagePage,
  [in]  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>               LinkCollection,
  [in]  USAGE                Usage,
  [out] PLONG                UsageValue,
  [in]  PHIDP_PREPARSED_DATA PreparsedData,
  [in]  PCHAR                Report,
  [in]  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                ReportLength
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidpi/nf-hidpi-hidp_getscaledusagevalue">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/hidp_getscaledusagevalue.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-hidpi-hidp_getscaledusagevalue)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>HidP_GetScaledUsageValue function</h1>
<h2>Description</h2>
<p>The <strong>HidP_GetScaledUsageValue</strong> routine returns the signed and scaled result of a HID control value extracted from a HID report.</p>
<h2>Parameters</h2>
<h3><code>ReportType</code> [in]</h3>
<p>Specifies a <strong><a href="hidp_report_type" title="typedef enum _HIDP_REPORT_TYPE {&#10;  HidP_Input,&#10;  HidP_Output,&#10;  HidP_Feature&#10;} HIDP_REPORT_TYPE;">HIDP_REPORT_TYPE</a></strong> enumerator value that identifies the type of HID report that contains the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-usages">HID usage</a> value.</p>
<h3><code>UsagePage</code> [in]</h3>
<p>Specifies the usage page of the value to extract.</p>
<h3><code>LinkCollection</code> [in]</h3>
<p>Specifies the link collection identifier of the value to extract. A LinkCollection value of zero identifies the top-level collection.</p>
<h3><code>Usage</code> [in]</h3>
<p>Specifies the usage of the value to extract.</p>
<h3><code>UsageValue</code> [out]</h3>
<p>Pointer to the buffer in which the routine returns the signed and scaled value.</p>
<h3><code>PreparsedData</code> [in]</h3>
<p>Pointer to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/preparsed-data">preparsed data</a> of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/top-level-collections">top-level collection</a> that generated the report located at <em>Report</em>.</p>
<h3><code>Report</code> [in]</h3>
<p>Pointer to the report that contains the usage.</p>
<h3><code>ReportLength</code> [in]</h3>
<p>Specifies the length, in bytes, of the report located at <em>Report</em>.</p>
<h2>Return value</h2>
<p><strong>HidP_GetScaledUsageValue</strong> returns one of the following status values:</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>HIDP_STATUS_SUCCESS</strong></td>
<td>The routine successfully returned the value.</td>
</tr>
<tr>
<td><strong>HIDP_STATUS_INVALID_REPORT_TYPE</strong></td>
<td>The specified report type is not valid.</td>
</tr>
<tr>
<td><strong>HIDP_STATUS_INVALID_REPORT_LENGTH</strong></td>
<td>The specified report length is not valid.</td>
</tr>
<tr>
<td><strong>HIDP_STATUS_BAD_LOG_PHY_VALUES</strong></td>
<td>The collection returned an illegal logical or physical value. To extract the value returned by the collection, call <a href="hidp_getusagevalue" title="NTSTATUS HidP_GetUsageValue(&#10;  [in]  HIDP_REPORT_TYPE     ReportType,&#10;  [in]  USAGE                UsagePage,&#10;  [in]  USHORT               LinkCollection,&#10;  [in]  USAGE                Usage,&#10;  [out] PULONG               UsageValue,&#10;  [in]  PHIDP_PREPARSED_DATA PreparsedData,&#10;  [in]  PCHAR                Report,&#10;  [in]  ULONG                ReportLength&#10;);">HidP_GetUsageValue</a>.</td>
</tr>
<tr>
<td><strong>HIDP_STATUS_NULL</strong></td>
<td>The current state of the scaled value from the collection is less than the logical minimum or is greater than the logical maximum, and the scaled value has a <strong>NULL</strong> state.</td>
</tr>
<tr>
<td><strong>HIDP_STATUS_VALUE_OUT_OF_RANGE</strong></td>
<td>The current state of the scaled value data from the collection is less than the logical minimum or is greater than the logical maximum.</td>
</tr>
<tr>
<td><strong>HIDP_STATUS_USAGE_NOT_FOUND</strong></td>
<td>The specified usage, usage page, or link collection cannot be found in any report supported by the specified top-level collection.</td>
</tr>
<tr>
<td><strong>HIDP_STATUS_INCOMPATIBLE_REPORT_ID</strong></td>
<td>The specified value is not contained in the specified report, but is contained in another report supported by the specified top-level collection.</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>Scaled values refer to the adjusted output of raw HID data, which are modified based on specific parameters such as sensitivity and the range of the device. This adjustment allows for more meaningful interpretation of the data in relation to the device's intended use.</p>
<p>For further understanding of how HID reports are interpreted and the significance of scaled values, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/interpreting-hid-reports">Interpreting HID Reports</a>.</p>
<p>The caller-allocated buffers supplied at <em>PreparsedData</em>, <em>UsageValue</em>, and <em>Report</em> must be allocated from nonpaged pool.</p>
<p>User-mode applications and kernel-mode drivers must use <strong><a href="hidp_getusagevaluearray" title="NTSTATUS HidP_GetUsageValueArray(&#10;  [in]      HIDP_REPORT_TYPE     ReportType,&#10;  [in]      USAGE                UsagePage,&#10;  [in]      USHORT               LinkCollection,&#10;  [in]      USAGE                Usage,&#10;  [in, out] PCHAR                UsageValue,&#10;  [in]      USHORT               UsageValueByteLength,&#10;  [in]      PHIDP_PREPARSED_DATA PreparsedData,&#10;  [in]      PCHAR                Report,&#10;  [in]      ULONG                ReportLength&#10;);">HidP_GetUsageValueArray</a></strong> to extract data for a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/value-capability-arrays">usage value array</a>.</p>
<p>If the routine returns status HIDP_STATUS_BAD_LOG_PHY_VALUES, an application or driver can call <strong><a href="hidp_getusagevalue" title="NTSTATUS HidP_GetUsageValue(&#10;  [in]  HIDP_REPORT_TYPE     ReportType,&#10;  [in]  USAGE                UsagePage,&#10;  [in]  USHORT               LinkCollection,&#10;  [in]  USAGE                Usage,&#10;  [out] PULONG               UsageValue,&#10;  [in]  PHIDP_PREPARSED_DATA PreparsedData,&#10;  [in]  PCHAR                Report,&#10;  [in]  ULONG                ReportLength&#10;);">HidP_GetUsageValue</a></strong> to extract the raw usage data.</p>
<p>For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-collections">HID Collections</a>.</p>
<h2>See also</h2>
<ul>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-usages">HID usage</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/preparsed-data">Preparsed data</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/top-level-collections">Top-level collections</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/interpreting-hid-reports">Interpreting HID Reports</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-collections">HID Collections</a></li>
<li><strong><a href="hidp_getusagevalue" title="NTSTATUS HidP_GetUsageValue(&#10;  [in]  HIDP_REPORT_TYPE     ReportType,&#10;  [in]  USAGE                UsagePage,&#10;  [in]  USHORT               LinkCollection,&#10;  [in]  USAGE                Usage,&#10;  [out] PULONG               UsageValue,&#10;  [in]  PHIDP_PREPARSED_DATA PreparsedData,&#10;  [in]  PCHAR                Report,&#10;  [in]  ULONG                ReportLength&#10;);">HidP_GetUsageValue</a></strong></li>
<li><strong><a href="hidp_getusagevaluearray" title="NTSTATUS HidP_GetUsageValueArray(&#10;  [in]      HIDP_REPORT_TYPE     ReportType,&#10;  [in]      USAGE                UsagePage,&#10;  [in]      USHORT               LinkCollection,&#10;  [in]      USAGE                Usage,&#10;  [in, out] PCHAR                UsageValue,&#10;  [in]      USHORT               UsageValueByteLength,&#10;  [in]      PHIDP_PREPARSED_DATA PreparsedData,&#10;  [in]      PCHAR                Report,&#10;  [in]      ULONG                ReportLength&#10;);">HidP_GetUsageValueArray</a></strong></li>
<li><strong><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidsdi/nf-hidsdi-hidd_getpreparseddata">_HIDP_PREPARSED_DATA</a></strong></li>
</ul>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidpi/nf-hidpi-hidp_getscaledusagevalue">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/hidpi/nf-hidpi-hidp_getscaledusagevalue.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
