<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NdisGetRssProcessorInformation - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NdisGetRssProcessorInformation - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NdisGetRssProcessorInformation - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">NDIS_STATUS NdisGetRssProcessorInformation(
  [in]            NDIS_HANDLE              NdisHandle,
  [out, optional] <a href="ndis_rss_processor_info" title="typedef struct _NDIS_RSS_PROCESSOR_INFO {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  PROCESSOR_NUMBER   RssBaseProcessor;&#10;  ULONG              MaxNumRssProcessors;&#10;  USHORT             PreferredNumaNode;&#10;  ULONG              RssProcessorArrayOffset;&#10;  ULONG              RssProcessorCount;&#10;  ULONG              RssProcessorEntrySize;&#10;  PROCESSOR_NUMBER   RssMaxProcessor;&#10;  NDIS_RSS_PROFILE   RssProfile;&#10;} NDIS_RSS_PROCESSOR_INFO, *PNDIS_RSS_PROCESSOR_INFO;">PNDIS_RSS_PROCESSOR_INFO</a> RssProcessorInfo,
  [in, out]       PSIZE_T                  Size
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndisgetrssprocessorinformation">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndisgetrssprocessorinformation.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-ndis-ndisgetrssprocessorinformation)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="ndisgetrssprocessorinformation-function">NdisGetRssProcessorInformation function</h1>

<h2 id="description">Description</h2>

<p>The
<strong>NdisGetRssProcessorInformation</strong> function retrieves information about the set of processors that a
miniport driver must use for receive side scaling (RSS).</p>

<h2 id="parameters">Parameters</h2>

<h3 id="ndishandle-in"><code>NdisHandle</code> [in]</h3>

<p>An NDIS instance handle that was obtained during caller initialization. NDIS drivers can use the
handles from the following functions:</p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_initialize">MiniportInitializeEx</a></p>

<p><a href="ndisopenadapterex" title="NDIS_STATUS NdisOpenAdapterEx(&#10;  [in]  NDIS_HANDLE           NdisProtocolHandle,&#10;  [in]  NDIS_HANDLE           ProtocolBindingContext,&#10;  [in]  PNDIS_OPEN_PARAMETERS OpenParameters,&#10;  [in]  NDIS_HANDLE           BindContext,&#10;  [out] PNDIS_HANDLE          NdisBindingHandle&#10;);">NdisOpenAdapterEx</a></p>

<h3 id="rssprocessorinfo-out-optional"><code>RssProcessorInfo</code> [out, optional]</h3>

<p>A pointer to a caller-allocated buffer where NDIS puts the
<a href="ndis_rss_processor_info" title="typedef struct _NDIS_RSS_PROCESSOR_INFO {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  PROCESSOR_NUMBER   RssBaseProcessor;&#10;  ULONG              MaxNumRssProcessors;&#10;  USHORT             PreferredNumaNode;&#10;  ULONG              RssProcessorArrayOffset;&#10;  ULONG              RssProcessorCount;&#10;  ULONG              RssProcessorEntrySize;&#10;  PROCESSOR_NUMBER   RssMaxProcessor;&#10;  NDIS_RSS_PROFILE   RssProfile;&#10;} NDIS_RSS_PROCESSOR_INFO, *PNDIS_RSS_PROCESSOR_INFO;">NDIS_RSS_PROCESSOR_INFO</a> structure
and an array of
<a href="ndis_rss_processor" title="typedef struct _NDIS_RSS_PROCESSOR {&#10;  PROCESSOR_NUMBER ProcNum;&#10;  USHORT           PreferenceIndex;&#10;  USHORT           Reserved;&#10;} NDIS_RSS_PROCESSOR, *PNDIS_RSS_PROCESSOR;">NDIS_RSS_PROCESSOR</a> structures that
contain information about the RSS processor set. The caller provides the length of the buffer in the
<em>Size</em> parameter.</p>

<h3 id="size-in-out"><code>Size</code> [in, out]</h3>

<p>A pointer to a value that is the size, in bytes, of the buffer that the caller provided. When the
function returns, this member contains either the amount of data that NDIS put in the buffer or the
required size of the buffer if the buffer was too short.</p>

<h2 id="return-value">Return value</h2>

<p><strong>NdisGetRssProcessorInformation</strong> can return one of the following status values:</p>

<table>
<thead>
<tr>
  <th>Return code</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>NDIS_STATUS_SUCCESS</strong></td>
  <td>The operation completed successfully.</td>
</tr>
<tr>
  <td><strong>NDIS_STATUS_BUFFER_TOO_SHORT</strong></td>
  <td>The size that was specified in <em>Size</em> parameter was too small. In this case, NDIS provides the required buffer size in the <em>Size</em> parameter.</td>
</tr>
</tbody>
</table>

<h2 id="remarks">Remarks</h2>

<p>NDIS drivers call the
<strong>NdisGetRssProcessorInformation</strong> function to retrieve information about the receive side scaling
(RSS) processors on the local computer.</p>

<p>RSS-capable miniport drivers that support MSI-X call
<strong>NdisGetRssProcessorInformation</strong> in their
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_pnp_irp">MiniportFilterResourceRequirements</a> function. Miniport drivers set the interrupt affinity of the
allocated MSI-X messages to the RSS processors that are specified in the
<strong>RssProcessors</strong> member of the
<em>RssProcessorInfo</em> parameter.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_pnp_irp">MiniportFilterResourceRequirements</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_initialize">MiniportInitializeEx</a></p>

<p><a href="ndis_rss_processor" title="typedef struct _NDIS_RSS_PROCESSOR {&#10;  PROCESSOR_NUMBER ProcNum;&#10;  USHORT           PreferenceIndex;&#10;  USHORT           Reserved;&#10;} NDIS_RSS_PROCESSOR, *PNDIS_RSS_PROCESSOR;">NDIS_RSS_PROCESSOR</a></p>

<p><a href="ndis_rss_processor_info" title="typedef struct _NDIS_RSS_PROCESSOR_INFO {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  PROCESSOR_NUMBER   RssBaseProcessor;&#10;  ULONG              MaxNumRssProcessors;&#10;  USHORT             PreferredNumaNode;&#10;  ULONG              RssProcessorArrayOffset;&#10;  ULONG              RssProcessorCount;&#10;  ULONG              RssProcessorEntrySize;&#10;  PROCESSOR_NUMBER   RssMaxProcessor;&#10;  NDIS_RSS_PROFILE   RssProfile;&#10;} NDIS_RSS_PROCESSOR_INFO, *PNDIS_RSS_PROCESSOR_INFO;">NDIS_RSS_PROCESSOR_INFO</a></p>

<p><a href="ndisopenadapterex" title="NDIS_STATUS NdisOpenAdapterEx(&#10;  [in]  NDIS_HANDLE           NdisProtocolHandle,&#10;  [in]  NDIS_HANDLE           ProtocolBindingContext,&#10;  [in]  PNDIS_OPEN_PARAMETERS OpenParameters,&#10;  [in]  NDIS_HANDLE           BindContext,&#10;  [out] PNDIS_HANDLE          NdisBindingHandle&#10;);">NdisOpenAdapterEx</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndisgetrssprocessorinformation">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ndis/nf-ndis-ndisgetrssprocessorinformation.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
