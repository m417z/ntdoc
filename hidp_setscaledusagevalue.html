<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HidP_SetScaledUsageValue - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>HidP_SetScaledUsageValue - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            HidP_SetScaledUsageValue - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// hidpi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> HidP_SetScaledUsageValue(
  [in]      <a href="hidp_report_type" title="typedef enum _HIDP_REPORT_TYPE {&#10;  HidP_Input,&#10;  HidP_Output,&#10;  HidP_Feature&#10;} HIDP_REPORT_TYPE;">HIDP_REPORT_TYPE</a>     ReportType,
  [in]      USAGE                UsagePage,
  [in]      <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>               LinkCollection,
  [in]      USAGE                Usage,
  [in]      <a href="long" title="typedef long LONG;">LONG</a>                 UsageValue,
  [in]      PHIDP_PREPARSED_DATA PreparsedData,
  [in, out] PCHAR                Report,
  [in]      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                ReportLength
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidpi/nf-hidpi-hidp_setscaledusagevalue">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/hidp_setscaledusagevalue.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-hidpi-hidp_setscaledusagevalue)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="hidp_setscaledusagevalue-function">HidP_SetScaledUsageValue function</h1>

<h2 id="description">Description</h2>

<p>The <strong>HidP_SetScaledUsageValue</strong> routine converts a signed and scaled physical number to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-usages">HID usage's</a> logical value, and sets the usage value in a specified HID report.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="reporttype-in"><code>ReportType</code> [in]</h3>

<p>Specifies a <strong><a href="hidp_report_type" title="typedef enum _HIDP_REPORT_TYPE {&#10;  HidP_Input,&#10;  HidP_Output,&#10;  HidP_Feature&#10;} HIDP_REPORT_TYPE;">HIDP_REPORT_TYPE</a></strong> enumerator value that indicates the type of HID report located at <em>Report</em>.</p>

<h3 id="usagepage-in"><code>UsagePage</code> [in]</h3>

<p>Specifies the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-usages">usage page</a> of a usage.</p>

<h3 id="linkcollection-in"><code>LinkCollection</code> [in]</h3>

<p>Specifies the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/link-collections">link collection</a> that contains the usage. If <em>LinkCollection</em> is nonzero, the routine only sets the usage, if one exists, in this link collection. If <em>LinkCollection</em> is zero, the routine sets the first usage it finds in the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/top-level-collections">top-level collection</a> associated with <em>PreparsedData</em>.</p>

<h3 id="usage-in"><code>Usage</code> [in]</h3>

<p>Specifies the usage.</p>

<h3 id="usagevalue-in"><code>UsageValue</code> [in]</h3>

<p>Specifies the signed and scaled physical number, which the routine converts to the usage's logical value.</p>

<h3 id="preparseddata-in"><code>PreparsedData</code> [in]</h3>

<p>Pointer to a top-level's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/preparsed-data">preparsed data</a>.</p>

<h3 id="report-in-out"><code>Report</code> [in, out]</h3>

<p>Pointer to a HID report.</p>

<h3 id="reportlength-in"><code>ReportLength</code> [in]</h3>

<p>Specifies the size, in bytes, of the HID report located at <em>Report</em>, which must be equal to the report length for the specified report type that <strong><a href="hidp_getcaps" title="NTSTATUS HidP_GetCaps(&#10;  [in]  PHIDP_PREPARSED_DATA PreparsedData,&#10;  [out] PHIDP_CAPS           Capabilities&#10;);">HidP_GetCaps</a></strong> returns in a collection's <strong><a href="hidp_caps" title="typedef struct _HIDP_CAPS {&#10;  USAGE  Usage;&#10;  USAGE  UsagePage;&#10;  USHORT InputReportByteLength;&#10;  USHORT OutputReportByteLength;&#10;  USHORT FeatureReportByteLength;&#10;  USHORT Reserved[17];&#10;  USHORT NumberLinkCollectionNodes;&#10;  USHORT NumberInputButtonCaps;&#10;  USHORT NumberInputValueCaps;&#10;  USHORT NumberInputDataIndices;&#10;  USHORT NumberOutputButtonCaps;&#10;  USHORT NumberOutputValueCaps;&#10;  USHORT NumberOutputDataIndices;&#10;  USHORT NumberFeatureButtonCaps;&#10;  USHORT NumberFeatureValueCaps;&#10;  USHORT NumberFeatureDataIndices;&#10;} HIDP_CAPS, *PHIDP_CAPS;">HIDP_CAPS</a></strong> structure.</p>

<h2 id="return-value">Return value</h2>

<p><strong>HidP_SetScaledUsageValue</strong> returns one of the following status values:</p>

<table>
<thead>
<tr>
  <th>Return code</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>HIDP_STATUS_SUCCESS</strong></td>
  <td>The routine successfully set the usage value.</td>
</tr>
<tr>
  <td><strong>HIDP_STATUS_BAD_LOG_PHY_VALUES</strong></td>
  <td>The usage has an illegal logical or physical range that prevents scaling.</td>
</tr>
<tr>
  <td><strong>HIDP_STATUS_VALUE_OUT_OF_RANGE</strong></td>
  <td>The specified physical value is out-of-range and the usage does not have null value.</td>
</tr>
<tr>
  <td><strong>HIDP_STATUS_INVALID_REPORT_LENGTH</strong></td>
  <td>The report length is not valid.</td>
</tr>
<tr>
  <td><strong>HIDP_STATUS_INVALID_REPORT_TYPE</strong></td>
  <td>The specified report type is not valid.</td>
</tr>
<tr>
  <td><strong>HIDP_STATUS_INCOMPATIBLE_REPORT_ID</strong></td>
  <td>The usage does not exist in the specified report, but it does exist in a different report of the specified type.</td>
</tr>
<tr>
  <td><strong>HIDP_STATUS_INVALID_PREPARSED_DATA</strong></td>
  <td>The preparsed data is not valid.</td>
</tr>
<tr>
  <td><strong>HIDP_STATUS_USAGE_NOT_FOUND</strong></td>
  <td>The usage does not exist in any report of the specified report type.</td>
</tr>
<tr>
  <td><strong>HIDP_STATUS_NULL</strong></td>
  <td>The specified physical value is out-of-range, the usage has a null value, and the routine set the null value.</td>
</tr>
</tbody>
</table>

<h2 id="remarks">Remarks</h2>

<p>Scaled values refer to the adjusted output of raw HID data, which are modified based on specific parameters such as sensitivity and the range of the device. This adjustment allows for more meaningful interpretation of the data in relation to the device's intended use.</p>

<p>For further understanding of how HID reports are interpreted and the significance of scaled values, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/interpreting-hid-reports">Interpreting HID Reports</a>.</p>

<p><strong>HidP_SetScaledUsageValue</strong> sets the sign bit.</p>

<p>If the routine returns HIDP_STATUS_INCOMPATIBLE_REPORT_ID, the specified report does contain the usage. However, a user-mode application or kernel-mode driver can set the usage in a zero-initialized report. See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/initializing-hid-reports">Initializing HID Reports</a>.</p>

<p>For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-collections">HID Collections</a>.</p>

<h2 id="see-also">See also</h2>

<ul>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-usages">HID usages</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/link-collections">Link collections</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/top-level-collections">Top-level collections</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/preparsed-data">Preparsed data</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/interpreting-hid-reports">Interpreting HID Reports</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/initializing-hid-reports">Initializing HID Reports</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-collections">HID Collections</a></li>
<li><strong><a href="hidp_caps" title="typedef struct _HIDP_CAPS {&#10;  USAGE  Usage;&#10;  USAGE  UsagePage;&#10;  USHORT InputReportByteLength;&#10;  USHORT OutputReportByteLength;&#10;  USHORT FeatureReportByteLength;&#10;  USHORT Reserved[17];&#10;  USHORT NumberLinkCollectionNodes;&#10;  USHORT NumberInputButtonCaps;&#10;  USHORT NumberInputValueCaps;&#10;  USHORT NumberInputDataIndices;&#10;  USHORT NumberOutputButtonCaps;&#10;  USHORT NumberOutputValueCaps;&#10;  USHORT NumberOutputDataIndices;&#10;  USHORT NumberFeatureButtonCaps;&#10;  USHORT NumberFeatureValueCaps;&#10;  USHORT NumberFeatureDataIndices;&#10;} HIDP_CAPS, *PHIDP_CAPS;">HIDP_CAPS</a></strong></li>
<li><strong><a href="hidp_report_type" title="typedef enum _HIDP_REPORT_TYPE {&#10;  HidP_Input,&#10;  HidP_Output,&#10;  HidP_Feature&#10;} HIDP_REPORT_TYPE;">HIDP_REPORT_TYPE</a></strong></li>
<li><strong><a href="hidp_getcaps" title="NTSTATUS HidP_GetCaps(&#10;  [in]  PHIDP_PREPARSED_DATA PreparsedData,&#10;  [out] PHIDP_CAPS           Capabilities&#10;);">HidP_GetCaps</a></strong></li>
<li><strong><a href="hidp_setusagevalue" title="NTSTATUS HidP_SetUsageValue(&#10;  [in]      HIDP_REPORT_TYPE     ReportType,&#10;  [in]      USAGE                UsagePage,&#10;  [in]      USHORT               LinkCollection,&#10;  [in]      USAGE                Usage,&#10;  [in]      ULONG                UsageValue,&#10;  [in]      PHIDP_PREPARSED_DATA PreparsedData,&#10;  [in, out] PCHAR                Report,&#10;  [in]      ULONG                ReportLength&#10;);">HidP_SetUsageValue</a></strong></li>
<li><strong><a href="hidp_setusagevaluearray" title="NTSTATUS HidP_SetUsageValueArray(&#10;  [in]      HIDP_REPORT_TYPE     ReportType,&#10;  [in]      USAGE                UsagePage,&#10;  [in]      USHORT               LinkCollection,&#10;  [in]      USAGE                Usage,&#10;  [in]      PCHAR                UsageValue,&#10;  [in]      USHORT               UsageValueByteLength,&#10;  [in]      PHIDP_PREPARSED_DATA PreparsedData,&#10;  [in, out] PCHAR                Report,&#10;  [in]      ULONG                ReportLength&#10;);">HidP_SetUsageValueArray</a></strong></li>
<li><strong><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidsdi/nf-hidsdi-hidd_getpreparseddata">_HIDP_PREPARSED_DATA</a></strong></li>
</ul>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidpi/nf-hidpi-hidp_setscaledusagevalue">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/hidpi/nf-hidpi-hidp_setscaledusagevalue.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
