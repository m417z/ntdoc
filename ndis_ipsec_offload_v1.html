<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_IPSEC_OFFLOAD_V1 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_IPSEC_OFFLOAD_V1 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_IPSEC_OFFLOAD_V1 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// ntddndis.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef struct _NDIS_IPSEC_OFFLOAD_V1 {
  struct {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Encapsulation;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> AhEspCombined;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TransportTunnelCombined;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> IPv4Options;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Flags;
  } Supported;
  struct {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Md5 : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Sha_1 : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Transport : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Tunnel : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Send : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Receive : 2;
  } IPv4AH;
  struct {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Des : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> TripleDes : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NullEsp : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Transport : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Tunnel : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Send : 2;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Receive : 2;
  } IPv4ESP;
} NDIS_IPSEC_OFFLOAD_V1, *PNDIS_IPSEC_OFFLOAD_V1;</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_ipsec_offload_v1">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_ipsec_offload_v1.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddndis-_ndis_ipsec_offload_v1)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_NDIS_IPSEC_OFFLOAD_V1 structure</h1>
<h2>Description</h2>
<p>The <strong>NDIS_IPSEC_OFFLOAD_V1</strong> structure provides Internet protocol security (IPsec) task offload
information in the
<a href="ndis_offload" title="typedef struct _NDIS_OFFLOAD {&#10;  NDIS_OBJECT_HEADER                       Header;&#10;  NDIS_TCP_IP_CHECKSUM_OFFLOAD             Checksum;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V1           LsoV1;&#10;  NDIS_IPSEC_OFFLOAD_V1                    IPsecV1;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V2           LsoV2;&#10;  ULONG                                    Flags;&#10;  NDIS_IPSEC_OFFLOAD_V2                    IPsecV2;&#10;  NDIS_TCP_RECV_SEG_COALESCE_OFFLOAD       Rsc;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD    EncapsulatedPacketTaskOffloadGre;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD_V2 EncapsulatedPacketTaskOffloadVxlan;&#10;  UCHAR                                    EncapsulationTypes;&#10;  NDIS_RFC6877_464XLAT_OFFLOAD             Rfc6877Xlat;&#10;  NDIS_UDP_SEGMENTATION_OFFLOAD            UdpSegmentation;&#10;  NDIS_UDP_RSC_OFFLOAD                     UdpRsc;&#10;} NDIS_OFFLOAD, *PNDIS_OFFLOAD;">NDIS_OFFLOAD</a> structure.</p>
<p><strong>Note</strong> <strong>NDIS_IPSEC_OFFLOAD_V1</strong> is only for NDIS 6.0. For NDIS 6.1 and later, use <a href="ndis_ipsec_offload_v2" title="typedef struct _NDIS_IPSEC_OFFLOAD_V2 {&#10;  ULONG   Encapsulation;&#10;  BOOLEAN IPv6Supported;&#10;  BOOLEAN IPv4Options;&#10;  BOOLEAN IPv6NonIPsecExtensionHeaders;&#10;  BOOLEAN Ah;&#10;  BOOLEAN Esp;&#10;  BOOLEAN AhEspCombined;&#10;  BOOLEAN Transport;&#10;  BOOLEAN Tunnel;&#10;  BOOLEAN TransportTunnelCombined;&#10;  BOOLEAN LsoSupported;&#10;  BOOLEAN ExtendedSequenceNumbers;&#10;  ULONG   UdpEsp;&#10;  ULONG   AuthenticationAlgorithms;&#10;  ULONG   EncryptionAlgorithms;&#10;  ULONG   SaOffloadCapacity;&#10;} NDIS_IPSEC_OFFLOAD_V2, *PNDIS_IPSEC_OFFLOAD_V2;">NDIS_IPSEC_OFFLOAD_V2</a>.</p>
<h2>Members</h2>
<h3><code>Supported</code></h3>
<p>A structure within NDIS_IPSEC_OFFLOAD_V1 that specifies support for IPsec task offload and that
contains the following information:</p>
<h3><code>Supported.Encapsulation</code></h3>
<p>Encapsulation settings for IPsec. For more information about this member, see the following
Remarks section.</p>
<h3><code>Supported.AhEspCombined</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the hardware can perform IPsec
operations on send and receive packets that contain both an authentication header (AH) security
payload and an encapsulating security payload (ESP). A value of zero in
<strong>AhEspCombined</strong> indicates that the NIC does not support this capability.</p>
<h3><code>Supported.TransportTunnelCombined</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can process security payloads
for both the transport-mode portion and the tunnel-mode portion of send and receive packets. (The
transport-mode portion of a packet pertains to an end-to-end connection. The tunnel-mode portion of a
packet pertains to a tunnel connection.) A value of zero in
<strong>TransportTunnelCombined</strong> indicates that the NIC does not support this capability.</p>
<h3><code>Supported.IPv4Options</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can perform IPsec operations
on IPv4 send and receive packets whose IP headers contain IP options. A value of zero in
<strong>IPv4Options</strong> indicates that the NIC does not support this capability.</p>
<h3><code>Supported.Flags</code></h3>
<p>The types of UDP-encapsulated ESP data packets that the NIC can parse. For a description of the
UDP-encapsulation types, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/udp-esp-encapsulation-types">UDP-ESP Encapsulation Types</a>.
This member can be one or more of the following flags:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>IPSEC_TPT_UDPESP_ENCAPTYPE_IKE</strong></td>
<td>Reserved for internal use.</td>
</tr>
<tr>
<td><strong>IPSEC_TUN_UDPESP_ENCAPTYPE_IKE</strong></td>
<td>Reserved for internal use.</td>
</tr>
<tr>
<td><strong>IPSEC_TPTOVERTUN_UDPESP_ENCAPTYPE_IKE</strong></td>
<td>Reserved for internal use.</td>
</tr>
<tr>
<td><strong>IPSEC_TPT_UDPESP_OVER_PURE_TUN_ENCAPTYPE_IKE</strong></td>
<td>Reserved for internal use.</td>
</tr>
<tr>
<td><strong>IPSEC_TPT_UDPESP_ENCAPTYPE_OTHER</strong></td>
<td>When this flag is set, the NIC can parse UDP-encapsulated transport-mode packets.<br /><br />When this flag is cleared, the NIC cannot parse UDP-encapsulated transport-mode packets.</td>
</tr>
<tr>
<td><strong>IPSEC_TUN_UDPESP_ENCAPTYPE_OTHER</strong></td>
<td>When this flag set, the NIC can parse UDP-encapsulated tunnel-mode packets.<br /><br />When this flag is cleared, the NIC does not have this capability.</td>
</tr>
<tr>
<td><strong>IPSEC_TPTOVERTUN_UDPESP_ENCAPTYPE_OTHER</strong></td>
<td>When this flag is set, the NIC can parse transport over UDP-encapsulated tunnel-mode packets.<br /><br />When this flag is cleared, the NIC does not have this capability.</td>
</tr>
<tr>
<td><strong>IPSEC_TPT_UDPESP_OVER_PURE_TUN_ENCAPTYPE_OTHER</strong></td>
<td>When this flag is set, the NIC can parse UDP-encapsulated transport over tunnel-mode packets.<br /><br />When this flag is cleared, the NIC does not have this capability.</td>
</tr>
</tbody>
</table>
<p>A miniport driver whose NIC is incapable of parsing UDP-encapsulated ESP packets must not set any
flags in the
<strong>Flags</strong> member.</p>
<h3><code>IPv4AH</code></h3>
<p>A structure within NDIS_IPSEC_OFFLOAD_V1 that specifies support for AH payloads and that contains
the following information:</p>
<h3><code>IPv4AH.Md5</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can use the keyed MD5
algorithm for computing or validating a cryptographic checksum for an AH payload, ESP payload, or
both.</p>
<h3><code>IPv4AH.Sha_1</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can use the SHA 1 algorithm
for computing or validating a cryptographic checksum for an AH payload, ESP payload, or both.</p>
<h3><code>IPv4AH.Transport</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can calculate or validate the
cryptographic checksums for the portion of a packet that pertains to an end-to-end connection.</p>
<h3><code>IPv4AH.Tunnel</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can calculate or validate
cryptographic checksums for the portion of a packet that pertains to a tunnel connection.</p>
<h3><code>IPv4AH.Send</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can calculate cryptographic
checksums for send packets.</p>
<h3><code>IPv4AH.Receive</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can validate cryptographic
checksums for receive packets.</p>
<h3><code>IPv4ESP</code></h3>
<p>A structure within NDIS_IPSEC_OFFLOAD_V1 that specifies support for ESP payloads and that contains
the following information:</p>
<h3><code>IPv4ESP.Des</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC supports the DES algorithm
for encrypting and decrypting ESP payloads.</p>
<h3><code>IPv4ESP.Reserved</code></h3>
<p>This member is reserved.</p>
<h3><code>IPv4ESP.TripleDes</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC supports the triple-DES
algorithm for encrypting and decrypting ESP payloads.</p>
<h3><code>IPv4ESP.NullEsp</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC supports null
encryption--that is, the ESP payload without encryption but with authentication information.</p>
<h3><code>IPv4ESP.Transport</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can encrypt and decrypt ESP
data for the portion of a packet that pertains to an end-to-end connection.</p>
<h3><code>IPv4ESP.Tunnel</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can encrypt and decrypt ESP
data for the portion of a packet that pertains to a tunnel connection.</p>
<h3><code>IPv4ESP.Send</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can encrypt and decrypt ESP
payloads in send packets.</p>
<h3><code>IPv4ESP.Receive</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that a miniport driver sets to indicate that the NIC can encrypt and decrypt ESP
payloads in receive packets.</p>
<h2>Remarks</h2>
<p>The <strong>NDIS_IPSEC_OFFLOAD_V1</strong> structure is used in the
<strong>IPsecV1</strong> member of the
<a href="ndis_offload" title="typedef struct _NDIS_OFFLOAD {&#10;  NDIS_OBJECT_HEADER                       Header;&#10;  NDIS_TCP_IP_CHECKSUM_OFFLOAD             Checksum;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V1           LsoV1;&#10;  NDIS_IPSEC_OFFLOAD_V1                    IPsecV1;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V2           LsoV2;&#10;  ULONG                                    Flags;&#10;  NDIS_IPSEC_OFFLOAD_V2                    IPsecV2;&#10;  NDIS_TCP_RECV_SEG_COALESCE_OFFLOAD       Rsc;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD    EncapsulatedPacketTaskOffloadGre;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD_V2 EncapsulatedPacketTaskOffloadVxlan;&#10;  UCHAR                                    EncapsulationTypes;&#10;  NDIS_RFC6877_464XLAT_OFFLOAD             Rfc6877Xlat;&#10;  NDIS_UDP_SEGMENTATION_OFFLOAD            UdpSegmentation;&#10;  NDIS_UDP_RSC_OFFLOAD                     UdpRsc;&#10;} NDIS_OFFLOAD, *PNDIS_OFFLOAD;">NDIS_OFFLOAD</a> structure. The
NDIS_IPSEC_OFFLOAD_V1 structure specifies the current or supported services that a miniport adapter
provides for Internet protocol security (IPsec).</p>
<p><a href="ndis_offload" title="typedef struct _NDIS_OFFLOAD {&#10;  NDIS_OBJECT_HEADER                       Header;&#10;  NDIS_TCP_IP_CHECKSUM_OFFLOAD             Checksum;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V1           LsoV1;&#10;  NDIS_IPSEC_OFFLOAD_V1                    IPsecV1;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V2           LsoV2;&#10;  ULONG                                    Flags;&#10;  NDIS_IPSEC_OFFLOAD_V2                    IPsecV2;&#10;  NDIS_TCP_RECV_SEG_COALESCE_OFFLOAD       Rsc;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD    EncapsulatedPacketTaskOffloadGre;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD_V2 EncapsulatedPacketTaskOffloadVxlan;&#10;  UCHAR                                    EncapsulationTypes;&#10;  NDIS_RFC6877_464XLAT_OFFLOAD             Rfc6877Xlat;&#10;  NDIS_UDP_SEGMENTATION_OFFLOAD            UdpSegmentation;&#10;  NDIS_UDP_RSC_OFFLOAD                     UdpRsc;&#10;} NDIS_OFFLOAD, *PNDIS_OFFLOAD;">NDIS_OFFLOAD</a> is used in the
<a href="ndis_miniport_adapter_offload_attributes" title="typedef struct _NDIS_MINIPORT_ADAPTER_OFFLOAD_ATTRIBUTES {&#10;  NDIS_OBJECT_HEADER           Header;&#10;  PNDIS_OFFLOAD                DefaultOffloadConfiguration;&#10;  PNDIS_OFFLOAD                HardwareOffloadCapabilities;&#10;  PNDIS_TCP_CONNECTION_OFFLOAD DefaultTcpConnectionOffloadConfiguration;&#10;  PNDIS_TCP_CONNECTION_OFFLOAD TcpConnectionOffloadHardwareCapabilities;&#10;} NDIS_MINIPORT_ADAPTER_OFFLOAD_ATTRIBUTES, *PNDIS_MINIPORT_ADAPTER_OFFLOAD_ATTRIBUTES;">NDIS_MINIPORT_ADAPTER_OFFLOAD_ATTRIBUTES</a> structure,
<a href="ndis_bind_parameters" title="typedef struct _NDIS_BIND_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_STRING                      ProtocolSection;&#10;  PNDIS_STRING                      AdapterName;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  NDIS_MEDIUM                       MediaType;&#10;  ULONG                             MtuSize;&#10;  ULONG64                           MaxXmitLinkSpeed;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           MaxRcvLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NDIS_MEDIA_DUPLEX_STATE           MediaDuplexState;&#10;  ULONG                             LookaheadSize;&#10;  PNDIS_PNP_CAPABILITIES            PowerManagementCapabilities;&#10;  ULONG                             SupportedPacketFilters;&#10;  ULONG                             MaxMulticastListSize;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NDIS_PHYSICAL_MEDIUM              PhysicalMediumType;&#10;...">NDIS_BIND_PARAMETERS</a> structure,
<a href="ndis_filter_attach_parameters" title="typedef struct _NDIS_FILTER_ATTACH_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  NET_IFINDEX                       IfIndex;&#10;  NET_LUID                          NetLuid;&#10;  PNDIS_STRING                      FilterModuleGuidName;&#10;  NET_IFINDEX                       BaseMiniportIfIndex;&#10;  PNDIS_STRING                      BaseMiniportInstanceName;&#10;  PNDIS_STRING                      BaseMiniportName;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NET_IF_MEDIA_DUPLEX_STATE         MediaDuplexState;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIUM                       MiniportMediaType;&#10;  NDIS_PHYSICAL_MEDIUM              MiniportPhysicalMediaType;&#10;  NDIS_HANDLE                       MiniportMediaSpecificAttributes;&#10;  PNDIS_OFFLOAD                     DefaultOffloadConfiguration;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NET_LUID                          BaseMiniportNetLuid;&#10;  NET_IFINDEX                       LowerIfIndex;&#10;...">NDIS_FILTER_ATTACH_PARAMETERS</a> structure,
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-tcp-offload-current-config">OID_TCP_OFFLOAD_CURRENT_CONFIG</a> OID, and the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/ndis-status-task-offload-current-config">NDIS_STATUS_TASK_OFFLOAD_CURRENT_CONFIG</a> status indication.</p>
<p>For
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-tcp-offload-current-config">OID_TCP_OFFLOAD_CURRENT_CONFIG</a>,
the <a href="ndis_offload" title="typedef struct _NDIS_OFFLOAD {&#10;  NDIS_OBJECT_HEADER                       Header;&#10;  NDIS_TCP_IP_CHECKSUM_OFFLOAD             Checksum;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V1           LsoV1;&#10;  NDIS_IPSEC_OFFLOAD_V1                    IPsecV1;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V2           LsoV2;&#10;  ULONG                                    Flags;&#10;  NDIS_IPSEC_OFFLOAD_V2                    IPsecV2;&#10;  NDIS_TCP_RECV_SEG_COALESCE_OFFLOAD       Rsc;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD    EncapsulatedPacketTaskOffloadGre;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD_V2 EncapsulatedPacketTaskOffloadVxlan;&#10;  UCHAR                                    EncapsulationTypes;&#10;  NDIS_RFC6877_464XLAT_OFFLOAD             Rfc6877Xlat;&#10;  NDIS_UDP_SEGMENTATION_OFFLOAD            UdpSegmentation;&#10;  NDIS_UDP_RSC_OFFLOAD                     UdpRsc;&#10;} NDIS_OFFLOAD, *PNDIS_OFFLOAD;">NDIS_OFFLOAD</a> structure specifies the task offload capabilities that a miniport adapter supports. If
the current offloads capabilities change, a miniport driver reports the new capabilities in an
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/ndis-status-task-offload-current-config">NDIS_STATUS_TASK_OFFLOAD_CURRENT_CONFIG</a> status indication.</p>
<p>The
<strong>Encapsulation</strong> member of <strong>NDIS_IPSEC_OFFLOAD_V1</strong> defines the IPsec offload encapsulation settings for
the miniport adapter.</p>
<p>In response to an
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-tcp-offload-current-config">OID_TCP_OFFLOAD_CURRENT_CONFIG</a> query request, NDIS provides a bitwise OR of the encapsulation
flags, which indicate the supported encapsulation settings, in the
<strong>Encapsulation</strong> member. Miniport drivers must provide Ethernet encapsulation
(NDIS_ENCAPSULATION_IEEE_802_3). The other types of encapsulation are optional.</p>
<p>For an
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/ndis-status-task-offload-current-config">NDIS_STATUS_TASK_OFFLOAD_CURRENT_CONFIG</a> status indication, the miniport driver provides a bitwise
OR of the encapsulation flags, which indicate the current capabilities, in the
<strong>Encapsulation</strong> member.</p>
<p>The following flags are defined for the
<strong>Encapsulation</strong> member:</p>
<h2>See also</h2>
<p><a href="ndis_bind_parameters" title="typedef struct _NDIS_BIND_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_STRING                      ProtocolSection;&#10;  PNDIS_STRING                      AdapterName;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  NDIS_MEDIUM                       MediaType;&#10;  ULONG                             MtuSize;&#10;  ULONG64                           MaxXmitLinkSpeed;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           MaxRcvLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NDIS_MEDIA_DUPLEX_STATE           MediaDuplexState;&#10;  ULONG                             LookaheadSize;&#10;  PNDIS_PNP_CAPABILITIES            PowerManagementCapabilities;&#10;  ULONG                             SupportedPacketFilters;&#10;  ULONG                             MaxMulticastListSize;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NDIS_PHYSICAL_MEDIUM              PhysicalMediumType;&#10;...">NDIS_BIND_PARAMETERS</a></p>
<p><a href="ndis_filter_attach_parameters" title="typedef struct _NDIS_FILTER_ATTACH_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  NET_IFINDEX                       IfIndex;&#10;  NET_LUID                          NetLuid;&#10;  PNDIS_STRING                      FilterModuleGuidName;&#10;  NET_IFINDEX                       BaseMiniportIfIndex;&#10;  PNDIS_STRING                      BaseMiniportInstanceName;&#10;  PNDIS_STRING                      BaseMiniportName;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NET_IF_MEDIA_DUPLEX_STATE         MediaDuplexState;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIUM                       MiniportMediaType;&#10;  NDIS_PHYSICAL_MEDIUM              MiniportPhysicalMediaType;&#10;  NDIS_HANDLE                       MiniportMediaSpecificAttributes;&#10;  PNDIS_OFFLOAD                     DefaultOffloadConfiguration;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NET_LUID                          BaseMiniportNetLuid;&#10;  NET_IFINDEX                       LowerIfIndex;&#10;...">NDIS_FILTER_ATTACH_PARAMETERS</a></p>
<p><a href="ndis_ipsec_offload_v2" title="typedef struct _NDIS_IPSEC_OFFLOAD_V2 {&#10;  ULONG   Encapsulation;&#10;  BOOLEAN IPv6Supported;&#10;  BOOLEAN IPv4Options;&#10;  BOOLEAN IPv6NonIPsecExtensionHeaders;&#10;  BOOLEAN Ah;&#10;  BOOLEAN Esp;&#10;  BOOLEAN AhEspCombined;&#10;  BOOLEAN Transport;&#10;  BOOLEAN Tunnel;&#10;  BOOLEAN TransportTunnelCombined;&#10;  BOOLEAN LsoSupported;&#10;  BOOLEAN ExtendedSequenceNumbers;&#10;  ULONG   UdpEsp;&#10;  ULONG   AuthenticationAlgorithms;&#10;  ULONG   EncryptionAlgorithms;&#10;  ULONG   SaOffloadCapacity;&#10;} NDIS_IPSEC_OFFLOAD_V2, *PNDIS_IPSEC_OFFLOAD_V2;">NDIS_IPSEC_OFFLOAD_V2</a></p>
<p><a href="ndis_miniport_adapter_offload_attributes" title="typedef struct _NDIS_MINIPORT_ADAPTER_OFFLOAD_ATTRIBUTES {&#10;  NDIS_OBJECT_HEADER           Header;&#10;  PNDIS_OFFLOAD                DefaultOffloadConfiguration;&#10;  PNDIS_OFFLOAD                HardwareOffloadCapabilities;&#10;  PNDIS_TCP_CONNECTION_OFFLOAD DefaultTcpConnectionOffloadConfiguration;&#10;  PNDIS_TCP_CONNECTION_OFFLOAD TcpConnectionOffloadHardwareCapabilities;&#10;} NDIS_MINIPORT_ADAPTER_OFFLOAD_ATTRIBUTES, *PNDIS_MINIPORT_ADAPTER_OFFLOAD_ATTRIBUTES;">NDIS_MINIPORT_ADAPTER_OFFLOAD_ATTRIBUTES</a></p>
<p><a href="ndis_offload" title="typedef struct _NDIS_OFFLOAD {&#10;  NDIS_OBJECT_HEADER                       Header;&#10;  NDIS_TCP_IP_CHECKSUM_OFFLOAD             Checksum;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V1           LsoV1;&#10;  NDIS_IPSEC_OFFLOAD_V1                    IPsecV1;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V2           LsoV2;&#10;  ULONG                                    Flags;&#10;  NDIS_IPSEC_OFFLOAD_V2                    IPsecV2;&#10;  NDIS_TCP_RECV_SEG_COALESCE_OFFLOAD       Rsc;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD    EncapsulatedPacketTaskOffloadGre;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD_V2 EncapsulatedPacketTaskOffloadVxlan;&#10;  UCHAR                                    EncapsulationTypes;&#10;  NDIS_RFC6877_464XLAT_OFFLOAD             Rfc6877Xlat;&#10;  NDIS_UDP_SEGMENTATION_OFFLOAD            UdpSegmentation;&#10;  NDIS_UDP_RSC_OFFLOAD                     UdpRsc;&#10;} NDIS_OFFLOAD, *PNDIS_OFFLOAD;">NDIS_OFFLOAD</a></p>
<p><a href="ndis_oid_request" title="typedef struct _NDIS_OID_REQUEST {&#10;  NDIS_OBJECT_HEADER       Header;&#10;  NDIS_REQUEST_TYPE        RequestType;&#10;  NDIS_PORT_NUMBER         PortNumber;&#10;  UINT                     Timeout;&#10;  PVOID                    RequestId;&#10;  NDIS_HANDLE              RequestHandle;&#10;  union {&#10;    NDIS_OID Oid;&#10;    struct {&#10;      NDIS_OID Oid;&#10;      PVOID    InformationBuffer;&#10;      UINT     InformationBufferLength;&#10;      UINT     BytesWritten;&#10;      UINT     BytesNeeded;&#10;    } QUERY_INFORMATION;&#10;    struct {&#10;      NDIS_OID Oid;&#10;      PVOID    InformationBuffer;&#10;      UINT     InformationBufferLength;&#10;...">NDIS_OID_REQUEST</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/ndis-status-task-offload-current-config">NDIS_STATUS_TASK_OFFLOAD_CURRENT_CONFIG</a></p>
<p><a href="net_buffer_list" title="typedef struct _NET_BUFFER_LIST {&#10;  union {&#10;    struct {&#10;      NET_BUFFER_LIST *Next;&#10;      NET_BUFFER      *FirstNetBuffer;&#10;    };&#10;    SLIST_HEADER           Link;&#10;    NET_BUFFER_LIST_HEADER NetBufferListHeader;&#10;  };&#10;  NET_BUFFER_LIST_CONTEXT *Context;&#10;  NET_BUFFER_LIST         *ParentNetBufferList;&#10;  NDIS_HANDLE             NdisPoolHandle;&#10;  PVOID                   NdisReserved[2];&#10;  PVOID                   ProtocolReserved[4];&#10;  PVOID                   MiniportReserved[2];&#10;  PVOID                   Scratch;&#10;  NDIS_HANDLE             SourceHandle;&#10;  ULONG                   NblFlags;&#10;  LONG                    ChildRefCount;&#10;  ULONG                   Flags;&#10;...">NET_BUFFER_LIST</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-tcp-offload-current-config">OID_TCP_OFFLOAD_CURRENT_CONFIG</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_ipsec_offload_v1">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddndis/ns-ntddndis-_ndis_ipsec_offload_v1.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
