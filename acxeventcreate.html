<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="AcxEventCreate - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>AcxEventCreate - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            AcxEventCreate - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// acxevents.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> AcxEventCreate(
  ACXOBJECT              Object,
  <a href="wdf_object_attributes" title="typedef struct _WDF_OBJECT_ATTRIBUTES {&#10;  ULONG                          Size;&#10;  PFN_WDF_OBJECT_CONTEXT_CLEANUP EvtCleanupCallback;&#10;  PFN_WDF_OBJECT_CONTEXT_DESTROY EvtDestroyCallback;&#10;  WDF_EXECUTION_LEVEL            ExecutionLevel;&#10;  WDF_SYNCHRONIZATION_SCOPE      SynchronizationScope;&#10;  WDFOBJECT                      ParentObject;&#10;  size_t                         ContextSizeOverride;&#10;  PCWDF_OBJECT_CONTEXT_TYPE_INFO ContextTypeInfo;&#10;} WDF_OBJECT_ATTRIBUTES, *PWDF_OBJECT_ATTRIBUTES;">PWDF_OBJECT_ATTRIBUTES</a> Attributes,
  <a href="acx_event_config" title="typedef struct _ACX_EVENT_CONFIG {&#10;  ULONG                Size;&#10;  ULONG                Flags;&#10;  const GUID           *Set;&#10;  ULONG                Id;&#10;  ULONG                Type;&#10;  PACX_EVENT_CALLBACKS Callbacks;&#10;} ACX_EVENT_CONFIG, *PACX_EVENT_CONFIG;">PACX_EVENT_CONFIG</a>      Config,
  ACXEVENT               *Event
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acxevents/nf-acxevents-acxeventcreate">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/acxeventcreate.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-acxevents-acxeventcreate)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The <strong>AcxEventCreate</strong> function creates an ACX event.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="object"><code>Object</code></h3>

<p>An ACXOBJECT that is described in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/audio/acx-summary-of-objects">Summary of ACX Objects</a>.</p>

<h3 id="attributes"><code>Attributes</code></h3>

<p>Additional Attributes defined using a <a href="wdf_object_attributes" title="typedef struct _WDF_OBJECT_ATTRIBUTES {&#10;  ULONG                          Size;&#10;  PFN_WDF_OBJECT_CONTEXT_CLEANUP EvtCleanupCallback;&#10;  PFN_WDF_OBJECT_CONTEXT_DESTROY EvtDestroyCallback;&#10;  WDF_EXECUTION_LEVEL            ExecutionLevel;&#10;  WDF_SYNCHRONIZATION_SCOPE      SynchronizationScope;&#10;  WDFOBJECT                      ParentObject;&#10;  size_t                         ContextSizeOverride;&#10;  PCWDF_OBJECT_CONTEXT_TYPE_INFO ContextTypeInfo;&#10;} WDF_OBJECT_ATTRIBUTES, *PWDF_OBJECT_ATTRIBUTES;">WDF_OBJECT_ATTRIBUTES</a> that are used to set the various object's values: cleanup and destroy callbacks, context type, and to specify its parent object.</p>

<h3 id="config"><code>Config</code></h3>

<p>An <a href="acx_event_config" title="typedef struct _ACX_EVENT_CONFIG {&#10;  ULONG                Size;&#10;  ULONG                Flags;&#10;  const GUID           *Set;&#10;  ULONG                Id;&#10;  ULONG                Type;&#10;  PACX_EVENT_CALLBACKS Callbacks;&#10;} ACX_EVENT_CONFIG, *PACX_EVENT_CONFIG;">ACX_EVENT_CONFIG</a> structure that defines the ACX event configuration.</p>

<h3 id="event"><code>Event</code></h3>

<p>The newly created ACXEVENT object (described in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/audio/acx-summary-of-objects">Summary of ACX Objects</a>).</p>

<h2 id="return-value">Return value</h2>

<p>Returns <code><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></code> if the call was successful. Otherwise, it returns an appropriate error code. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-ntstatus-values">Using NTSTATUS Values</a>.</p>

<h2 id="remarks">Remarks</h2>

<p>An ACXEVENT represents an asynchronous notification available at the driver level. Events can be added to ACXCIRCUITs, ACXSTREAMs, ACXELEMENTs and ACXPINs. Internally they are exposed as KS Events to upper layers. For more information about KS Events, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/stream/ks-events">KS Events</a>.</p>

<h3 id="example">Example</h3>

<p>This example code snip, shows how ACX uses AcxEventCreate to create an audio jack change event.</p>

<div class="codehilite">
<pre><span></span><code><span class="w">    </span><span class="n"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a></span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n"><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></span><span class="p">;</span>

<span class="w">    </span><span class="n">PAGED_CODE</span><span class="p">();</span>

<span class="w">    </span><span class="n"><a href="acx_event_callbacks" title="typedef struct _ACX_EVENT_CALLBACKS {&#10;  ULONG                                Size;&#10;  PFN_ACX_EVENT_ENABLE                 EvtAcxEventEnable;&#10;  PFN_ACX_EVENT_DISABLE                EvtAcxEventDisable;&#10;  PFN_ACX_OBJECT_PROCESS_EVENT_REQUEST EvtAcxEventProcessRequest;&#10;} ACX_EVENT_CALLBACKS, *PACX_EVENT_CALLBACKS;">ACX_EVENT_CALLBACKS</a></span><span class="w">         </span><span class="n">eventCallbacks</span><span class="p">;</span>
<span class="w">    </span><span class="n"><a href="acx_event_config" title="typedef struct _ACX_EVENT_CONFIG {&#10;  ULONG                Size;&#10;  ULONG                Flags;&#10;  const GUID           *Set;&#10;  ULONG                Id;&#10;  ULONG                Type;&#10;  PACX_EVENT_CALLBACKS Callbacks;&#10;} ACX_EVENT_CONFIG, *PACX_EVENT_CONFIG;">ACX_EVENT_CONFIG</a></span><span class="w">            </span><span class="n">eventCfg</span><span class="p">;</span>
<span class="w">    </span><span class="n">AFX_PIN_EVENT_CONTEXT</span><span class="w">       </span><span class="o">*</span><span class="n">eventCtx</span><span class="p">;</span>
<span class="w">    </span><span class="n">ACXEVENT</span><span class="w">                    </span><span class="n">jackEvent</span><span class="p">;</span>
<span class="w">    </span><span class="n"><a href="wdf_object_attributes" title="typedef struct _WDF_OBJECT_ATTRIBUTES {&#10;  ULONG                          Size;&#10;  PFN_WDF_OBJECT_CONTEXT_CLEANUP EvtCleanupCallback;&#10;  PFN_WDF_OBJECT_CONTEXT_DESTROY EvtDestroyCallback;&#10;  WDF_EXECUTION_LEVEL            ExecutionLevel;&#10;  WDF_SYNCHRONIZATION_SCOPE      SynchronizationScope;&#10;  WDFOBJECT                      ParentObject;&#10;  size_t                         ContextSizeOverride;&#10;  PCWDF_OBJECT_CONTEXT_TYPE_INFO ContextTypeInfo;&#10;} WDF_OBJECT_ATTRIBUTES, *PWDF_OBJECT_ATTRIBUTES;">WDF_OBJECT_ATTRIBUTES</a></span><span class="w">       </span><span class="n">attributes</span><span class="p">;</span>

<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// Add jack info change event to this jack object</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="n"><a href="acx_event_callbacks_init" title="VOID ACX_EVENT_CALLBACKS_INIT(&#10;  PACX_EVENT_CALLBACKS Callbacks&#10;);">ACX_EVENT_CALLBACKS_INIT</a></span><span class="p">(</span><span class="o">&amp;</span><span class="n">eventCallbacks</span><span class="p">);</span>
<span class="w">    </span><span class="n">eventCallbacks</span><span class="p">.</span><span class="n">EvtAcxEventEnable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">AfxPin</span><span class="o">::</span><span class="n">EvtJackEventEnableCallback</span><span class="p">;</span>
<span class="w">    </span><span class="n">eventCallbacks</span><span class="p">.</span><span class="n">EvtAcxEventDisable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">AfxPin</span><span class="o">::</span><span class="n">EvtJackEventDisableCallback</span><span class="p">;</span>

<span class="w">    </span><span class="n"><a href="acx_event_config_init" title="VOID ACX_EVENT_CONFIG_INIT(&#10;  PACX_EVENT_CONFIG Config&#10;);">ACX_EVENT_CONFIG_INIT</a></span><span class="p">(</span><span class="o">&amp;</span><span class="n">eventCfg</span><span class="p">);</span>
<span class="w">    </span><span class="n">eventCfg</span><span class="p">.</span><span class="n">Set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">KSEVENTSETID_PinCapsChange</span><span class="p">;</span>
<span class="w">    </span><span class="n">eventCfg</span><span class="p">.</span><span class="n">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">KSEVENT_PINCAPS_JACKINFOCHANGE</span><span class="p">;</span>
<span class="w">    </span><span class="n">eventCfg</span><span class="p">.</span><span class="n">Callbacks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">eventCallbacks</span><span class="p">;</span>

<span class="w">    </span><span class="n"><a href="wdf_object_attributes_init_context_type" title="void WDF_OBJECT_ATTRIBUTES_INIT_CONTEXT_TYPE(&#10;    _attributes,&#10;    _contexttype&#10;);">WDF_OBJECT_ATTRIBUTES_INIT_CONTEXT_TYPE</a></span><span class="p">(</span><span class="o">&amp;</span><span class="n">attributes</span><span class="p">,</span><span class="w"> </span><span class="n">AFX_PIN_EVENT_CONTEXT</span><span class="p">);</span>
<span class="w">    </span><span class="n">attributes</span><span class="p">.</span><span class="n">ParentObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetObjectHandle</span><span class="p">();</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AcxEventCreate</span><span class="p">(</span><span class="n">GetObjectHandle</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">attributes</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">eventCfg</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">jackEvent</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="acx-requirements">ACX requirements</h3>

<p><strong>Minimum ACX version:</strong> 1.0</p>

<p>For more information about ACX versions, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/audio/acx-version-overview">ACX version overview</a>.</p>

<h2 id="see-also">See also</h2>

<ul>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acxevents/">acxevents.h header</a></li>
</ul>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acxevents/nf-acxevents-acxeventcreate">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/acxevents/nf-acxevents-acxeventcreate.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
