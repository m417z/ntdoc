<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NV_FEATURE_PARAMETER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NV_FEATURE_PARAMETER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NV_FEATURE_PARAMETER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddscsi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NV_FEATURE_PARAMETER {
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NVPowerModeEnabled;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NVParameterReserv1;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NVCmdEnabled;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NVParameterReserv2;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NVPowerModeVer;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NVCmdVer;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  NVSize;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NVReadSpeed;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NVWrtSpeed;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  DeviceSpinUpTime;
} NV_FEATURE_PARAMETER, *PNV_FEATURE_PARAMETER;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddscsi/ns-ntddscsi-_nv_feature_parameter">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/nv_feature_parameter.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddscsi-_nv_feature_parameter)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="nv_feature_parameter-structure">NV_FEATURE_PARAMETER structure</h1>

<h2 id="description">Description</h2>

<p>The NV_FEATURE_PARAMETER structure is used in conjunction with the <strong><a href="ioctl_scsi_miniport_nvcache" title="// CTL_CODE(0x001b, 0x180, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_SCSI_MINIPORT_NVCACHE 0x001B0600">IOCTL_SCSI_MINIPORT_NVCACHE</a></strong> request to get NV Cache Manager feature support information from the device. The NV Cache Manager feature parameters structure is returned by the miniport driver upon the successful return from the NRB_NVCACHE_INFO function, as requested in the Function field of the <strong><a href="nvcache_request_block" title="typedef struct _NVCACHE_REQUEST_BLOCK {&#10;  ULONG     NRBSize;&#10;  USHORT    Function;&#10;  ULONG     NRBFlags;&#10;  ULONG     NRBStatus;&#10;  ULONG     Count;&#10;  ULONGLONG LBA;&#10;  ULONG     DataBufSize;&#10;  ULONG     NVCacheStatus;&#10;  ULONG     NVCacheSubStatus;&#10;} NVCACHE_REQUEST_BLOCK, *PNVCACHE_REQUEST_BLOCK;">NVCACHE_REQUEST_BLOCK</a></strong> structure.</p>

<p>The values in these fields come from the IDENTIFY DEVICE command in section 7.16 of the ATA8-ACS specification.</p>

<h2 id="members">Members</h2>

<h3 id="nvpowermodeenabled"><code>NVPowerModeEnabled</code></h3>

<p>Taken from word 214, bit 0 of the IDENTIFY DEVICE data, a value of one means the NV Cache Power Mode feature set is enabled.</p>

<h3 id="nvparameterreserv1"><code>NVParameterReserv1</code></h3>

<p>Reserved for future use.</p>

<h3 id="nvcmdenabled"><code>NVCmdEnabled</code></h3>

<p>Taken from word 214, bit 4 of the IDENTIFY DEVICE data, a value of one means the NV Cache feature set is enabled.</p>

<h3 id="nvparameterreserv2"><code>NVParameterReserv2</code></h3>

<p>Reserved for future use.</p>

<h3 id="nvpowermodever"><code>NVPowerModeVer</code></h3>

<p>Taken from word 214, bits 8 through 11 of the IDENTIFY DEVICE data, this field contains the NV Cache Power Mode feature set version.</p>

<h3 id="nvcmdver"><code>NVCmdVer</code></h3>

<p>Taken from word 214, bits 12 through 15 of the IDENTIFY DEVICE data, this field contains the NV Cache feature set version.</p>

<h3 id="nvsize"><code>NVSize</code></h3>

<p>Taken from words 215 and 216 of the IDENTIFY DEVICE data, this field contains the NV Cache Size, in logical blocks.</p>

<h3 id="nvreadspeed"><code>NVReadSpeed</code></h3>

<p>Taken from word 217 of the IDENTIFY DEVICE data, this field contains the NV Cache Read Transfer Speed, in megabytes per second (MB/s).</p>

<h3 id="nvwrtspeed"><code>NVWrtSpeed</code></h3>

<p>Taken from word 218 of the IDENTIFY DEVICE data, this field contains the NV Cache Write Transfer Speed, in megabytes per second (MB/s).</p>

<h3 id="devicespinuptime"><code>DeviceSpinUpTime</code></h3>

<p>Taken from word 219, bits 0 through 7 of the IDENTIFY DEVICE data, this field contains the device's estimated time to spin up, in seconds.</p>

<h2 id="see-also">See also</h2>

<p><strong><a href="ioctl_scsi_miniport_nvcache" title="// CTL_CODE(0x001b, 0x180, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_SCSI_MINIPORT_NVCACHE 0x001B0600">IOCTL_SCSI_MINIPORT_NVCACHE</a></strong></p>

<p><strong><a href="nvcache_request_block" title="typedef struct _NVCACHE_REQUEST_BLOCK {&#10;  ULONG     NRBSize;&#10;  USHORT    Function;&#10;  ULONG     NRBFlags;&#10;  ULONG     NRBStatus;&#10;  ULONG     Count;&#10;  ULONGLONG LBA;&#10;  ULONG     DataBufSize;&#10;  ULONG     NVCacheStatus;&#10;  ULONG     NVCacheSubStatus;&#10;} NVCACHE_REQUEST_BLOCK, *PNVCACHE_REQUEST_BLOCK;">NVCACHE_REQUEST_BLOCK</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddscsi/ns-ntddscsi-_nv_feature_parameter">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddscsi/ns-ntddscsi-_nv_feature_parameter.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
