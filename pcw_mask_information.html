<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PCW_MASK_INFORMATION - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PCW_MASK_INFORMATION - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PCW_MASK_INFORMATION - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdm.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PCW_MASK_INFORMATION {
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a>          CounterMask;
  <a href="pcunicode_string" title="typedef const UNICODE_STRING *PCUNICODE_STRING;">PCUNICODE_STRING</a> InstanceMask;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            InstanceId;
  BOOLEAN          CollectMultiple;
  PPCW_BUFFER      Buffer;
  PKEVENT          CancelEvent;
} PCW_MASK_INFORMATION, *PPCW_MASK_INFORMATION;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_pcw_mask_information">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pcw_mask_information.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-wdm-_pcw_mask_information)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="pcw_mask_information-structure">PCW_MASK_INFORMATION structure</h1>

<h2 id="description">Description</h2>

<p>The <code>PCW_MASK_INFORMATION</code> structure is the type of the <code>EnumerateInstances</code> and <code>CollectData</code> members of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_pcw_callback_information">_PCW_CALLBACK_INFORMATION</a> union. It contains details of a notification sent by the system to a provider-defined <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-pcw_callback">PCW_CALLBACK</a> function.</p>

<h2 id="members">Members</h2>

<h3 id="countermask"><code>CounterMask</code></h3>

<p>A bitmask. If the <code>x</code>-th bit is set, the counter with ID <code>x</code> is included in the query.</p>

<h3 id="instancemask"><code>InstanceMask</code></h3>

<p>A Unicode string that contains a wildcard specification of instance names to be matched in the query. If all instance names should match the query, the <code>InstanceMask</code> field will be <code>"*"</code>. Otherwise, <code>"*"</code> and <code>"?"</code> have the usual wildcard meaning of "zero-or-more-characters" and "any-character" respectively. Note that instance name matching is not case-sensitive.</p>

<h3 id="instanceid"><code>InstanceId</code></h3>

<p>The numeric value that identifies the ID of the instance(s) to be collected. If the value is <code>PCW_ANY_INSTANCE_ID</code> (0xFFFFFFFF), all instance IDs should match the query.</p>

<h3 id="collectmultiple"><code>CollectMultiple</code></h3>

<p>The BOOLEAN value that indicates whether the consumer will accept more than one instance in the results of the query. This will be FALSE if the counterset is being treated as a single-instance counterset. This will be TRUE if the counterset is being treated as a multi-instance counterset.</p>

<p>This value can be used to optimize data collection. If <code>CollectMultiple</code> is false then the data collection callback can return after adding one instance since additional instances will be ignored by the consumer.</p>

<h3 id="buffer"><code>Buffer</code></h3>

<p>A handle to the system-managed buffer to which the instance(s) of the counterset will be added. This handle should be used when calling <strong><a href="pcwaddinstance" title="NTSTATUS PcwAddInstance(&#10;  [in] PPCW_BUFFER      Buffer,&#10;  [in] PCUNICODE_STRING Name,&#10;  [in] ULONG            Id,&#10;  [in] ULONG            Count,&#10;  [in] PPCW_DATA        Data&#10;);">PcwAddInstance</a></strong> - or when calling the CTRPP-generated AddXxx function, which wraps the call to <strong><a href="pcwaddinstance" title="NTSTATUS PcwAddInstance(&#10;  [in] PPCW_BUFFER      Buffer,&#10;  [in] PCUNICODE_STRING Name,&#10;  [in] ULONG            Id,&#10;  [in] ULONG            Count,&#10;  [in] PPCW_DATA        Data&#10;);">PcwAddInstance</a></strong>. For more info, see the Remarks of that page.</p>

<h3 id="cancelevent"><code>CancelEvent</code></h3>

<p>If this field is non-NULL, it is an initialized event object that will be signaled if the request is canceled.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-pcw_callback">PCW_CALLBACK callback function</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_pcw_callback_information">_PCW_CALLBACK_INFORMATION structure</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_pcw_mask_information">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdm/ns-wdm-_pcw_mask_information.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
