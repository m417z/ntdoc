<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IDE_CONTROLLER_INTERFACE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IDE_CONTROLLER_INTERFACE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IDE_CONTROLLER_INTERFACE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// irb.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _IDE_CONTROLLER_INTERFACE {
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                   Version;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                   Reserved;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                    ControllerExtensionSize;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                    ChannelExtensionSize;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                    AlignmentMask;
  <a href="ide_channel_init" title="IDE_CHANNEL_INIT IdeChannelInit;&#10;&#10;BOOLEAN IdeChannelInit(&#10;  PVOID ChannelExtension,&#10;  PIDE_CHANNEL_INTERFACE ChannelInterface,&#10;  PVOID InitContext&#10;)&#10;{...}">IDE_CHANNEL_INIT</a>         AtaChannelInitRoutine;
  <a href="ide_channel_enabled" title="IDE_CHANNEL_ENABLED IdeChannelEnabled;&#10;&#10;ATA_CHANNEL_STATE IdeChannelEnabled(&#10;  PVOID ControllerExtension,&#10;  ULONG Channel&#10;)&#10;{...}">IDE_CHANNEL_ENABLED</a>      AtaControllerChannelEnabled;
  <a href="ide_transfer_mode_select" title="IDE_TRANSFER_MODE_SELECT IdeTransferModeSelect;&#10;&#10;BOOLEAN IdeTransferModeSelect(&#10;  PVOID ControllerExtension,&#10;  PIDE_TRANSFER_MODE_PARAMETERS TransferModeSelect&#10;)&#10;{...}">IDE_TRANSFER_MODE_SELECT</a> AtaControllerTransferModeSelect;
  <a href="ide_adapter_control" title="IDE_ADAPTER_CONTROL IdeAdapterControl;&#10;&#10;BOOLEAN IdeAdapterControl(&#10;  [in]      PVOID ControllerExtension,&#10;  [in]      IDE_CONTROL_ACTION ControlAction,&#10;  [in, out] PVOID Parameters&#10;)&#10;{...}">IDE_ADAPTER_CONTROL</a>      AtaAdapterControl;
} IDE_CONTROLLER_INTERFACE, *PIDE_CONTROLLER_INTERFACE;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/ns-irb-_ide_controller_interface">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ide_controller_interface.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-irb-_ide_controller_interface)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ide_controller_interface-structure">_IDE_CONTROLLER_INTERFACE structure</h1>

<h2 id="description">Description</h2>

<p>The IDE_CONTROLLER_INTERFACE structure is used to pass controller configuration information between the port driver and the miniport driver.</p>

<p><strong>Note</strong> The ATA port driver and ATA miniport driver models may be altered or unavailable in the future. Instead, we recommend using the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-driver">Storport driver</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-miniport-drivers">Storport miniport</a> driver models.</p>

<h2 id="members">Members</h2>

<h3 id="version"><code>Version</code></h3>

<p>The port driver sets this field to indicate the version of the port driver. The port driver sets the version to sizeof(IDE_CONTROLLER_INTERFACE). The miniport driver should verify that the version is greater than or equal to the one it is using.</p>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Reserved for future use. The miniport driver shall not use this field.</p>

<h3 id="controllerextensionsize"><code>ControllerExtensionSize</code></h3>

<p>Specifies the size in bytes required by a miniport driver for its controller device extension.</p>

<h3 id="channelextensionsize"><code>ChannelExtensionSize</code></h3>

<p>Specifies the size in bytes required by a miniport driver for its per-channel device extension.</p>

<h3 id="alignmentmask"><code>AlignmentMask</code></h3>

<p>Contains a mask indicating the alignment restrictions for buffers required by the HBA for transfer operations. Valid mask values are also restricted by characteristics of the memory managers on different versions of Windows. Under Windows 2000 and Windows XP, the valid mask values are 0 (byte-aligned), 1 (word-aligned), 3 (<a href="dword" title="typedef unsigned long DWORD;">DWORD</a>-aligned) and 7 (double <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>-aligned). The miniport driver should set this mask if the HBA supports scatter/gather.</p>

<h3 id="atachannelinitroutine"><code>AtaChannelInitRoutine</code></h3>

<p>Pointer to the miniport's <strong>AtaChannelInitRoutine</strong> routine. The miniport needs to set this entry point only if it supports the Channel Interface.</p>

<h3 id="atacontrollerchannelenabled"><code>AtaControllerChannelEnabled</code></h3>

<p>Pointer to the miniport's <strong>AtaControllerChannelEnabled</strong> routine. This is an optional entry point.</p>

<h3 id="atacontrollertransfermodeselect"><code>AtaControllerTransferModeSelect</code></h3>

<p>Pointer to the miniport's <strong>AtaControllerTransferModeSelect</strong> routine. This is an optional entry point.</p>

<h3 id="ataadaptercontrol"><code>AtaAdapterControl</code></h3>

<p>Pointer to the miniport's <strong>AtaControllerAdapterControl</strong> routine. This is a required entry point.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/ns-irb-_ide_controller_interface">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/irb/ns-irb-_ide_controller_interface.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
