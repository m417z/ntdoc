<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="RETRIEVAL_POINTERS_BUFFER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>RETRIEVAL_POINTERS_BUFFER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            RETRIEVAL_POINTERS_BUFFER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// winioctl.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct RETRIEVAL_POINTERS_BUFFER {
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>                    ExtentCount;
  LARGE_INTEGER            StartingVcn;
  struct {
    LARGE_INTEGER NextVcn;
    LARGE_INTEGER Lcn;
  };
  __unnamed_struct_0430_64 Extents[1];
} RETRIEVAL_POINTERS_BUFFER, *PRETRIEVAL_POINTERS_BUFFER;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-retrieval_pointers_buffer">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/retrieval_pointers_buffer.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ns-winioctl-retrieval_pointers_buffer)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="retrieval_pointers_buffer-structure">RETRIEVAL_POINTERS_BUFFER structure</h1>

<h2 id="description">Description</h2>

<p>Contains the output for the
<a href="fsctl_get_retrieval_pointers" title="// CTL_CODE(0x0009, 0x01c, METHOD_NEITHER, FILE_ANY_ACCESS)&#10;#define FSCTL_GET_RETRIEVAL_POINTERS 0x00090073">FSCTL_GET_RETRIEVAL_POINTERS</a> control code.</p>

<h2 id="members">Members</h2>

<h3 id="extentcount"><code>ExtentCount</code></h3>

<p>The count of elements in the <strong>Extents</strong> array.</p>

<h3 id="startingvcn"><code>StartingVcn</code></h3>

<p>The starting VCN returned by the function call. This is not necessarily the VCN requested by the function call, as the file system driver may round down to the first VCN of the extent in which the requested starting VCN is found.</p>

<h3 id="nextvcn"><code>NextVcn</code></h3>

<h3 id="lcn"><code>Lcn</code></h3>

<h3 id="extents"><code>Extents</code></h3>

<p>Array of <strong>Extents</strong> structures. For the number of members in the array, see <strong>ExtentCount</strong>. Each member of the array has the following members.</p>

<h4 id="nextvcn-2">NextVcn</h4>

<p>The VCN at which the next extent begins. This value minus either <strong>StartingVcn</strong> (for the first <strong>Extents</strong> array member) or the <strong>NextVcn</strong> of the previous member of the array (for all other <strong>Extents</strong> array members) is the length, in clusters, of the current extent. The length is an input to the <a href="fsctl_move_file" title="// CTL_CODE(0x0009, 0x01d, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define FSCTL_MOVE_FILE 0x00090074">FSCTL_MOVE_FILE</a> operation.</p>

<h4 id="lcn-2">Lcn</h4>

<p>The LCN at which the current extent begins on the volume. This value is an input to the <a href="fsctl_move_file" title="// CTL_CODE(0x0009, 0x01d, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define FSCTL_MOVE_FILE 0x00090074">FSCTL_MOVE_FILE</a> operation. On the NTFS file system, the value (<a href="longlong" title="typedef __int64 LONGLONG;">LONGLONG</a>) â€“1 indicates either a compression unit that is partially allocated, or an unallocated region of a sparse file.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/FileIO/defragmenting-files">Defragmentation</a></p>

<p><a href="fsctl_get_retrieval_pointers" title="// CTL_CODE(0x0009, 0x01c, METHOD_NEITHER, FILE_ANY_ACCESS)&#10;#define FSCTL_GET_RETRIEVAL_POINTERS 0x00090073">FSCTL_GET_RETRIEVAL_POINTERS</a></p>

<p><a href="fsctl_move_file" title="// CTL_CODE(0x0009, 0x01d, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define FSCTL_MOVE_FILE 0x00090074">FSCTL_MOVE_FILE</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-retrieval_pointers_buffer">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/winioctl/ns-winioctl-retrieval_pointers_buffer.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
