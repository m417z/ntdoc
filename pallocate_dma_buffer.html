<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PALLOCATE_DMA_BUFFER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PALLOCATE_DMA_BUFFER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PALLOCATE_DMA_BUFFER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// hdaudio.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">PALLOCATE_DMA_BUFFER PallocateDmaBuffer;

<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> PallocateDmaBuffer(
  [in]  PVOID _context,
  [in]  HANDLE Handle,
  [in]  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> RequestedBufferSize,
  [out] <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">PMDL</a> *BufferMdl,
  [out] PSIZE_T AllocatedBufferSize,
  [out] PUCHAR StreamId,
  [out] PULONG FifoSize
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_dma_buffer">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pallocate_dma_buffer.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-hdaudio-pallocate_dma_buffer)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>PALLOCATE_DMA_BUFFER callback function</h1>
<h2>Description</h2>
<p>The <code>AllocateDmaBuffer</code> routine allocates a data buffer in system memory for a DMA engine.</p>
<p>The function pointer type for an <code>AllocateDmaBuffer</code> routine is defined as follows.</p>
<h2>Parameters</h2>
<h3><code>_context</code> [in]</h3>
<p>Specifies the context value from the <strong>Context</strong> members of the <a href="hdaudio_bus_interface" title="typedef struct _HDAUDIO_BUS_INTERFACE {&#10;  USHORT                       Size;&#10;  USHORT                       Version;&#10;  PVOID                        Context;&#10;  PINTERFACE_REFERENCE         InterfaceReference;&#10;  PINTERFACE_DEREFERENCE       InterfaceDereference;&#10;  PTRANSFER_CODEC_VERBS        TransferCodecVerbs;&#10;  PALLOCATE_CAPTURE_DMA_ENGINE AllocateCaptureDmaEngine;&#10;  PALLOCATE_RENDER_DMA_ENGINE  AllocateRenderDmaEngine;&#10;  PCHANGE_BANDWIDTH_ALLOCATION ChangeBandwidthAllocation;&#10;  PALLOCATE_DMA_BUFFER         AllocateDmaBuffer;&#10;  PFREE_DMA_BUFFER             FreeDmaBuffer;&#10;  PFREE_DMA_ENGINE             FreeDmaEngine;&#10;  PSET_DMA_ENGINE_STATE        SetDmaEngineState;&#10;  PGET_WALL_CLOCK_REGISTER     GetWallClockRegister;&#10;  PGET_LINK_POSITION_REGISTER  GetLinkPositionRegister;&#10;  PREGISTER_EVENT_CALLBACK     RegisterEventCallback;&#10;  PUNREGISTER_EVENT_CALLBACK   UnregisterEventCallback;&#10;  PGET_DEVICE_INFORMATION      GetDeviceInformation;&#10;  PGET_RESOURCE_INFORMATION    GetResourceInformation;&#10;...">HDAUDIO_BUS_INTERFACE</a> and <a href="hdaudio_bus_interface_v2" title="typedef struct _HDAUDIO_BUS_INTERFACE_V2 {&#10;  USHORT                                 Size;&#10;  USHORT                                 Version;&#10;  PVOID                                  Context;&#10;  PINTERFACE_REFERENCE                   InterfaceReference;&#10;  PINTERFACE_DEREFERENCE                 InterfaceDereference;&#10;  PTRANSFER_CODEC_VERBS                  TransferCodecVerbs;&#10;  PALLOCATE_CAPTURE_DMA_ENGINE           AllocateCaptureDmaEngine;&#10;  PALLOCATE_RENDER_DMA_ENGINE            AllocateRenderDmaEngine;&#10;  PCHANGE_BANDWIDTH_ALLOCATION           ChangeBandwidthAllocation;&#10;  PALLOCATE_DMA_BUFFER                   AllocateDmaBuffer;&#10;  PFREE_DMA_BUFFER                       FreeDmaBuffer;&#10;  PFREE_DMA_ENGINE                       FreeDmaEngine;&#10;  PSET_DMA_ENGINE_STATE                  SetDmaEngineState;&#10;  PGET_WALL_CLOCK_REGISTER               GetWallClockRegister;&#10;  PGET_LINK_POSITION_REGISTER            GetLinkPositionRegister;&#10;  PREGISTER_EVENT_CALLBACK               RegisterEventCallback;&#10;  PUNREGISTER_EVENT_CALLBACK             UnregisterEventCallback;&#10;  PGET_DEVICE_INFORMATION                GetDeviceInformation;&#10;  PGET_RESOURCE_INFORMATION              GetResourceInformation;&#10;...">HDAUDIO_BUS_INTERFACE_V2</a> structures.</p>
<h3><code>Handle</code> [in]</h3>
<p>Handle identifying the DMA engine. This handle value was obtained from a previous call to <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_capture_dma_engine">AllocateCaptureDmaEngine</a> or <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_render_dma_engine">AllocateRenderDmaEngine</a>.</p>
<h3><code>RequestedBufferSize</code> [in]</h3>
<p>Specifies the requested buffer size in bytes.</p>
<h3><code>BufferMdl</code> [out]</h3>
<p>Retrieves the physical memory pages that contains the allocated buffer. This parameter points to a caller-allocated <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">PMDL</a> variable into which the routine writes a pointer to a memory descriptor list (<a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a>) that describes the buffer.</p>
<h3><code>AllocatedBufferSize</code> [out]</h3>
<p>Retrieves the allocated buffer size in bytes. This parameter points to a caller-allocated <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> variable into which the routine writes the size of the allocated buffer.</p>
<h3><code>StreamId</code> [out]</h3>
<p>Retrieves the stream identifier. This parameter points to a caller-allocated <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> variable into which the routine writes the stream identifier that it assigns to the stream.</p>
<h3><code>FifoSize</code> [out]</h3>
<p>Retrieves the DMA engine's FIFO size in bytes. This parameter points to a caller-allocated <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> variable into which the routine writes the FIFO size.</p>
<h2>Return value</h2>
<p><code>AllocateDmaBuffer</code> returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> if the call succeeds. Otherwise, the routine returns an appropriate error code. The following table shows some of the possible return status codes.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>STATUS_UNSUCCESSFUL</strong></td>
<td>Indicates that the caller is running at an IRQL that is too high.</td>
</tr>
<tr>
<td><strong>STATUS_INSUFFICIENT_RESOURCES</strong></td>
<td>Indicates that buffer allocation failed.</td>
</tr>
<tr>
<td><strong>STATUS_INVALID_HANDLE</strong></td>
<td>Indicates that the handle parameter value is invalid.</td>
</tr>
<tr>
<td><strong>STATUS_INVALID_PARAMETER</strong></td>
<td>Indicates that one of the parameter values is incorrect (bad pointer).</td>
</tr>
<tr>
<td><strong>STATUS_DEVICE_NOT_READY</strong></td>
<td>Indicates that the hardware programming timed out. If this occurs, the hardware might be in a compromised state.</td>
</tr>
<tr>
<td><strong>STATUS_INVALID_DEVICE_REQUEST</strong></td>
<td>Indicates that the stream is not in the reset state or that a buffer is already allocated for the DMA engine.</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>The <code>AllocateDmaBuffer</code> routine is used in conjunction with the <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pfree_dma_buffer">FreeDmaBuffer</a> routine. These two routines are available only in the <a href="hdaudio_bus_interface" title="typedef struct _HDAUDIO_BUS_INTERFACE {&#10;  USHORT                       Size;&#10;  USHORT                       Version;&#10;  PVOID                        Context;&#10;  PINTERFACE_REFERENCE         InterfaceReference;&#10;  PINTERFACE_DEREFERENCE       InterfaceDereference;&#10;  PTRANSFER_CODEC_VERBS        TransferCodecVerbs;&#10;  PALLOCATE_CAPTURE_DMA_ENGINE AllocateCaptureDmaEngine;&#10;  PALLOCATE_RENDER_DMA_ENGINE  AllocateRenderDmaEngine;&#10;  PCHANGE_BANDWIDTH_ALLOCATION ChangeBandwidthAllocation;&#10;  PALLOCATE_DMA_BUFFER         AllocateDmaBuffer;&#10;  PFREE_DMA_BUFFER             FreeDmaBuffer;&#10;  PFREE_DMA_ENGINE             FreeDmaEngine;&#10;  PSET_DMA_ENGINE_STATE        SetDmaEngineState;&#10;  PGET_WALL_CLOCK_REGISTER     GetWallClockRegister;&#10;  PGET_LINK_POSITION_REGISTER  GetLinkPositionRegister;&#10;  PREGISTER_EVENT_CALLBACK     RegisterEventCallback;&#10;  PUNREGISTER_EVENT_CALLBACK   UnregisterEventCallback;&#10;  PGET_DEVICE_INFORMATION      GetDeviceInformation;&#10;  PGET_RESOURCE_INFORMATION    GetResourceInformation;&#10;...">HDAUDIO_BUS_INTERFACE</a> and the <a href="hdaudio_bus_interface_v2" title="typedef struct _HDAUDIO_BUS_INTERFACE_V2 {&#10;  USHORT                                 Size;&#10;  USHORT                                 Version;&#10;  PVOID                                  Context;&#10;  PINTERFACE_REFERENCE                   InterfaceReference;&#10;  PINTERFACE_DEREFERENCE                 InterfaceDereference;&#10;  PTRANSFER_CODEC_VERBS                  TransferCodecVerbs;&#10;  PALLOCATE_CAPTURE_DMA_ENGINE           AllocateCaptureDmaEngine;&#10;  PALLOCATE_RENDER_DMA_ENGINE            AllocateRenderDmaEngine;&#10;  PCHANGE_BANDWIDTH_ALLOCATION           ChangeBandwidthAllocation;&#10;  PALLOCATE_DMA_BUFFER                   AllocateDmaBuffer;&#10;  PFREE_DMA_BUFFER                       FreeDmaBuffer;&#10;  PFREE_DMA_ENGINE                       FreeDmaEngine;&#10;  PSET_DMA_ENGINE_STATE                  SetDmaEngineState;&#10;  PGET_WALL_CLOCK_REGISTER               GetWallClockRegister;&#10;  PGET_LINK_POSITION_REGISTER            GetLinkPositionRegister;&#10;  PREGISTER_EVENT_CALLBACK               RegisterEventCallback;&#10;  PUNREGISTER_EVENT_CALLBACK             UnregisterEventCallback;&#10;  PGET_DEVICE_INFORMATION                GetDeviceInformation;&#10;  PGET_RESOURCE_INFORMATION              GetResourceInformation;&#10;...">HDAUDIO_BUS_INTERFACE_V2</a> versions of the HD Audio DDI. This DDI does not include the <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_contiguous_dma_buffer">AllocateContiguousDmaBuffer</a>, <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-psetup_dma_engine_with_bdl">SetupDmaEngineWithBdl</a>, and <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pfree_contiguous_dma_buffer">FreeContiguousDmaBuffer</a> routines, which are never used in conjunction with <code>AllocateDmaBuffer</code> and <strong>FreeDmaBuffer</strong>. Unlike <strong>SetupDmaEngineWithBdl</strong>, which configures the DMA engine to use a previously allocated DMA buffer, <code>AllocateDmaBuffer</code> both allocates a DMA buffer and configures the DMA engine to use the buffer.</p>
<p>If the DMA engine cannot use a buffer of the size requested in parameter <em>requestedBufferSize</em>, the routine allocates a buffer that is as close as possible to the requested size.</p>
<p>The function driver for an audio or modem codec is responsible for programming the codec to manage the data transfers and to recognize the stream identifier.</p>
<p>The routine outputs an <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> that lists the physical memory pages that contain the buffer. The buffer base address coincides with the start of the first physical page in the list.</p>
<p>During the lifetime of a DMA engine handle, <code>AllocateDmaBuffer</code> can be called successively to allocate new DMA buffers. However, before calling <code>AllocateDmaBuffer</code>, any previously allocated DMA buffer must first be freed by calling <strong>FreeDmaBuffer</strong>.</p>
<p>During calls to <code>AllocateDmaBuffer</code> and <strong>FreeDmaBuffer</strong>, the DMA engine must be in the reset stream state. The DMA engine is in the reset state immediately following the call to Allocate<em>Xxx</em>DmaEngine. To change the DMA engine to the run state, call <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pset_dma_engine_state">SetDmaEngineState</a>.</p>
<p>The FIFO size is the maximum number of bytes that the DMA engine can hold in its internal buffer. Depending on the hardware implementation, a DMA engine's FIFO size can either be static or vary dynamically with changes in the stream format. For more information about the FIFO size, see the Intel High Definition Audio Specification at the <a href="https://go.microsoft.com/fwlink/p/?linkid=42508">Intel HD Audio</a> website.</p>
<p>This routine fails and returns error code STATUS_INVALID_DEVICE_REQUEST in either of the following circumstances:</p>
<ul>
<li>Any previously allocated DMA buffer has not been freed (by calling <strong>FreeDmaBuffer</strong>).</li>
<li>The stream is in a state other than reset.</li>
</ul>
<p>In Windows Server 2003, Windows XP, Windows 2000, and Windows Me/98, a WDM audio driver calls this routine during execution of its <strong>NewStream</strong> method (at pin-creation time) or <strong>SetFormat</strong> method (after calling one of the Allocate<em>Xxx</em>DmaEngine routines in the HD Audio DDI). For more information, see <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/portcls/nf-portcls-iminiportwavepci-newstream">IMiniportWavePci::NewStream</a> and <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/portcls/nf-portcls-iminiportwavepcistream-setformat">IMiniportWavePciStream::SetFormat</a>.</p>
<h2>See also</h2>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_capture_dma_engine">AllocateCaptureDmaEngine</a></p>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_render_dma_engine">AllocateRenderDmaEngine</a></p>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pfree_dma_buffer">FreeDmaBuffer</a></p>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pfree_dma_engine">FreeDmaEngine</a></p>
<p><a href="hdaudio_bus_interface" title="typedef struct _HDAUDIO_BUS_INTERFACE {&#10;  USHORT                       Size;&#10;  USHORT                       Version;&#10;  PVOID                        Context;&#10;  PINTERFACE_REFERENCE         InterfaceReference;&#10;  PINTERFACE_DEREFERENCE       InterfaceDereference;&#10;  PTRANSFER_CODEC_VERBS        TransferCodecVerbs;&#10;  PALLOCATE_CAPTURE_DMA_ENGINE AllocateCaptureDmaEngine;&#10;  PALLOCATE_RENDER_DMA_ENGINE  AllocateRenderDmaEngine;&#10;  PCHANGE_BANDWIDTH_ALLOCATION ChangeBandwidthAllocation;&#10;  PALLOCATE_DMA_BUFFER         AllocateDmaBuffer;&#10;  PFREE_DMA_BUFFER             FreeDmaBuffer;&#10;  PFREE_DMA_ENGINE             FreeDmaEngine;&#10;  PSET_DMA_ENGINE_STATE        SetDmaEngineState;&#10;  PGET_WALL_CLOCK_REGISTER     GetWallClockRegister;&#10;  PGET_LINK_POSITION_REGISTER  GetLinkPositionRegister;&#10;  PREGISTER_EVENT_CALLBACK     RegisterEventCallback;&#10;  PUNREGISTER_EVENT_CALLBACK   UnregisterEventCallback;&#10;  PGET_DEVICE_INFORMATION      GetDeviceInformation;&#10;  PGET_RESOURCE_INFORMATION    GetResourceInformation;&#10;...">HDAUDIO_BUS_INTERFACE</a></p>
<p><a href="hdaudio_bus_interface_v2" title="typedef struct _HDAUDIO_BUS_INTERFACE_V2 {&#10;  USHORT                                 Size;&#10;  USHORT                                 Version;&#10;  PVOID                                  Context;&#10;  PINTERFACE_REFERENCE                   InterfaceReference;&#10;  PINTERFACE_DEREFERENCE                 InterfaceDereference;&#10;  PTRANSFER_CODEC_VERBS                  TransferCodecVerbs;&#10;  PALLOCATE_CAPTURE_DMA_ENGINE           AllocateCaptureDmaEngine;&#10;  PALLOCATE_RENDER_DMA_ENGINE            AllocateRenderDmaEngine;&#10;  PCHANGE_BANDWIDTH_ALLOCATION           ChangeBandwidthAllocation;&#10;  PALLOCATE_DMA_BUFFER                   AllocateDmaBuffer;&#10;  PFREE_DMA_BUFFER                       FreeDmaBuffer;&#10;  PFREE_DMA_ENGINE                       FreeDmaEngine;&#10;  PSET_DMA_ENGINE_STATE                  SetDmaEngineState;&#10;  PGET_WALL_CLOCK_REGISTER               GetWallClockRegister;&#10;  PGET_LINK_POSITION_REGISTER            GetLinkPositionRegister;&#10;  PREGISTER_EVENT_CALLBACK               RegisterEventCallback;&#10;  PUNREGISTER_EVENT_CALLBACK             UnregisterEventCallback;&#10;  PGET_DEVICE_INFORMATION                GetDeviceInformation;&#10;  PGET_RESOURCE_INFORMATION              GetResourceInformation;&#10;...">HDAUDIO_BUS_INTERFACE_V2</a></p>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/portcls/nf-portcls-iminiportwavepci-newstream">IMiniportWavePci::NewStream</a></p>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/portcls/nf-portcls-iminiportwavepcistream-setformat">IMiniportWavePciStream::SetFormat</a></p>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pset_dma_engine_state">SetDmaEngineState</a></p>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-psetup_dma_engine_with_bdl">SetupDmaEngineWithBdl</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_dma_buffer">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/hdaudio/nc-hdaudio-pallocate_dma_buffer.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
