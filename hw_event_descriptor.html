<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HW_EVENT_DESCRIPTOR - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>HW_EVENT_DESCRIPTOR - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            HW_EVENT_DESCRIPTOR - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// strmini.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _HW_EVENT_DESCRIPTOR {
  BOOLEAN        Enable;
  <a href="ksevent_entry" title="typedef struct _KSEVENT_ENTRY {&#10;  LIST_ENTRY         ListEntry;&#10;  PVOID              Object;&#10;  union {&#10;    PKSDPC_ITEM    DpcItem;&#10;    PKSBUFFER_ITEM BufferItem;&#10;  };&#10;  PKSEVENTDATA       EventData;&#10;  ULONG              NotificationType;&#10;  const KSEVENT_SET  *EventSet;&#10;  const KSEVENT_ITEM *EventItem;&#10;  PFILE_OBJECT       FileObject;&#10;  ULONG              SemaphoreAdjustment;&#10;  ULONG              Reserved;&#10;  ULONG              Flags;&#10;} KSEVENT_ENTRY, *PKSEVENT_ENTRY;">PKSEVENT_ENTRY</a> EventEntry;
  <a href="kseventdata" title="typedef struct {&#10;  ULONG NotificationType;&#10;  union {&#10;    struct {&#10;      HANDLE    Event;&#10;      ULONG_PTR Reserved[2];&#10;    } EventHandle;&#10;    struct {&#10;      HANDLE Semaphore;&#10;      ULONG  Reserved;&#10;      LONG   Adjustment;&#10;    } SemaphoreHandle;&#10;    struct {&#10;      PVOID     Event;&#10;      KPRIORITY Increment;&#10;      ULONG_PTR Reserved;&#10;    } EventObject;&#10;    struct {&#10;      PVOID     Semaphore;&#10;      KPRIORITY Increment;&#10;...">PKSEVENTDATA</a>   EventData;
  union {
#if ...
    _HW_STREAM_OBJECT           *StreamObject;
#else
    <a href="hw_stream_object" title="typedef struct _HW_STREAM_OBJECT {&#10;  ULONG                          SizeOfThisPacket;&#10;  ULONG                          StreamNumber;&#10;  PVOID                          HwStreamExtension;&#10;  PHW_RECEIVE_STREAM_DATA_SRB    ReceiveDataPacket;&#10;  PHW_RECEIVE_STREAM_CONTROL_SRB ReceiveControlPacket;&#10;  HW_CLOCK_OBJECT                HwClockObject;&#10;  BOOLEAN                        Dma;&#10;  BOOLEAN                        Pio;&#10;  PVOID                          HwDeviceExtension;&#10;  ULONG                          StreamHeaderMediaSpecific;&#10;  ULONG                          StreamHeaderWorkspace;&#10;  BOOLEAN                        Allocator;&#10;  PHW_EVENT_ROUTINE              HwEventRoutine;&#10;  ULONG                          Reserved[2];&#10;} HW_STREAM_OBJECT, *PHW_STREAM_OBJECT;">struct _HW_STREAM_OBJECT</a>    *StreamObject;
#endif
#if ...
    _HW_DEVICE_EXTENSION        *DeviceExtension;
#else
    struct _HW_DEVICE_EXTENSION *DeviceExtension;
#endif
  };
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>          EnableEventSetIndex;
  PVOID          HwInstanceExtension;
#if ...
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>          Reserved;
#else
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>          Reserved[2];
#endif
} HW_EVENT_DESCRIPTOR, *PHW_EVENT_DESCRIPTOR;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/strmini/ns-strmini-_hw_event_descriptor">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/hw_event_descriptor.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-strmini-_hw_event_descriptor)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2>Description</h2>
<p>When the class driver calls one of the minidriver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/strmini/nc-strmini-phw_event_routine">StrMiniEvent</a> routines, it passes a pointer to an <strong>HW_EVENT_DESCRIPTOR</strong> structure to describe the event as enabled or disabled.</p>
<h2>Members</h2>
<h3><code>Enable</code></h3>
<p>This is set to <strong>TRUE</strong> for an enabled event, and <strong>FALSE</strong> for a disabled event.</p>
<h3><code>EventEntry</code></h3>
<p>Points to the <strong><a href="ksevent_entry" title="typedef struct _KSEVENT_ENTRY {&#10;  LIST_ENTRY         ListEntry;&#10;  PVOID              Object;&#10;  union {&#10;    PKSDPC_ITEM    DpcItem;&#10;    PKSBUFFER_ITEM BufferItem;&#10;  };&#10;  PKSEVENTDATA       EventData;&#10;  ULONG              NotificationType;&#10;  const KSEVENT_SET  *EventSet;&#10;  const KSEVENT_ITEM *EventItem;&#10;  PFILE_OBJECT       FileObject;&#10;  ULONG              SemaphoreAdjustment;&#10;  ULONG              Reserved;&#10;  ULONG              Flags;&#10;} KSEVENT_ENTRY, *PKSEVENT_ENTRY;">KSEVENT_ENTRY</a></strong> structure that describes this event.</p>
<h3><code>EventData</code></h3>
<p>Points to the <strong><a href="kseventdata" title="typedef struct {&#10;  ULONG NotificationType;&#10;  union {&#10;    struct {&#10;      HANDLE    Event;&#10;      ULONG_PTR Reserved[2];&#10;    } EventHandle;&#10;    struct {&#10;      HANDLE Semaphore;&#10;      ULONG  Reserved;&#10;      LONG   Adjustment;&#10;    } SemaphoreHandle;&#10;    struct {&#10;      PVOID     Event;&#10;      KPRIORITY Increment;&#10;      ULONG_PTR Reserved;&#10;    } EventObject;&#10;    struct {&#10;      PVOID     Semaphore;&#10;      KPRIORITY Increment;&#10;...">KSEVENTDATA</a></strong> structure that describes this instance of the event.</p>
<h3><code>StreamObject</code></h3>
<p>Points to the <strong><a href="hw_stream_object" title="typedef struct _HW_STREAM_OBJECT {&#10;  ULONG                          SizeOfThisPacket;&#10;  ULONG                          StreamNumber;&#10;  PVOID                          HwStreamExtension;&#10;  PHW_RECEIVE_STREAM_DATA_SRB    ReceiveDataPacket;&#10;  PHW_RECEIVE_STREAM_CONTROL_SRB ReceiveControlPacket;&#10;  HW_CLOCK_OBJECT                HwClockObject;&#10;  BOOLEAN                        Dma;&#10;  BOOLEAN                        Pio;&#10;  PVOID                          HwDeviceExtension;&#10;  ULONG                          StreamHeaderMediaSpecific;&#10;  ULONG                          StreamHeaderWorkspace;&#10;  BOOLEAN                        Allocator;&#10;  PHW_EVENT_ROUTINE              HwEventRoutine;&#10;  ULONG                          Reserved[2];&#10;} HW_STREAM_OBJECT, *PHW_STREAM_OBJECT;">HW_STREAM_OBJECT</a></strong> for the stream that owns the event that the class driver is enabling/disabling, or <strong>NULL</strong> if the event belongs to the driver as a whole.</p>
<h3><code>DeviceExtension</code></h3>
<p>Points to the minidriver's device extension.</p>
<h3><code>EnableEventSetIndex</code></h3>
<p>For stream events, this specifies the index of the event set within the <strong>StreamEventsArray</strong> member of the stream's <strong><a href="hw_stream_information" title="typedef struct _HW_STREAM_INFORMATION {&#10;  ULONG              NumberOfPossibleInstances;&#10;  KSPIN_DATAFLOW     DataFlow;&#10;  BOOLEAN            DataAccessible;&#10;  ULONG              NumberOfFormatArrayEntries;&#10;  PKSDATAFORMAT      *StreamFormatsArray;&#10;  PVOID              ClassReserved[4];&#10;  ULONG              NumStreamPropArrayEntries;&#10;  PKSPROPERTY_SET    StreamPropertiesArray;&#10;  ULONG              NumStreamEventArrayEntries;&#10;  PKSEVENT_SET       StreamEventsArray;&#10;  GUID               *Category;&#10;  GUID               *Name;&#10;  ULONG              MediumsCount;&#10;  const KSPIN_MEDIUM *Mediums;&#10;  BOOLEAN            BridgeStream;&#10;  ULONG              Reserved[2];&#10;} HW_STREAM_INFORMATION, *PHW_STREAM_INFORMATION;">HW_STREAM_INFORMATION</a></strong> structure.</p>
<p>For device events, this specifies the index of the event set within the <strong>DeviceEventsArray</strong> member of the minidriver's <strong><a href="hw_stream_header" title="typedef struct _HW_STREAM_HEADER {&#10;  ULONG             NumberOfStreams;&#10;  ULONG             SizeOfHwStreamInformation;&#10;  ULONG             NumDevPropArrayEntries;&#10;  PKSPROPERTY_SET   DevicePropertiesArray;&#10;  ULONG             NumDevEventArrayEntries;&#10;  PKSEVENT_SET      DeviceEventsArray;&#10;  PKSTOPOLOGY       Topology;&#10;  PHW_EVENT_ROUTINE DeviceEventRoutine;&#10;  LONG              NumDevMethodArrayEntries;&#10;  PKSMETHOD_SET     DeviceMethodsArray;&#10;  ULONG             Reserved[2];&#10;} HW_STREAM_HEADER, *PHW_STREAM_HEADER;">HW_STREAM_HEADER</a></strong> structure.</p>
<h3><code>HwInstanceExtension</code></h3>
<p>Pointer to the minidriver's instance extension. The minidriver may use this buffer to record private information global to this instance of the minidriver. The minidriver sets the size of this buffer in the <strong><a href="hw_initialization_data" title="typedef struct _HW_INITIALIZATION_DATA {&#10;  ULONG               HwInitializationDataSize;&#10;  INTERFACE_TYPE      AdapterInterfaceType;&#10;  PHW_INITIALIZE      HwInitialize;&#10;  PHW_STARTIO         HwStartIo;&#10;  PHW_INTERRUPT       HwInterrupt;&#10;  PHW_FIND_ADAPTER    HwFindAdapter;&#10;  PHW_RESET_BUS       HwResetBus;&#10;  PHW_DMA_STARTED     HwDmaStarted;&#10;  PHW_ADAPTER_STATE   HwAdapterState;&#10;  ULONG               DeviceExtensionSize;&#10;  ULONG               SpecificLuExtensionSize;&#10;  ULONG               SrbExtensionSize;&#10;  ULONG               NumberOfAccessRanges;&#10;  PVOID               Reserved;&#10;  BOOLEAN             MapBuffers;&#10;  BOOLEAN             NeedPhysicalAddresses;&#10;  BOOLEAN             TaggedQueuing;&#10;  BOOLEAN             AutoRequestSense;&#10;  BOOLEAN             MultipleRequestPerLu;&#10;...">HW_INITIALIZATION_DATA</a></strong> structure it passes when it registers itself via <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/strmini/nf-strmini-streamclassregisteradapter">StreamClassRegisterMinidriver</a>.</p>
<h3><code>Reserved</code></h3>
<p>Reserved for system use. Do not use.</p>
<h3><code>Reserved[2]</code></h3>
<p>Reserved for system use. Do not use.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/strmini/ns-strmini-_hw_event_descriptor">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/strmini/ns-strmini-_hw_event_descriptor.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
