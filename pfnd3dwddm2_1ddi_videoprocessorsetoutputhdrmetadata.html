<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PFND3DWDDM2_1DDI_VIDEOPROCESSORSETOUTPUTHDRMETADATA - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PFND3DWDDM2_1DDI_VIDEOPROCESSORSETOUTPUTHDRMETADATA - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PFND3DWDDM2_1DDI_VIDEOPROCESSORSETOUTPUTHDRMETADATA - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d10umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">PFND3DWDDM2_1DDI_VIDEOPROCESSORSETOUTPUTHDRMETADATA Pfnd3dwddm21DdiVideoprocessorsetoutputhdrmetadata;

VOID Pfnd3dwddm21DdiVideoprocessorsetoutputhdrmetadata(
  D3D10DDI_HDEVICE hDevice,
  D3D11_1DDI_HVIDEOPROCESSOR hVideoProcessor,
  <a href="d3dddi_hdr_metadata_type" title="typedef enum D3DDDI_HDR_METADATA_TYPE {&#10;  D3DDDI_HDR_METADATA_TYPE_NONE&#10;} ;">D3DDDI_HDR_METADATA_TYPE</a> Type,
  <a href="uint" title="typedef unsigned int UINT;">UINT</a> Size,
  const VOID *pMetaData
)
{...}</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3dwddm2_1ddi_videoprocessorsetoutputhdrmetadata">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pfnd3dwddm2_1ddi_videoprocessorsetoutputhdrmetadata.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-d3d10umddi-pfnd3dwddm2_1ddi_videoprocessorsetoutputhdrmetadata)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="pfnd3dwddm2_1ddi_videoprocessorsetoutputhdrmetadata-callback-function">PFND3DWDDM2_1DDI_VIDEOPROCESSORSETOUTPUTHDRMETADATA callback function</h1>

<h2 id="description">Description</h2>

<p>Implemented by the client driver to include HDR metadata to allow the video processor to optimize video for display. This callback sets the maximum brightness capability (in nits) of the display on which the content will be presented.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="hdevice"><code>hDevice</code></h3>

<p>A handle to the display device (graphics context).</p>

<h3 id="hvideoprocessor"><code>hVideoProcessor</code></h3>

<p>A handle to the video processor object.</p>

<h3 id="type"><code>Type</code></h3>

<p>Indicates the type of the HDR metadata provided.</p>

<h3 id="size"><code>Size</code></h3>

<p>Indicates the type of the HDR metadata provided.</p>

<ul>
<li>For D3DDDI_HDR_METADATA_TYPE_NONE, the size should be 0.</li>
<li>For D3DDDI_HDR_METADATA_TYPE_HDR10, the size is sizeof(<a href="d3dddi_hdr_metadata_hdr10" title="typedef struct _D3DDDI_HDR_METADATA_HDR10 {&#10;  UINT16 RedPrimary[2];&#10;  UINT16 GreenPrimary[2];&#10;  UINT16 BluePrimary[2];&#10;  UINT16 WhitePoint[2];&#10;  UINT   MaxMasteringLuminance;&#10;  UINT   MinMasteringLuminance;&#10;  UINT16 MaxContentLightLevel;&#10;  UINT16 MaxFrameAverageLightLevel;&#10;} D3DDDI_HDR_METADATA_HDR10;">D3DDDI_HDR_METADATA_HDR10</a>).</li>
</ul>

<h3 id="pmetadata"><code>pMetaData</code></h3>

<p>Points to a structure containing the HDR metadata.</p>

<ul>
<li>For D3DDDI_HDR_METADATA_TYPE_NONE, this should be NULL.</li>
<li>For D3DDDI_HDR_METADATA_TYPE_HDR10, this is a pointer to a DD3DDDI_HDR_METADATA_HDR10 structure.</li>
</ul>

<h2 id="prototype">Prototype</h2>

<p><!-- CODE_MARKER --></p>

<div class="codehilite">
<pre><span></span><code><span class="c1">//Declaration</span>

<span class="n">PFND3DWDDM2_1DDI_VIDEOPROCESSORSETOUTPUTHDRMETADATA</span><span class="w"> </span><span class="n">Pfnd3dwddm21DdiVideoprocessorsetoutputhdrmetadata</span><span class="p">;</span>

<span class="c1">// Definition</span>

<span class="n">VOID</span><span class="w"> </span><span class="nf">Pfnd3dwddm21DdiVideoprocessorsetoutputhdrmetadata</span>
<span class="p">(</span>
<span class="w">    </span><span class="n">D3D10DDI_HDEVICE</span><span class="w"> </span><span class="n">hDevice</span>
<span class="w">    </span><span class="n">D3D11_1DDI_HVIDEOPROCESSOR</span><span class="w"> </span><span class="n">hVideoProcessor</span>
<span class="w">    </span><span class="n"><a href="d3dddi_hdr_metadata_type" title="typedef enum D3DDDI_HDR_METADATA_TYPE {&#10;  D3DDDI_HDR_METADATA_TYPE_NONE&#10;} ;">D3DDDI_HDR_METADATA_TYPE</a></span><span class="w"> </span><span class="n">Type</span>
<span class="w">    </span><span class="n"><a href="uint" title="typedef unsigned int UINT;">UINT</a></span><span class="w"> </span><span class="n">Size</span>
<span class="w">    </span><span class="n">CONST</span><span class="w"> </span><span class="n">VOID</span><span class="w"> </span><span class="o">*</span><span class="n">pMetaData</span>
<span class="p">)</span>
<span class="p">{...}</span>
</code></pre>
</div>

<h2 id="remarks">Remarks</h2>

<p>When processing an HDR stream, the driver may use this brightness information to tone map the video content to optimize it for the output display.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/ns-d3d10umddi-d3dwddm2_1ddi_videodevicefuncs">D3DWDDM2_1DDI_VIDEODEVICEFUNCS structure</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3dwddm2_1ddi_videoprocessorsetoutputhdrmetadata">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d10umddi/nc-d3d10umddi-pfnd3dwddm2_1ddi_videoprocessorsetoutputhdrmetadata.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
