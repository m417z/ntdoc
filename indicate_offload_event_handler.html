<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="INDICATE_OFFLOAD_EVENT_HANDLER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>INDICATE_OFFLOAD_EVENT_HANDLER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            INDICATE_OFFLOAD_EVENT_HANDLER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ndischimney.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">INDICATE_OFFLOAD_EVENT_HANDLER IndicateOffloadEventHandler;

VOID IndicateOffloadEventHandler(
  [in] IN NDIS_HANDLE ProtocolBindingContext,
  [in] IN <a href="ndis_protocol_offload_block_list" title="typedef struct _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST {&#10;  IN NDIS_OBJECT_HEADER                Header;&#10;  IN _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST *NextBlock;&#10;#if ...&#10;  struct                               _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;&#10;  IN _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST *DependentBlockList;&#10;#else&#10;  struct                               _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;&#10;#endif&#10;  OUT NDIS_STATUS                      Status;&#10;  IN PVOID                             NdisReserved[3];&#10;  IN OUT PNDIS_OFFLOAD_HANDLE          OffloadHandle;&#10;  IN PVOID                             ProtocolReserved[2];&#10;  IN PVOID                             MiniportReserved[2];&#10;  IN PVOID                             ImReserved[2];&#10;  IN PVOID                             Scratch[2];&#10;  IN PVOID                             SourceHandle;&#10;  IN NDIS_PORT_NUMBER                  PortNumber;&#10;  IN OUT PNET_BUFFER_LIST              NetBufferListChain;&#10;} NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST, *PNDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;">PNDIS_PROTOCOL_OFFLOAD_BLOCK_LIST</a> OffloadBlockList,
  [in] IN <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> IndicationCode
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndischimney/nc-ndischimney-indicate_offload_event_handler">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/indicate_offload_event_handler.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-ndischimney-indicate_offload_event_handler)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="indicate_offload_event_handler-callback-function">INDICATE_OFFLOAD_EVENT_HANDLER callback function</h1>

<h2 id="description">Description</h2>

<p>[The TCP chimney offload feature is deprecated and should not be used.]</p>

<p>NDIS calls a protocol driver's or intermediate driver's
<em>ProtocolIndicateOffloadEvent</em> function to post an indication that was initiated by an underlying
driver's or offload target's call to the
<a href="ndismoffloadeventindicate" title="VOID NdisMOffloadEventIndicate(&#10;  [in] IN NDIS_HANDLE                       NdisMiniportHandle,&#10;  [in] IN PNDIS_MINIPORT_OFFLOAD_BLOCK_LIST OffloadBlockList,&#10;  [in] IN ULONG                             IndicationCode&#10;);">NdisMOffloadEventIndicate</a> function.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="protocolbindingcontext-in"><code>ProtocolBindingContext</code> [in]</h3>

<p>A handle to a context area that was allocated by the protocol driver. The driver maintains the per
binding context information in this context area. The driver supplied this handle to NDIS when the
driver called the
<a href="ndisopenadapterex" title="NDIS_STATUS NdisOpenAdapterEx(&#10;  [in]  NDIS_HANDLE           NdisProtocolHandle,&#10;  [in]  NDIS_HANDLE           ProtocolBindingContext,&#10;  [in]  PNDIS_OPEN_PARAMETERS OpenParameters,&#10;  [in]  NDIS_HANDLE           BindContext,&#10;  [out] PNDIS_HANDLE          NdisBindingHandle&#10;);">NdisOpenAdapterEx</a> function.</p>

<h3 id="offloadblocklist-in"><code>OffloadBlockList</code> [in]</h3>

<p>A pointer to an
<a href="ndis_protocol_offload_block_list" title="typedef struct _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST {&#10;  IN NDIS_OBJECT_HEADER                Header;&#10;  IN _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST *NextBlock;&#10;#if ...&#10;  struct                               _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;&#10;  IN _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST *DependentBlockList;&#10;#else&#10;  struct                               _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;&#10;#endif&#10;  OUT NDIS_STATUS                      Status;&#10;  IN PVOID                             NdisReserved[3];&#10;  IN OUT PNDIS_OFFLOAD_HANDLE          OffloadHandle;&#10;  IN PVOID                             ProtocolReserved[2];&#10;  IN PVOID                             MiniportReserved[2];&#10;  IN PVOID                             ImReserved[2];&#10;  IN PVOID                             Scratch[2];&#10;  IN PVOID                             SourceHandle;&#10;  IN NDIS_PORT_NUMBER                  PortNumber;&#10;  IN OUT PNET_BUFFER_LIST              NetBufferListChain;&#10;} NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST, *PNDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;">NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST</a> structure. This structure identifies the offloaded state object
on which the indication is being made. Note that there is only one <a href="ndis_miniport_offload_block_list" title="typedef struct _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST {&#10;  IN NDIS_OBJECT_HEADER                Header;&#10;  IN _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST *NextBlock;&#10;#if ...&#10;  struct                               _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST;&#10;  IN _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST *DependentBlockList;&#10;#else&#10;  struct                               _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST;&#10;#endif&#10;  OUT NDIS_STATUS                      Status;&#10;  IN PVOID                             NdisReserved[2];&#10;  IN OUT PVOID                         *MiniportOffloadContext;&#10;  IN NDIS_HANDLE                       NdisOffloadHandle;&#10;  IN PVOID                             ProtocolReserved[2];&#10;  IN PVOID                             MiniportReserved[2];&#10;  IN PVOID                             ImReserved[2];&#10;  IN PVOID                             Scratch[2];&#10;  IN PVOID                             SourceHandle;&#10;  IN NDIS_PORT_NUMBER                  PortNumber;&#10;  IN OUT PNET_BUFFER_LIST              NetBufferListChain;&#10;...">NDIS_MINIPORT_OFFLOAD_BLOCK_LIST</a>
structure. There is not a linked list of such structures.</p>

<p>The underlying offload target supplies a valid
<em>OffloadBlockList</em> pointer when making a
<strong>NeighborReachabilityQuery</strong> indication. In this case, the offload target supplies a
<a href="neighbor_offload_state_const" title="typedef struct _NEIGHBOR_OFFLOAD_STATE_CONST {&#10;  OFFLOAD_STATE_HEADER Header;&#10;  UCHAR                DlSourceAddress[32];&#10;  ULONG                VlanId : 12;&#10;} NEIGHBOR_OFFLOAD_STATE_CONST, *PNEIGHBOR_OFFLOAD_STATE_CONST;">NEIGHBOR_OFFLOAD_STATE_CONST</a> structure, a
<a href="neighbor_offload_state_cached" title="typedef struct _NEIGHBOR_OFFLOAD_STATE_CACHED {&#10;  OFFLOAD_STATE_HEADER Header;&#10;  UCHAR                DlDestinationAddress[32];&#10;  ULONG                HostReachabilityDelta;&#10;} NEIGHBOR_OFFLOAD_STATE_CACHED, *PNEIGHBOR_OFFLOAD_STATE_CACHED;">NEIGHBOR_OFFLOAD_STATE_CACHED</a> structure, and a
<a href="neighbor_offload_state_delegated" title="typedef struct _NEIGHBOR_OFFLOAD_STATE_DELEGATED {&#10;  OFFLOAD_STATE_HEADER Header;&#10;  ULONG                NicReachabilityDelta;&#10;} NEIGHBOR_OFFLOAD_STATE_DELEGATED, *PNEIGHBOR_OFFLOAD_STATE_DELEGATED;">NEIGHBOR_OFFLOAD_STATE_DELEGATED</a> structure (in that order) immediately following the
<a href="ndis_miniport_offload_block_list" title="typedef struct _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST {&#10;  IN NDIS_OBJECT_HEADER                Header;&#10;  IN _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST *NextBlock;&#10;#if ...&#10;  struct                               _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST;&#10;  IN _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST *DependentBlockList;&#10;#else&#10;  struct                               _NDIS_MINIPORT_OFFLOAD_BLOCK_LIST;&#10;#endif&#10;  OUT NDIS_STATUS                      Status;&#10;  IN PVOID                             NdisReserved[2];&#10;  IN OUT PVOID                         *MiniportOffloadContext;&#10;  IN NDIS_HANDLE                       NdisOffloadHandle;&#10;  IN PVOID                             ProtocolReserved[2];&#10;  IN PVOID                             MiniportReserved[2];&#10;  IN PVOID                             ImReserved[2];&#10;  IN PVOID                             Scratch[2];&#10;  IN PVOID                             SourceHandle;&#10;  IN NDIS_PORT_NUMBER                  PortNumber;&#10;  IN OUT PNET_BUFFER_LIST              NetBufferListChain;&#10;...">NDIS_MINIPORT_OFFLOAD_BLOCK_LIST</a> structure referenced by the
<em>OffloadBlockList</em> pointer.</p>

<h3 id="indicationcode-in"><code>IndicationCode</code> [in]</h3>

<p>The event being indicated as one of the following INDICATE_OFFLOAD_EVENT values:</p>

<h4 id="neighborreachabilityquery">NeighborReachabilityQuery</h4>

<p>Indicates that a neighbor cache entry (NCE) has become stale. For more information about NCEs,
see RFC 2461.</p>

<h4 id="neighborreachabilityindoubt">NeighborReachabilityInDoubt</h4>

<p>Reserved.</p>

<h2 id="remarks">Remarks</h2>

<p>The implementation of this function for intermediate drivers is to be determined.</p>

<h2 id="see-also">See also</h2>

<p><a href="ndis_protocol_offload_block_list" title="typedef struct _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST {&#10;  IN NDIS_OBJECT_HEADER                Header;&#10;  IN _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST *NextBlock;&#10;#if ...&#10;  struct                               _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;&#10;  IN _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST *DependentBlockList;&#10;#else&#10;  struct                               _NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;&#10;#endif&#10;  OUT NDIS_STATUS                      Status;&#10;  IN PVOID                             NdisReserved[3];&#10;  IN OUT PNDIS_OFFLOAD_HANDLE          OffloadHandle;&#10;  IN PVOID                             ProtocolReserved[2];&#10;  IN PVOID                             MiniportReserved[2];&#10;  IN PVOID                             ImReserved[2];&#10;  IN PVOID                             Scratch[2];&#10;  IN PVOID                             SourceHandle;&#10;  IN NDIS_PORT_NUMBER                  PortNumber;&#10;  IN OUT PNET_BUFFER_LIST              NetBufferListChain;&#10;} NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST, *PNDIS_PROTOCOL_OFFLOAD_BLOCK_LIST;">NDIS_PROTOCOL_OFFLOAD_BLOCK_LIST</a></p>

<p><a href="neighbor_offload_state_cached" title="typedef struct _NEIGHBOR_OFFLOAD_STATE_CACHED {&#10;  OFFLOAD_STATE_HEADER Header;&#10;  UCHAR                DlDestinationAddress[32];&#10;  ULONG                HostReachabilityDelta;&#10;} NEIGHBOR_OFFLOAD_STATE_CACHED, *PNEIGHBOR_OFFLOAD_STATE_CACHED;">NEIGHBOR_OFFLOAD_STATE_CACHED</a></p>

<p><a href="neighbor_offload_state_const" title="typedef struct _NEIGHBOR_OFFLOAD_STATE_CONST {&#10;  OFFLOAD_STATE_HEADER Header;&#10;  UCHAR                DlSourceAddress[32];&#10;  ULONG                VlanId : 12;&#10;} NEIGHBOR_OFFLOAD_STATE_CONST, *PNEIGHBOR_OFFLOAD_STATE_CONST;">NEIGHBOR_OFFLOAD_STATE_CONST</a></p>

<p><a href="neighbor_offload_state_delegated" title="typedef struct _NEIGHBOR_OFFLOAD_STATE_DELEGATED {&#10;  OFFLOAD_STATE_HEADER Header;&#10;  ULONG                NicReachabilityDelta;&#10;} NEIGHBOR_OFFLOAD_STATE_DELEGATED, *PNEIGHBOR_OFFLOAD_STATE_DELEGATED;">NEIGHBOR_OFFLOAD_STATE_DELEGATED</a></p>

<p><a href="ndismoffloadeventindicate" title="VOID NdisMOffloadEventIndicate(&#10;  [in] IN NDIS_HANDLE                       NdisMiniportHandle,&#10;  [in] IN PNDIS_MINIPORT_OFFLOAD_BLOCK_LIST OffloadBlockList,&#10;  [in] IN ULONG                             IndicationCode&#10;);">NdisMOffloadEventIndicate</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndischimney/nc-ndischimney-indicate_offload_event_handler">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ndischimney/nc-ndischimney-indicate_offload_event_handler.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
