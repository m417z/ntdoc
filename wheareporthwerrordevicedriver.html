<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WheaReportHwErrorDeviceDriver - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WheaReportHwErrorDeviceDriver - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WheaReportHwErrorDeviceDriver - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> WheaReportHwErrorDeviceDriver(
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               ErrorSourceId,
  <a href="device_object" title="typedef struct _DEVICE_OBJECT {&#10;  CSHORT                   Type;&#10;  USHORT                   Size;&#10;  LONG                     ReferenceCount;&#10;  struct _DRIVER_OBJECT    *DriverObject;&#10;  struct _DEVICE_OBJECT    *NextDevice;&#10;  struct _DEVICE_OBJECT    *AttachedDevice;&#10;  struct _IRP              *CurrentIrp;&#10;  PIO_TIMER                Timer;&#10;  ULONG                    Flags;&#10;  ULONG                    Characteristics;&#10;  __volatile PVPB          Vpb;&#10;  PVOID                    DeviceExtension;&#10;  DEVICE_TYPE              DeviceType;&#10;  CCHAR                    StackSize;&#10;  union {&#10;    LIST_ENTRY         ListEntry;&#10;    WAIT_CONTEXT_BLOCK Wcb;&#10;  } Queue;&#10;  ULONG                    AlignmentRequirement;&#10;...">PDEVICE_OBJECT</a>      DeviceObject,
  PUCHAR              ErrorData,
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>               ErrorDataLength,
  LPGUID              SectionTypeGuid,
  <a href="whea_error_severity" title="typedef enum _WHEA_ERROR_SEVERITY {&#10;  WheaErrSevRecoverable,&#10;  WheaErrSevFatal,&#10;  WheaErrSevCorrected,&#10;  WheaErrSevInformational&#10;} WHEA_ERROR_SEVERITY, *PWHEA_ERROR_SEVERITY;">WHEA_ERROR_SEVERITY</a> ErrorSeverity,
  LPSTR               DeviceFriendlyName
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/nf-ntddk-wheareporthwerrordevicedriver">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/wheareporthwerrordevicedriver.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-ntddk-wheareporthwerrordevicedriver)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="wheareporthwerrordevicedriver-function">WheaReportHwErrorDeviceDriver function</h1>

<h2 id="description">Description</h2>

<p>To report a hardware error, the driver calls the <strong>WheaReportHwErrorDeviceDriver</strong> function.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="errorsourceid"><code>ErrorSourceId</code></h3>

<p>The error source ID WHEA provided when it called the <em><a href="_whea_error_source_initialize_device_driver" title="_WHEA_ERROR_SOURCE_INITIALIZE_DEVICE_DRIVER WheaErrorSourceInitializeDeviceDriver;&#10;&#10;NTSTATUS WheaErrorSourceInitializeDeviceDriver(&#10;  PVOID Context,&#10;  ULONG ErrorSourceId&#10;)&#10;{...}">_WHEA_ERROR_SOURCE_INITIALIZE_DEVICE_DRIVER</a></em> callback.</p>

<h3 id="deviceobject"><code>DeviceObject</code></h3>

<p>A pointer to the device object associated with the error condition.</p>

<h3 id="errordata"><code>ErrorData</code></h3>

<p>The buffer containing the driver's hardware error data. This information is hardware-specific, and must not exceed the <em>MaxRawDataLength</em> that the driver provided to <strong><a href="wheaadderrorsourcedevicedriver" title="NTSTATUS WheaAddErrorSourceDeviceDriver(&#10;  PVOID                                          Context,&#10;  PWHEA_ERROR_SOURCE_CONFIGURATION_DEVICE_DRIVER Configuration,&#10;  ULONG                                          NumberPreallocatedErrorReports&#10;);">WheaAddErrorSourceDeviceDriver</a></strong>
.</p>

<h3 id="errordatalength"><code>ErrorDataLength</code></h3>

<p>A value of type <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> specifying the size, in bytes, of the error data.</p>

<h3 id="sectiontypeguid"><code>SectionTypeGuid</code></h3>

<p>Specifies what type of error data is being reported. This may be, but is not required to be, one of the GUIDs defined in the Appendix N of the <a rel="noopener" target="_blank" href="https://uefi.org/sites/default/files/resources/UEFI%20Spec%202_6.pdf">UEFI Specification</a>, in which case the error information matches one of the specified section types. The caller can also create a GUID and private section format.</p>

<h3 id="errorseverity"><code>ErrorSeverity</code></h3>

<p>An enumeration value of type <strong><a href="whea_error_severity" title="typedef enum _WHEA_ERROR_SEVERITY {&#10;  WheaErrSevRecoverable,&#10;  WheaErrSevFatal,&#10;  WheaErrSevCorrected,&#10;  WheaErrSevInformational&#10;} WHEA_ERROR_SEVERITY, *PWHEA_ERROR_SEVERITY;">WHEA_ERROR_SEVERITY</a></strong> specifying the severity of the error condition.</p>

<h3 id="devicefriendlyname"><code>DeviceFriendlyName</code></h3>

<p>An optional string up to 20 bytes in length (including NULL terminator) that describes the device associated with the error condition. This information is copied into the resulting WHEA error record and is informational only. The intent is to place this information in the error record so when event logs are created a consumer can easily troubleshoot device problems.</p>

<h2 id="return-value">Return value</h2>

<p>This function method returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> or an appropriate error code.</p>

<h2 id="remarks">Remarks</h2>

<h2 id="see-also">See also</h2>

<p><strong><a href="wheaadderrorsourcedevicedriver" title="NTSTATUS WheaAddErrorSourceDeviceDriver(&#10;  PVOID                                          Context,&#10;  PWHEA_ERROR_SOURCE_CONFIGURATION_DEVICE_DRIVER Configuration,&#10;  ULONG                                          NumberPreallocatedErrorReports&#10;);">WheaAddErrorSourceDeviceDriver</a></strong></p>

<p><strong><a href="whearemoveerrorsourcedevicedriver" title="NTSTATUS WheaRemoveErrorSourceDeviceDriver(&#10;  ULONG ErrorSourceId&#10;);">WheaRemoveErrorSourceDeviceDriver</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/nf-ntddk-wheareporthwerrordevicedriver">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddk/nf-ntddk-wheareporthwerrordevicedriver.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
