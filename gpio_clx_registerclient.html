<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="GPIO_CLX_RegisterClient - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>GPIO_CLX_RegisterClient - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            GPIO_CLX_RegisterClient - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// gpioclx.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> GPIO_CLX_RegisterClient(
  [in]      WDFDRIVER                        Driver,
  [in, out] <a href="gpio_client_registration_packet" title="typedef struct _GPIO_CLIENT_REGISTRATION_PACKET {&#10;  USHORT                                          Version;&#10;  USHORT                                          Size;&#10;  ULONG                                           Flags;&#10;  ULONG                                           ControllerContextSize;&#10;  ULONG64                                         Reserved;&#10;  PGPIO_CLIENT_PREPARE_CONTROLLER                 CLIENT_PrepareController;&#10;  PGPIO_CLIENT_RELEASE_CONTROLLER                 CLIENT_ReleaseController;&#10;  PGPIO_CLIENT_START_CONTROLLER                   CLIENT_StartController;&#10;  PGPIO_CLIENT_STOP_CONTROLLER                    CLIENT_StopController;&#10;  PGPIO_CLIENT_QUERY_CONTROLLER_BASIC_INFORMATION CLIENT_QueryControllerBasicInformation;&#10;  PGPIO_CLIENT_QUERY_SET_CONTROLLER_INFORMATION   CLIENT_QuerySetControllerInformation;&#10;  PGPIO_CLIENT_ENABLE_INTERRUPT                   CLIENT_EnableInterrupt;&#10;  PGPIO_CLIENT_DISABLE_INTERRUPT                  CLIENT_DisableInterrupt;&#10;  PGPIO_CLIENT_UNMASK_INTERRUPT                   CLIENT_UnmaskInterrupt;&#10;  PGPIO_CLIENT_MASK_INTERRUPTS                    CLIENT_MaskInterrupts;&#10;  PGPIO_CLIENT_QUERY_ACTIVE_INTERRUPTS            CLIENT_QueryActiveInterrupts;&#10;  PGPIO_CLIENT_CLEAR_ACTIVE_INTERRUPTS            CLIENT_ClearActiveInterrupts;&#10;  PGPIO_CLIENT_CONNECT_IO_PINS                    CLIENT_ConnectIoPins;&#10;  PGPIO_CLIENT_DISCONNECT_IO_PINS                 CLIENT_DisconnectIoPins;&#10;...">PGPIO_CLIENT_REGISTRATION_PACKET</a> RegistrationPacket,
  [in]      <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">PUNICODE_STRING</a>                  RegistryPath
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nf-gpioclx-gpio_clx_registerclient">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/gpio_clx_registerclient.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-gpioclx-gpio_clx_registerclient)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="gpio_clx_registerclient-function">GPIO_CLX_RegisterClient function</h1>

<h2 id="description">Description</h2>

<p>The <strong>GPIO_CLX_RegisterClient</strong> method registers a general-purpose I/O (GPIO) controller driver as a client of the GPIO framework extension (GpioClx).</p>

<h2 id="parameters">Parameters</h2>

<h3 id="driver-in"><code>Driver</code> [in]</h3>

<p>A WDFDRIVER handle to the framework driver object for the GPIO controller driver.</p>

<h3 id="registrationpacket-in-out"><code>RegistrationPacket</code> [in, out]</h3>

<p>A pointer to a caller-allocated <a href="gpio_client_registration_packet" title="typedef struct _GPIO_CLIENT_REGISTRATION_PACKET {&#10;  USHORT                                          Version;&#10;  USHORT                                          Size;&#10;  ULONG                                           Flags;&#10;  ULONG                                           ControllerContextSize;&#10;  ULONG64                                         Reserved;&#10;  PGPIO_CLIENT_PREPARE_CONTROLLER                 CLIENT_PrepareController;&#10;  PGPIO_CLIENT_RELEASE_CONTROLLER                 CLIENT_ReleaseController;&#10;  PGPIO_CLIENT_START_CONTROLLER                   CLIENT_StartController;&#10;  PGPIO_CLIENT_STOP_CONTROLLER                    CLIENT_StopController;&#10;  PGPIO_CLIENT_QUERY_CONTROLLER_BASIC_INFORMATION CLIENT_QueryControllerBasicInformation;&#10;  PGPIO_CLIENT_QUERY_SET_CONTROLLER_INFORMATION   CLIENT_QuerySetControllerInformation;&#10;  PGPIO_CLIENT_ENABLE_INTERRUPT                   CLIENT_EnableInterrupt;&#10;  PGPIO_CLIENT_DISABLE_INTERRUPT                  CLIENT_DisableInterrupt;&#10;  PGPIO_CLIENT_UNMASK_INTERRUPT                   CLIENT_UnmaskInterrupt;&#10;  PGPIO_CLIENT_MASK_INTERRUPTS                    CLIENT_MaskInterrupts;&#10;  PGPIO_CLIENT_QUERY_ACTIVE_INTERRUPTS            CLIENT_QueryActiveInterrupts;&#10;  PGPIO_CLIENT_CLEAR_ACTIVE_INTERRUPTS            CLIENT_ClearActiveInterrupts;&#10;  PGPIO_CLIENT_CONNECT_IO_PINS                    CLIENT_ConnectIoPins;&#10;  PGPIO_CLIENT_DISCONNECT_IO_PINS                 CLIENT_DisconnectIoPins;&#10;...">GPIO_CLIENT_REGISTRATION_PACKET</a> structure that contains the caller's registration information. This structure contains pointers to the event callback functions that the GPIO controller driver implements. Additionally, this structure specifies the size of the device context that the GPIO controller driver requires for its internal configuration data and state information.</p>

<h3 id="registrypath-in"><code>RegistryPath</code> [in]</h3>

<p>A pointer to a <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> structure that contains the path name of the registry key for the GPIO controller driver. This parameter should be the registry path name that was passed to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/driverentry-of-ide-controller-minidriver">DriverEntry</a> routine. For more information about driver registry keys, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/install/overview-of-registry-trees-and-keys">Registry Trees for Devices and Drivers</a>.</p>

<h2 id="return-value">Return value</h2>

<p><strong>GPIO_CLX_RegisterClient</strong> returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> if the call is successful. Possible return values include the following error codes.</p>

<table>
<thead>
<tr>
  <th>Return code</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>STATUS_INVALID_PARAMETER</strong></td>
  <td>The <em>Driver</em>, <em>RegistrationPacket</em>, or <em>RegistryPath</em> parameter is NULL.</td>
</tr>
<tr>
  <td><strong>STATUS_GPIO_INVALID_REGISTRATION_PACKET</strong></td>
  <td>The specified registration packet is not valid.</td>
</tr>
<tr>
  <td><strong>STATUS_INSUFFICIENT_RESOURCES</strong></td>
  <td>Out of memory.</td>
</tr>
</tbody>
</table>

<h2 id="remarks">Remarks</h2>

<p>The GPIO controller driver calls this method to register its event callback functions with GpioClx. Typically, the driver calls this method from its <strong><a href="driverentry" title="NTSTATUS DriverEntry(&#10;  [in] PDRIVER_OBJECT  DriverObject,&#10;  [in] PUNICODE_STRING RegistryPath&#10;);">DriverEntry</a></strong> routine, which runs shortly after the driver is loaded into memory.</p>

<p>Later, just before the GPIO controller driver unloads, the driver calls the <a href="gpio_clx_unregisterclient" title="NTSTATUS GPIO_CLX_UnregisterClient(&#10;  [in] WDFDRIVER Driver&#10;);">GPIO_CLX_UnregisterClient</a> method to cancel its registration with GpioClx.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/driverentry-of-ide-controller-minidriver">DriverEntry</a></p>

<p><a href="gpio_client_registration_packet" title="typedef struct _GPIO_CLIENT_REGISTRATION_PACKET {&#10;  USHORT                                          Version;&#10;  USHORT                                          Size;&#10;  ULONG                                           Flags;&#10;  ULONG                                           ControllerContextSize;&#10;  ULONG64                                         Reserved;&#10;  PGPIO_CLIENT_PREPARE_CONTROLLER                 CLIENT_PrepareController;&#10;  PGPIO_CLIENT_RELEASE_CONTROLLER                 CLIENT_ReleaseController;&#10;  PGPIO_CLIENT_START_CONTROLLER                   CLIENT_StartController;&#10;  PGPIO_CLIENT_STOP_CONTROLLER                    CLIENT_StopController;&#10;  PGPIO_CLIENT_QUERY_CONTROLLER_BASIC_INFORMATION CLIENT_QueryControllerBasicInformation;&#10;  PGPIO_CLIENT_QUERY_SET_CONTROLLER_INFORMATION   CLIENT_QuerySetControllerInformation;&#10;  PGPIO_CLIENT_ENABLE_INTERRUPT                   CLIENT_EnableInterrupt;&#10;  PGPIO_CLIENT_DISABLE_INTERRUPT                  CLIENT_DisableInterrupt;&#10;  PGPIO_CLIENT_UNMASK_INTERRUPT                   CLIENT_UnmaskInterrupt;&#10;  PGPIO_CLIENT_MASK_INTERRUPTS                    CLIENT_MaskInterrupts;&#10;  PGPIO_CLIENT_QUERY_ACTIVE_INTERRUPTS            CLIENT_QueryActiveInterrupts;&#10;  PGPIO_CLIENT_CLEAR_ACTIVE_INTERRUPTS            CLIENT_ClearActiveInterrupts;&#10;  PGPIO_CLIENT_CONNECT_IO_PINS                    CLIENT_ConnectIoPins;&#10;  PGPIO_CLIENT_DISCONNECT_IO_PINS                 CLIENT_DisconnectIoPins;&#10;...">GPIO_CLIENT_REGISTRATION_PACKET</a></p>

<p><a href="gpio_clx_unregisterclient" title="NTSTATUS GPIO_CLX_UnregisterClient(&#10;  [in] WDFDRIVER Driver&#10;);">GPIO_CLX_UnregisterClient</a></p>

<p><a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nf-gpioclx-gpio_clx_registerclient">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/gpioclx/nf-gpioclx-gpio_clx_registerclient.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
