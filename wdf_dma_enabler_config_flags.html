<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WDF_DMA_ENABLER_CONFIG_FLAGS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WDF_DMA_ENABLER_CONFIG_FLAGS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WDF_DMA_ENABLER_CONFIG_FLAGS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdfdmaenabler.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef enum _WDF_DMA_ENABLER_CONFIG_FLAGS {
  WDF_DMA_ENABLER_CONFIG_NO_SGLIST_PREALLOCATION = 0x00000001,
  WDF_DMA_ENABLER_CONFIG_REQUIRE_SINGLE_TRANSFER = 0x00000002
} WDF_DMA_ENABLER_CONFIG_FLAGS;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdmaenabler/ne-wdfdmaenabler-_wdf_dma_enabler_config_flags">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/wdf_dma_enabler_config_flags.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ne-wdfdmaenabler-_wdf_dma_enabler_config_flags)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_WDF_DMA_ENABLER_CONFIG_FLAGS enumeration</h1>
<h2>Description</h2>
<p>[Applies to KMDF only]</p>
<p>The <strong>WDF_DMA_ENABLER_CONFIG_FLAGS</strong> enumeration type defines flags that are used in a driver's <a href="wdf_dma_enabler_config" title="typedef struct _WDF_DMA_ENABLER_CONFIG {&#10;  ULONG                                    Size;&#10;  WDF_DMA_PROFILE                          Profile;&#10;  size_t                                   MaximumLength;&#10;  PFN_WDF_DMA_ENABLER_FILL                 EvtDmaEnablerFill;&#10;  PFN_WDF_DMA_ENABLER_FLUSH                EvtDmaEnablerFlush;&#10;  PFN_WDF_DMA_ENABLER_DISABLE              EvtDmaEnablerDisable;&#10;  PFN_WDF_DMA_ENABLER_ENABLE               EvtDmaEnablerEnable;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_START EvtDmaEnablerSelfManagedIoStart;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_STOP  EvtDmaEnablerSelfManagedIoStop;&#10;  ULONG                                    AddressWidthOverride;&#10;  ULONG                                    WdmDmaVersionOverride;&#10;  ULONG                                    Flags;&#10;} WDF_DMA_ENABLER_CONFIG, *PWDF_DMA_ENABLER_CONFIG;">WDF_DMA_ENABLER_CONFIG</a> structure.</p>
<h2>Constants</h2>
<h3><code>WDF_DMA_ENABLER_CONFIG_NO_SGLIST_PREALLOCATION:0x00000001</code></h3>
<p>The WDF_DMA_ENABLER_CONFIG_NO_SGLIST_PREALLOCATION flag applies only to the following DMA profiles:</p>
<ul>
<li>WdfDmaProfileScatterGather</li>
<li>WdfDmaProfileScatterGather64</li>
<li>WdfDmaProfileScatterGatherDuplex</li>
<li>WdfDmaProfileScatterGather64Duplex</li>
</ul>
<p>By default, when <strong>WDF_DMA_ENABLER_CONFIG_NO_SGLIST_PREALLOCATION</strong> is not set and the <a href="wdf_dma_profile" title="typedef enum _WDF_DMA_PROFILE {&#10;  WdfDmaProfileInvalid = 0,&#10;  WdfDmaProfilePacket,&#10;  WdfDmaProfileScatterGather,&#10;  WdfDmaProfilePacket64,&#10;  WdfDmaProfileScatterGather64,&#10;  WdfDmaProfileScatterGatherDuplex,&#10;  WdfDmaProfileScatterGather64Duplex,&#10;  WdfDmaProfileSystem,&#10;  WdfDmaProfileSystemDuplex&#10;} WDF_DMA_PROFILE;">WDF_DMA_PROFILE</a> is one of those in the previous list, WDF
creates a lookaside list of scatter/gather lists that is used by this DMA adapter's transaction
objects. The list entries are initialized to allow the maximum specified
transfer length. When the transaction is executed, WDF calls the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-pbuild_scatter_gather_list">BuildScatterGatherList</a> entry function. Forward progress drivers
must not set this flag and must use one of the four profiles shown previously.</p>
<p>When <strong>WDF_DMA_ENABLER_CONFIG_NO_SGLIST_PREALLOCATION</strong> is set and the <a href="wdf_dma_profile" title="typedef enum _WDF_DMA_PROFILE {&#10;  WdfDmaProfileInvalid = 0,&#10;  WdfDmaProfilePacket,&#10;  WdfDmaProfileScatterGather,&#10;  WdfDmaProfilePacket64,&#10;  WdfDmaProfileScatterGather64,&#10;  WdfDmaProfileScatterGatherDuplex,&#10;  WdfDmaProfileScatterGather64Duplex,&#10;  WdfDmaProfileSystem,&#10;  WdfDmaProfileSystemDuplex&#10;} WDF_DMA_PROFILE;">WDF_DMA_PROFILE</a> is one of those in the previous list, WDF does not create a lookaside list. When the transaction is executed, WDF calls <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-pget_scatter_gather_list">GetScatterGatherList</a>.</p>
<p>Setting <strong>WDF_DMA_ENABLER_CONFIG_NO_SGLIST_PREALLOCATION</strong> can result in reduced memory usage, particularly when the maximum transfer length is large. However, setting this flag may cause failure to perform DMA operations in low memory conditions. To guarantee forward progress when <strong>WDF_DMA_ENABLER_CONFIG_NO_SGLIST_PREALLOCATION</strong> is set, a driver might use a separate DMA enabler, or bounce transfers through a common buffer.</p>
<h3><code>WDF_DMA_ENABLER_CONFIG_REQUIRE_SINGLE_TRANSFER:0x00000002</code></h3>
<p>The <strong>WDF_DMA_ENABLER_CONFIG_REQUIRE_SINGLE_TRANSFER</strong> flag is available starting in version 1.19 of KMDF. This flag also requires DMA version 3.
To select DMA version 3, set the <strong>WdmDmaVersionOverride</strong> member of <a href="wdf_dma_enabler_config" title="typedef struct _WDF_DMA_ENABLER_CONFIG {&#10;  ULONG                                    Size;&#10;  WDF_DMA_PROFILE                          Profile;&#10;  size_t                                   MaximumLength;&#10;  PFN_WDF_DMA_ENABLER_FILL                 EvtDmaEnablerFill;&#10;  PFN_WDF_DMA_ENABLER_FLUSH                EvtDmaEnablerFlush;&#10;  PFN_WDF_DMA_ENABLER_DISABLE              EvtDmaEnablerDisable;&#10;  PFN_WDF_DMA_ENABLER_ENABLE               EvtDmaEnablerEnable;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_START EvtDmaEnablerSelfManagedIoStart;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_STOP  EvtDmaEnablerSelfManagedIoStop;&#10;  ULONG                                    AddressWidthOverride;&#10;  ULONG                                    WdmDmaVersionOverride;&#10;  ULONG                                    Flags;&#10;} WDF_DMA_ENABLER_CONFIG, *PWDF_DMA_ENABLER_CONFIG;">WDF_DMA_ENABLER_CONFIG</a> to 3.</p>
<p>This flag applies to all DMA profiles. When it is set, WDF does not fragment any WDFDMATRANSACTION created with this enabler into multiple DMA transfers. If this is not possible, attempts to initialize or execute the transaction fail. This option is intended for devices that need to receive all data in a single DMA operation.</p>
<p>Drivers also have the option of specifying this on a per-transaction level with <a href="wdfdmatransactionsetsingletransferrequirement" title="VOID WdfDmaTransactionSetSingleTransferRequirement(&#10;  [in] WDFDMATRANSACTION DmaTransaction,&#10;  [in] BOOLEAN           RequireSingleTransfer&#10;);">WdfDmaTransactionSetSingleTransferRequirement</a>.</p>
<p>For more info, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/using-single-transfer-dma">Using Single Transfer DMA</a>.</p>
<h2>Remarks</h2>
<p>You can specify a valid bitwise OR of the values on this page for the <strong>Flags</strong> member of the <a href="wdf_dma_enabler_config" title="typedef struct _WDF_DMA_ENABLER_CONFIG {&#10;  ULONG                                    Size;&#10;  WDF_DMA_PROFILE                          Profile;&#10;  size_t                                   MaximumLength;&#10;  PFN_WDF_DMA_ENABLER_FILL                 EvtDmaEnablerFill;&#10;  PFN_WDF_DMA_ENABLER_FLUSH                EvtDmaEnablerFlush;&#10;  PFN_WDF_DMA_ENABLER_DISABLE              EvtDmaEnablerDisable;&#10;  PFN_WDF_DMA_ENABLER_ENABLE               EvtDmaEnablerEnable;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_START EvtDmaEnablerSelfManagedIoStart;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_STOP  EvtDmaEnablerSelfManagedIoStop;&#10;  ULONG                                    AddressWidthOverride;&#10;  ULONG                                    WdmDmaVersionOverride;&#10;  ULONG                                    Flags;&#10;} WDF_DMA_ENABLER_CONFIG, *PWDF_DMA_ENABLER_CONFIG;">WDF_DMA_ENABLER_CONFIG</a> structure.</p>
<h2>See also</h2>
<p><a href="wdf_dma_enabler_config" title="typedef struct _WDF_DMA_ENABLER_CONFIG {&#10;  ULONG                                    Size;&#10;  WDF_DMA_PROFILE                          Profile;&#10;  size_t                                   MaximumLength;&#10;  PFN_WDF_DMA_ENABLER_FILL                 EvtDmaEnablerFill;&#10;  PFN_WDF_DMA_ENABLER_FLUSH                EvtDmaEnablerFlush;&#10;  PFN_WDF_DMA_ENABLER_DISABLE              EvtDmaEnablerDisable;&#10;  PFN_WDF_DMA_ENABLER_ENABLE               EvtDmaEnablerEnable;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_START EvtDmaEnablerSelfManagedIoStart;&#10;  PFN_WDF_DMA_ENABLER_SELFMANAGED_IO_STOP  EvtDmaEnablerSelfManagedIoStop;&#10;  ULONG                                    AddressWidthOverride;&#10;  ULONG                                    WdmDmaVersionOverride;&#10;  ULONG                                    Flags;&#10;} WDF_DMA_ENABLER_CONFIG, *PWDF_DMA_ENABLER_CONFIG;">WDF_DMA_ENABLER_CONFIG</a></p>
<p><a href="wdf_dma_profile" title="typedef enum _WDF_DMA_PROFILE {&#10;  WdfDmaProfileInvalid = 0,&#10;  WdfDmaProfilePacket,&#10;  WdfDmaProfileScatterGather,&#10;  WdfDmaProfilePacket64,&#10;  WdfDmaProfileScatterGather64,&#10;  WdfDmaProfileScatterGatherDuplex,&#10;  WdfDmaProfileScatterGather64Duplex,&#10;  WdfDmaProfileSystem,&#10;  WdfDmaProfileSystemDuplex&#10;} WDF_DMA_PROFILE;">WDF_DMA_PROFILE</a></p>
<p><a href="wdfdmatransactionsetsingletransferrequirement" title="VOID WdfDmaTransactionSetSingleTransferRequirement(&#10;  [in] WDFDMATRANSACTION DmaTransaction,&#10;  [in] BOOLEAN           RequireSingleTransfer&#10;);">WdfDmaTransactionSetSingleTransferRequirement</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdmaenabler/ne-wdfdmaenabler-_wdf_dma_enabler_config_flags">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdfdmaenabler/ne-wdfdmaenabler-_wdf_dma_enabler_config_flags.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
