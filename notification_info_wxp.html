<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NOTIFICATION_INFO_WXP - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NOTIFICATION_INFO_WXP - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NOTIFICATION_INFO_WXP - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// 1394.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NOTIFICATION_INFO_WXP {
  <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">PMDL</a>          Mdl;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         ulOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         nLength;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         fulNotificationOptions;
  PVOID         Context;
  <a href="address_fifo" title="typedef struct _ADDRESS_FIFO {&#10;  SLIST_ENTRY FifoList;&#10;  PMDL        FifoMdl;&#10;} ADDRESS_FIFO, *PADDRESS_FIFO;">PADDRESS_FIFO</a> Fifo;
  PVOID         RequestPacket;
  <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">PMDL</a>          ResponseMdl;
  PVOID         *ResponsePacket;
  PULONG        ResponseLength;
  PKEVENT       *ResponseEvent;
  RCODE         ResponseCode;
} NOTIFICATION_INFO_WXP, *PNOTIFICATION_INFO_WXP;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/1394/ns-1394-_notification_info_wxp">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/notification_info_wxp.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-1394-_notification_info_wxp)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_notification_info_wxp-structure">_NOTIFICATION_INFO_WXP structure</h1>

<h2 id="description">Description</h2>

<p>The bus driver passes NOTIFICATION_INFO to pass information to the driver-provided notification routine for a driver-allocated address range in the computer's IEEE 1394 address space. The bus driver calls the notification routine when it receives an asynchronous I/O request packet for that address.</p>

<h2 id="members">Members</h2>

<h3 id="mdl"><code>Mdl</code></h3>

<p>If non-<strong>NULL</strong>, <strong>Mdl</strong> specifies the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/">memory descriptor list (MDL)</a> for the allocated address range.</p>

<h3 id="uloffset"><code>ulOffset</code></h3>

<p>Specifies the byte offset with the <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> that corresponds to the address that received a request packet. Only used when <strong>Mdl</strong> is non-<strong>NULL</strong>.</p>

<h3 id="nlength"><code>nLength</code></h3>

<p>Specifies the number of bytes affected by the request packet. Only used when <strong>Mdl</strong> is non-<strong>NULL</strong>.</p>

<h3 id="fulnotificationoptions"><code>fulNotificationOptions</code></h3>

<p>Specifies which type of event triggered the bus driver to call the notification routine. The possible events the bus driver can return are the following:</p>

<ul>
<li>NOTIFY_FLAGS_AFTER_READ</li>
<li>NOTIFY_FLAGS_AFTER_WRITE</li>
<li>NOTIFY_FLAGS_AFTER_LOCK</li>
</ul>

<p>This member is only used when <strong>Mdl</strong> is non-<strong>NULL</strong>.</p>

<h3 id="context"><code>Context</code></h3>

<p>Pointer to specific context data for this allocated address range. The driver supplies this data through the <strong>u.AllocateAddressRange.Context</strong> member of the <a href="irb" title="typedef struct _IRB {&#10;  ULONG     FunctionNumber;&#10;  ULONG     Flags;&#10;  ULONG_PTR BusReserved[IRB_BUS_RESERVED_SZ];&#10;  ULONG_PTR PortReserved[IRB_PORT_RESERVED_SZ];&#10;  union {&#10;    IRB_REQ_ASYNC_READ                          AsyncRead;&#10;    IRB_REQ_ASYNC_WRITE                         AsyncWrite;&#10;    IRB_REQ_ASYNC_LOCK                          AsyncLock;&#10;    IRB_REQ_ISOCH_ALLOCATE_BANDWIDTH            IsochAllocateBandwidth;&#10;    IRB_REQ_ISOCH_ALLOCATE_CHANNEL              IsochAllocateChannel;&#10;    IRB_REQ_ISOCH_ALLOCATE_RESOURCES            IsochAllocateResources;&#10;    IRB_REQ_ISOCH_ATTACH_BUFFERS                IsochAttachBuffers;&#10;    IRB_REQ_ISOCH_DETACH_BUFFERS                IsochDetachBuffers;&#10;    IRB_REQ_ISOCH_FREE_BANDWIDTH                IsochFreeBandwidth;&#10;    IRB_REQ_ISOCH_FREE_CHANNEL                  IsochFreeChannel;&#10;    IRB_REQ_ISOCH_FREE_RESOURCES                IsochFreeResources;&#10;    IRB_REQ_ISOCH_LISTEN                        IsochListen;&#10;    IRB_REQ_ISOCH_QUERY_CURRENT_CYCLE_TIME      IsochQueryCurrentCycleTime;&#10;    IRB_REQ_ISOCH_QUERY_RESOURCES               IsochQueryResources;&#10;...">IRB</a> for the original REQUEST_ALLOCATE_ADDRESS_RANGE request.</p>

<h3 id="fifo"><code>Fifo</code></h3>

<p>Pointer to the <a rel="noopener" target="_blank" href="address_fifo">ADDRESS_FIFO</a> structure that contains the FIFO element just completed. Only used if the driver submitted an <a href="address_fifo" title="typedef struct _ADDRESS_FIFO {&#10;  SLIST_ENTRY FifoList;&#10;  PMDL        FifoMdl;&#10;} ADDRESS_FIFO, *PADDRESS_FIFO;">ADDRESS_FIFO</a> list in the original REQUEST_ALLOCATE_ADDRESS_RANGE request.</p>

<h3 id="requestpacket"><code>RequestPacket</code></h3>

<p>If non-<strong>NULL</strong>, <strong>RequestPacket</strong> points to the original request packet. The bus driver only supplies this if the device driver did not supply an <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> or an <a href="address_fifo" title="typedef struct _ADDRESS_FIFO {&#10;  SLIST_ENTRY FifoList;&#10;  PMDL        FifoMdl;&#10;} ADDRESS_FIFO, *PADDRESS_FIFO;">ADDRESS_FIFO</a> list in the original REQUEST_ALLOCATE_ADDRESS_RANGE request.</p>

<h3 id="responsemdl"><code>ResponseMdl</code></h3>

<p>If non-<strong>NULL</strong>, <strong>ResponseMdl</strong> points to an uninitialized <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a>. The driver must initialize this <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> for a nonpageable buffer, and fill the buffer with the response packet. The bus driver only supplies this if the device driver did not supply an <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> or an <a href="address_fifo" title="typedef struct _ADDRESS_FIFO {&#10;  SLIST_ENTRY FifoList;&#10;  PMDL        FifoMdl;&#10;} ADDRESS_FIFO, *PADDRESS_FIFO;">ADDRESS_FIFO</a> list in the original REQUEST_ALLOCATE_ADDRESS_RANGE request.</p>

<h3 id="responsepacket"><code>ResponsePacket</code></h3>

<p>If non-<strong>NULL</strong>, <strong>ResponsePacket</strong> points to a memory location that the driver fills in with a pointer to the data (quadlet or block) to be returned in the response packet. The bus driver only supplies this if the device driver did not supply an <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> or an <a href="address_fifo" title="typedef struct _ADDRESS_FIFO {&#10;  SLIST_ENTRY FifoList;&#10;  PMDL        FifoMdl;&#10;} ADDRESS_FIFO, *PADDRESS_FIFO;">ADDRESS_FIFO</a> list in the original REQUEST_ALLOCATE_ADDRESS_RANGE request.</p>

<h3 id="responselength"><code>ResponseLength</code></h3>

<p>If non-<strong>NULL</strong>, <strong>ResponseLength</strong> points to a memory location that the driver fills in with the length of its response packet. The bus driver only supplies this if the device driver did not supply an <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> or an <a href="address_fifo" title="typedef struct _ADDRESS_FIFO {&#10;  SLIST_ENTRY FifoList;&#10;  PMDL        FifoMdl;&#10;} ADDRESS_FIFO, *PADDRESS_FIFO;">ADDRESS_FIFO</a> list in the original REQUEST_ALLOCATE_ADDRESS_RANGE request.</p>

<h3 id="responseevent"><code>ResponseEvent</code></h3>

<p>If non-<strong>NULL</strong>, <strong>ResponseEvent</strong> points to a memory location that the driver fills in with the kernel event the bus driver should use to signal that it has completed sending the response packet. The bus driver only supplies this if the device driver did not supply an <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> or an <a href="address_fifo" title="typedef struct _ADDRESS_FIFO {&#10;  SLIST_ENTRY FifoList;&#10;  PMDL        FifoMdl;&#10;} ADDRESS_FIFO, *PADDRESS_FIFO;">ADDRESS_FIFO</a> list in the original REQUEST_ALLOCATE_ADDRESS_RANGE request.</p>

<h3 id="responsecode"><code>ResponseCode</code></h3>

<p>Specifies the result of the driver's response to the request. The driver must report the response result by setting <strong>ResponseCode</strong> to a valid RCODE value.</p>

<p>The following table describes the RCODE values:</p>

<table>
<thead>
<tr>
  <th>RCODE value</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>RCODE_RESPONSE_COMPLETE</td>
  <td>The driver has successfully completed the request.</td>
</tr>
<tr>
  <td>RCODE_RESERVED1</td>
  <td>Reserved. The driver must not use this value to report the response result.</td>
</tr>
<tr>
  <td>RCODE_RESERVED2</td>
  <td>Reserved. The driver must not use this value to report the response result.</td>
</tr>
<tr>
  <td>RCODE_RESERVED3</td>
  <td>Reserved. The driver must not use this value to report the response result.</td>
</tr>
<tr>
  <td>RCODE_CONFLICT_ERROR</td>
  <td>A resource conflict was detected. The request may be retried by the bus driver.</td>
</tr>
<tr>
  <td>RCODE_DATA_ERROR</td>
  <td>A hardware error has occurred and data is unavailable.</td>
</tr>
<tr>
  <td>RCODE_TYPE_ERROR</td>
  <td>A member in the request packet header was set to an unsupported or incorrect value, or an invalid transaction was attempted (such as a write request to a read-only address).</td>
</tr>
<tr>
  <td>RCODE_ADDRESS_ERROR</td>
  <td>The destination offset member in the request packet was set to an invalid or inaccessible address.</td>
</tr>
<tr>
  <td>RCODE_TIMED_OUT</td>
  <td>The 1394 device did not respond to the request.</td>
</tr>
</tbody>
</table>

<p><strong>Important</strong> Under certain conditions in Windows 7, a memory leak could occur if the driver's notification routine modifies the <strong>ResponseCode</strong> member.</p>

<h2 id="remarks">Remarks</h2>

<p>When a driver allocates an address range on the computer's IEEE 1394 address space, it may require that the bus driver notify it for some or all request packets sent to the allocated addresses. As part of the original allocate request, the driver may either require that the bus driver forward each packet for handling, or it may require that the bus driver handle the packet and notify the device driver when it has finished. For more information, see <a rel="noopener" target="_blank" href="ioctl_1394_class">REQUEST_ALLOCATE_ADDRESS_RANGE</a>.</p>

<p>If the device driver provides no backing store, the bus driver forwards each packet to the device driver for handling. The bus driver passes <strong>NULL</strong> for <strong>Mdl</strong>, and passes the packet in <strong>RequestPacket</strong>. The bus driver also passes pointers to memory locations that the device driver must fill in with the buffer for the response packet (in <strong>ResponsePacket</strong>), the buffer length (in <strong>ResponseLength</strong>), and an <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> for the buffer (in <strong>ResponseMdl</strong>). The bus driver also supplies a memory location that the driver can use to pass a kernel event object in <strong>ResponseEvent</strong>. If the device driver provides an event object, the bus driver uses it to signal the driver when it has finished sending the response packet.</p>

<p>If the driver provides the backing store in the original allocate address range request, the bus driver uses the driver's notification routine to signal that it has completed reading or writing data from the backing store. It passes the <a href="mdl" title="typedef struct _MDL {&#10;  struct _MDL      *Next;&#10;  CSHORT           Size;&#10;  CSHORT           MdlFlags;&#10;  struct _EPROCESS *Process;&#10;  PVOID            MappedSystemVa;&#10;  PVOID            StartVa;&#10;  ULONG            ByteCount;&#10;  ULONG            ByteOffset;&#10;} MDL, *PMDL;">MDL</a> of the backing store in the <strong>Mdl</strong> member, and the starting location and size within the associated buffer in <strong>ulOffset</strong> and <strong>nLength</strong>. The bus driver also passes the type of event that led to notification in <strong>fulNotificationOptions</strong>.</p>

<p>If the device driver is using a linked list of <a href="address_fifo" title="typedef struct _ADDRESS_FIFO {&#10;  SLIST_ENTRY FifoList;&#10;  PMDL        FifoMdl;&#10;} ADDRESS_FIFO, *PADDRESS_FIFO;">ADDRESS_FIFO</a>'s as the backing store, the bus driver returns the list element it popped off in <strong>Fifo</strong>.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="ioctl_1394_class">REQUEST_ALLOCATE_ADDRESS_RANGE</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/1394/ns-1394-_notification_info_wxp">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/1394/ns-1394-_notification_info_wxp.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
