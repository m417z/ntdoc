<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGKDDI_MIRACAST_QUERY_CAPS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGKDDI_MIRACAST_QUERY_CAPS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGKDDI_MIRACAST_QUERY_CAPS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// dispmprt.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">DXGKDDI_MIRACAST_QUERY_CAPS DxgkddiMiracastQueryCaps;

<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> DxgkddiMiracastQueryCaps(
  [in]  PVOID DriverContext,
  [in]  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> MiracastCapsSize,
  [out] <a href="dxgk_miracast_caps" title="typedef struct _DXGK_MIRACAST_CAPS {&#10;  ULONG MaxChunkPrivateDriverDataSize;&#10;  union {&#10;    struct {&#10;      UINT HdcpSupport : 1;&#10;      UINT Reserved : 31;&#10;    };&#10;    UINT Value;&#10;  } Flags;&#10;} DXGK_MIRACAST_CAPS, *PDXGK_MIRACAST_CAPS;">DXGK_MIRACAST_CAPS</a> *MiracastCaps
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_miracast_query_caps">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgkddi_miracast_query_caps.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-dispmprt-dxgkddi_miracast_query_caps)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dxgkddi_miracast_query_caps-callback-function">DXGKDDI_MIRACAST_QUERY_CAPS callback function</h1>

<h2 id="description">Description</h2>

<p>Queries the Miracast capabilities of the current display adapter. The operating system calls this function only when the display adapter is first started and then stores the capabilities that are returned.</p>

<p><strong>Note</strong> The capabilities of the display adapter must not change while it is connected.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="drivercontext-in"><code>DriverContext</code> [in]</h3>

<p>A handle to a context block that is associated with a display adapter. The display miniport driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_add_device">DxgkDdiAddDevice</a> function previously provided this handle to the DirectX graphics kernel subsystem.</p>

<h3 id="miracastcapssize-in"><code>MiracastCapsSize</code> [in]</h3>

<p>The size, supplied by the operating system, of the <a href="dxgk_miracast_caps" title="typedef struct _DXGK_MIRACAST_CAPS {&#10;  ULONG MaxChunkPrivateDriverDataSize;&#10;  union {&#10;    struct {&#10;      UINT HdcpSupport : 1;&#10;      UINT Reserved : 31;&#10;    };&#10;    UINT Value;&#10;  } Flags;&#10;} DXGK_MIRACAST_CAPS, *PDXGK_MIRACAST_CAPS;">DXGK_MIRACAST_CAPS</a> structure pointed to by the <em>MiracastCaps</em> parameter.</p>

<p>The driver should check this value before it fills the structure.</p>

<h3 id="miracastcaps-out"><code>MiracastCaps</code> [out]</h3>

<p>A pointer to an operating system-provided buffer that holds a <a href="dxgk_miracast_caps" title="typedef struct _DXGK_MIRACAST_CAPS {&#10;  ULONG MaxChunkPrivateDriverDataSize;&#10;  union {&#10;    struct {&#10;      UINT HdcpSupport : 1;&#10;      UINT Reserved : 31;&#10;    };&#10;    UINT Value;&#10;  } Flags;&#10;} DXGK_MIRACAST_CAPS, *PDXGK_MIRACAST_CAPS;">DXGK_MIRACAST_CAPS</a> structure that the driver fills with Miracast device capabilities.</p>

<h2 id="return-value">Return value</h2>

<p>Returns <strong><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></strong> if it succeeds. Otherwise, it returns one of the error codes that are defined in Ntstatus.h.</p>

<h2 id="remarks">Remarks</h2>

<h3 id="synchronization">Synchronization</h3>

<p>The operating system guarantees that this function follows the third-level synchronization mode as defined in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/threading-and-synchronization-third-level">Threading and Synchronization Third Level</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="dxgk_miracast_caps" title="typedef struct _DXGK_MIRACAST_CAPS {&#10;  ULONG MaxChunkPrivateDriverDataSize;&#10;  union {&#10;    struct {&#10;      UINT HdcpSupport : 1;&#10;      UINT Reserved : 31;&#10;    };&#10;    UINT Value;&#10;  } Flags;&#10;} DXGK_MIRACAST_CAPS, *PDXGK_MIRACAST_CAPS;">DXGK_MIRACAST_CAPS</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_add_device">DxgkDdiAddDevice</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_miracast_query_caps">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/dispmprt/nc-dispmprt-dxgkddi_miracast_query_caps.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
