<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="TAPE_INIT_DATA_EX - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>TAPE_INIT_DATA_EX - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            TAPE_INIT_DATA_EX - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// minitape.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _TAPE_INIT_DATA_EX {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                        InitDataSize;
  <a href="tape_verify_inquiry_routine" title="TAPE_VERIFY_INQUIRY_ROUTINE TapeVerifyInquiryRoutine;&#10;&#10;BOOLEAN TapeVerifyInquiryRoutine(&#10;  [in] PINQUIRYDATA InquiryData,&#10;  [in] PMODE_CAPABILITIES_PAGE ModeCapabilitiesPage&#10;)&#10;{...}">TAPE_VERIFY_INQUIRY_ROUTINE</a>  VerifyInquiry;
  BOOLEAN                      QueryModeCapabilitiesPage;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                        MinitapeExtensionSize;
  <a href="tape_extension_init_routine" title="TAPE_EXTENSION_INIT_ROUTINE TapeExtensionInitRoutine;&#10;&#10;VOID TapeExtensionInitRoutine(&#10;  [in] PVOID MinitapeExtension,&#10;  [in] PINQUIRYDATA InquiryData,&#10;  [in] PMODE_CAPABILITIES_PAGE ModeCapabilitiesPage&#10;)&#10;{...}">TAPE_EXTENSION_INIT_ROUTINE</a>  ExtensionInit;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                        DefaultTimeOutValue;
  <a href="tape_error_routine" title="TAPE_ERROR_ROUTINE TapeErrorRoutine;&#10;&#10;VOID TapeErrorRoutine(&#10;  [in]      PVOID MinitapeExtension,&#10;  [in]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in, out] PTAPE_STATUS TapeStatus&#10;)&#10;{...}">TAPE_ERROR_ROUTINE</a>           TapeError;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                        CommandExtensionSize;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> CreatePartition;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> Erase;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> GetDriveParameters;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> GetMediaParameters;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> GetPosition;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> GetStatus;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> Prepare;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> SetDriveParameters;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> SetMediaParameters;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> SetPosition;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> WriteMarks;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> PreProcessReadWrite;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> TapeGetMediaTypes;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                        MediaTypesSupported;
  <a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a> TapeWMIOperations;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                        Reserved[2];
} TAPE_INIT_DATA_EX, *PTAPE_INIT_DATA_EX;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/ns-minitape-_tape_init_data_ex">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/tape_init_data_ex.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-minitape-_tape_init_data_ex)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="tape_init_data_ex-structure">TAPE_INIT_DATA_EX structure</h1>

<h2 id="description">Description</h2>

<p>TAPE_INIT_DATA_EX defines values and routines that are specific to a Windows 2000 tape miniclass driver. The tape miniclass <strong><a href="driverentry" title="NTSTATUS DriverEntry(&#10;  [in] PDRIVER_OBJECT  DriverObject,&#10;  [in] PUNICODE_STRING RegistryPath&#10;);">DriverEntry</a></strong> routine passes this information to the tape class driver to complete miniclass driver initialization.</p>

<h2 id="members">Members</h2>

<h3 id="initdatasize"><code>InitDataSize</code></h3>

<p>Size of this structure, in bytes.</p>

<h3 id="verifyinquiry"><code>VerifyInquiry</code></h3>

<p>Specifies the entry point of the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_verify_inquiry_routine"><strong>TapeMiniVerifyInquiry</strong></a> routine, which determines whether the driver supports a given device. This routine is required.</p>

<h3 id="querymodecapabilitiespage"><code>QueryModeCapabilitiesPage</code></h3>

<p>Directs the tape class driver when <strong>TRUE</strong> to pass a mode capabilities page to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_verify_inquiry_routine"><strong>TapeMiniVerifyInquiry</strong></a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_extension_init_routine"><strong>TapeMiniExtensionInit</strong></a> routines.</p>

<h3 id="minitapeextensionsize"><code>MinitapeExtensionSize</code></h3>

<p>Specifies the size, in bytes, of a driver-specific context area. If this member is nonzero, <strong>ExtensionInit</strong> must not be <strong>NULL</strong>. This value is optional and must be set to zero if not used.</p>

<h3 id="extensioninit"><code>ExtensionInit</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_extension_init_routine"><strong>TapeMiniExtensionInit</strong></a> routine, which initializes an optional minitape extension, if any. If <strong>MiniTapeExtensionSize</strong> is zero, <strong>ExtensionInit</strong> must be <strong>NULL</strong>.</p>

<h3 id="defaulttimeoutvalue"><code>DefaultTimeOutValue</code></h3>

<p>Specifies the number of seconds that the tape class driver waits for an SRB request before canceling it. If this value is zero, the tape class driver sets an appropriate default value. The tape class driver always uses the default time-out value for read and write requests. The routines contained in the TAPE_INIT_DATA_EX structure can override the default time-out value for device control requests by setting <strong>TimeOutValue</strong> in an SRB.</p>

<h3 id="tapeerror"><code>TapeError</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_error_routine"><strong>TapeMiniTapeError</strong></a> routine, which augments the error-handling activities of the tape class driver. This routine is optional. If one is not used, <strong>TapeError</strong> must be set to <strong>NULL</strong>.</p>

<h3 id="commandextensionsize"><code>CommandExtensionSize</code></h3>

<p>Specifies the size, in bytes, of a command extension to be allocated before the start of each tape command. A tape miniclass driver uses the command extension to store context during the processing of tape commands. Its size and internal structure are defined by the tape miniclass driver. A command extension is optional. If one is not used, <strong>CommandExtensionSize</strong> must be set to zero.</p>

<h3 id="createpartition"><code>CreatePartition</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniCreatePartition</strong></a> routine, which creates a partition on a tape. This routine is required.</p>

<h3 id="erase"><code>Erase</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniErase</strong></a> routine, which erases a tape. This routine is required.</p>

<h3 id="getdriveparameters"><code>GetDriveParameters</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniGetDriveParameters</strong></a> routine, which handles requests to get drive parameters. This routine is required.</p>

<h3 id="getmediaparameters"><code>GetMediaParameters</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniGetMediaParameters</strong></a> routine, which handles requests to get media parameters. This routine is required.</p>

<h3 id="getposition"><code>GetPosition</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniGetPosition</strong></a> routine, which handles requests to get the position of a tape. This routine is required.</p>

<h3 id="getstatus"><code>GetStatus</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniGetStatus</strong></a> routine, which handles requests for status. This routine is required.</p>

<h3 id="prepare"><code>Prepare</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniPrepare</strong></a> routine, which prepares a tape device. This routine is required.</p>

<h3 id="setdriveparameters"><code>SetDriveParameters</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniSetDriveParameters</strong></a> routine, which sets drive parameters. This routine is required.</p>

<h3 id="setmediaparameters"><code>SetMediaParameters</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniSetMediaParameters</strong></a> routine, which sets media parameters. This routine is required.</p>

<h3 id="setposition"><code>SetPosition</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniSetPosition</strong></a> routine, which positions a tape. This routine is required.</p>

<h3 id="writemarks"><code>WriteMarks</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniWriteMarks</strong></a> routine, which writes marks to tape. This routine is required.</p>

<h3 id="preprocessreadwrite"><code>PreProcessReadWrite</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniPreProcessReadWrite</strong></a> routine, which executes device-specific operations before all reads and writes. This routine is optional and is not needed by most drivers. If one is not used, <strong>PreProcessReadWrite</strong> must be <strong>NULL</strong>.</p>

<h3 id="tapegetmediatypes"><code>TapeGetMediaTypes</code></h3>

<p>Pointer to the tape miniclass driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniGetMediaTypes</strong></a> routine, which gets a description of each media type supported by a tape device. This routine is required.</p>

<h3 id="mediatypessupported"><code>MediaTypesSupported</code></h3>

<p>Indicates the number of media types supported by the device.</p>

<h3 id="tapewmioperations"><code>TapeWMIOperations</code></h3>

<p>Pointer to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/nc-minitape-tape_process_command_routine"><strong>TapeMiniWMIControl</strong></a> routine.</p>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Reserved.</p>

<h2 id="remarks">Remarks</h2>

<p>A tape miniclass driver's <strong><a href="driverentry" title="NTSTATUS DriverEntry(&#10;  [in] PDRIVER_OBJECT  DriverObject,&#10;  [in] PUNICODE_STRING RegistryPath&#10;);">DriverEntry</a></strong> routine calls <strong><a href="tapeclasszeromemory" title="SCSIPORT_API VOID TapeClassZeroMemory(&#10;  [in, out] PVOID Buffer,&#10;  [in]      ULONG BufferSize&#10;);">TapeClassZeroMemory</a></strong> to clear TAPE_INIT_DATA_EX, fills in the required members and any appropriate optional members, and <strong><a href="tapeclassinitialize" title="SCSIPORT_API ULONG TapeClassInitialize(&#10;  [in] PVOID              Argument1,&#10;  [in] PVOID              Argument2,&#10;  [in] PTAPE_INIT_DATA_EX TapeInitData&#10;);">TapeClassInitialize</a></strong> with a pointer to this structure.</p>

<p>The names of the tape miniclass driver routines indicated in the member descriptions of this structure are just placeholder names. The prototype for these routines is declared in <em>newtape.h</em> as <strong><a href="tape_process_command_routine" title="TAPE_PROCESS_COMMAND_ROUTINE TapeProcessCommandRoutine;&#10;&#10;TAPE_STATUS TapeProcessCommandRoutine(&#10;  [in, out]      PVOID MinitapeExtension,&#10;  [in, out]      PVOID CommandExtension,&#10;  [in, out]      PVOID CommandParameters,&#10;  [in, out]      PSCSI_REQUEST_BLOCK Srb,&#10;  [in]           ULONG CallNumber,&#10;  [in, optional] TAPE_STATUS StatusOfLastCommand,&#10;  [in, out]      PULONG RetryFlags&#10;)&#10;{...}">TAPE_PROCESS_COMMAND_ROUTINE</a></strong>.</p>

<p>The meaning of this prototype's parameters are different for each miniclass driver routine. For detailed information about how these parameters are used see the descriptions for each individual miniclass driver routine.</p>

<h2 id="see-also">See also</h2>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/minitape/ns-minitape-_tape_init_data_ex">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/minitape/ns-minitape-_tape_init_data_ex.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
