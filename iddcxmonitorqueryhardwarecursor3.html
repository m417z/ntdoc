<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IddCxMonitorQueryHardwareCursor3 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IddCxMonitorQueryHardwareCursor3 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IddCxMonitorQueryHardwareCursor3 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// iddcx.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">HRESULT IddCxMonitorQueryHardwareCursor3(
  IDDCX_MONITOR                 MonitorObject,
  const <a href="idarg_in_query_hwcursor" title="struct IDARG_IN_QUERY_HWCURSOR {&#10;  [in]  DWORD LastShapeId;&#10;  [in]  UINT  ShapeBufferSizeInBytes;&#10;  [out] PBYTE pShapeBuffer;&#10;};">IDARG_IN_QUERY_HWCURSOR</a> *pInArgs,
  <a href="idarg_out_query_hwcursor3" title="struct IDARG_OUT_QUERY_HWCURSOR3 {&#10;  BOOL                    IsCursorVisible;&#10;  INT                     X;&#10;  INT                     Y;&#10;  BOOL                    IsCursorShapeUpdated;&#10;  IDDCX_CURSOR_SHAPE_INFO CursorShapeInfo;&#10;  BOOL                    PositionValid;&#10;  UINT                    PositionId;&#10;  UINT                    SdrWhiteLevel;&#10;};">IDARG_OUT_QUERY_HWCURSOR3</a>     *pOutArgs
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/nf-iddcx-iddcxmonitorqueryhardwarecursor3">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/iddcxmonitorqueryhardwarecursor3.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-iddcx-iddcxmonitorqueryhardwarecursor3)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2>Description</h2>
<p>An indirect display driver calls <strong>IddCxMonitorQueryHardwareCursor3</strong> to retrieve the current hardware cursor information for the specified monitor. This function version adds the SDR white level which a driver must apply to the cursor if the monitor is in an HDR mode.</p>
<h2>Parameters</h2>
<h3><code>MonitorObject</code></h3>
<p>[in] An <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx-objects"><strong>IDDCX_MONITOR</strong></a> object which is the monitor's OS context handle created by <strong><a href="iddcxmonitorcreate" title="NTSTATUS IddCxMonitorCreate(&#10;  [in]  IDDCX_ADAPTER                AdapterObject,&#10;  [in]  const IDARG_IN_MONITORCREATE *pInArgs,&#10;  [out] IDARG_OUT_MONITORCREATE      *pOutArgs&#10;);">IddCxMonitorCreate</a></strong>.</p>
<h3><code>pInArgs</code></h3>
<p>Pointer to an <strong><a href="idarg_in_query_hwcursor" title="struct IDARG_IN_QUERY_HWCURSOR {&#10;  [in]  DWORD LastShapeId;&#10;  [in]  UINT  ShapeBufferSizeInBytes;&#10;  [out] PBYTE pShapeBuffer;&#10;};">IDARG_IN_QUERY_HWCURSOR</a></strong> structure containing this function's input arguments.</p>
<h3><code>pOutArgs</code></h3>
<p>Pointer to an <strong><a href="idarg_out_query_hwcursor3" title="struct IDARG_OUT_QUERY_HWCURSOR3 {&#10;  BOOL                    IsCursorVisible;&#10;  INT                     X;&#10;  INT                     Y;&#10;  BOOL                    IsCursorShapeUpdated;&#10;  IDDCX_CURSOR_SHAPE_INFO CursorShapeInfo;&#10;  BOOL                    PositionValid;&#10;  UINT                    PositionId;&#10;  UINT                    SdrWhiteLevel;&#10;};">IDARG_OUT_QUERY_HWCURSOR3</a></strong> structure in which the monitor's current hardware cursor information is returned.</p>
<h2>Return value</h2>
<p><strong><a href="iddcxmonitorqueryhardwarecursor2" title="NTSTATUS IddCxMonitorQueryHardwareCursor2(&#10;  IDDCX_MONITOR                 MonitorObject,&#10;  const IDARG_IN_QUERY_HWCURSOR *pInArgs,&#10;  IDARG_OUT_QUERY_HWCURSOR2     *pOutArgs&#10;);">IddCxMonitorQueryHardwareCursor2</a></strong> returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> upon success; otherwise it returns an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/ntstatus-values">appropriate NTSTATUS error code</a>. An error code of STATUS_GRAPHICS_PATH_NOT_IN_TOPOLOGY is a transient error indicating that the <strong>MonitorObject</strong> is not currently in an active path.</p>
<h2>Remarks</h2>
<p><strong>IddCxMonitorQueryHardwareCursor3</strong> retrieves the current hardware cursor information for the specified monitor and places it into the caller-supplied buffer that <strong>pOutArgs</strong> points to. This function is very similar to <strong><a href="iddcxmonitorqueryhardwarecursor2" title="NTSTATUS IddCxMonitorQueryHardwareCursor2(&#10;  IDDCX_MONITOR                 MonitorObject,&#10;  const IDARG_IN_QUERY_HWCURSOR *pInArgs,&#10;  IDARG_OUT_QUERY_HWCURSOR2     *pOutArgs&#10;);">IddCxMonitorQueryHardwareCursor2</a></strong>, but additionally provides the SDR white level value. The SDR white level is required because all cursor images are in SDR format and the driver needs to ensure they are displayed at the correct brightness.</p>
<p>For more information about HDR support, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.10-updates">IddCx version 1.10 updates</a>.</p>
<h2>See also</h2>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx-objects"><strong>IDDCX_MONITOR</strong></a></p>
<p><strong><a href="idarg_in_query_hwcursor" title="struct IDARG_IN_QUERY_HWCURSOR {&#10;  [in]  DWORD LastShapeId;&#10;  [in]  UINT  ShapeBufferSizeInBytes;&#10;  [out] PBYTE pShapeBuffer;&#10;};">IDARG_IN_QUERY_HWCURSOR</a></strong></p>
<p><strong><a href="idarg_out_query_hwcursor3" title="struct IDARG_OUT_QUERY_HWCURSOR3 {&#10;  BOOL                    IsCursorVisible;&#10;  INT                     X;&#10;  INT                     Y;&#10;  BOOL                    IsCursorShapeUpdated;&#10;  IDDCX_CURSOR_SHAPE_INFO CursorShapeInfo;&#10;  BOOL                    PositionValid;&#10;  UINT                    PositionId;&#10;  UINT                    SdrWhiteLevel;&#10;};">IDARG_OUT_QUERY_HWCURSOR3</a></strong></p>
<p><strong><a href="iddcxmonitorsetuphardwarecursor" title="NTSTATUS IddCxMonitorSetupHardwareCursor(&#10;  [in] IDDCX_MONITOR                 MonitorObject,&#10;  [in] const IDARG_IN_SETUP_HWCURSOR *pInArgs&#10;);">IddCxMonitorSetupHardwareCursor</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/nf-iddcx-iddcxmonitorqueryhardwarecursor3">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/iddcx/nf-iddcx-iddcxmonitorqueryhardwarecursor3.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
