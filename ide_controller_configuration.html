<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IDE_CONTROLLER_CONFIGURATION - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IDE_CONTROLLER_CONFIGURATION - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IDE_CONTROLLER_CONFIGURATION - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// irb.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _IDE_CONTROLLER_CONFIGURATION {
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                  Version;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                   NumberOfChannels;
  IDE_OPERATION_MODE      ControllerMode;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                   NumberOfPhysicalBreaks;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   MaximumTransferLength;
  BOOLEAN                 Reserved;
  BOOLEAN                 NativeModeEnabled;
  BOOLEAN                 Dma64BitAddress;
  BOOLEAN                 BusMaster;
  <a href="ide_bus_type" title="typedef enum {&#10;  IdeBusPata,&#10;  IdeBusSata,&#10;  IdeBusUnknown&#10;} IDE_BUS_TYPE, *PIDE_BUS_TYPE;">IDE_BUS_TYPE</a>            AtaBusType;
  <a href="ide_miniport_resources" title="typedef struct _IDE_MINIPORT_RESOURCES {&#10;  ULONG             NumberOfAccessRanges;&#10;  PIDE_ACCESS_RANGE IdeAccessRange;&#10;} IDE_MINIPORT_RESOURCES, *PIDE_MINIPORT_RESOURCES;">PIDE_MINIPORT_RESOURCES</a> ControllerResources;
} IDE_CONTROLLER_CONFIGURATION, *PIDE_CONTROLLER_CONFIGURATION;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/ns-irb-_ide_controller_configuration">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ide_controller_configuration.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-irb-_ide_controller_configuration)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ide_controller_configuration-structure">_IDE_CONTROLLER_CONFIGURATION structure</h1>

<h2 id="description">Description</h2>

<p>The IDE_CONTROLLER_CONFIGURATION structure is used to pass controller configuration information between the port driver and the miniport driver.</p>

<p><strong>Note</strong> The ATA port driver and ATA miniport driver models may be altered or unavailable in the future. Instead, we recommend using the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-driver">Storport driver</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-miniport-drivers">Storport miniport</a> driver models.</p>

<h2 id="members">Members</h2>

<h3 id="version"><code>Version</code></h3>

<p>The port driver sets this field to indicate the version of the port driver. The port driver sets the version to sizeof(IDE_CONTROLLER_CONFIGURATION). The miniport driver should verify that the version is greater than or equal to the one it is using.</p>

<h3 id="numberofchannels"><code>NumberOfChannels</code></h3>

<p>Specifies the number of channels supported by the HBA. Note that this indicates the total number of channels including the ones that are disabled.</p>

<h3 id="controllermode"><code>ControllerMode</code></h3>

<p>The port driver sets this field to inform the ATA miniport which mode it is running at. There are two possible modes:</p>

<table>
<thead>
<tr>
  <th>Mode</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>IdeModeNormal</td>
  <td>This is the standard full capabilities mode where the ATA miniport may operate normally.</td>
</tr>
<tr>
  <td>IdeModeDump</td>
  <td>This is the limited no memory mode that an ATA miniport operates in during hibernate or crashdump. Call Back Routines and Registry Access Routines cannot be used when in this mode.</td>
</tr>
</tbody>
</table>

<h3 id="numberofphysicalbreaks"><code>NumberOfPhysicalBreaks</code></h3>

<p>Specifies the maximum number of breaks between address ranges that a data buffer can have if the HBA supports scatter/gather. In other words, the number of scatter/gather lists minus one. By default, the value of this member is IDE_UNINITIALIZED_VALUE, which indicates the HBA can support an unlimited number of physical discontinuities. If the port driver sets a value for this member, the miniport driver can adjust the value lower but no higher. If this member is IDE_UNINITIALIZED_VALUE, the miniport driver must reset this member according to the HBA's scatter/gather capacity.</p>

<h3 id="maximumtransferlength"><code>MaximumTransferLength</code></h3>

<p>Specifies the maximum number of bytes the HBA can transfer in a single transfer operation. By default, the value of this member is IDE_UNINITIALIZED_VALUE, which indicates an unlimited maximum transfer size.</p>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Reserved for future use. The miniport driver must not use this field.</p>

<h3 id="nativemodeenabled"><code>NativeModeEnabled</code></h3>

<p>The miniport driver could set this member to <strong>TRUE</strong> to indicate that the controller is to be operated in Native mode.</p>

<h3 id="dma64bitaddress"><code>Dma64BitAddress</code></h3>

<p>The miniport driver could set this member to <strong>TRUE</strong> to indicate support for 64 bit DMA operation.</p>

<h3 id="busmaster"><code>BusMaster</code></h3>

<p>The miniport driver could set this member to <strong>TRUE</strong> to indicate bus mastering support.</p>

<h3 id="atabustype"><code>AtaBusType</code></h3>

<p>Indicates whether it is a SATA or a PATA controller.</p>

<h3 id="controllerresources"><code>ControllerResources</code></h3>

<p>Provides the hardware resources for the ATA controller.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/ns-irb-_ide_controller_configuration">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/irb/ns-irb-_ide_controller_configuration.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
