<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="CONTROLLER_ATTRIBUTE_FLAGS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>CONTROLLER_ATTRIBUTE_FLAGS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            CONTROLLER_ATTRIBUTE_FLAGS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// gpioclx.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef union _CONTROLLER_ATTRIBUTE_FLAGS {
  struct {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> MemoryMappedController : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ActiveInterruptsAutoClearOnRead : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> FormatIoRequestsAsMasks : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DeviceIdlePowerMgmtSupported : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> BankIdlePowerMgmtSupported : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> EmulateDebouncing : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> EmulateActiveBoth : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> IndependentIoHwSupported : 1;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Reserved : 24;
  };
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  AsULONG;
} CONTROLLER_ATTRIBUTE_FLAGS, *PCONTROLLER_ATTRIBUTE_FLAGS;</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/ns-gpioclx-_controller_attribute_flags">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/controller_attribute_flags.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-gpioclx-_controller_attribute_flags)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_CONTROLLER_ATTRIBUTE_FLAGS structure</h1>
<h2>Description</h2>
<p>The <strong>CONTROLLER_ATTRIBUTE_FLAGS</strong> structure describes the hardware attributes of the general-purpose I/O (GPIO) controller device.</p>
<h2>Members</h2>
<h3><code>MemoryMappedController</code></h3>
<p>Whether the GPIO controller is memory-mapped. If this flag is set, the hardware registers of the GPIO controller are mapped to memory addresses, and can be directly accessed by a GPIO controller driver routine that is running at DIRQL. Otherwise, the registers of the GPIO controller can be accessed only by means of I/O requests, which the GPIO controller driver sends at IRQL = PASSIVE_LEVEL. For more information, see Remarks.</p>
<h3><code>ActiveInterruptsAutoClearOnRead</code></h3>
<p>Whether active interrupts are automatically cleared when the GPIO controller driver reads them. If this flag is set, GpioClx assumes that interrupts are automatically cleared when they are read and, therefore, does not explicitly request that the driver clear active interrupts during interrupt processing. Otherwise, GpioClx explicitly requests that active interrupts be cleared. For more information, see the discussion of the <strong>ActiveInterruptsAutoClearOnRead</strong> flag bit in <a href="gpio_client_registration_packet" title="typedef struct _GPIO_CLIENT_REGISTRATION_PACKET {&#10;  USHORT                                          Version;&#10;  USHORT                                          Size;&#10;  ULONG                                           Flags;&#10;  ULONG                                           ControllerContextSize;&#10;  ULONG64                                         Reserved;&#10;  PGPIO_CLIENT_PREPARE_CONTROLLER                 CLIENT_PrepareController;&#10;  PGPIO_CLIENT_RELEASE_CONTROLLER                 CLIENT_ReleaseController;&#10;  PGPIO_CLIENT_START_CONTROLLER                   CLIENT_StartController;&#10;  PGPIO_CLIENT_STOP_CONTROLLER                    CLIENT_StopController;&#10;  PGPIO_CLIENT_QUERY_CONTROLLER_BASIC_INFORMATION CLIENT_QueryControllerBasicInformation;&#10;  PGPIO_CLIENT_QUERY_SET_CONTROLLER_INFORMATION   CLIENT_QuerySetControllerInformation;&#10;  PGPIO_CLIENT_ENABLE_INTERRUPT                   CLIENT_EnableInterrupt;&#10;  PGPIO_CLIENT_DISABLE_INTERRUPT                  CLIENT_DisableInterrupt;&#10;  PGPIO_CLIENT_UNMASK_INTERRUPT                   CLIENT_UnmaskInterrupt;&#10;  PGPIO_CLIENT_MASK_INTERRUPTS                    CLIENT_MaskInterrupts;&#10;  PGPIO_CLIENT_QUERY_ACTIVE_INTERRUPTS            CLIENT_QueryActiveInterrupts;&#10;  PGPIO_CLIENT_CLEAR_ACTIVE_INTERRUPTS            CLIENT_ClearActiveInterrupts;&#10;  PGPIO_CLIENT_CONNECT_IO_PINS                    CLIENT_ConnectIoPins;&#10;  PGPIO_CLIENT_DISCONNECT_IO_PINS                 CLIENT_DisconnectIoPins;&#10;...">GPIO_CLIENT_REGISTRATION_PACKET</a>.</p>
<h3><code>FormatIoRequestsAsMasks</code></h3>
<p>Whether callback functions that read from or write to GPIO pins should specify read and write values as 64-bit masks. If this flag is set, GpioClx uses <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_read_pins_mask">CLIENT_ReadGpioPinsUsingMask</a> callbacks that read GPIO pin values into masks, and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_write_pins_mask">CLIENT_WriteGpioPinsUsingMask</a> callbacks that use masks to designate GPIO pins to set and clear. Otherwise, GpioClx uses <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_read_pins">CLIENT_ReadGpioPins</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_write_pins">CLIENT_WriteGpioPins</a> callbacks that use arrays of pin numbers to specify which GPIO pins to access. For more information, see the discussion of the <strong>FormatIoRequestsAsMasks</strong> flag bit in <a href="gpio_client_registration_packet" title="typedef struct _GPIO_CLIENT_REGISTRATION_PACKET {&#10;  USHORT                                          Version;&#10;  USHORT                                          Size;&#10;  ULONG                                           Flags;&#10;  ULONG                                           ControllerContextSize;&#10;  ULONG64                                         Reserved;&#10;  PGPIO_CLIENT_PREPARE_CONTROLLER                 CLIENT_PrepareController;&#10;  PGPIO_CLIENT_RELEASE_CONTROLLER                 CLIENT_ReleaseController;&#10;  PGPIO_CLIENT_START_CONTROLLER                   CLIENT_StartController;&#10;  PGPIO_CLIENT_STOP_CONTROLLER                    CLIENT_StopController;&#10;  PGPIO_CLIENT_QUERY_CONTROLLER_BASIC_INFORMATION CLIENT_QueryControllerBasicInformation;&#10;  PGPIO_CLIENT_QUERY_SET_CONTROLLER_INFORMATION   CLIENT_QuerySetControllerInformation;&#10;  PGPIO_CLIENT_ENABLE_INTERRUPT                   CLIENT_EnableInterrupt;&#10;  PGPIO_CLIENT_DISABLE_INTERRUPT                  CLIENT_DisableInterrupt;&#10;  PGPIO_CLIENT_UNMASK_INTERRUPT                   CLIENT_UnmaskInterrupt;&#10;  PGPIO_CLIENT_MASK_INTERRUPTS                    CLIENT_MaskInterrupts;&#10;  PGPIO_CLIENT_QUERY_ACTIVE_INTERRUPTS            CLIENT_QueryActiveInterrupts;&#10;  PGPIO_CLIENT_CLEAR_ACTIVE_INTERRUPTS            CLIENT_ClearActiveInterrupts;&#10;  PGPIO_CLIENT_CONNECT_IO_PINS                    CLIENT_ConnectIoPins;&#10;  PGPIO_CLIENT_DISCONNECT_IO_PINS                 CLIENT_DisconnectIoPins;&#10;...">GPIO_CLIENT_REGISTRATION_PACKET</a>.</p>
<h3><code>DeviceIdlePowerMgmtSupported</code></h3>
<p>Whether the GPIO controller supports device-level power management. If this flag is set, the GPIO controller can be put into a low-power (D3) state when it is idle (that is, when there are no active connections to the controller). Otherwise, the GPIO controller remains in the fully on (D0) power state any time the controller is turned on.</p>
<h3><code>BankIdlePowerMgmtSupported</code></h3>
<p>Whether the GPIO controller supports component-level power management. If this flag is set, one or more banks in the GPIO controller can be put into a low-power state independently of the other banks in the GPIO controller. Otherwise, the power states of the banks cannot be individually controlled. This flag can be set only for a GPIO controller whose registers are memory-mapped, as indicated by the <strong>MemoryMappedController</strong> flag. Typically, only a GPIO controller that is an integrated part of a SoC module is memory-mapped. A GPIO controller that is external the SoC module is typically not memory-mapped.</p>
<h3><code>EmulateDebouncing</code></h3>
<p>Whether debouncing of input signals to GPIO pins is performed by software or by hardware. If this flag is set, the GPIO controller requires debouncing to be emulated in software by the GPIO framework extension (GpioClx). Otherwise, debouncing is performed by hardware, and software-emulated debouncing is unnecessary.</p>
<h3><code>EmulateActiveBoth</code></h3>
<p>Whether the GPIO controller driver requires GpioClx to emulate active-both interrupts in software. If this flag is set, GpioClx emulates active-both interrupts in software. Otherwise, GpioClx does not emulate active-both interrupts. For more information, see Remarks.</p>
<h3><code>IndependentIoHwSupported</code></h3>
<h3><code>Reserved</code></h3>
<p>Reserved for system use.</p>
<h3><code>AsULONG</code></h3>
<h2>Remarks</h2>
<p>The <strong>Flags</strong> member of the <a href="client_controller_basic_information" title="typedef struct _CLIENT_CONTROLLER_BASIC_INFORMATION {&#10;  USHORT                     Version;&#10;  USHORT                     Size;&#10;  USHORT                     TotalPins;&#10;  UCHAR                      NumberOfPinsPerBank;&#10;  ULONG                      DeviceIdleTimeout;&#10;  CONTROLLER_ATTRIBUTE_FLAGS Flags;&#10;} CLIENT_CONTROLLER_BASIC_INFORMATION, *PCLIENT_CONTROLLER_BASIC_INFORMATION;">CLIENT_CONTROLLER_BASIC_INFORMATION</a> structure is a <strong>CONTROLLER_ATTRIBUTE_FLAGS</strong> structure.</p>
<p>GpioClx implements an interrupt service routine (ISR) to service interrupts from the GPIO controller. If the <strong>MemoryMappedController</strong> flag bit is set, this ISR directly accesses the hardware registers of the GPIO controller. Otherwise, the ISR schedules a worker thread to handle the interrupt, and this worker thread, which runs at IRQL = PASSIVE_LEVEL, calls the driver's interrupt-related callback functions to handle the interrupt. These functions use I/O requests to transfer data and control information to and from the GPIO controller's registers. Because these I/O requests are sent from a passive-level thread, they can be sent synchronously.</p>
<p>For more information about the <strong>MemoryMappedController</strong> flag bit, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/gpio/interrupt-related-callbacks">Interrupt-Related Callbacks</a>.</p>
<p>An active-both interrupt is an edge-triggered interrupt for which an interrupt request is indicated by a low-to-high or a high-to-low transition on the interrupt line. After a low-to-high transition signals an interrupt request, the interrupt line remains high until a high-to-low transition signals the next interrupt request. Similarly, after a high-to-low transition signals an interrupt request, the interrupt line remains low until a low-to-high transition signals the next interrupt request.</p>
<p>A push-button device is typically connected to an active-both interrupt. An interrupt is generated when the user presses the button, and another interrupt is generated when the button is released. If a device driver's ISR is connected to an active-both interrupt, the ISR is called on both rising and falling edges of the signal line.</p>
<p>Some GPIO controllers implement active-both interrupt inputs in hardware. However, if the hardware does not support active-both interrupts, the GPIO controller driver sets the <strong>EmulateActiveBoth</strong> flag to request that GpioClx emulate active-both interrupts in software. A driver that sets this flag must implement a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_reconfigure_interrupt">CLIENT_ReconfigureInterrupt</a> callback function. To emulate an active-both interrupt pin, GpioClx calls this function to alternately configure a GPIO pin for active-high and active-low level-mode interrupts.</p>
<h2>See also</h2>
<p><a href="client_controller_basic_information" title="typedef struct _CLIENT_CONTROLLER_BASIC_INFORMATION {&#10;  USHORT                     Version;&#10;  USHORT                     Size;&#10;  USHORT                     TotalPins;&#10;  UCHAR                      NumberOfPinsPerBank;&#10;  ULONG                      DeviceIdleTimeout;&#10;  CONTROLLER_ATTRIBUTE_FLAGS Flags;&#10;} CLIENT_CONTROLLER_BASIC_INFORMATION, *PCLIENT_CONTROLLER_BASIC_INFORMATION;">CLIENT_CONTROLLER_BASIC_INFORMATION</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_query_active_interrupts">CLIENT_QueryActiveInterrupts</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_read_pins">CLIENT_ReadGpioPins</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_read_pins_mask">CLIENT_ReadGpioPinsUsingMask</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_reconfigure_interrupt">CLIENT_ReconfigureInterrupt</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_write_pins">CLIENT_WriteGpioPins</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/nc-gpioclx-gpio_client_write_pins_mask">CLIENT_WriteGpioPinsUsingMask</a></p>
<p><a href="gpio_client_registration_packet" title="typedef struct _GPIO_CLIENT_REGISTRATION_PACKET {&#10;  USHORT                                          Version;&#10;  USHORT                                          Size;&#10;  ULONG                                           Flags;&#10;  ULONG                                           ControllerContextSize;&#10;  ULONG64                                         Reserved;&#10;  PGPIO_CLIENT_PREPARE_CONTROLLER                 CLIENT_PrepareController;&#10;  PGPIO_CLIENT_RELEASE_CONTROLLER                 CLIENT_ReleaseController;&#10;  PGPIO_CLIENT_START_CONTROLLER                   CLIENT_StartController;&#10;  PGPIO_CLIENT_STOP_CONTROLLER                    CLIENT_StopController;&#10;  PGPIO_CLIENT_QUERY_CONTROLLER_BASIC_INFORMATION CLIENT_QueryControllerBasicInformation;&#10;  PGPIO_CLIENT_QUERY_SET_CONTROLLER_INFORMATION   CLIENT_QuerySetControllerInformation;&#10;  PGPIO_CLIENT_ENABLE_INTERRUPT                   CLIENT_EnableInterrupt;&#10;  PGPIO_CLIENT_DISABLE_INTERRUPT                  CLIENT_DisableInterrupt;&#10;  PGPIO_CLIENT_UNMASK_INTERRUPT                   CLIENT_UnmaskInterrupt;&#10;  PGPIO_CLIENT_MASK_INTERRUPTS                    CLIENT_MaskInterrupts;&#10;  PGPIO_CLIENT_QUERY_ACTIVE_INTERRUPTS            CLIENT_QueryActiveInterrupts;&#10;  PGPIO_CLIENT_CLEAR_ACTIVE_INTERRUPTS            CLIENT_ClearActiveInterrupts;&#10;  PGPIO_CLIENT_CONNECT_IO_PINS                    CLIENT_ConnectIoPins;&#10;  PGPIO_CLIENT_DISCONNECT_IO_PINS                 CLIENT_DisconnectIoPins;&#10;...">GPIO_CLIENT_REGISTRATION_PACKET</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/gpioclx/ns-gpioclx-_controller_attribute_flags">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/gpioclx/ns-gpioclx-_controller_attribute_flags.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
