<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="STOR_LOG_EVENT_DETAILS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>STOR_LOG_EVENT_DETAILS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            STOR_LOG_EVENT_DETAILS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// storport.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _STOR_LOG_EVENT_DETAILS {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       InterfaceRevision;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       Size;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       Flags;
  <a href="stor_event_association_enum" title="typedef enum _STOR_EVENT_ASSOCIATION_ENUM {&#10;  StorEventAdapterAssociation,&#10;  StorEventLunAssociation,&#10;  StorEventTargetAssociation,&#10;  StorEventInvalidAssociation&#10;} STOR_EVENT_ASSOCIATION_ENUM;">STOR_EVENT_ASSOCIATION_ENUM</a> EventAssociation;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       PathId;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       TargetId;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       LunId;
  BOOLEAN                     StorportSpecificErrorCode;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       ErrorCode;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       UniqueId;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       DumpDataSize;
  PVOID                       DumpData;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                       StringCount;
  PWSTR                       *StringList;
} STOR_LOG_EVENT_DETAILS, *PSTOR_LOG_EVENT_DETAILS;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/ns-storport-_stor_log_event_details">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/stor_log_event_details.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-storport-_stor_log_event_details)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_stor_log_event_details-structure">_STOR_LOG_EVENT_DETAILS structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>STOR_LOG_EVENT_DETAILS</strong> structure provides details pertaining to Storport-specific error log events and system log events.</p>

<h2 id="members">Members</h2>

<h3 id="interfacerevision"><code>InterfaceRevision</code></h3>

<p>The revision number of this interface. Set to STOR_CURRENT_LOG_INTERFACE_REVISION to use the version of the interface that matches this structure. Both the constant and the data structure are defined in the same header file. This member is set to 0x00000100 for the first revision.</p>

<h3 id="size"><code>Size</code></h3>

<p>The size of this structure. Set before calling <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/nf-storport-storportlogsystemevent">StorPortLogSystemEvent</a>.</p>

<h3 id="flags"><code>Flags</code></h3>

<p>Not currently used. Must be zero.</p>

<h3 id="eventassociation"><code>EventAssociation</code></h3>

<p>Specifies whether the event should be associated with the adapter, the target, or the LUN. For adapter- and target-associated events, the event is logged against the adapter's device object. For LUN-associated events, the event is logged against the LUN's device object if it exists; otherwise, it is logged against the adapter's device object.</p>

<h3 id="pathid"><code>PathId</code></h3>

<p>The SCSI path/bus corresponding to this event.</p>

<h3 id="targetid"><code>TargetId</code></h3>

<p>The SCSI target controller or device on the bus corresponding to this event.</p>

<h3 id="lunid"><code>LunId</code></h3>

<p>The SCSI logical unit number of the target device corresponding to this event.</p>

<h3 id="storportspecificerrorcode"><code>StorportSpecificErrorCode</code></h3>

<p>If the <strong>ErrorCode</strong> value is specific to Storport and should be translated for use with IOLOGMSG.DLL, this value is set to <strong>TRUE</strong>. If the <strong>ErrorCode</strong> value is not specific to Storport and should be passed directly to the system event logging facility, this value is set to <strong>FALSE</strong>.</p>

<h3 id="errorcode"><code>ErrorCode</code></h3>

<p>The event error code to log.</p>

<h3 id="uniqueid"><code>UniqueId</code></h3>

<p>Specifies a unique identifier associated with the ErrorCode. Often this is used as a location code, referencing the location in the miniport that triggered the event. This value is passed directly to the event logging facility.</p>

<h3 id="dumpdatasize"><code>DumpDataSize</code></h3>

<p>The size of the miniport-specific data block that is to be appended to the log entry. If no data block is to be written, this should be set to 0.</p>

<h3 id="dumpdata"><code>DumpData</code></h3>

<p>Pointer to the miniport-specific data block that is to be appended to the log entry. If no data block is to be written, DumpDataSize should be set to 0, and this field is ignored.</p>

<h3 id="stringcount"><code>StringCount</code></h3>

<p>The count of null-terminated Unicode strings contained in the StringList member. If no strings are to be written, this should be set to 0.</p>

<h3 id="stringlist"><code>StringList</code></h3>

<p>The list of null-terminated Unicode strings to be appended to the log entry for use in string substitution. These strings are substituted for the place holders "%2" through "%n" in the log message text when the log entry is being displayed. This list consists of an array of pointers to the null-terminated Unicode strings. StringCount contains the count of string pointers in this array, so no list termination entry is needed. If no strings are to be written, StringCount should be set to 0, and this field is ignored.</p>

<h2 id="remarks">Remarks</h2>

<p>Although <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/nf-storport-storportlogerror">StorPortLogError</a> uses <strong>PathId</strong>, <strong>TargetId</strong>, and <strong>LunId</strong> values that are 8bits wide, for <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/nf-storport-storportlogsystemevent">StorPortLogSystemEvent</a> they are 32bits wide. The combined size of the miniport driver's dump data and string areas cannot exceed 150 bytes. This restriction is due to the &lt; 255 byte limit that the kernel enforces on the event log entries.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/ne-storport-_stor_event_association_enum">STOR_EVENT_ASSOCIATION_ENUM</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/nf-storport-storportlogsystemevent">StorPortLogSystemEvent</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/ns-storport-_stor_log_event_details">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/storport/ns-storport-_stor_log_event_details.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
