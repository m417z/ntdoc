<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PktMonClntSetComponentProperty - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PktMonClntSetComponentProperty - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PktMonClntSetComponentProperty - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pktmonclntk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> PktMonClntSetComponentProperty(
  <a href="pktmon_component_context" title="typedef struct _PKTMON_COMPONENT_CONTEXT {&#10;  LIST_ENTRY            ListLink;&#10;  LIST_ENTRY            EdgeList;&#10;  LONG                  EdgeCount;&#10;  HANDLE                CompHandle;&#10;  PKTMON_COMPONENT_TYPE CompType;&#10;  PKTMON_PACKET_TYPE    PacketType;&#10;  INT                   FlowEnabled : 1;&#10;  INT                   DropEnabled : 1;&#10;} PKTMON_COMPONENT_CONTEXT;">PKTMON_COMPONENT_CONTEXT</a>  *CompContext,
  <a href="pktmon_component_property" title="typedef struct _PKTMON_COMPONENT_PROPERTY {&#10;  PKTMON_COMPONENT_PROPERTY_ID Id;&#10;  union {&#10;    ULONG              IfIndex;&#10;    ULONG              MiniportIfIndex;&#10;    ULONG              LowerIfIndex;&#10;    ULONG              VmsExtIfIndex;&#10;    ULONG              LowestIfIndex;&#10;    ULONG              NdisMedium;&#10;    ULONG              IpIfIndex;&#10;    ULONG              Vsid;&#10;    ULONG              Vlan;&#10;    ULONG              CompartmentId;&#10;    USHORT             OptDataPath;&#10;    USHORT             NdisObject;&#10;    USHORT             EtherType;&#10;    GUID               IfGuid;&#10;    PKTMON_MAC_ADDRESS MacAddress;&#10;    CHAR               VMSwitchName[PKTMON_MAX_PROPERTY_LENGTH_BYTES];&#10;    SOCKADDR_INET      SockAddr;&#10;...">PKTMON_COMPONENT_PROPERTY</a> *CompProperty
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pktmonclntk/nf-pktmonclntk-pktmonclntsetcomponentproperty">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pktmonclntsetcomponentproperty.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-pktmonclntk-pktmonclntsetcomponentproperty)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The <strong>PktMonClntSetComponentProperty</strong> function sets a property for a specific component.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="compcontext"><code>CompContext</code></h3>

<p>Pointer to the <strong><a href="pktmon_component_context" title="typedef struct _PKTMON_COMPONENT_CONTEXT {&#10;  LIST_ENTRY            ListLink;&#10;  LIST_ENTRY            EdgeList;&#10;  LONG                  EdgeCount;&#10;  HANDLE                CompHandle;&#10;  PKTMON_COMPONENT_TYPE CompType;&#10;  PKTMON_PACKET_TYPE    PacketType;&#10;  INT                   FlowEnabled : 1;&#10;  INT                   DropEnabled : 1;&#10;} PKTMON_COMPONENT_CONTEXT;">PKTMON_COMPONENT_CONTEXT</a></strong> structure that holds the context for the component.</p>

<h3 id="compproperty"><code>CompProperty</code></h3>

<p>Pointer to the <strong><a href="pktmon_component_property" title="typedef struct _PKTMON_COMPONENT_PROPERTY {&#10;  PKTMON_COMPONENT_PROPERTY_ID Id;&#10;  union {&#10;    ULONG              IfIndex;&#10;    ULONG              MiniportIfIndex;&#10;    ULONG              LowerIfIndex;&#10;    ULONG              VmsExtIfIndex;&#10;    ULONG              LowestIfIndex;&#10;    ULONG              NdisMedium;&#10;    ULONG              IpIfIndex;&#10;    ULONG              Vsid;&#10;    ULONG              Vlan;&#10;    ULONG              CompartmentId;&#10;    USHORT             OptDataPath;&#10;    USHORT             NdisObject;&#10;    USHORT             EtherType;&#10;    GUID               IfGuid;&#10;    PKTMON_MAC_ADDRESS MacAddress;&#10;    CHAR               VMSwitchName[PKTMON_MAX_PROPERTY_LENGTH_BYTES];&#10;    SOCKADDR_INET      SockAddr;&#10;...">PKTMON_COMPONENT_PROPERTY</a></strong> structure that describes the property to be set.</p>

<h2 id="return-value">Return value</h2>

<p>If the function succeeds, it returns <code><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></code>. Otherwise, it returns a <code><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a></code> error code.</p>

<h2 id="remarks">Remarks</h2>

<p>Use the <strong>PktMonClntSetComponentProperty</strong> function to set various properties for a component. Call this function once for each property. These properties provide detailed information about the component, such as its interface ID, name, etc. You can display the properties of the components using the <code>pktmon</code> command:</p>

<pre><code>Pktmon.exe list -a
</code></pre>

<p>The properties are defined in the <strong><a href="pktmon_component_property" title="typedef struct _PKTMON_COMPONENT_PROPERTY {&#10;  PKTMON_COMPONENT_PROPERTY_ID Id;&#10;  union {&#10;    ULONG              IfIndex;&#10;    ULONG              MiniportIfIndex;&#10;    ULONG              LowerIfIndex;&#10;    ULONG              VmsExtIfIndex;&#10;    ULONG              LowestIfIndex;&#10;    ULONG              NdisMedium;&#10;    ULONG              IpIfIndex;&#10;    ULONG              Vsid;&#10;    ULONG              Vlan;&#10;    ULONG              CompartmentId;&#10;    USHORT             OptDataPath;&#10;    USHORT             NdisObject;&#10;    USHORT             EtherType;&#10;    GUID               IfGuid;&#10;    PKTMON_MAC_ADDRESS MacAddress;&#10;    CHAR               VMSwitchName[PKTMON_MAX_PROPERTY_LENGTH_BYTES];&#10;    SOCKADDR_INET      SockAddr;&#10;...">PKTMON_COMPONENT_PROPERTY</a></strong> structure and can include interface indices, GUIDs, MAC addresses, and other relevant information. Each property is identified by an <strong>Id</strong> from the <strong><a href="pktmon_component_property_id" title="typedef enum _PKTMON_COMPONENT_PROPERTY_ID {&#10;  PktMonCompProp_IfIndex,&#10;  PktMonCompProp_MiniportIfIndex,&#10;  PktMonCompProp_LowerIfIndex,&#10;  PktMonCompProp_IfGuid,&#10;  PktMonCompProp_NdisMedium,&#10;  PktMonCompProp_PhysAddress,&#10;  PktMonCompProp_EtherType,&#10;  PktMonCompProp_OptDataPath,&#10;  PktMonCompProp_NdisObject,&#10;  PktMonCompProp_VMSwitchName,&#10;  PktMonCompProp_VmsExtIfIndex,&#10;  PktMonCompProp_LowestIfIndex,&#10;  PktMonCompProp_IpAddress,&#10;  PktMonCompProp_IpIfIndex,&#10;  PktMonCompProp_Vsid,&#10;  PktMonCompProp_Vlan,&#10;  PktMonCompProp_CompartmentId,&#10;  PktMonCompProp_Max&#10;} PKTMON_COMPONENT_PROPERTY_ID;">PKTMON_COMPONENT_PROPERTY_ID</a></strong> enumeration.</p>

<h2 id="see-also">See also</h2>

<ul>
<li><strong><a href="pktmon_component_context" title="typedef struct _PKTMON_COMPONENT_CONTEXT {&#10;  LIST_ENTRY            ListLink;&#10;  LIST_ENTRY            EdgeList;&#10;  LONG                  EdgeCount;&#10;  HANDLE                CompHandle;&#10;  PKTMON_COMPONENT_TYPE CompType;&#10;  PKTMON_PACKET_TYPE    PacketType;&#10;  INT                   FlowEnabled : 1;&#10;  INT                   DropEnabled : 1;&#10;} PKTMON_COMPONENT_CONTEXT;">PKTMON_COMPONENT_CONTEXT</a></strong></li>
<li><strong><a href="pktmon_component_property" title="typedef struct _PKTMON_COMPONENT_PROPERTY {&#10;  PKTMON_COMPONENT_PROPERTY_ID Id;&#10;  union {&#10;    ULONG              IfIndex;&#10;    ULONG              MiniportIfIndex;&#10;    ULONG              LowerIfIndex;&#10;    ULONG              VmsExtIfIndex;&#10;    ULONG              LowestIfIndex;&#10;    ULONG              NdisMedium;&#10;    ULONG              IpIfIndex;&#10;    ULONG              Vsid;&#10;    ULONG              Vlan;&#10;    ULONG              CompartmentId;&#10;    USHORT             OptDataPath;&#10;    USHORT             NdisObject;&#10;    USHORT             EtherType;&#10;    GUID               IfGuid;&#10;    PKTMON_MAC_ADDRESS MacAddress;&#10;    CHAR               VMSwitchName[PKTMON_MAX_PROPERTY_LENGTH_BYTES];&#10;    SOCKADDR_INET      SockAddr;&#10;...">PKTMON_COMPONENT_PROPERTY</a></strong></li>
</ul>

<h3 id="example">Example</h3>

<div class="codehilite">
<pre><span></span><code><span class="n"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a></span><span class="w"> </span><span class="nf">PktMonApiTstSetComponentProperties</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a></span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n"><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></span><span class="p">;</span>
<span class="w">    </span><span class="n"><a href="pktmon_component_property" title="typedef struct _PKTMON_COMPONENT_PROPERTY {&#10;  PKTMON_COMPONENT_PROPERTY_ID Id;&#10;  union {&#10;    ULONG              IfIndex;&#10;    ULONG              MiniportIfIndex;&#10;    ULONG              LowerIfIndex;&#10;    ULONG              VmsExtIfIndex;&#10;    ULONG              LowestIfIndex;&#10;    ULONG              NdisMedium;&#10;    ULONG              IpIfIndex;&#10;    ULONG              Vsid;&#10;    ULONG              Vlan;&#10;    ULONG              CompartmentId;&#10;    USHORT             OptDataPath;&#10;    USHORT             NdisObject;&#10;    USHORT             EtherType;&#10;    GUID               IfGuid;&#10;    PKTMON_MAC_ADDRESS MacAddress;&#10;    CHAR               VMSwitchName[PKTMON_MAX_PROPERTY_LENGTH_BYTES];&#10;    SOCKADDR_INET      SockAddr;&#10;...">PKTMON_COMPONENT_PROPERTY</a></span><span class="w"> </span><span class="n">compProp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>

<span class="w">    </span><span class="n">compProp</span><span class="p">.</span><span class="n">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PktMonCompProp_IfIndex</span><span class="p">;</span>
<span class="w">    </span><span class="n">compProp</span><span class="p">.</span><span class="n">IfIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PktMonClntSetComponentProperty</span><span class="p">(</span><span class="o">&amp;</span><span class="n">PktMonComp</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">compProp</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n"><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">status</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Log error</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pktmonclntk/nf-pktmonclntk-pktmonclntsetcomponentproperty">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pktmonclntk/nf-pktmonclntk-pktmonclntsetcomponentproperty.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
