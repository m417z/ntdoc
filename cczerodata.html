<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="CcZeroData - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>CcZeroData - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            CcZeroData - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntifs.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">BOOLEAN CcZeroData(
  [in] <a href="file_object" title="typedef struct _FILE_OBJECT {&#10;  CSHORT                                Type;&#10;  CSHORT                                Size;&#10;  PDEVICE_OBJECT                        DeviceObject;&#10;  PVPB                                  Vpb;&#10;  PVOID                                 FsContext;&#10;  PVOID                                 FsContext2;&#10;  PSECTION_OBJECT_POINTERS              SectionObjectPointer;&#10;  PVOID                                 PrivateCacheMap;&#10;  NTSTATUS                              FinalStatus;&#10;  struct _FILE_OBJECT                   *RelatedFileObject;&#10;  BOOLEAN                               LockOperation;&#10;  BOOLEAN                               DeletePending;&#10;  BOOLEAN                               ReadAccess;&#10;  BOOLEAN                               WriteAccess;&#10;  BOOLEAN                               DeleteAccess;&#10;  BOOLEAN                               SharedRead;&#10;  BOOLEAN                               SharedWrite;&#10;  BOOLEAN                               SharedDelete;&#10;  ULONG                                 Flags;&#10;...">PFILE_OBJECT</a>   FileObject,
  [in] PLARGE_INTEGER StartOffset,
  [in] PLARGE_INTEGER EndOffset,
  [in] BOOLEAN        Wait
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/nf-ntifs-cczerodata">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/cczerodata.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-ntifs-cczerodata)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="cczerodata-function">CcZeroData function</h1>

<h2 id="description">Description</h2>

<p>The <strong>CcZeroData</strong> routine zeros the specified range of bytes in a cached or noncached file.</p>

<blockquote>
  <p>[!NOTE]
  This routine should only be called to zero portions of a file beyond the file's valid data length. <strong>CcZeroData</strong> will not modify any previously written data of the file. To zero previously written data that is portion of the file up to the fileâ€™s valid data length, call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/nf-ntifs-cccopywrite"><strong>CcCopyWrite</strong></a>, or one of the other cached write interfaces.</p>
</blockquote>

<h2 id="parameters">Parameters</h2>

<h3 id="fileobject-in"><code>FileObject</code> [in]</h3>

<p>A pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_file_object"><strong>FILE_OBJECT</strong></a> for the file in which a range of bytes is to be zeroed.</p>

<h3 id="startoffset-in"><code>StartOffset</code> [in]</h3>

<p>A pointer to a variable that specifies the byte offset within the file to the first byte that is to be zeroed.</p>

<h3 id="endoffset-in"><code>EndOffset</code> [in]</h3>

<p>A pointer to a variable that specifies the byte offset within the file to the last byte that is to be zeroed.</p>

<h3 id="wait-in"><code>Wait</code> [in]</h3>

<p>Set to <strong>TRUE</strong> if the caller should be put into a wait state until the entire byte range has been zeroed. Otherwise, this parameter is set to <strong>FALSE</strong>.</p>

<h2 id="return-value">Return value</h2>

<p><strong>CcZeroData</strong> returns <strong>TRUE</strong> if the data is zeroed successfully; otherwise, returns <strong>FALSE</strong>.</p>

<h2 id="remarks">Remarks</h2>

<p>The file to be zeroed can be cached or noncached. However, if the file is noncached, the values of <em>StartOffset</em> and <em>EndOffset</em> must both be multiples of the volume's sector size.</p>

<p>If a pool allocation failure occurs and <em>Wait</em> was specified as <strong>TRUE</strong>, <strong>CcZeroData<em>* raises a STATUS_INSUFFICIENT_RESOURCES exception. If a pool allocation failure occurs and *Wait</em> was specified as **FALSE</strong>, <strong>CcZeroData</strong> returns <strong>FALSE</strong>, but does not raise an exception.</p>

<p>If the <em>FileObject</em> supplied does not have caching enabled, but caching exists on the stream (that is, another file object for the same file has caching enabled), then zeroing will be treated as though write-through caching is enabled.</p>

<p>If <em>Wait</em> is set to <strong>TRUE</strong>, <strong>CcZeroData</strong> is guaranteed to complete the zero data request and return <strong>TRUE</strong>. If the required pages of the cached file are already resident in memory, the data will be zeroed immediately and no blocking will occur. If any needed pages are not resident, the caller will be put in a wait state until all required pages have been made resident and the data can be zeroed.</p>

<p>If <em>Wait</em> is <strong>FALSE</strong> and if the required pages of the cached file are not already resident in memory, <strong>CcZeroData</strong> will refuse to block and will return <strong>FALSE</strong>.</p>

<p>If a pool allocation failure occurs, <strong>CcZeroData</strong> raises a STATUS_INSUFFICIENT_RESOURCES exception. If <strong>CcZeroData</strong> encounters any other errors, including IO errors, the errors will be raised to the caller.</p>

<p>For Windows Vista and later Windows operating systems, the behavior of <strong>CcZeroData</strong> is as follows:</p>

<ul>
<li>If the stream is cached and write_through, <em>StartOffset</em> does not have to be sector aligned.</li>
<li>If <em>EndOffset</em> is not aligned, it will be rounded up to the next sector size.</li>
</ul>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/nf-ntifs-ccinitializecachemap"><strong>CcInitializeCacheMap</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/ff539143(v=vs.85)"><strong>CcIsFileCached</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_file_object"><strong>FILE_OBJECT</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/nf-ntifs-cczerodata">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntifs/nf-ntifs-cczerodata.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
