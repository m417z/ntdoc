<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3D12DDI_RAYTRACING_GEOMETRY_TRIANGLES_DESC_0054 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3D12DDI_RAYTRACING_GEOMETRY_TRIANGLES_DESC_0054 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3D12DDI_RAYTRACING_GEOMETRY_TRIANGLES_DESC_0054 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d12umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct D3D12DDI_RAYTRACING_GEOMETRY_TRIANGLES_DESC_0054 {
  D3D12DDI_GPU_VIRTUAL_ADDRESS            ColumnMajorTransform3x4;
  DXGI_FORMAT                             IndexFormat;
  DXGI_FORMAT                             VertexFormat;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                    IndexCount;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                    VertexCount;
  D3D12DDI_GPU_VIRTUAL_ADDRESS            IndexBuffer;
  <a href="d3d12ddi_gpu_virtual_address_and_stride" title="typedef struct D3D12DDI_GPU_VIRTUAL_ADDRESS_AND_STRIDE {&#10;  D3D12DDI_GPU_VIRTUAL_ADDRESS StartAddress;&#10;  UINT64                       StrideInBytes;&#10;} D3D12DDI_GPU_VIRTUAL_ADDRESS_AND_STRIDE;">D3D12DDI_GPU_VIRTUAL_ADDRESS_AND_STRIDE</a> VertexBuffer;
} D3D12DDI_RAYTRACING_GEOMETRY_TRIANGLES_DESC_0054;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_raytracing_geometry_triangles_desc_0054">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3d12ddi_raytracing_geometry_triangles_desc_0054.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3d12umddi-d3d12ddi_raytracing_geometry_triangles_desc_0054)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="d3d12ddi_raytracing_geometry_triangles_desc_0054-structure">D3D12DDI_RAYTRACING_GEOMETRY_TRIANGLES_DESC_0054 structure</h1>

<h2 id="description">Description</h2>

<p>Describes a ray tracing triangle geometry.</p>

<h2 id="members">Members</h2>

<h3 id="columnmajortransform3x4"><code>ColumnMajorTransform3x4</code></h3>

<p>Address of a 3x4 affine transform matrix in row major layout to be applied to the vertices in the <em>VertexBuffer</em> during an acceleration structure build. The contents of <em>VertexBuffer</em> are not modified. If a 2D vertex format is used, the transformation is applied with the third vertex component assumed to be zero.</p>

<p>If ColumnMajorTransform3x4 is NULL the vertices will not be transformed. Using ColumnMajorTransform3x4 may result in increased computation and/or memory requirements for the acceleration structure build.</p>

<p>The memory pointed to must be in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_resource_states">resource state</a> D3D12DDI_RESOURCE_STATE_NON_PIXEL_SHADER_RESOURCE.</p>

<h3 id="indexformat"><code>IndexFormat</code></h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/dxgiformat/ne-dxgiformat-dxgi_format">DXGI_FORMAT</a>, representing the format of the indices in <em>IndexBuffer</em>. This value must be one of the following:</p>

<ul>
<li>DXGI_FORMAT_UNKNOWN (when <em>IndexBuffer</em> is NULL)</li>
<li>DXGI_FORMAT_R32_UINT</li>
<li>DXGI_FORMAT_R16_UINT</li>
</ul>

<h3 id="vertexformat"><code>VertexFormat</code></h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/dxgiformat/ne-dxgiformat-dxgi_format">DXGI_FORMAT</a>, representing the format of the vertices (positions) in <em>VertexBuffer</em>. This value must be one of the following:</p>

<ul>
<li>DXGI_FORMAT_R32G32_FLOAT (third component assumed 0)</li>
<li>DXGI_FORMAT_R32G32B32_FLOAT</li>
<li>DXGI_FORMAT_R16G16_FLOAT (third component assumed 0)</li>
<li>DXGI_FORMAT_R16G16B16A16_FLOAT</li>
</ul>

<h3 id="indexcount"><code>IndexCount</code></h3>

<p>Number of indices in <em>IndexBuffer</em>. Must be 0 if <em>IndexBuffer</em> is NULL.</p>

<h3 id="vertexcount"><code>VertexCount</code></h3>

<p>Number of vertices (positions) in <em>VertexBuffer</em>.</p>

<h3 id="indexbuffer"><code>IndexBuffer</code></h3>

<p>Array of vertex indices. If NULL, triangles are non-indexed. The address must be aligned to the size of <em>IndexFormat</em>.</p>

<p>The memory pointed to must be in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_resource_states">resource state</a> D3D12DDI_RESOURCE_STATE_NON_PIXEL_SHADER_RESOURCE.</p>

<h3 id="vertexbuffer"><code>VertexBuffer</code></h3>

<p>Array of vertices including a stride. The alignment on the address and stride must be a multiple of the component size, meaning, 4 bytes for formats with 32-bit components and 2 bytes for formats with 16-bit components. There is no constraint on the stride (whereas there is a limit for graphics), other than that the bottom 32-bits of the value are all that are used. This means that the field is <a href="uint64" title="typedef unsigned __int64 UINT64;">UINT64</a> purely to make neighboring fields align cleanly and obviously everywhere. Each vertex position is expected to be at the start address of the stride range and any excess space is ignored by acceleration structure builds. This excess space might contain other app data such as vertex attributes, which the app is responsible for manually fetching in shaders, whether it is interleaved in vertex buffers or elsewhere.</p>

<p>The memory pointed to must be in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_resource_states">resource state</a> D3D12DDI_RESOURCE_STATE_NON_PIXEL_SHADER_RESOURCE.</p>

<h2 id="remarks">Remarks</h2>

<p>The geometry pointed to by this structure is always in triangle list from (indexed or non-indexed form). Strips are not supported.</p>

<h2 id="see-also">See also</h2>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_raytracing_geometry_triangles_desc_0054">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/ns-d3d12umddi-d3d12ddi_raytracing_geometry_triangles_desc_0054.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
