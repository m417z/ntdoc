<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3D12DDI_WORK_GRAPH_DESC_0108 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3D12DDI_WORK_GRAPH_DESC_0108 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3D12DDI_WORK_GRAPH_DESC_0108 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// d3d12umddi.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef struct D3D12DDI_WORK_GRAPH_DESC_0108 {
  LPCWSTR                             ProgramName;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                Version;
  <a href="d3d12ddi_work_graph_flags_0108" title="typedef enum D3D12DDI_WORK_GRAPH_FLAGS_0108 {&#10;  D3D12DDI_WORK_GRAPH_FLAG_NONE,&#10;  D3D12DDI_WORK_GRAPH_FLAG_ADD_TO_EXISTING_WORK_GRAPH&#10;} ;">D3D12DDI_WORK_GRAPH_FLAGS_0108</a>      Flags;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                NumNodes;
  const <a href="d3d12ddi_node_list_entry_0108" title="typedef struct D3D12DDI_NODE_LIST_ENTRY_0108 {&#10;  const D3D12DDI_NODE_0108            *pNode;&#10;  const D3D12DDI_NODE_LIST_ENTRY_0108 *pNext;&#10;} D3D12DDI_NODE_LIST_ENTRY_0108;">D3D12DDI_NODE_LIST_ENTRY_0108</a> *pNodes;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                NumEntrypoints;
  const <a href="d3d12ddi_node_list_entry_0108" title="typedef struct D3D12DDI_NODE_LIST_ENTRY_0108 {&#10;  const D3D12DDI_NODE_0108            *pNode;&#10;  const D3D12DDI_NODE_LIST_ENTRY_0108 *pNext;&#10;} D3D12DDI_NODE_LIST_ENTRY_0108;">D3D12DDI_NODE_LIST_ENTRY_0108</a> *pEntrypoints;
} D3D12DDI_WORK_GRAPH_DESC_0108;</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_work_graph_desc_0108">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3d12ddi_work_graph_desc_0108.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3d12umddi-d3d12ddi_work_graph_desc_0108)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2>Description</h2>
<p>The <strong>D3D12DDI_WORK_GRAPH_DESC_0108</strong> structure defines the state subobject of type <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_state_subobject_type"><strong>D3D12DDI_STATE_SUBOBJECT_TYPE_WORK_GRAPH</strong></a>.</p>
<h2>Members</h2>
<h3><code>ProgramName</code></h3>
<p>Name of the work graph. This name is unique in the given state object and is used to identify the work graph.</p>
<h3><code>Version</code></h3>
<p>The version number of this work graph, starting at 0. When <strong><a href="pfnd3d12ddi_add_to_state_object_0072" title="PFND3D12DDI_ADD_TO_STATE_OBJECT_0072 Pfnd3d12ddiAddToStateObject0072;&#10;&#10;HRESULT Pfnd3d12ddiAddToStateObject0072(&#10;       D3D12DDI_HDEVICE unnamedParam1,&#10;  [in] const D3D12DDIARG_ADD_TO_STATE_OBJECT_0072 *unnamedParam2,&#10;       D3D12DDI_HSTATEOBJECT_0054 unnamedParam3,&#10;       D3D12DDI_HRTSTATEOBJECT_0054 unnamedParam4&#10;)&#10;{...}">PFND3D12DDI_ADD_TO_STATE_OBJECT_0072</a></strong> is being used, this value increments for new versions.</p>
<p>If a state object that has had a few additions in it to other parts of it (perhaps other work graphs) gets a newly created work graph added, Version will be 0 for the initial appearance of the new work graph, even though the state object itself has had a few iterations. Similarly if additions are made to other parts of a state object but a particular work graph in it is left alone, its version doesn't change until the next time an addition is made to the work graph itself. The Version value is the same numbering used in the <strong>VersionAdded</strong> field of <strong><a href="d3d12ddi_node_0108" title="typedef struct _D3D12DDI_NODE_0108 {&#10;  UINT                    VersionAdded;&#10;  D3D12DDI_NODE_TYPE_0108 NodeType;&#10;  union {&#10;    D3D12DDI_SHADER_NODE_0108 Shader;&#10;  };&#10;} D3D12DDI_NODE_0108;">D3D12DDI_NODE_0108</a></strong>.</p>
<h3><code>Flags</code></h3>
<p>A <strong><a href="d3d12ddi_work_graph_flags_0108" title="typedef enum D3D12DDI_WORK_GRAPH_FLAGS_0108 {&#10;  D3D12DDI_WORK_GRAPH_FLAG_NONE,&#10;  D3D12DDI_WORK_GRAPH_FLAG_ADD_TO_EXISTING_WORK_GRAPH&#10;} ;">D3D12DDI_WORK_GRAPH_FLAGS_0108</a></strong> enumeration that specifies flags that control the behavior of the work graph.</p>
<h3><code>NumNodes</code></h3>
<p>The number of nodes within the work graph, including already existing ones if an addition is happening. This value determines the number of elements in the <strong>pNodes</strong> array.</p>
<h3><code>pNodes</code></h3>
<p>Pointer to an array of <strong><a href="d3d12ddi_node_list_entry_0108" title="typedef struct D3D12DDI_NODE_LIST_ENTRY_0108 {&#10;  const D3D12DDI_NODE_0108            *pNode;&#10;  const D3D12DDI_NODE_LIST_ENTRY_0108 *pNext;&#10;} D3D12DDI_NODE_LIST_ENTRY_0108;">D3D12DDI_NODE_LIST_ENTRY_0108</a></strong> structures, where each entry represents a node definition in the work graph.</p>
<p>Even with the <strong>D3D12DDI_WORK_GRAPH_FLAG_ADD_TO_EXISTING_WORK_GRAPH</strong> flag, <strong>pNodes</strong> points to a list of all nodes in the graph. New nodes appear at the start of the list.</p>
<h3><code>NumEntrypoints</code></h3>
<p>Number of entrypoints including already existing ones if an addition is happening. This value determines the number of elements in the <strong>pEntrypoints</strong> array.</p>
<h3><code>pEntrypoints</code></h3>
<p>Pointer to an array of <strong><a href="d3d12ddi_node_list_entry_0108" title="typedef struct D3D12DDI_NODE_LIST_ENTRY_0108 {&#10;  const D3D12DDI_NODE_0108            *pNode;&#10;  const D3D12DDI_NODE_LIST_ENTRY_0108 *pNext;&#10;} D3D12DDI_NODE_LIST_ENTRY_0108;">D3D12DDI_NODE_LIST_ENTRY_0108</a></strong> structures, where each entry represents an entry point in the work graph.</p>
<p>Even with the <strong>D3D12DDI_WORK_GRAPH_FLAG_ADD_TO_EXISTING_WORK_GRAPH</strong> flag, <strong>pEntryPoints</strong> points to a list of all entrypoints. New entrypoints appear at the start of the list and continue entrypoint index numbering after previous versions. For example, suppose the initial version of a graph has two entrypoints. This list would have two entries, and the driver must infer that they have entry point indices [0] and [1] respectively for record assignments from <strong><a href="pfnd3d12ddi_dispatch_graph_0108" title="PFND3D12DDI_DISPATCH_GRAPH_0108 Pfnd3d12ddiDispatchGraph0108;&#10;&#10;void Pfnd3d12ddiDispatchGraph0108(&#10;  D3D12DDI_HCOMMANDLIST unnamedParam1,&#10;  const D3D12DDI_DISPATCH_GRAPH_DESC_0108 *unnamedParam2&#10;)&#10;{...}">PFND3D12DDI_DISPATCH_GRAPH_0108</a></strong>. If an addition happens, with 3 new entrypoints, the list for the new graph version would have 5 entry point entries, with the new entries at the start of the list. The driver must infer the entrypoint indices of the 3 new entries at the start of the list (the entries with the new Version), so the full list would be [2], [3], [4], [0], [1]. Ideally these assignments would have been provided by the runtime in the DDI so the driver wouldn't have to figure this out, but this was missed and deemed not important enough to fix.</p>
<h2>Remarks</h2>
<p>The <strong>D3D12DDI_WORK_GRAPH_DESC_0108</strong> structure describes a work graph. The work graph itself is a collection of nodes, where each node represents a unit of work or a task. Nodes can have dependencies on one another, which define the execution order. Entry points are the nodes where execution can begin and are typically the nodes without dependencies or those that can be run immediately.</p>
<p>The runtime provides conveniences at the API level, like being able to define a work graph just by listing entrypoints or even by asking for all available nodes to be used. The runtime takes the API work graph definition, validates it, and gives the driver the final set of nodes in the graph, depicted in this <strong>D3D12DDI_WORK_GRAPH_DESC_0108</strong> structure.</p>
<p>For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/work-graphs">Work graphs</a>.</p>
<h2>See also</h2>
<p><strong><a href="d3d12ddi_node_list_entry_0108" title="typedef struct D3D12DDI_NODE_LIST_ENTRY_0108 {&#10;  const D3D12DDI_NODE_0108            *pNode;&#10;  const D3D12DDI_NODE_LIST_ENTRY_0108 *pNext;&#10;} D3D12DDI_NODE_LIST_ENTRY_0108;">D3D12DDI_NODE_LIST_ENTRY_0108</a></strong></p>
<p><strong><a href="d3d12ddi_state_subobject_type" title="typedef enum D3D12DDI_STATE_SUBOBJECT_TYPE {&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_STATE_OBJECT_CONFIG,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_GLOBAL_ROOT_SIGNATURE,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_LOCAL_ROOT_SIGNATURE = 2,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_NODE_MASK,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_DXIL_LIBRARY,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_EXISTING_COLLECTION,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_RAYTRACING_SHADER_CONFIG,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_RAYTRACING_PIPELINE_CONFIG,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_HIT_GROUP,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_WORK_GRAPH,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_STREAM_OUTPUT,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_BLEND,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_SAMPLE_MASK,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_RASTERIZER,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_DEPTH_STENCIL,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_INPUT_LAYOUT,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_IB_STRIP_CUT_VALUE,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_PRIMITIVE_TOPOLOGY,&#10;  D3D12DDI_STATE_SUBOBJECT_TYPE_RENDER_TARGET_FORMATS,&#10;...">D3D12DDI_STATE_SUBOBJECT_TYPE</a></strong></p>
<p><strong><a href="d3d12ddi_work_graph_flags_0108" title="typedef enum D3D12DDI_WORK_GRAPH_FLAGS_0108 {&#10;  D3D12DDI_WORK_GRAPH_FLAG_NONE,&#10;  D3D12DDI_WORK_GRAPH_FLAG_ADD_TO_EXISTING_WORK_GRAPH&#10;} ;">D3D12DDI_WORK_GRAPH_FLAGS_0108</a></strong></p>
<p><strong><a href="pfnd3d12ddi_add_to_state_object_0072" title="PFND3D12DDI_ADD_TO_STATE_OBJECT_0072 Pfnd3d12ddiAddToStateObject0072;&#10;&#10;HRESULT Pfnd3d12ddiAddToStateObject0072(&#10;       D3D12DDI_HDEVICE unnamedParam1,&#10;  [in] const D3D12DDIARG_ADD_TO_STATE_OBJECT_0072 *unnamedParam2,&#10;       D3D12DDI_HSTATEOBJECT_0054 unnamedParam3,&#10;       D3D12DDI_HRTSTATEOBJECT_0054 unnamedParam4&#10;)&#10;{...}">PFND3D12DDI_ADD_TO_STATE_OBJECT_0072</a></strong></p>
<p><strong><a href="pfnd3d12ddi_create_state_object_0054" title="PFND3D12DDI_CREATE_STATE_OBJECT_0054 Pfnd3d12ddiCreateStateObject0054;&#10;&#10;HRESULT Pfnd3d12ddiCreateStateObject0054(&#10;  D3D12DDI_HDEVICE unnamedParam1,&#10;  const D3D12DDIARG_CREATE_STATE_OBJECT_0054 *unnamedParam2,&#10;  D3D12DDI_HSTATEOBJECT_0054 unnamedParam3,&#10;  D3D12DDI_HRTSTATEOBJECT_0054 unnamedParam4&#10;)&#10;{...}">PFND3D12DDI_CREATE_STATE_OBJECT_0054</a></strong></p>
<p><strong><a href="pfnd3d12ddi_dispatch_graph_0108" title="PFND3D12DDI_DISPATCH_GRAPH_0108 Pfnd3d12ddiDispatchGraph0108;&#10;&#10;void Pfnd3d12ddiDispatchGraph0108(&#10;  D3D12DDI_HCOMMANDLIST unnamedParam1,&#10;  const D3D12DDI_DISPATCH_GRAPH_DESC_0108 *unnamedParam2&#10;)&#10;{...}">PFND3D12DDI_DISPATCH_GRAPH_0108</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_work_graph_desc_0108">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/ns-d3d12umddi-d3d12ddi_work_graph_desc_0108.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
