<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PoFxRegisterCoreDevice - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PoFxRegisterCoreDevice - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PoFxRegisterCoreDevice - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pep_x.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> PoFxRegisterCoreDevice(
  [in]  <a href="pcunicode_string" title="typedef const UNICODE_STRING *PCUNICODE_STRING;">PCUNICODE_STRING</a>   Id,
  [in]  <a href="po_fx_core_device" title="typedef struct _PO_FX_CORE_DEVICE {&#10;  ULONG                                         Version;&#10;  ULONG                                         ComponentCount;&#10;  PPO_FX_COMPONENT_ACTIVE_CONDITION_CALLBACK    ComponentActiveConditionCallback;&#10;  PPO_FX_COMPONENT_IDLE_CONDITION_CALLBACK      ComponentIdleConditionCallback;&#10;  PPO_FX_COMPONENT_CRITICAL_TRANSITION_CALLBACK ComponentCriticalTransitionCallback;&#10;  PPO_FX_COMPONENT_IDLE_STATE_CALLBACK          ComponentIdleStateCallback;&#10;  PVOID                                         DeviceContext;&#10;  PO_FX_COMPONENT                               Components[ANYSIZE_ARRAY];&#10;} PO_FX_CORE_DEVICE, *PPO_FX_CORE_DEVICE;">PPO_FX_CORE_DEVICE</a> Device,
  [out] POHANDLE           *Handle
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/nf-pep_x-pofxregistercoredevice">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pepfx.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body"><a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> PoFxRegisterCoreDevice(
  [in]  <a href="pcunicode_string" title="typedef const UNICODE_STRING *PCUNICODE_STRING;">PCUNICODE_STRING</a>   Id,
  [in]  <a href="po_fx_core_device" title="typedef struct _PO_FX_CORE_DEVICE {&#10;  ULONG                                         Version;&#10;  ULONG                                         ComponentCount;&#10;  PPO_FX_COMPONENT_ACTIVE_CONDITION_CALLBACK    ComponentActiveConditionCallback;&#10;  PPO_FX_COMPONENT_IDLE_CONDITION_CALLBACK      ComponentIdleConditionCallback;&#10;  PPO_FX_COMPONENT_CRITICAL_TRANSITION_CALLBACK ComponentCriticalTransitionCallback;&#10;  PPO_FX_COMPONENT_IDLE_STATE_CALLBACK          ComponentIdleStateCallback;&#10;  PVOID                                         DeviceContext;&#10;  PO_FX_COMPONENT                               Components[ANYSIZE_ARRAY];&#10;} PO_FX_CORE_DEVICE, *PPO_FX_CORE_DEVICE;">PPO_FX_CORE_DEVICE</a> Device,
  [out] POHANDLE           *Handle
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/nf-pepfx-pofxregistercoredevice">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pofxregistercoredevice.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-pep_x-pofxregistercoredevice)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="pofxregistercoredevice-function-pep_xh">PoFxRegisterCoreDevice function (pep_x.h)</h1>

<h2 id="description">Description</h2>

<p>The <strong>PoFxRegisterCoreDevice</strong> routine registers a new core system resource with the Windows power management framework (PoFx).</p>

<h2 id="parameters">Parameters</h2>

<h3 id="id-in"><code>Id</code> [in]</h3>

<p>A string that uniquely identifies the core system resource. This member is a pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntdef/ns-ntdef-_unicode_string">UNICODE_STRING</a> structure that contains a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/install/device-identification-strings">device identification string</a>.</p>

<h3 id="device-in"><code>Device</code> [in]</h3>

<p>A pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_po_fx_core_device">PO_FX_CORE_DEVICE</a> structure that describes the power characteristics of the core system resource.</p>

<h3 id="handle-out"><code>Handle</code> [out]</h3>

<p>A pointer to a location to which the routine writes a POHANDLE value. This handle represents the registration of the core system resource with PoFx.</p>

<h2 id="return-value">Return value</h2>

<p><strong>PoFxRegisterCoreDevice</strong> returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> if the call successfully registers the PEP. Possible error return values include the following status codes.</p>

<table>
<thead>
<tr>
  <th>Return value</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>STATUS_INVALID_PARAMETER</td>
  <td>The component count for this device is zero, or the <strong><a href="po_fx_core_device" title="typedef struct _PO_FX_CORE_DEVICE {&#10;  ULONG                                         Version;&#10;  ULONG                                         ComponentCount;&#10;  PPO_FX_COMPONENT_ACTIVE_CONDITION_CALLBACK    ComponentActiveConditionCallback;&#10;  PPO_FX_COMPONENT_IDLE_CONDITION_CALLBACK      ComponentIdleConditionCallback;&#10;  PPO_FX_COMPONENT_CRITICAL_TRANSITION_CALLBACK ComponentCriticalTransitionCallback;&#10;  PPO_FX_COMPONENT_IDLE_STATE_CALLBACK          ComponentIdleStateCallback;&#10;  PVOID                                         DeviceContext;&#10;  PO_FX_COMPONENT                               Components[ANYSIZE_ARRAY];&#10;} PO_FX_CORE_DEVICE, *PPO_FX_CORE_DEVICE;">PO_FX_CORE_DEVICE</a></strong> structure contains an invalid version number, or the <strong>ComponentCriticalTransitionCallback</strong> member of this structure contains an invalid function pointer.</td>
</tr>
<tr>
  <td>STATUS_INSUFFICIENT_RESOURCES</td>
  <td>Unable to allocate the resources required to complete the requested registration.</td>
</tr>
</tbody>
</table>

<h2 id="remarks">Remarks</h2>

<p>This routine registers a core system resource so that this resource can be power-managed by PoFx.</p>

<p>Core system resources are hardware devices, such as timers and interrupt controllers, that are managed by the Windows hardware abstraction layer (HAL). These devices provide basic functions that are required by the operating system. Due to the close relationship between core system resources and processors, the power management of these resources needs to be coordinated with processor idle state management.</p>

<p>The <strong>PoFxRegisterCoreDevice</strong> routine should be called at IRQL = PASSIVE_LEVEL.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_po_fx_core_device">PO_FX_CORE_DEVICE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntdef/ns-ntdef-_unicode_string">UNICODE_STRING</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/nf-pep_x-pofxregistercoredevice">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pep_x/nf-pep_x-pofxregistercoredevice.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-pepfx-pofxregistercoredevice)</h1>
</div>
<div class="ntdoc-description">
<h1>PoFxRegisterCoreDevice function (pepfx.h)</h1>

<h2>Description</h2>

<p>The <strong>PoFxRegisterCoreDevice</strong> routine registers a new core system resource with the Windows power management framework (PoFx).</p>

<h2>Parameters</h2>

<h3><code>Id</code> [in]</h3>

<p>A string that uniquely identifies the core system resource. This member is a pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntdef/ns-ntdef-_unicode_string">UNICODE_STRING</a> structure that contains a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/install/device-identification-strings">device identification string</a>.</p>

<h3><code>Device</code> [in]</h3>

<p>A pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_po_fx_core_device">PO_FX_CORE_DEVICE</a> structure that describes the power characteristics of the core system resource.</p>

<h3><code>Handle</code> [out]</h3>

<p>A pointer to a location to which the routine writes a POHANDLE value. This handle represents the registration of the core system resource with PoFx.</p>

<h2>Return value</h2>

<p><strong>PoFxRegisterCoreDevice</strong> returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> if the call successfully registers the PEP. Possible error return values include the following status codes.</p>

<table>
<thead>
<tr>
  <th>Return value</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>STATUS_INVALID_PARAMETER</td>
  <td>The component count for this device is zero, or the <strong><a href="po_fx_core_device" title="typedef struct _PO_FX_CORE_DEVICE {&#10;  ULONG                                         Version;&#10;  ULONG                                         ComponentCount;&#10;  PPO_FX_COMPONENT_ACTIVE_CONDITION_CALLBACK    ComponentActiveConditionCallback;&#10;  PPO_FX_COMPONENT_IDLE_CONDITION_CALLBACK      ComponentIdleConditionCallback;&#10;  PPO_FX_COMPONENT_CRITICAL_TRANSITION_CALLBACK ComponentCriticalTransitionCallback;&#10;  PPO_FX_COMPONENT_IDLE_STATE_CALLBACK          ComponentIdleStateCallback;&#10;  PVOID                                         DeviceContext;&#10;  PO_FX_COMPONENT                               Components[ANYSIZE_ARRAY];&#10;} PO_FX_CORE_DEVICE, *PPO_FX_CORE_DEVICE;">PO_FX_CORE_DEVICE</a></strong> structure contains an invalid version number, or the <strong>ComponentCriticalTransitionCallback</strong> member of this structure contains an invalid function pointer.</td>
</tr>
<tr>
  <td>STATUS_INSUFFICIENT_RESOURCES</td>
  <td>Unable to allocate the resources required to complete the requested registration.</td>
</tr>
</tbody>
</table>

<h2>Remarks</h2>

<p>This routine registers a core system resource so that this resource can be power-managed by PoFx.</p>

<p>Core system resources are hardware devices, such as timers and interrupt controllers, that are managed by the Windows hardware abstraction layer (HAL). These devices provide basic functions that are required by the operating system. Due to the close relationship between core system resources and processors, the power management of these resources needs to be coordinated with processor idle state management.</p>

<p>The <strong>PoFxRegisterCoreDevice</strong> routine should be called at IRQL = PASSIVE_LEVEL.</p>

<h2>See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_po_fx_core_device">PO_FX_CORE_DEVICE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ntdef/ns-ntdef-_unicode_string">UNICODE_STRING</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/nf-pepfx-pofxregistercoredevice">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pepfx/nf-pepfx-pofxregistercoredevice.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
