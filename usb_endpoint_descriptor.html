<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="USB_ENDPOINT_DESCRIPTOR - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>USB_ENDPOINT_DESCRIPTOR - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            USB_ENDPOINT_DESCRIPTOR - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// usbspec.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _USB_ENDPOINT_DESCRIPTOR {
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  bLength;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  bDescriptorType;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  bEndpointAddress;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  bmAttributes;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> wMaxPacketSize;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>  bInterval;
} USB_ENDPOINT_DESCRIPTOR, *PUSB_ENDPOINT_DESCRIPTOR;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/usbspec/ns-usbspec-_usb_endpoint_descriptor">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/usb_endpoint_descriptor.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-usbspec-_usb_endpoint_descriptor)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_usb_endpoint_descriptor-structure">_USB_ENDPOINT_DESCRIPTOR structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>USB_ENDPOINT_DESCRIPTOR</strong> structure is used by USB client drivers to retrieve a USB-defined endpoint descriptor.
The members of this structure are described in the Universal Serial Bus 3.1 Specification available at <a rel="noopener" target="_blank" href="https://www.usb.org/documents">USB Document Library</a>. See section 9.6.6.</p>

<h2 id="members">Members</h2>

<h3 id="blength"><code>bLength</code></h3>

<p>Specifies the length, in bytes, of this descriptor.</p>

<h3 id="bdescriptortype"><code>bDescriptorType</code></h3>

<p>Specifies the descriptor type. Must be set to USB_ENDPOINT_DESCRIPTOR_TYPE.</p>

<h3 id="bendpointaddress"><code>bEndpointAddress</code></h3>

<p>Specifies the USB-defined endpoint address. The four low-order bits specify the endpoint number. The high-order bit specifies the direction of data flow on this endpoint: 1 for in, 0 for out.</p>

<h3 id="bmattributes"><code>bmAttributes</code></h3>

<p>The two low-order bits specify the endpoint type, one of USB_ENDPOINT_TYPE_CONTROL, USB_ENDPOINT_TYPE_ISOCHRONOUS, USB_ENDPOINT_TYPE_BULK, or USB_ENDPOINT_TYPE_INTERRUPT.</p>

<h3 id="wmaxpacketsize"><code>wMaxPacketSize</code></h3>

<p>Specifies the maximum packet size that can be sent from or to this endpoint.</p>

<h3 id="binterval"><code>bInterval</code></h3>

<p>The <strong>bInterval</strong> value contains the polling interval for interrupt and isochronous endpoints. For other types of endpoint, this value should be ignored. This value reflects the device's configuration in firmware. Drivers cannot change it.</p>

<p>The polling interval, together with the speed of the device and the type of host controller, determine the frequency with which the driver should initiate an interrupt or an isochronous transfer. The value in <strong>bInterval</strong> does not represent a fixed amount of time. It is a relative value, and the actual polling frequency will also depend on whether the device and the USB host controller operate at low, full or high speed.</p>

<p>If either the host controller or the device operates at low speed, the period of time between interrupt transfers (also known as the polling "period") is measured in units of 1 millisecond frames, and the period is related to the value in <strong>bInterval</strong> as indicated the following table:</p>

<table>
<thead>
<tr>
  <th>Value of bInterval</th>
  <th>Polling Period (1-millisecond frames)</th>
  <th>Interrupt</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0 to 15</td>
  <td>8</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>16 to 35</td>
  <td>16</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>36 to 255</td>
  <td>32</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>&gt; 255</td>
  <td>Polling intervals &gt; 255 are forbidden by the USB specification.</td>
  <td></td>
</tr>
</tbody>
</table>

<p>For devices and host controllers that can operate at full speed, the period is measured in units of 1 millisecond frames, and the period is related to the value in <strong>bInterval</strong> as indicated the following table:</p>

<table>
<thead>
<tr>
  <th>Value of bInterval</th>
  <th>Polling Period (1-millisecond frames)</th>
  <th>Interrupt</th>
  <th>Isochronous</th>
</tr>
</thead>
<tbody>
<tr>
  <td>1</td>
  <td>1</td>
  <td>Supported.</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>2 to 3</td>
  <td>2</td>
  <td>Supported.</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>4 to 7</td>
  <td>4</td>
  <td>Supported.</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>8 to 15</td>
  <td>8</td>
  <td>Supported.</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>16 to 31</td>
  <td>16</td>
  <td>Supported.</td>
  <td>Not supported.</td>
</tr>
<tr>
  <td>32 to 255</td>
  <td>32</td>
  <td>Supported.</td>
  <td>Not supported.</td>
</tr>
<tr>
  <td>&gt; 255</td>
  <td>Polling intervals &gt; 255 are forbidden by the USB specification.</td>
  <td></td>
  <td></td>
</tr>
</tbody>
</table>

<p>For devices and host controllers that can operate at high speed, the period is measured in units of microframes. There are eight microframes in each 1 millisecond frame. The period is related to the value in <strong>bInterval</strong> by the formula Period = 2 ** (<strong>bInterval</strong> - 1), as indicated the following table:</p>

<table>
<thead>
<tr>
  <th>Value of bInterval</th>
  <th>Polling Period (microframes)</th>
  <th>Interrupt</th>
  <th>Isochronous</th>
</tr>
</thead>
<tbody>
<tr>
  <td>1</td>
  <td>1</td>
  <td>Supported.</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>2</td>
  <td>2</td>
  <td>Supported.</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>3</td>
  <td>4</td>
  <td>Supported.</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>4</td>
  <td>8</td>
  <td>Supported.</td>
  <td>Supported.</td>
</tr>
<tr>
  <td>5</td>
  <td>16</td>
  <td>Supported.</td>
  <td>Not supported.</td>
</tr>
<tr>
  <td>6</td>
  <td>32</td>
  <td>Supported.</td>
  <td>Not supported.</td>
</tr>
<tr>
  <td>7 to 255</td>
  <td>32</td>
  <td>Supported.</td>
  <td>Not supported.</td>
</tr>
<tr>
  <td>&gt; 255</td>
  <td>Polling intervals &gt; 255 are forbidden by the USB specification.</td>
  <td></td>
  <td></td>
</tr>
</tbody>
</table>

<p>The mappings in the preceding tables between periods and polling intervals are valid in Windows 2000 and later operating systems.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_usbref/#structures">USB Structures</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/ff538943(v=vs.85)">UsbBuildGetDescriptorRequest</a></p>

<p><a href="_urb_control_descriptor_request" title="struct _URB_CONTROL_DESCRIPTOR_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  USHORT               Reserved1;&#10;  UCHAR                Index;&#10;  UCHAR                DescriptorType;&#10;  USHORT               LanguageId;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_DESCRIPTOR_REQUEST</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/usbspec/ns-usbspec-_usb_endpoint_descriptor">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/usbspec/ns-usbspec-_usb_endpoint_descriptor.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
