<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DEVICE_DESCRIPTION - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DEVICE_DESCRIPTION - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DEVICE_DESCRIPTION - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdm.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DEVICE_DESCRIPTION {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            Version;
  BOOLEAN          Master;
  BOOLEAN          ScatterGather;
  BOOLEAN          DemandMode;
  BOOLEAN          AutoInitialize;
  BOOLEAN          Dma32BitAddresses;
  BOOLEAN          IgnoreCount;
  BOOLEAN          Reserved1;
  BOOLEAN          Dma64BitAddresses;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            BusNumber;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            DmaChannel;
  <a href="interface_type" title="typedef enum _INTERFACE_TYPE&#10;{&#10;    InterfaceTypeUndefined = -1,&#10;    Internal = 0,&#10;    Isa = 1,&#10;    Eisa = 2,&#10;    MicroChannel = 3,&#10;    TurboChannel = 4,&#10;    PCIBus = 5,&#10;    VMEBus = 6,&#10;    NuBus = 7,&#10;    PCMCIABus = 8,&#10;    CBus = 9,&#10;    MPIBus = 10,&#10;    MPSABus = 11,&#10;    ProcessorInternal = 12,&#10;    InternalPowerBus = 13,&#10;    PNPISABus = 14,&#10;    PNPBus = 15,&#10;    Vmcs = 16,&#10;...">INTERFACE_TYPE</a>   InterfaceType;
  <a href="dma_width" title="typedef enum _DMA_WIDTH&#10;{&#10;    Width8Bits,&#10;    Width16Bits,&#10;    Width32Bits,&#10;    Width64Bits,&#10;    WidthNoWrap,&#10;    MaximumDmaWidth&#10;} DMA_WIDTH, *PDMA_WIDTH;">DMA_WIDTH</a>        DmaWidth;
  <a href="dma_speed" title="typedef enum _DMA_SPEED&#10;{&#10;    Compatible,&#10;    TypeA,&#10;    TypeB,&#10;    TypeC,&#10;    TypeF,&#10;    MaximumDmaSpeed&#10;} DMA_SPEED, *PDMA_SPEED;">DMA_SPEED</a>        DmaSpeed;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            MaximumLength;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            DmaPort;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            DmaAddressWidth;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            DmaControllerInstance;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            DmaRequestLine;
  <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a> DeviceAddress;
} DEVICE_DESCRIPTION, *PDEVICE_DESCRIPTION;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_device_description">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/device_description.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-wdm-_device_description)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_device_description-structure">_DEVICE_DESCRIPTION structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>DEVICE_DESCRIPTION</strong> structure describes the attributes of the physical device for which a driver is requesting a DMA adapter.</p>

<h2 id="members">Members</h2>

<h3 id="version"><code>Version</code></h3>

<p>The version of this structure. The <strong>Version</strong> member of the <strong>DEVICE_DESCRIPTION</strong> structure that is passed to the <a rel="noopener" target="_blank" href="iogetdmaadapter">IoGetDmaAdapter</a> routine determines which version of the <a rel="noopener" target="_blank" href="padapter_object">DMA_ADAPTER</a> structure is returned by this routine. The following is a list of the possible values of the <strong>Version</strong> member and the corresponding <strong><a href="padapter_object" title="typedef struct _DMA_ADAPTER {&#10;  USHORT          Version;&#10;  USHORT          Size;&#10;  PDMA_OPERATIONS DmaOperations;&#10;} *PADAPTER_OBJECT, DMA_ADAPTER, *PDMA_ADAPTER;">DMA_ADAPTER</a></strong> versions:</p>

<h4 id="device_description_version">DEVICE_DESCRIPTION_VERSION</h4>

<p>If <strong>Version</strong> = <strong>DEVICE_DESCRIPTION_VERSION</strong>, <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> ignores the <strong>IgnoreCount</strong> member, and returns version 1 of the <strong><a href="padapter_object" title="typedef struct _DMA_ADAPTER {&#10;  USHORT          Version;&#10;  USHORT          Size;&#10;  PDMA_OPERATIONS DmaOperations;&#10;} *PADAPTER_OBJECT, DMA_ADAPTER, *PDMA_ADAPTER;">DMA_ADAPTER</a></strong> structure.</p>

<h4 id="device_description_version1">DEVICE_DESCRIPTION_VERSION1</h4>

<p>If <strong>Version</strong> = <strong>DEVICE_DESCRIPTION_VERSION1</strong>, <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> uses the <strong>IgnoreCount</strong> member, and returns version 1 of the <strong><a href="padapter_object" title="typedef struct _DMA_ADAPTER {&#10;  USHORT          Version;&#10;  USHORT          Size;&#10;  PDMA_OPERATIONS DmaOperations;&#10;} *PADAPTER_OBJECT, DMA_ADAPTER, *PDMA_ADAPTER;">DMA_ADAPTER</a></strong> structure.</p>

<h4 id="device_description_version2">DEVICE_DESCRIPTION_VERSION2</h4>

<p>If <strong>Version</strong> = <strong>DEVICE_DESCRIPTION_VERSION2</strong>, <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> uses the <strong>IgnoreCount</strong> member, and returns version 2 of the <strong><a href="padapter_object" title="typedef struct _DMA_ADAPTER {&#10;  USHORT          Version;&#10;  USHORT          Size;&#10;  PDMA_OPERATIONS DmaOperations;&#10;} *PADAPTER_OBJECT, DMA_ADAPTER, *PDMA_ADAPTER;">DMA_ADAPTER</a></strong> structure. Version 2 is available starting with Windows XP.</p>

<h4 id="device_description_version3">DEVICE_DESCRIPTION_VERSION3</h4>

<p>If <strong>Version</strong> = <strong>DEVICE_DESCRIPTION_VERSION3</strong>, <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> uses the <strong>IgnoreCount</strong> member, and returns version 3 of the <strong><a href="padapter_object" title="typedef struct _DMA_ADAPTER {&#10;  USHORT          Version;&#10;  USHORT          Size;&#10;  PDMA_OPERATIONS DmaOperations;&#10;} *PADAPTER_OBJECT, DMA_ADAPTER, *PDMA_ADAPTER;">DMA_ADAPTER</a></strong> structure. Version 3 is available starting with Windows 8.</p>

<h3 id="master"><code>Master</code></h3>

<p>Whether the device is a bus-master DMA device. Set to <strong>TRUE</strong> if the device is a bus-master DMA device. Set to <strong>FALSE</strong> if it is a subordinate DMA device.</p>

<h3 id="scattergather"><code>ScatterGather</code></h3>

<p>For a bus-master DMA device, this member indicates whether the device supports scatter/gather DMA. Set to <strong>TRUE</strong> if the device can do scatter/gather DMA. Otherwise, set this member to <strong>FALSE</strong>.</p>

<p>For a subordinate DMA device, the <strong>ScatterGather</strong> value is not used. Instead, <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> assumes that the scatter/gather capability of a subordinate DMA device is the same as that of the underlying system DMA controller to which the device is connected.</p>

<h3 id="demandmode"><code>DemandMode</code></h3>

<p>This member is used only if <strong>Version</strong> is DEVICE_DESCRIPTION_VERSION2.</p>

<p>For a subordinate DMA device, this member indicates whether to use the system DMA controller's demand mode. Set to <strong>TRUE</strong> to use demand mode. Otherwise, set this member to <strong>FALSE</strong>.</p>

<p>For a bus-master DMA device, the <strong>DemandMode</strong> value is not used.</p>

<p>If <strong>Version</strong> is DEVICE_DESCRIPTION_VERSION, DEVICE_DESCRIPTION_VERSION1, or DEVICE_DESCRIPTION_VERSION3, the <strong>DemandMode</strong> value is not used.</p>

<h3 id="autoinitialize"><code>AutoInitialize</code></h3>

<p>For a subordinate DMA device, this member indicates whether to use the system DMA controller's autoinitialize mode. Set to <strong>TRUE</strong> to use autoinitialize mode. Otherwise, set this member to <strong>FALSE</strong>.</p>

<p>For a bus-master DMA device, the <strong>AutoInitialize</strong> value is not used.</p>

<h3 id="dma32bitaddresses"><code>Dma32BitAddresses</code></h3>

<p>This member is used only if <strong>Version</strong> is DEVICE_DESCRIPTION_VERSION, DEVICE_DESCRIPTION_VERSION1, or DEVICE_DESCRIPTION_VERSION2.</p>

<p><strong>Dma32BitAddresses</strong> specifies whether the device can use full 32-bit addresses for DMA operations. Set to <strong>TRUE</strong> if the device supports 32-bit addresses. Otherwise, set this member to <strong>FALSE</strong>.</p>

<p>If <strong>Version</strong> = DEVICE_DESCRIPTION_VERSION3, the <strong>Dma32BitAddresses</strong> value is not used.</p>

<h3 id="ignorecount"><code>IgnoreCount</code></h3>

<p>Whether to ignore the DMA controller's transfer counter. Set to <strong>TRUE</strong> if the DMA controller in this platform does not maintain an accurate transfer counter, and therefore requires a workaround. Otherwise, set this member to <strong>FALSE</strong>.</p>

<p>If <strong>Version</strong> = DEVICE_DESCRIPTION_VERSION, the <strong>IgnoreCount</strong> value is not used.</p>

<p>For more information, see the Remarks section.</p>

<h3 id="reserved1"><code>Reserved1</code></h3>

<p>Reserved for system use. Must be <strong>FALSE</strong>.</p>

<h3 id="dma64bitaddresses"><code>Dma64BitAddresses</code></h3>

<p>This member is used only if <strong>Version</strong> is DEVICE_DESCRIPTION_VERSION, DEVICE_DESCRIPTION_VERSION1, or DEVICE_DESCRIPTION_VERSION2.</p>

<p><strong>Dma64BitAddresses</strong> specifies whether the device can use full 64-bit addresses for DMA operations. Set to <strong>TRUE</strong> if the device supports 64-bit addresses. Otherwise, set this member to <strong>FALSE</strong>.</p>

<p>If <strong>Version</strong> = DEVICE_DESCRIPTION_VERSION3, the <strong>Dma64BitAddresses</strong> value is not used.</p>

<h3 id="busnumber"><code>BusNumber</code></h3>

<p>The system-assigned bus number for the I/O bus. This member is not used by WDM drivers.</p>

<h3 id="dmachannel"><code>DmaChannel</code></h3>

<p>The number of the DMA channel to which a subordinate device is assigned. The device driver obtains this channel number from the resource list that it receives in the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/irp-mn-start-device">IRP_MN_START_DEVICE</a> request that starts the device. For more information about this number, see the description of the **Dma.Channel** member in <a rel="noopener" target="_blank" href="cm_partial_resource_descriptor">CM_PARTIAL_RESOURCE_DESCRIPTOR</a>.</p>

<h3 id="interfacetype"><code>InterfaceType</code></h3>

<p>The interface type of the I/O bus to use for DMA. Set this member to the <a rel="noopener" target="_blank" href="interface_type">INTERFACE_TYPE</a> enumeration value that indicates the interface type. For more information, see the Remarks section.</p>

<h3 id="dmawidth"><code>DmaWidth</code></h3>

<p>For a subordinate DMA device, this member specifies the DMA data width for transfers by the system DMA controller. Possible values are <strong>Width8Bits</strong>, <strong>Width16Bits</strong>, <strong>Width32Bits</strong>, and <strong>Width64Bits</strong>.</p>

<p>For a bus-master DMA device, the <strong>DmaWidth</strong> value is not used.</p>

<h3 id="dmaspeed"><code>DmaSpeed</code></h3>

<p>This member is used only if <strong>Version</strong> is DEVICE_DESCRIPTION_VERSION, DEVICE_DESCRIPTION_VERSION1, or DEVICE_DESCRIPTION_VERSION2.</p>

<p>For a subordinate DMA device, this member specifies one of the following speeds for system DMA: <strong>Compatible</strong>, <strong>TypeA</strong>, <strong>TypeB</strong>, <strong>TypeC</strong>, or <strong>TypeF</strong>.</p>

<p>For a bus-master DMA device, the <strong>DmaSpeed</strong> value is not used.</p>

<p>If <strong>Version</strong> = DEVICE_DESCRIPTION_VERSION3, the <strong>DmaSpeed</strong> value is not used.</p>

<h3 id="maximumlength"><code>MaximumLength</code></h3>

<p>The maximum number of bytes the device can transfer in a DMA operation that uses the allocated adapter object.</p>

<h3 id="dmaport"><code>DmaPort</code></h3>

<p>The Microchannel-type bus port number. This parameter is obsolete, but is retained in the structure for compatibility with legacy drivers.</p>

<h3 id="dmaaddresswidth"><code>DmaAddressWidth</code></h3>

<p>This member is used only if <strong>Version</strong> = DEVICE_DESCRIPTION_VERSION3.</p>

<p>For a bus-master DMA device, <strong>DmaAddressWidth</strong> specifies the width, in bits, of a DMA address. The <strong>DmaAddressWidth</strong> value must be nonzero and must not exceed 64. If the memory address width is greater than the DMA address width, map registers are required to access a region of memory that is beyond the address reach of the DMA controller.</p>

<p>For a subordinate DMA device, the <strong>DmaAddressWidth</strong> value is not used. Instead, <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> assumes that the address width of a subordinate DMA device is the same as that of the underlying system DMA controller to which the device is connected.</p>

<h3 id="dmacontrollerinstance"><code>DmaControllerInstance</code></h3>

<p>Not used.</p>

<h3 id="dmarequestline"><code>DmaRequestLine</code></h3>

<p>This member is used only if <strong>Version</strong> = DEVICE_DESCRIPTION_VERSION3.</p>

<p>For a subordinate DMA device, <strong>DmaRequestLine</strong> specifies the request line on the DMA controller to which the device is connected. The device driver obtains the number of this request line from the resource list it receives in the <strong><a href="irp_mn_start_device" title="#define IRP_MN_START_DEVICE 0x00">IRP_MN_START_DEVICE</a></strong> request that starts the device. For more information about the request line number, see the description of the <strong>u.DmaV3.RequestLine</strong> member in <a rel="noopener" target="_blank" href="cm_partial_resource_descriptor">CM_PARTIAL_RESOURCE_DESCRIPTOR</a>.</p>

<p>For a bus-master DMA device, the <strong>DmaRequestLine</strong> value is not used.</p>

<h3 id="deviceaddress"><code>DeviceAddress</code></h3>

<p>This member is used only if <strong>Version</strong> = DEVICE_DESCRIPTION_VERSION3.</p>

<p>For a subordinate DMA device, <strong>DeviceAddress</strong> is the memory-mapped address of the data register on the device that is used as the source or destination for a DMA transfer. This data register is located at a known, device-specific offset from the device start address. The width of this register is specified by the <strong>DmaWidth</strong> member. The device driver obtains the device start address from the resource list it receives in the <strong><a href="irp_mn_start_device" title="#define IRP_MN_START_DEVICE 0x00">IRP_MN_START_DEVICE</a></strong> request that starts the device. For more information about this address, see the description of the <strong>u.Memory.Start</strong> member in <a rel="noopener" target="_blank" href="cm_partial_resource_descriptor">CM_PARTIAL_RESOURCE_DESCRIPTOR</a>.</p>

<p>For a bus-master DMA device, the <strong>DeviceAddress</strong> member is not used.</p>

<h2 id="remarks">Remarks</h2>

<p>The driver of a device that uses DMA to transfer data uses the <strong>DEVICE_DESCRIPTION</strong> structure to pass information about the device to the <a rel="noopener" target="_blank" href="iogetdmaadapter">IoGetDmaAdapter</a> routine. The driver calls this routine to request an adapter object for a physical device object (PDO). This PDO represents the device's physical connection to the I/O bus to use for DMA. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/getting-an-adapter-object">Getting an Adapter Object</a>.</p>

<p>To allocate resources for a DMA controller, the I/O manager needs information about the controller but can obtain some of this information only from a driver. For example, the driver for a bus-master device knows whether the device supports scatter/gather DMA or uses full 32-bit addresses. Or, the driver for a subordinate device can determine the DMA channel number from the resource list that the driver receives in the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/irp-mn-start-device">IRP_MN_START_DEVICE</a> request that starts the device. The driver uses the <strong>DEVICE_DESCRIPTION</strong> structure to pass this information to the I/O manager.</p>

<p>Before calling <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong>, the driver should first zero-initialize the entire <strong>DEVICE_DESCRIPTION</strong> structure, then fill in selected members to describe the device.</p>

<p>The <strong>InterfaceType</strong> member specifies the type of bus interface that will be used for DMA. If you set <strong>InterfaceType</strong> to <strong>InterfaceTypeUndefined</strong>, <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> queries the PDO to determine the correct interface type for your device. Or, you can specify an explicit interface type, such as <strong>Internal</strong>, <strong>Isa</strong>, <strong>Eisa</strong>, or <strong>PCIBus</strong>. For more information, see the list of supported interface types in <a rel="noopener" target="_blank" href="interface_type">INTERFACE_TYPE</a>.</p>

<p>If the <strong>ScatterGather</strong> member is set to <strong>TRUE</strong> and the <strong>InterfaceType</strong> member is set to <strong>PCIBus</strong>, the <strong>Dma32BitAddresses</strong> member is ignored and <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> assumes that the device supports 32-bit DMA addresses.</p>

<p>If the <strong>Dma64BitAddresses</strong> member is set to <strong>TRUE</strong>, the <strong>Dma32BitAddresses</strong> member is ignored and <strong><a href="iogetdmaadapter" title="_DMA_ADAPTER * IoGetDmaAdapter(&#10;  [in, optional] PDEVICE_OBJECT      PhysicalDeviceObject,&#10;  [in]           _DEVICE_DESCRIPTION *DeviceDescription,&#10;  [out]          PULONG              NumberOfMapRegisters&#10;);">IoGetDmaAdapter</a></strong> assumes that the device supports 64-bit DMA addresses.</p>

<p>To indicate that the DMA controller hardware cannot reliably maintain an accurate transfer count, set <strong>IgnoreCount</strong> to <strong>TRUE</strong>, and set <strong>Version</strong> to a value other than DEVICE_DESCRIPTION_VERSION. In a platform that has such a DMA controller, the operating system ignores the DMA transfer counter but must take special precautions to maintain data integrity during DMA operations. Typically, the use of a workaround to compensate for a deficient DMA controller degrades the speed of DMA transfers.</p>

<p>A driver should specify <strong>TypeF</strong> as the <strong>DmaSpeed</strong> value only if the computer's ACPI firmware supports it.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="cm_partial_resource_descriptor">CM_PARTIAL_RESOURCE_DESCRIPTOR</a></p>

<p><a rel="noopener" target="_blank" href="cm_resource_list">CM_RESOURCE_LIST</a></p>

<p><a rel="noopener" target="_blank" href="padapter_object">DMA_ADAPTER</a></p>

<p><a rel="noopener" target="_blank" href="interface_type">INTERFACE_TYPE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/irp-mn-start-device">IRP_MN_START_DEVICE</a></p>

<p><a rel="noopener" target="_blank" href="iogetdmaadapter">IoGetDmaAdapter</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_device_description">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdm/ns-wdm-_device_description.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
