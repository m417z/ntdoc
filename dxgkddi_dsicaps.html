<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGKDDI_DSICAPS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGKDDI_DSICAPS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGKDDI_DSICAPS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// dispmprt.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">DXGKDDI_DSICAPS DxgkddiDsicaps;

<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> DxgkddiDsicaps(
  [in]  HANDLE Context,
  [in]  D3DDDI_VIDEO_PRESENT_TARGET_ID TargetId,
  [out] <a href="dxgk_dsi_caps" title="typedef struct _DXGK_DSI_CAPS {&#10;  BYTE DSITypeMajor;&#10;  BYTE DSITypeMinor;&#10;  BYTE SpecVersionMajor;&#10;  BYTE SpecVersionMinor;&#10;  BYTE SpecVersionPatch;&#10;  WORD TargetMaximumReturnPacketSize;&#10;  BYTE ResultCodeFlags;&#10;  BYTE ResultCodeStatus;&#10;  BYTE Revision;&#10;  BYTE Level;&#10;  BYTE DeviceClassHi;&#10;  BYTE DeviceClassLo;&#10;  BYTE ManufacturerHi;&#10;  BYTE ManufacturerLo;&#10;  BYTE ProductHi;&#10;  BYTE ProductLo;&#10;  BYTE LengthHi;&#10;  BYTE LengthLo;&#10;} DXGK_DSI_CAPS, *PDXGK_DSI_CAPS;">PDXGK_DSI_CAPS</a> pArgs
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_dsicaps">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgkddi_dsicaps.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-dispmprt-dxgkddi_dsicaps)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dxgkddi_dsicaps-callback-function">DXGKDDI_DSICAPS callback function</h1>

<h2 id="description">Description</h2>

<p>The <em>DxgkddiDsiCaps</em> callback function queries the Display Serial Interface (DSI) capabilities for a particular target.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="context-in"><code>Context</code> [in]</h3>

<p>As retrieved from the driver's MIPI interface (DXGK_MIPIDSI_interface ,_ DXGK queries the driver for this context.</p>

<h3 id="targetid-in"><code>TargetId</code> [in]</h3>

<p>Target identifier of the monitor.</p>

<h3 id="pargs-out"><code>pArgs</code> [out]</h3>

<p>Pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/ns-dispmprt-dxgk_dsi_caps">DXGI_DSI_CAPS</a> structure.</p>

<h2 id="return-value">Return value</h2>

<p><em>DxgkddiDsiCaps</em> returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> if it succeeds; otherwise it returns one of the error codes defined in <em>Ntstatus.h</em>.</p>

<h2 id="remarks">Remarks</h2>

<p>An OEM panel driver should initialize by sending <a href="#">IOCTL_MIPI_DSI_QUERY_CAPS</a> which provides information to allow the OEM panel driver to verify driver support, and provides the raw level 1 DDB data from the display to allow one panel driver to support multiple devices and to confirm that there is no mismatch. The OS graphics kernel calls DxgkddiDsiCaps when it receives this IOCTL. The capabilities are returned in a <a href="dxgk_dsi_caps" title="typedef struct _DXGK_DSI_CAPS {&#10;  BYTE DSITypeMajor;&#10;  BYTE DSITypeMinor;&#10;  BYTE SpecVersionMajor;&#10;  BYTE SpecVersionMinor;&#10;  BYTE SpecVersionPatch;&#10;  WORD TargetMaximumReturnPacketSize;&#10;  BYTE ResultCodeFlags;&#10;  BYTE ResultCodeStatus;&#10;  BYTE Revision;&#10;  BYTE Level;&#10;  BYTE DeviceClassHi;&#10;  BYTE DeviceClassLo;&#10;  BYTE ManufacturerHi;&#10;  BYTE ManufacturerLo;&#10;  BYTE ProductHi;&#10;  BYTE ProductLo;&#10;  BYTE LengthHi;&#10;  BYTE LengthLo;&#10;} DXGK_DSI_CAPS, *PDXGK_DSI_CAPS;">DXGK_DSI_CAPS</a> structure.</p>

<p>The graphics driver fills in the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/ns-dispmprt-dxgk_dsi_caps">DXGI_DSI_CAPS</a> fields, using cached information if available since the data should be static. Since the OS needs the<code>TargetMaximumReturnPacketSize</code> field value for packet validation, it can request the capabilities from the graphics driver before receiving a request from the panel driver.</p>

<p>The OEM panel driver is responsible for validating DSI capability and compatibility with the panel, since neither the graphics driver nor the OS has sufficient information to do so, particularly for any manufacturer defined or undefined elements.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/ns-dispmprt-dxgk_dsi_caps">DXGI_DSI_CAPS</a></p>

<p><a href="#">IOCTL_MIPI_DSI_QUERY_CAPS</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_dsicaps">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/dispmprt/nc-dispmprt-dxgkddi_dsicaps.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
