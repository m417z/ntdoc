<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT {
  HANDLE                    hAdapter;
  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a>                    Size;
  <a href="ulong_ptr" title="typedef [public] unsigned __int3264 ULONG_PTR;">ULONG_PTR</a>                 Context;
  <a href="dxgk_physical_memory_type" title="typedef enum _DXGK_PHYSICAL_MEMORY_TYPE {&#10;  DXGK_PHYSICAL_MEMORY_TYPE_MDL,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_CONTIGUOUS_MEMORY,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_SECTION,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_IO_SPACE&#10;} DXGK_PHYSICAL_MEMORY_TYPE;">DXGK_PHYSICAL_MEMORY_TYPE</a> Type;
  <a href="dxgk_memory_caching_type" title="typedef enum _DXGK_MEMORY_CACHING_TYPE {&#10;  DXGK_MEMORY_CACHING_TYPE_NON_CACHED,&#10;  DXGK_MEMORY_CACHING_TYPE_CACHED,&#10;  DXGK_MEMORY_CACHING_TYPE_WRITE_COMBINED&#10;} DXGK_MEMORY_CACHING_TYPE;">DXGK_MEMORY_CACHING_TYPE</a>  CacheType;
  union {
    struct {
      <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a> LowAddress;
      <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a> HighAddress;
      <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a> SkipBytes;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a>             Flags;
    } Mdl;
    struct {
      <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a> LowestAcceptableAddress;
      <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a> HighestAcceptableAddress;
      <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a> BoundaryAddressMultiple;
    } ContiguousMemory;
    struct {
      ACCESS_MASK        DesiredAccess;
      <a href="object_attributes" title="typedef struct _OBJECT_ATTRIBUTES&#10;{&#10;    ULONG Length;&#10;    HANDLE RootDirectory;&#10;    PCUNICODE_STRING ObjectName;&#10;    ULONG Attributes;&#10;    PVOID SecurityDescriptor; // PSECURITY_DESCRIPTOR;&#10;    PVOID SecurityQualityOfService; // PSECURITY_QUALITY_OF_SERVICE&#10;} OBJECT_ATTRIBUTES, *POBJECT_ATTRIBUTES;">POBJECT_ATTRIBUTES</a> ObjectAttributes;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              PageProtection;
      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              AllocationAttributes;
    } Section;
    struct {
      <a href="physical_address" title="typedef LARGE_INTEGER PHYSICAL_ADDRESS, *PPHYSICAL_ADDRESS;">PHYSICAL_ADDRESS</a> BaseAddress;
    } IOSpace;
  };
  HANDLE                    hPhysicalMemoryObject;
  HANDLE                    hAdapterMemoryObject;
} DXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-dxgkargcb_create_physical_memory_object">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgkargcb_create_physical_memory_object.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmddi-dxgkargcb_create_physical_memory_object)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The <strong>DXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT</strong> structure contains the information used by the <strong><a href="dxgkcb_createphysicalmemoryobject" title="DXGKCB_CREATEPHYSICALMEMORYOBJECT DxgkcbCreatephysicalmemoryobject;&#10;&#10;NTSTATUS DxgkcbCreatephysicalmemoryobject(&#10;  [in/out] IN_OUT_PDXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_CREATEPHYSICALMEMORYOBJECT</a></strong> callback function to create physical memory.</p>

<h2 id="members">Members</h2>

<h3 id="hadapter"><code>hAdapter</code></h3>

<p>The adapter for which this physical memory will be associated. This parameter is optional and can be NULL. If it is NULL, the driver must call <strong><a href="dxgkcb_openphysicalmemoryobject" title="DXGKCB_OPENPHYSICALMEMORYOBJECT DxgkcbOpenphysicalmemoryobject;&#10;&#10;NTSTATUS DxgkcbOpenphysicalmemoryobject(&#10;  [in/out] IN_OUT_PDXGKARGCB_OPEN_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_OPENPHYSICALMEMORYOBJECT</a></strong> before creating an address descriptor list (ADL). See Remarks for more information.</p>

<h3 id="size"><code>Size</code></h3>

<p>The size, in bytes, of the physical memory being requested. If <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_IO_SPACE</strong>, <strong>Size</strong> refers to the size of the IO space region provided by the driver.</p>

<h3 id="context"><code>Context</code></h3>

<p>A pointer-size piece of context data that <em>Dxgkrnl</em> will store alongside the physical memory object for debugging purposes. This value is never directly used or dereferenced by <em>Dxgkrnl</em> in any way. This may be any value of the driver's choosing, such as the memory address to a driver-owned object that owns this physical memory object.</p>

<h3 id="type"><code>Type</code></h3>

<p>A <strong><a href="dxgk_physical_memory_type" title="typedef enum _DXGK_PHYSICAL_MEMORY_TYPE {&#10;  DXGK_PHYSICAL_MEMORY_TYPE_MDL,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_CONTIGUOUS_MEMORY,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_SECTION,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_IO_SPACE&#10;} DXGK_PHYSICAL_MEMORY_TYPE;">DXGK_PHYSICAL_MEMORY_TYPE</a></strong> value that specifies the type of physical memory to create. If <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_SECTION<em>*, then the allocation attributes of the section object are always <a href="sec_commit" title="#define SEC_COMMIT 0x08000000">SEC_COMMIT</a> (PF-mapped section), and the cache type is determines by *</em>CacheType</strong>.</p>

<h3 id="cachetype"><code>CacheType</code></h3>

<p>The cache type of the pages. If <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_SECTION</strong>, <strong>CacheType</strong> must be either cached, or write-combined.</p>

<h3 id="mdl"><code>Mdl</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_MDL</strong>.</p>

<h3 id="mdllowaddress"><code>Mdl.LowAddress</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_MDL</strong>. See <strong><a href="mmallocatepagesformdlex" title="PMDL MmAllocatePagesForMdlEx(&#10;  [in] PHYSICAL_ADDRESS    LowAddress,&#10;  [in] PHYSICAL_ADDRESS    HighAddress,&#10;  [in] PHYSICAL_ADDRESS    SkipBytes,&#10;  [in] SIZE_T              TotalBytes,&#10;  [in] MEMORY_CACHING_TYPE CacheType,&#10;  [in] ULONG               Flags&#10;);">MmAllocatePagesForMdlEx</a></strong> for details.</p>

<h3 id="mdlhighaddress"><code>Mdl.HighAddress</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_MDL</strong>. See <strong><a href="mmallocatepagesformdlex" title="PMDL MmAllocatePagesForMdlEx(&#10;  [in] PHYSICAL_ADDRESS    LowAddress,&#10;  [in] PHYSICAL_ADDRESS    HighAddress,&#10;  [in] PHYSICAL_ADDRESS    SkipBytes,&#10;  [in] SIZE_T              TotalBytes,&#10;  [in] MEMORY_CACHING_TYPE CacheType,&#10;  [in] ULONG               Flags&#10;);">MmAllocatePagesForMdlEx</a></strong> for details.</p>

<h3 id="mdlskipbytes"><code>Mdl.SkipBytes</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_MDL</strong>. See <strong><a href="mmallocatepagesformdlex" title="PMDL MmAllocatePagesForMdlEx(&#10;  [in] PHYSICAL_ADDRESS    LowAddress,&#10;  [in] PHYSICAL_ADDRESS    HighAddress,&#10;  [in] PHYSICAL_ADDRESS    SkipBytes,&#10;  [in] SIZE_T              TotalBytes,&#10;  [in] MEMORY_CACHING_TYPE CacheType,&#10;  [in] ULONG               Flags&#10;);">MmAllocatePagesForMdlEx</a></strong> for details.</p>

<h3 id="mdlflags"><code>Mdl.Flags</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_MDL</strong>. See <strong><a href="mmallocatepagesformdlex" title="PMDL MmAllocatePagesForMdlEx(&#10;  [in] PHYSICAL_ADDRESS    LowAddress,&#10;  [in] PHYSICAL_ADDRESS    HighAddress,&#10;  [in] PHYSICAL_ADDRESS    SkipBytes,&#10;  [in] SIZE_T              TotalBytes,&#10;  [in] MEMORY_CACHING_TYPE CacheType,&#10;  [in] ULONG               Flags&#10;);">MmAllocatePagesForMdlEx</a></strong> for details.</p>

<h3 id="contiguousmemory"><code>ContiguousMemory</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_CONTIGUOUS_MEMORY</strong>.</p>

<h3 id="contiguousmemorylowestacceptableaddress"><code>ContiguousMemory.LowestAcceptableAddress</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_CONTIGUOUS_MEMORY</strong>. See <strong><a href="mmallocatecontiguousmemoryspecifycache" title="PVOID MmAllocateContiguousMemorySpecifyCache(&#10;  [in]           SIZE_T              NumberOfBytes,&#10;  [in]           PHYSICAL_ADDRESS    LowestAcceptableAddress,&#10;  [in]           PHYSICAL_ADDRESS    HighestAcceptableAddress,&#10;  [in, optional] PHYSICAL_ADDRESS    BoundaryAddressMultiple,&#10;  [in]           MEMORY_CACHING_TYPE CacheType&#10;);">MmAllocateContiguousMemorySpecifyCache</a></strong> for details.</p>

<h3 id="contiguousmemoryhighestacceptableaddress"><code>ContiguousMemory.HighestAcceptableAddress</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_CONTIGUOUS_MEMORY</strong>. See <strong><a href="mmallocatecontiguousmemoryspecifycache" title="PVOID MmAllocateContiguousMemorySpecifyCache(&#10;  [in]           SIZE_T              NumberOfBytes,&#10;  [in]           PHYSICAL_ADDRESS    LowestAcceptableAddress,&#10;  [in]           PHYSICAL_ADDRESS    HighestAcceptableAddress,&#10;  [in, optional] PHYSICAL_ADDRESS    BoundaryAddressMultiple,&#10;  [in]           MEMORY_CACHING_TYPE CacheType&#10;);">MmAllocateContiguousMemorySpecifyCache</a></strong> for details.</p>

<h3 id="contiguousmemoryboundaryaddressmultiple"><code>ContiguousMemory.BoundaryAddressMultiple</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_CONTIGUOUS_MEMORY</strong>. See <strong><a href="mmallocatecontiguousmemoryspecifycache" title="PVOID MmAllocateContiguousMemorySpecifyCache(&#10;  [in]           SIZE_T              NumberOfBytes,&#10;  [in]           PHYSICAL_ADDRESS    LowestAcceptableAddress,&#10;  [in]           PHYSICAL_ADDRESS    HighestAcceptableAddress,&#10;  [in, optional] PHYSICAL_ADDRESS    BoundaryAddressMultiple,&#10;  [in]           MEMORY_CACHING_TYPE CacheType&#10;);">MmAllocateContiguousMemorySpecifyCache</a></strong> for details.</p>

<h3 id="section"><code>Section</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_SECTION</strong>.</p>

<h3 id="sectiondesiredaccess"><code>Section.DesiredAccess</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_SECTION</strong>. See <strong><a href="ntcreatesection" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtCreateSection(&#10;    _Out_ PHANDLE SectionHandle,&#10;    _In_ ACCESS_MASK DesiredAccess,&#10;    _In_opt_ PCOBJECT_ATTRIBUTES ObjectAttributes,&#10;    _In_opt_ PLARGE_INTEGER MaximumSize,&#10;    _In_ ULONG SectionPageProtection,&#10;    _In_ ULONG AllocationAttributes,&#10;    _In_opt_ HANDLE FileHandle&#10;    );">ZwCreateSection</a></strong> for details.</p>

<h3 id="sectionobjectattributes"><code>Section.ObjectAttributes</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_SECTION</strong>. See <strong><a href="ntcreatesection" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtCreateSection(&#10;    _Out_ PHANDLE SectionHandle,&#10;    _In_ ACCESS_MASK DesiredAccess,&#10;    _In_opt_ PCOBJECT_ATTRIBUTES ObjectAttributes,&#10;    _In_opt_ PLARGE_INTEGER MaximumSize,&#10;    _In_ ULONG SectionPageProtection,&#10;    _In_ ULONG AllocationAttributes,&#10;    _In_opt_ HANDLE FileHandle&#10;    );">ZwCreateSection</a></strong> for details.</p>

<h3 id="sectionpageprotection"><code>Section.PageProtection</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_SECTION</strong>. This value should be one of the following values: <a href="page_readonly" title="#define PAGE_READONLY 0x02 // Enables read-only access to the committed region of pages. An attempt to write or execute the committed region results in an access violation.">PAGE_READONLY</a>, <a href="page_readwrite" title="#define PAGE_READWRITE 0x04 // Enables read-only or read/write access to the committed region of pages.">PAGE_READWRITE</a>, <a href="page_execute" title="#define PAGE_EXECUTE 0x10 // Enables execute access to the committed region of pages. An attempt to write to the committed region results in an access violation.">PAGE_EXECUTE</a>, or <a href="page_writecopy" title="#define PAGE_WRITECOPY 0x08 // Enables read-only or copy-on-write access to a mapped view of a file mapping object.">PAGE_WRITECOPY</a>. Do not specify cache attributes (e.g. SEC_WRITECOMBINED) in this field. The allocated attributes of the section object are always <a href="sec_commit" title="#define SEC_COMMIT 0x08000000">SEC_COMMIT</a> (PF-mapped section), and the cache type is determines by *<em>CacheType<strong>. See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nf-wdm-zwcreatesection"></strong>ZwCreateSection</em>*</a> for details.</p>

<h3 id="sectionallocationattributes"><code>Section.AllocationAttributes</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_SECTION</strong>. See <strong><a href="ntcreatesection" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtCreateSection(&#10;    _Out_ PHANDLE SectionHandle,&#10;    _In_ ACCESS_MASK DesiredAccess,&#10;    _In_opt_ PCOBJECT_ATTRIBUTES ObjectAttributes,&#10;    _In_opt_ PLARGE_INTEGER MaximumSize,&#10;    _In_ ULONG SectionPageProtection,&#10;    _In_ ULONG AllocationAttributes,&#10;    _In_opt_ HANDLE FileHandle&#10;    );">ZwCreateSection</a></strong> for details.</p>

<h3 id="iospace"><code>IOSpace</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_IO_SPACE</strong>.</p>

<h3 id="iospacebaseaddress"><code>IOSpace.BaseAddress</code></h3>

<p>Used only when <strong>Type</strong> is <strong>DXGK_PHYSICAL_MEMORY_TYPE_IO_SPACE</strong>. Specifies the starting physical address of the IO space region. This value must be aligned to a multiple of <a href="page_size" title="#define PAGE_SIZE 0x1000">PAGE_SIZE</a>.</p>

<h3 id="hphysicalmemoryobject"><code>hPhysicalMemoryObject</code></h3>

<p>On a successful call to <strong><a href="dxgkcb_createphysicalmemoryobject" title="DXGKCB_CREATEPHYSICALMEMORYOBJECT DxgkcbCreatephysicalmemoryobject;&#10;&#10;NTSTATUS DxgkcbCreatephysicalmemoryobject(&#10;  [in/out] IN_OUT_PDXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_CREATEPHYSICALMEMORYOBJECT</a></strong>, this is an opaque handle back to a <em>Dxgkrnl</em>-managed physical memory object. The physical memory object can be provided to other documented memory management functions to map a virtual address for CPU access. This handle can be closed by calling <strong><a href="dxgkcb_destroyphysicalmemoryobject" title="DXGKCB_DESTROYPHYSICALMEMORYOBJECT DxgkcbDestroyphysicalmemoryobject;&#10;&#10;VOID DxgkcbDestroyphysicalmemoryobject(&#10;  [in] IN_CONST_PDXGKARGCB_DESTROY_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_DESTROYPHYSICALMEMORYOBJECT</a></strong>.</p>

<h3 id="hadaptermemoryobject"><code>hAdapterMemoryObject</code></h3>

<p>On a successful call to <strong><a href="dxgkcb_createphysicalmemoryobject" title="DXGKCB_CREATEPHYSICALMEMORYOBJECT DxgkcbCreatephysicalmemoryobject;&#10;&#10;NTSTATUS DxgkcbCreatephysicalmemoryobject(&#10;  [in/out] IN_OUT_PDXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_CREATEPHYSICALMEMORYOBJECT</a></strong>, this is an opaque handle back to a <em>Dxgkrnl</em>-managed adapter memory object. The adapter memory object can be provided to other documented memory management functions to generate an ADL for GPU access. If <strong>hAdapter</strong> is NULL, this value will be NULL and the driver must call <strong><a href="dxgkcb_openphysicalmemoryobject" title="DXGKCB_OPENPHYSICALMEMORYOBJECT DxgkcbOpenphysicalmemoryobject;&#10;&#10;NTSTATUS DxgkcbOpenphysicalmemoryobject(&#10;  [in/out] IN_OUT_PDXGKARGCB_OPEN_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_OPENPHYSICALMEMORYOBJECT</a></strong> to create this handle. This handle can be closed by calling <strong><a href="dxgkcb_closephysicalmemoryobject" title="DXGKCB_CLOSEPHYSICALMEMORYOBJECT DxgkcbClosephysicalmemoryobject;&#10;&#10;VOID DxgkcbClosephysicalmemoryobject(&#10;  [in] IN_CONST_PDXGKARGCB_CLOSE_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_CLOSEPHYSICALMEMORYOBJECT</a></strong>, or may be provided to <strong><a href="dxgkcb_destroyphysicalmemoryobject" title="DXGKCB_DESTROYPHYSICALMEMORYOBJECT DxgkcbDestroyphysicalmemoryobject;&#10;&#10;VOID DxgkcbDestroyphysicalmemoryobject(&#10;  [in] IN_CONST_PDXGKARGCB_DESTROY_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_DESTROYPHYSICALMEMORYOBJECT</a></strong> (but not both).</p>

<h2 id="remarks">Remarks</h2>

<p>The <em>hAdapter</em> field is optional when creating a physical memory object, but that object must be opened against an adapter in a call to <strong><a href="dxgkcb_openphysicalmemoryobject" title="DXGKCB_OPENPHYSICALMEMORYOBJECT DxgkcbOpenphysicalmemoryobject;&#10;&#10;NTSTATUS DxgkcbOpenphysicalmemoryobject(&#10;  [in/out] IN_OUT_PDXGKARGCB_OPEN_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_OPENPHYSICALMEMORYOBJECT</a></strong> before an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkcb_allocateadl">ADL can be created</a>. This is because an ADL represents logical memory, and each logical adapter has a unique domain. It does not matter which physical adapter the memory is created against. It will be opened by the logical adapter that the physical adapter belongs to and will be mapped to all linked physical adapters.</p>

<p>See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iommu-dma-remapping">IOMMU DMA remapping</a> for more information.</p>

<h2 id="see-also">See also</h2>

<p><strong><a href="dxgk_physical_memory_type" title="typedef enum _DXGK_PHYSICAL_MEMORY_TYPE {&#10;  DXGK_PHYSICAL_MEMORY_TYPE_MDL,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_CONTIGUOUS_MEMORY,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_SECTION,&#10;  DXGK_PHYSICAL_MEMORY_TYPE_IO_SPACE&#10;} DXGK_PHYSICAL_MEMORY_TYPE;">DXGK_PHYSICAL_MEMORY_TYPE</a></strong></p>

<p><strong><a href="dxgkcb_allocateadl" title="DXGKCB_ALLOCATEADL DxgkcbAllocateadl;&#10;&#10;NTSTATUS DxgkcbAllocateadl(&#10;  [in/out] IN_OUT_PDXGKARGCB_ALLOCATE_ADL pArgs&#10;)&#10;{...}">DXGKCB_ALLOCATEADL</a></strong></p>

<p><strong><a href="dxgkcb_closephysicalmemoryobject" title="DXGKCB_CLOSEPHYSICALMEMORYOBJECT DxgkcbClosephysicalmemoryobject;&#10;&#10;VOID DxgkcbClosephysicalmemoryobject(&#10;  [in] IN_CONST_PDXGKARGCB_CLOSE_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_CLOSEPHYSICALMEMORYOBJECT</a></strong></p>

<p><strong><a href="dxgkcb_createphysicalmemoryobject" title="DXGKCB_CREATEPHYSICALMEMORYOBJECT DxgkcbCreatephysicalmemoryobject;&#10;&#10;NTSTATUS DxgkcbCreatephysicalmemoryobject(&#10;  [in/out] IN_OUT_PDXGKARGCB_CREATE_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_CREATEPHYSICALMEMORYOBJECT</a></strong></p>

<p><strong><a href="dxgkcb_destroyphysicalmemoryobject" title="DXGKCB_DESTROYPHYSICALMEMORYOBJECT DxgkcbDestroyphysicalmemoryobject;&#10;&#10;VOID DxgkcbDestroyphysicalmemoryobject(&#10;  [in] IN_CONST_PDXGKARGCB_DESTROY_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_DESTROYPHYSICALMEMORYOBJECT</a></strong></p>

<p><strong><a href="dxgkcb_openphysicalmemoryobject" title="DXGKCB_OPENPHYSICALMEMORYOBJECT DxgkcbOpenphysicalmemoryobject;&#10;&#10;NTSTATUS DxgkcbOpenphysicalmemoryobject(&#10;  [in/out] IN_OUT_PDXGKARGCB_OPEN_PHYSICAL_MEMORY_OBJECT pArgs&#10;)&#10;{...}">DXGKCB_OPENPHYSICALMEMORYOBJECT</a></strong></p>

<p><strong><a href="mmallocatecontiguousmemoryspecifycache" title="PVOID MmAllocateContiguousMemorySpecifyCache(&#10;  [in]           SIZE_T              NumberOfBytes,&#10;  [in]           PHYSICAL_ADDRESS    LowestAcceptableAddress,&#10;  [in]           PHYSICAL_ADDRESS    HighestAcceptableAddress,&#10;  [in, optional] PHYSICAL_ADDRESS    BoundaryAddressMultiple,&#10;  [in]           MEMORY_CACHING_TYPE CacheType&#10;);">MmAllocateContiguousMemorySpecifyCache</a></strong></p>

<p><strong><a href="mmallocatepagesformdlex" title="PMDL MmAllocatePagesForMdlEx(&#10;  [in] PHYSICAL_ADDRESS    LowAddress,&#10;  [in] PHYSICAL_ADDRESS    HighAddress,&#10;  [in] PHYSICAL_ADDRESS    SkipBytes,&#10;  [in] SIZE_T              TotalBytes,&#10;  [in] MEMORY_CACHING_TYPE CacheType,&#10;  [in] ULONG               Flags&#10;);">MmAllocatePagesForMdlEx</a></strong></p>

<p><strong><a href="ntcreatesection" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtCreateSection(&#10;    _Out_ PHANDLE SectionHandle,&#10;    _In_ ACCESS_MASK DesiredAccess,&#10;    _In_opt_ PCOBJECT_ATTRIBUTES ObjectAttributes,&#10;    _In_opt_ PLARGE_INTEGER MaximumSize,&#10;    _In_ ULONG SectionPageProtection,&#10;    _In_ ULONG AllocationAttributes,&#10;    _In_opt_ HANDLE FileHandle&#10;    );">ZwCreateSection</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-dxgkargcb_create_physical_memory_object">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ns-d3dkmddi-dxgkargcb_create_physical_memory_object.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
