<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_FILTER_ATTACH_PARAMETERS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_FILTER_ATTACH_PARAMETERS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_FILTER_ATTACH_PARAMETERS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// ndis.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef struct _NDIS_FILTER_ATTACH_PARAMETERS {
  <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a>                Header;
  NET_IFINDEX                       IfIndex;
  NET_LUID                          NetLuid;
  PNDIS_STRING                      FilterModuleGuidName;
  NET_IFINDEX                       BaseMiniportIfIndex;
  PNDIS_STRING                      BaseMiniportInstanceName;
  PNDIS_STRING                      BaseMiniportName;
  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;
  NET_IF_MEDIA_DUPLEX_STATE         MediaDuplexState;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a>                           XmitLinkSpeed;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a>                           RcvLinkSpeed;
  <a href="ndis_medium" title="typedef enum _NDIS_MEDIUM {&#10;  NdisMedium802_3,&#10;  NdisMedium802_5,&#10;  NdisMediumFddi,&#10;  NdisMediumWan,&#10;  NdisMediumLocalTalk,&#10;  NdisMediumDix,&#10;  NdisMediumArcnetRaw,&#10;  NdisMediumArcnet878_2,&#10;  NdisMediumAtm,&#10;  NdisMediumWirelessWan,&#10;  NdisMediumIrda,&#10;  NdisMediumBpc,&#10;  NdisMediumCoWan,&#10;  NdisMedium1394,&#10;  NdisMediumInfiniBand,&#10;  NdisMediumTunnel,&#10;  NdisMediumNative802_11,&#10;  NdisMediumLoopback,&#10;  NdisMediumWiMAX,&#10;...">NDIS_MEDIUM</a>                       MiniportMediaType;
  NDIS_PHYSICAL_MEDIUM              MiniportPhysicalMediaType;
  NDIS_HANDLE                       MiniportMediaSpecificAttributes;
  <a href="ndis_offload" title="typedef struct _NDIS_OFFLOAD {&#10;  NDIS_OBJECT_HEADER                       Header;&#10;  NDIS_TCP_IP_CHECKSUM_OFFLOAD             Checksum;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V1           LsoV1;&#10;  NDIS_IPSEC_OFFLOAD_V1                    IPsecV1;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V2           LsoV2;&#10;  ULONG                                    Flags;&#10;  NDIS_IPSEC_OFFLOAD_V2                    IPsecV2;&#10;  NDIS_TCP_RECV_SEG_COALESCE_OFFLOAD       Rsc;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD    EncapsulatedPacketTaskOffloadGre;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD_V2 EncapsulatedPacketTaskOffloadVxlan;&#10;  UCHAR                                    EncapsulationTypes;&#10;  NDIS_RFC6877_464XLAT_OFFLOAD             Rfc6877Xlat;&#10;  NDIS_UDP_SEGMENTATION_OFFLOAD            UdpSegmentation;&#10;  NDIS_UDP_RSC_OFFLOAD                     UdpRsc;&#10;} NDIS_OFFLOAD, *PNDIS_OFFLOAD;">PNDIS_OFFLOAD</a>                     DefaultOffloadConfiguration;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                            MacAddressLength;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];
  NET_LUID                          BaseMiniportNetLuid;
  NET_IFINDEX                       LowerIfIndex;
  NET_LUID                          LowerIfNetLuid;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                             Flags;
  <a href="ndis_hd_split_current_config" title="typedef struct _NDIS_HD_SPLIT_CURRENT_CONFIG {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              HardwareCapabilities;&#10;  ULONG              CurrentCapabilities;&#10;  ULONG              HDSplitFlags;&#10;  ULONG              HDSplitCombineFlags;&#10;  ULONG              BackfillSize;&#10;  ULONG              MaxHeaderSize;&#10;} NDIS_HD_SPLIT_CURRENT_CONFIG, *PNDIS_HD_SPLIT_CURRENT_CONFIG;">PNDIS_HD_SPLIT_CURRENT_CONFIG</a>     HDSplitCurrentConfig;
  <a href="ndis_receive_filter_capabilities" title="typedef struct _NDIS_RECEIVE_FILTER_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              EnabledFilterTypes;&#10;  ULONG              EnabledQueueTypes;&#10;  ULONG              NumQueues;&#10;  ULONG              SupportedQueueProperties;&#10;  ULONG              SupportedFilterTests;&#10;  ULONG              SupportedHeaders;&#10;  ULONG              SupportedMacHeaderFields;&#10;  ULONG              MaxMacHeaderFilters;&#10;  ULONG              MaxQueueGroups;&#10;  ULONG              MaxQueuesPerQueueGroup;&#10;  ULONG              MinLookaheadSplitSize;&#10;  ULONG              MaxLookaheadSplitSize;&#10;  ULONG              SupportedARPHeaderFields;&#10;  ULONG              SupportedIPv4HeaderFields;&#10;  ULONG              SupportedIPv6HeaderFields;&#10;  ULONG              SupportedUdpHeaderFields;&#10;  ULONG              MaxFieldTestsPerPacketCoalescingFilter;&#10;...">PNDIS_RECEIVE_FILTER_CAPABILITIES</a> ReceiveFilterCapabilities;
  <a href="device_object" title="typedef struct _DEVICE_OBJECT {&#10;  CSHORT                   Type;&#10;  USHORT                   Size;&#10;  LONG                     ReferenceCount;&#10;  struct _DRIVER_OBJECT    *DriverObject;&#10;  struct _DEVICE_OBJECT    *NextDevice;&#10;  struct _DEVICE_OBJECT    *AttachedDevice;&#10;  struct _IRP              *CurrentIrp;&#10;  PIO_TIMER                Timer;&#10;  ULONG                    Flags;&#10;  ULONG                    Characteristics;&#10;  __volatile PVPB          Vpb;&#10;  PVOID                    DeviceExtension;&#10;  DEVICE_TYPE              DeviceType;&#10;  CCHAR                    StackSize;&#10;  union {&#10;    LIST_ENTRY         ListEntry;&#10;    WAIT_CONTEXT_BLOCK Wcb;&#10;  } Queue;&#10;  ULONG                    AlignmentRequirement;&#10;...">PDEVICE_OBJECT</a>                    MiniportPhysicalDeviceObject;
  <a href="ndis_nic_switch_capabilities" title="typedef struct _NDIS_NIC_SWITCH_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              NdisReserved1;&#10;  ULONG              NumTotalMacAddresses;&#10;  ULONG              NumMacAddressesPerPort;&#10;  ULONG              NumVlansPerPort;&#10;  ULONG              NdisReserved2;&#10;  ULONG              NdisReserved3;&#10;  ULONG              NicSwitchCapabilities;&#10;  ULONG              MaxNumSwitches;&#10;  ULONG              MaxNumVPorts;&#10;  ULONG              NdisReserved4;&#10;  ULONG              MaxNumVFs;&#10;  ULONG              MaxNumQueuePairs;&#10;  ULONG              NdisReserved5;&#10;  ULONG              NdisReserved6;&#10;  ULONG              NdisReserved7;&#10;  ULONG              MaxNumQueuePairsPerNonDefaultVPort;&#10;  ULONG              NdisReserved8;&#10;...">PNDIS_NIC_SWITCH_CAPABILITIES</a>     NicSwitchCapabilities;
  BOOLEAN                           BaseMiniportIfConnectorPresent;
  <a href="ndis_sriov_capabilities" title="typedef struct _NDIS_SRIOV_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              SriovCapabilities;&#10;} NDIS_SRIOV_CAPABILITIES, *PNDIS_SRIOV_CAPABILITIES;">PNDIS_SRIOV_CAPABILITIES</a>          SriovCapabilities;
  <a href="ndis_nic_switch_info_array" title="typedef struct _NDIS_NIC_SWITCH_INFO_ARRAY {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              FirstElementOffset;&#10;  ULONG              NumElements;&#10;  ULONG              ElementSize;&#10;} NDIS_NIC_SWITCH_INFO_ARRAY, *PNDIS_NIC_SWITCH_INFO_ARRAY;">PNDIS_NIC_SWITCH_INFO_ARRAY</a>       NicSwitchArray;
} NDIS_FILTER_ATTACH_PARAMETERS, *PNDIS_FILTER_ATTACH_PARAMETERS;</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_filter_attach_parameters">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_filter_attach_parameters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ndis-_ndis_filter_attach_parameters)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_NDIS_FILTER_ATTACH_PARAMETERS structure</h1>
<h2>Description</h2>
<p>The <strong>NDIS_FILTER_ATTACH_PARAMETERS</strong> structure defines the initialization parameters for the filter
module.</p>
<h2>Members</h2>
<h3><code>Header</code></h3>
<p>The
<a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> structure for the
<strong>NDIS_FILTER_ATTACH_PARAMETERS</strong> structure. NDIS sets the
<strong>Type</strong> member of the structure that
<strong>Header</strong> specifies to NDIS_OBJECT_TYPE_FILTER_ATTACH_PARAMETERS.</p>
<p>To indicate the version of the <strong>NDIS_FILTER_ATTACH_PARAMETERS</strong> structure, NDIS sets the
<strong>Revision</strong> member to one of the following values:</p>
<h4>NDIS_FILTER_ATTACH__PARAMETERS_REVISION_4</h4>
<p>Added various members for NDIS 6.30.</p>
<p>NDIS sets the
<strong>Size</strong> member to NDIS_SIZEOF_FILTER_ATTACH_PARAMETERS_REVISION_4.</p>
<h4>NDIS_FILTER_ATTACH_PARAMETERS_REVISION_3</h4>
<p>Added the
<strong>ReceiveFilterCapabilities</strong>,
<strong>MiniportPhysicalDeviceObject</strong>, and
<strong>NicSwitchCapabilities</strong> members for NDIS 6.20.</p>
<p>NDIS sets the
<strong>Size</strong> member to NDIS_SIZEOF_FILTER_ATTACH_PARAMETERS_REVISION_3.</p>
<h4>NDIS_FILTER_ATTACH_PARAMETERS_REVISION_2</h4>
<p>Added the
<strong>HDSplitCurrentConfig</strong> member for NDIS 6.1.</p>
<p>NDIS sets the
<strong>Size</strong> member to NDIS_SIZEOF_FILTER_ATTACH_PARAMETERS_REVISION_2.</p>
<h4>NDIS_FILTER_ATTACH_PARAMETERS_REVISION_1</h4>
<p>Original version for NDIS 6.0.</p>
<p>NDIS sets the
<strong>Size</strong> member to NDIS_SIZEOF_FILTER_ATTACH_PARAMETERS_REVISION_1.</p>
<h3><code>IfIndex</code></h3>
<p>The NDIS interface index of the filter module that NDIS is attaching to the driver stack.</p>
<h3><code>NetLuid</code></h3>
<p>The NDIS network interface
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ns-ifdef-net_luid_lh">NET_LUID</a> value for the filter module that NDIS is
attaching to the driver stack. The NET_LUID is equivalent to the interface name (<strong>ifName</strong> in RFC 2863
<strong>)</strong>.</p>
<h3><code>FilterModuleGuidName</code></h3>
<p>The GUID name of the filter module that NDIS is attaching.</p>
<h3><code>BaseMiniportIfIndex</code></h3>
<p>The NDIS network interface index of the base miniport adapter. That is, if there are virtual
miniports or filter modules that are installed over a physical miniport adapter, the value of this
member is the interface index of the physical miniport adapter or a virtual miniport of the highest-level MUX intermediate driver.</p>
<h3><code>BaseMiniportInstanceName</code></h3>
<p>A pointer to an NDIS_STRING type value that contains a counted Unicode string. This string
specifies the friendly name of the interface for the base miniport adapter. For Windows 2000 and later
versions, NDIS defines the NDIS_STRING type as a
<a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> type.</p>
<h3><code>BaseMiniportName</code></h3>
<p>The name of the base miniport adapter.</p>
<h3><code>MediaConnectState</code></h3>
<p>The
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ne-ifdef-net_if_media_connect_state">NET_IF_MEDIA_CONNECT_STATE</a> connection state type.</p>
<h3><code>MediaDuplexState</code></h3>
<p>The media duplex state for the underlying miniport adapter. For more information, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-gen-media-duplex-state">OID_GEN_MEDIA_DUPLEX_STATE</a>.</p>
<h3><code>XmitLinkSpeed</code></h3>
<p>The current transmit link speed of the underlying miniport adapter in bits per second. For more
information, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-gen-link-speed-ex">OID_GEN_LINK_SPEED_EX</a>.</p>
<h3><code>RcvLinkSpeed</code></h3>
<p>The current receive link speed of the underlying miniport adapter in bits per second. For more
information, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-gen-link-speed-ex">OID_GEN_LINK_SPEED_EX</a>.</p>
<h3><code>MiniportMediaType</code></h3>
<p>The
<strong>NdisMedium</strong><strong>Xxx</strong> type that the base underlying miniport adapter supports. For more
information, see
<a href="ndis_medium" title="typedef enum _NDIS_MEDIUM {&#10;  NdisMedium802_3,&#10;  NdisMedium802_5,&#10;  NdisMediumFddi,&#10;  NdisMediumWan,&#10;  NdisMediumLocalTalk,&#10;  NdisMediumDix,&#10;  NdisMediumArcnetRaw,&#10;  NdisMediumArcnet878_2,&#10;  NdisMediumAtm,&#10;  NdisMediumWirelessWan,&#10;  NdisMediumIrda,&#10;  NdisMediumBpc,&#10;  NdisMediumCoWan,&#10;  NdisMedium1394,&#10;  NdisMediumInfiniBand,&#10;  NdisMediumTunnel,&#10;  NdisMediumNative802_11,&#10;  NdisMediumLoopback,&#10;  NdisMediumWiMAX,&#10;...">NDIS_MEDIUM</a>.</p>
<h3><code>MiniportPhysicalMediaType</code></h3>
<p>The physical medium type for the base underlying miniport adapter. For more information, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-gen-physical-medium">OID_GEN_PHYSICAL_MEDIUM</a>.</p>
<h3><code>MiniportMediaSpecificAttributes</code></h3>
<p>A pointer to an
<a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> structure that
identifies a structure that contains miniport media-specific attributes, or <strong>NULL</strong> if there are no such
attributes. The
<strong>Type</strong> member of the <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> structure identifies the type of the
attributes structure. For example, if the underlying miniport adapter's media type is
<strong>NdisMediumNative802_11</strong>, then the
<strong>Type</strong> member should be
NDIS_OBJECT_TYPE_MINIPORT_ADAPTER_NATIVE_802_11_ATTRIBUTES, and the
<strong>MiniportMediaSpecificAttributes</strong> member points to an
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/wireless/ff565926(v=vs.85)">NDIS_MINIPORT_ADAPTER_NATIVE_802_11_ATTRIBUTES</a> structure.</p>
<h3><code>DefaultOffloadConfiguration</code></h3>
<p>A pointer to an
<a href="ndis_offload" title="typedef struct _NDIS_OFFLOAD {&#10;  NDIS_OBJECT_HEADER                       Header;&#10;  NDIS_TCP_IP_CHECKSUM_OFFLOAD             Checksum;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V1           LsoV1;&#10;  NDIS_IPSEC_OFFLOAD_V1                    IPsecV1;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V2           LsoV2;&#10;  ULONG                                    Flags;&#10;  NDIS_IPSEC_OFFLOAD_V2                    IPsecV2;&#10;  NDIS_TCP_RECV_SEG_COALESCE_OFFLOAD       Rsc;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD    EncapsulatedPacketTaskOffloadGre;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD_V2 EncapsulatedPacketTaskOffloadVxlan;&#10;  UCHAR                                    EncapsulationTypes;&#10;  NDIS_RFC6877_464XLAT_OFFLOAD             Rfc6877Xlat;&#10;  NDIS_UDP_SEGMENTATION_OFFLOAD            UdpSegmentation;&#10;  NDIS_UDP_RSC_OFFLOAD                     UdpRsc;&#10;} NDIS_OFFLOAD, *PNDIS_OFFLOAD;">NDIS_OFFLOAD</a> structure which defines task
offload attributes. The filter driver should review these attributes to obtain the task offload
capabilities of the underlying drivers. The filter driver should modify these attributes, if necessary,
to reflect any changes in the task offload support that it requires.</p>
<h3><code>MacAddressLength</code></h3>
<p>The MAC address length, in bytes. The MAC address length is specific to the type of media.</p>
<h3><code>CurrentMacAddress</code></h3>
<p>The current MAC address. For example, the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-802-3-current-address">OID_802_3_CURRENT_ADDRESS</a> OID
specifies the current MAC address for IEEE 802.3 drivers.</p>
<h3><code>BaseMiniportNetLuid</code></h3>
<p>The NDIS network interface
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ns-ifdef-net_luid_lh">NET_LUID</a> of the base miniport adapter. That is, if
there are virtual miniports or filter modules that are installed over a physical miniport adapter, the
value of this member is the NET_LUID of the physical miniport adapter or a virtual miniport of the
highest-level MUX intermediate driver.</p>
<h3><code>LowerIfIndex</code></h3>
<p>The NDIS network interface index of the interface just below the current filter module. That is,
if there are filter modules or NDIS 5.
<strong>x</strong> filter intermediate drivers that are installed over a physical miniport
adapter or the highest-level MUX intermediate driver, this member contains the interface index of the
filter module interface or filter intermediate driver interface that is just below the current filter
module. If there are no filter module or filter intermediate driver interfaces installed over the
physical miniport adapter or the highest-level MUX intermediate driver, this member contains the
interface index of the underlying physical miniport adapter or the highest-level MUX intermediate driver
virtual miniport.</p>
<h3><code>LowerIfNetLuid</code></h3>
<p>The NDIS network interface NET_LUID value of the interface just below the current filter module.
That is, if there are filter modules or NDIS 5.
<strong>x</strong> filter intermediate drivers that are installed over a physical miniport
adapter or the highest-level MUX intermediate driver, this member contains the network interface
NET_LUID of the filter module interface or filter intermediate driver interface that is just below the
current filter module. If there are no filter module or filter intermediate driver interfaces installed
over the physical miniport adapter or the highest-level MUX intermediate driver, this member contains
the network interface NET_LUID of the underlying physical miniport adapter or the highest-level MUX
intermediate driver virtual miniport.</p>
<h3><code>Flags</code></h3>
<p>Reserved for future use.</p>
<h3><code>HDSplitCurrentConfig</code></h3>
<p>A pointer to an
<a href="ndis_hd_split_current_config" title="typedef struct _NDIS_HD_SPLIT_CURRENT_CONFIG {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              HardwareCapabilities;&#10;  ULONG              CurrentCapabilities;&#10;  ULONG              HDSplitFlags;&#10;  ULONG              HDSplitCombineFlags;&#10;  ULONG              BackfillSize;&#10;  ULONG              MaxHeaderSize;&#10;} NDIS_HD_SPLIT_CURRENT_CONFIG, *PNDIS_HD_SPLIT_CURRENT_CONFIG;">NDIS_HD_SPLIT_CURRENT_CONFIG</a> structure. This structure specifies the current header-data split
configuration of the underlying miniport adapter. This value can be <strong>NULL</strong> if the miniport adapter does
not support header-data split.</p>
<h3><code>ReceiveFilterCapabilities</code></h3>
<p>A pointer to an
<a href="ndis_receive_filter_capabilities" title="typedef struct _NDIS_RECEIVE_FILTER_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              EnabledFilterTypes;&#10;  ULONG              EnabledQueueTypes;&#10;  ULONG              NumQueues;&#10;  ULONG              SupportedQueueProperties;&#10;  ULONG              SupportedFilterTests;&#10;  ULONG              SupportedHeaders;&#10;  ULONG              SupportedMacHeaderFields;&#10;  ULONG              MaxMacHeaderFilters;&#10;  ULONG              MaxQueueGroups;&#10;  ULONG              MaxQueuesPerQueueGroup;&#10;  ULONG              MinLookaheadSplitSize;&#10;  ULONG              MaxLookaheadSplitSize;&#10;  ULONG              SupportedARPHeaderFields;&#10;  ULONG              SupportedIPv4HeaderFields;&#10;  ULONG              SupportedIPv6HeaderFields;&#10;  ULONG              SupportedUdpHeaderFields;&#10;  ULONG              MaxFieldTestsPerPacketCoalescingFilter;&#10;...">NDIS_RECEIVE_FILTER_CAPABILITIES</a> structure. This structure specifies the generic filtering
capabilities that are currently enabled on the underlying miniport adapter. This value can be <strong>NULL</strong> if the miniport adapter does not
support receive filtering.</p>
<h3><code>MiniportPhysicalDeviceObject</code></h3>
<p>A pointer to a
<a href="device_object" title="typedef struct _DEVICE_OBJECT {&#10;  CSHORT                   Type;&#10;  USHORT                   Size;&#10;  LONG                     ReferenceCount;&#10;  struct _DRIVER_OBJECT    *DriverObject;&#10;  struct _DEVICE_OBJECT    *NextDevice;&#10;  struct _DEVICE_OBJECT    *AttachedDevice;&#10;  struct _IRP              *CurrentIrp;&#10;  PIO_TIMER                Timer;&#10;  ULONG                    Flags;&#10;  ULONG                    Characteristics;&#10;  __volatile PVPB          Vpb;&#10;  PVOID                    DeviceExtension;&#10;  DEVICE_TYPE              DeviceType;&#10;  CCHAR                    StackSize;&#10;  union {&#10;    LIST_ENTRY         ListEntry;&#10;    WAIT_CONTEXT_BLOCK Wcb;&#10;  } Queue;&#10;  ULONG                    AlignmentRequirement;&#10;...">DEVICE_OBJECT</a> structure. This structure
represents the physical device for the underlying miniport adapter.</p>
<h3><code>NicSwitchCapabilities</code></h3>
<p>A pointer to an
<a href="ndis_nic_switch_capabilities" title="typedef struct _NDIS_NIC_SWITCH_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              NdisReserved1;&#10;  ULONG              NumTotalMacAddresses;&#10;  ULONG              NumMacAddressesPerPort;&#10;  ULONG              NumVlansPerPort;&#10;  ULONG              NdisReserved2;&#10;  ULONG              NdisReserved3;&#10;  ULONG              NicSwitchCapabilities;&#10;  ULONG              MaxNumSwitches;&#10;  ULONG              MaxNumVPorts;&#10;  ULONG              NdisReserved4;&#10;  ULONG              MaxNumVFs;&#10;  ULONG              MaxNumQueuePairs;&#10;  ULONG              NdisReserved5;&#10;  ULONG              NdisReserved6;&#10;  ULONG              NdisReserved7;&#10;  ULONG              MaxNumQueuePairsPerNonDefaultVPort;&#10;  ULONG              NdisReserved8;&#10;...">NDIS_NIC_SWITCH_CAPABILITIES</a> structure. This structure specifies the NIC switch capabilities of
the underlying miniport adapter. This value can be <strong>NULL</strong> if the miniport adapter does not support NIC
switch features.</p>
<h3><code>BaseMiniportIfConnectorPresent</code></h3>
<p>A Boolean value that, if set to TRUE, indicates whether a network interface (if) connector is present on the underlying network adapter. This value should be set to TRUE for a physical adapter.</p>
<h3><code>SriovCapabilities</code></h3>
<p>A pointer to an <a href="ndis_sriov_capabilities" title="typedef struct _NDIS_SRIOV_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              SriovCapabilities;&#10;} NDIS_SRIOV_CAPABILITIES, *PNDIS_SRIOV_CAPABILITIES;">NDIS_SRIOV_CAPABILITIES</a> structure. This structure specifies the single root I/O virtualization (SR-IOV) capabilities that are currently enabled on the underlying miniport adapter. This value can be <strong>NULL</strong> if the miniport adapter does not support SR-IOV features.</p>
<p>For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/single-root-i-o-virtualization--sr-iov-">Single Root I/O Virtualization (SR-IOV)</a>.</p>
<h3><code>NicSwitchArray</code></h3>
<p>A pointer to an <a href="ndis_nic_switch_info_array" title="typedef struct _NDIS_NIC_SWITCH_INFO_ARRAY {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              FirstElementOffset;&#10;  ULONG              NumElements;&#10;  ULONG              ElementSize;&#10;} NDIS_NIC_SWITCH_INFO_ARRAY, *PNDIS_NIC_SWITCH_INFO_ARRAY;">NDIS_NIC_SWITCH_INFO_ARRAY</a> structure. This array enumerates the NIC switches that have been created on the miniport adapter. NIC switches can be created only if SR-IOV is supported and enabled on the adapter.</p>
<p><strong>Note</strong> Starting with Windows Server 2012, Windows supports only the default NIC switch that is created on the physical function (PF) miniport adapter. Therefore, this array can contain only one element.</p>
<h2>Remarks</h2>
<p>To define filter module attach parameters, NDIS passes a pointer to an NDIS_FILTER_ATTACH_PARAMETERS
structure to the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-filter_attach">FilterAttach</a> function.</p>
<p>Filter drivers should avoid issuing unnecessary OID queries. Instead, use the information in
NDIS_FILTER_ATTACH_PARAMETERS, when available, to obtain information about underlying drivers.</p>
<h2>See also</h2>
<p><a href="device_object" title="typedef struct _DEVICE_OBJECT {&#10;  CSHORT                   Type;&#10;  USHORT                   Size;&#10;  LONG                     ReferenceCount;&#10;  struct _DRIVER_OBJECT    *DriverObject;&#10;  struct _DEVICE_OBJECT    *NextDevice;&#10;  struct _DEVICE_OBJECT    *AttachedDevice;&#10;  struct _IRP              *CurrentIrp;&#10;  PIO_TIMER                Timer;&#10;  ULONG                    Flags;&#10;  ULONG                    Characteristics;&#10;  __volatile PVPB          Vpb;&#10;  PVOID                    DeviceExtension;&#10;  DEVICE_TYPE              DeviceType;&#10;  CCHAR                    StackSize;&#10;  union {&#10;    LIST_ENTRY         ListEntry;&#10;    WAIT_CONTEXT_BLOCK Wcb;&#10;  } Queue;&#10;  ULONG                    AlignmentRequirement;&#10;...">DEVICE_OBJECT</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-filter_attach">FilterAttach</a></p>
<p><a href="ndis_hd_split_current_config" title="typedef struct _NDIS_HD_SPLIT_CURRENT_CONFIG {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              HardwareCapabilities;&#10;  ULONG              CurrentCapabilities;&#10;  ULONG              HDSplitFlags;&#10;  ULONG              HDSplitCombineFlags;&#10;  ULONG              BackfillSize;&#10;  ULONG              MaxHeaderSize;&#10;} NDIS_HD_SPLIT_CURRENT_CONFIG, *PNDIS_HD_SPLIT_CURRENT_CONFIG;">NDIS_HD_SPLIT_CURRENT_CONFIG</a></p>
<p><a href="ndis_medium" title="typedef enum _NDIS_MEDIUM {&#10;  NdisMedium802_3,&#10;  NdisMedium802_5,&#10;  NdisMediumFddi,&#10;  NdisMediumWan,&#10;  NdisMediumLocalTalk,&#10;  NdisMediumDix,&#10;  NdisMediumArcnetRaw,&#10;  NdisMediumArcnet878_2,&#10;  NdisMediumAtm,&#10;  NdisMediumWirelessWan,&#10;  NdisMediumIrda,&#10;  NdisMediumBpc,&#10;  NdisMediumCoWan,&#10;  NdisMedium1394,&#10;  NdisMediumInfiniBand,&#10;  NdisMediumTunnel,&#10;  NdisMediumNative802_11,&#10;  NdisMediumLoopback,&#10;  NdisMediumWiMAX,&#10;...">NDIS_MEDIUM</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/wireless/ff565926(v=vs.85)">NDIS_MINIPORT_ADAPTER_NATIVE_802_11_ATTRIBUTES</a></p>
<p><a href="ndis_nic_switch_capabilities" title="typedef struct _NDIS_NIC_SWITCH_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              NdisReserved1;&#10;  ULONG              NumTotalMacAddresses;&#10;  ULONG              NumMacAddressesPerPort;&#10;  ULONG              NumVlansPerPort;&#10;  ULONG              NdisReserved2;&#10;  ULONG              NdisReserved3;&#10;  ULONG              NicSwitchCapabilities;&#10;  ULONG              MaxNumSwitches;&#10;  ULONG              MaxNumVPorts;&#10;  ULONG              NdisReserved4;&#10;  ULONG              MaxNumVFs;&#10;  ULONG              MaxNumQueuePairs;&#10;  ULONG              NdisReserved5;&#10;  ULONG              NdisReserved6;&#10;  ULONG              NdisReserved7;&#10;  ULONG              MaxNumQueuePairsPerNonDefaultVPort;&#10;  ULONG              NdisReserved8;&#10;...">NDIS_NIC_SWITCH_CAPABILITIES</a></p>
<p><a href="ndis_nic_switch_info_array" title="typedef struct _NDIS_NIC_SWITCH_INFO_ARRAY {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              FirstElementOffset;&#10;  ULONG              NumElements;&#10;  ULONG              ElementSize;&#10;} NDIS_NIC_SWITCH_INFO_ARRAY, *PNDIS_NIC_SWITCH_INFO_ARRAY;">NDIS_NIC_SWITCH_INFO_ARRAY</a></p>
<p><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></p>
<p><a href="ndis_offload" title="typedef struct _NDIS_OFFLOAD {&#10;  NDIS_OBJECT_HEADER                       Header;&#10;  NDIS_TCP_IP_CHECKSUM_OFFLOAD             Checksum;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V1           LsoV1;&#10;  NDIS_IPSEC_OFFLOAD_V1                    IPsecV1;&#10;  NDIS_TCP_LARGE_SEND_OFFLOAD_V2           LsoV2;&#10;  ULONG                                    Flags;&#10;  NDIS_IPSEC_OFFLOAD_V2                    IPsecV2;&#10;  NDIS_TCP_RECV_SEG_COALESCE_OFFLOAD       Rsc;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD    EncapsulatedPacketTaskOffloadGre;&#10;  NDIS_ENCAPSULATED_PACKET_TASK_OFFLOAD_V2 EncapsulatedPacketTaskOffloadVxlan;&#10;  UCHAR                                    EncapsulationTypes;&#10;  NDIS_RFC6877_464XLAT_OFFLOAD             Rfc6877Xlat;&#10;  NDIS_UDP_SEGMENTATION_OFFLOAD            UdpSegmentation;&#10;  NDIS_UDP_RSC_OFFLOAD                     UdpRsc;&#10;} NDIS_OFFLOAD, *PNDIS_OFFLOAD;">NDIS_OFFLOAD</a></p>
<p><a href="ndis_receive_filter_capabilities" title="typedef struct _NDIS_RECEIVE_FILTER_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              EnabledFilterTypes;&#10;  ULONG              EnabledQueueTypes;&#10;  ULONG              NumQueues;&#10;  ULONG              SupportedQueueProperties;&#10;  ULONG              SupportedFilterTests;&#10;  ULONG              SupportedHeaders;&#10;  ULONG              SupportedMacHeaderFields;&#10;  ULONG              MaxMacHeaderFilters;&#10;  ULONG              MaxQueueGroups;&#10;  ULONG              MaxQueuesPerQueueGroup;&#10;  ULONG              MinLookaheadSplitSize;&#10;  ULONG              MaxLookaheadSplitSize;&#10;  ULONG              SupportedARPHeaderFields;&#10;  ULONG              SupportedIPv4HeaderFields;&#10;  ULONG              SupportedIPv6HeaderFields;&#10;  ULONG              SupportedUdpHeaderFields;&#10;  ULONG              MaxFieldTestsPerPacketCoalescingFilter;&#10;...">NDIS_RECEIVE_FILTER_CAPABILITIES</a></p>
<p><a href="ndis_sriov_capabilities" title="typedef struct _NDIS_SRIOV_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              SriovCapabilities;&#10;} NDIS_SRIOV_CAPABILITIES, *PNDIS_SRIOV_CAPABILITIES;">NDIS_SRIOV_CAPABILITIES</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ne-ifdef-net_if_media_connect_state">NET_IF_MEDIA_CONNECT_STATE</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ns-ifdef-net_luid_lh">NET_LUID</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-802-3-current-address">OID_802_3_CURRENT_ADDRESS</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-gen-link-speed-ex">OID_GEN_LINK_SPEED_EX</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-gen-media-connect-status-ex">OID_GEN_MEDIA_CONNECT_STATUS_EX</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-gen-media-duplex-state">OID_GEN_MEDIA_DUPLEX_STATE</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-gen-physical-medium">OID_GEN_PHYSICAL_MEDIUM</a></p>
<p><a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/ns-ndis-_ndis_filter_attach_parameters">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ndis/ns-ndis-_ndis_filter_attach_parameters.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
