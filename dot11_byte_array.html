<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DOT11_BYTE_ARRAY - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DOT11_BYTE_ARRAY - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DOT11_BYTE_ARRAY - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// windot11.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct DOT11_BYTE_ARRAY {
  <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> Header;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              uNumOfBytes;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              uTotalNumOfBytes;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>              ucBuffer[1];
} DOT11_BYTE_ARRAY, *PDOT11_BYTE_ARRAY;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/windot11/ns-windot11-dot11_byte_array">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dot11_byte_array.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-windot11-dot11_byte_array)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dot11_byte_array-structure">DOT11_BYTE_ARRAY structure</h1>

<h2 id="description">Description</h2>

<blockquote>
  <p>[!Important]
  <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/netcx/wifi-wdf-class-extension-wificx">WiFiCx</a> is the new Wi-Fi driver model released in Windows 11. We recommend that you use WiFiCx to take advantage of the latest features. The WDI driver model is now in maintenance mode and will only receive high priority fixes.</p>
</blockquote>

<p>The DOT11_BYTE_ARRAY structure precedes a list of variable-length structures in the
<strong>InformationBuffer</strong> member of the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_oid_request">MiniportOidRequest</a> function's
<em>OidRequest</em> parameter.</p>

<h2 id="members">Members</h2>

<h3 id="header"><code>Header</code></h3>

<p>The type, revision, and size of the DOT11_BYTE_ARRAY structure. This member is formatted as an
<a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> structure.</p>

<p>The miniport driver must set the members of
<strong>Header</strong> to the following values:</p>

<h4 id="type">Type</h4>

<p>This member must be set to NDIS_OBJECT_TYPE_DEFAULT.</p>

<h4 id="revision">Revision</h4>

<p>This member must be set to the revision of the variable-length structures which follow the
DOT11_BYTE_ARRAY structure. For more information about the revision of these structures, refer to the
object identifiers (OIDS) listed in the
"See Also" section.</p>

<h4 id="size">Size</h4>

<p>This member must be set to
sizeof(DOT11_BYTE_ARRAY).</p>

<p>For more information about these members, see
<a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a>.</p>

<h3 id="unumofbytes"><code>uNumOfBytes</code></h3>

<p>The number of bytes in the
<strong>ucBuffer</strong> array.</p>

<h3 id="utotalnumofbytes"><code>uTotalNumOfBytes</code></h3>

<p>The maximum number of bytes that the
<strong>ucBuffer</strong> array requires.</p>

<h3 id="ucbuffer"><code>ucBuffer</code></h3>

<p>The list of variable-length structures.</p>

<h2 id="syntax">Syntax</h2>

<p><!-- CODE_MARKER --></p>

<div class="codehilite">
<pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">DOT11_BYTE_ARRAY</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n"><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></span><span class="w"> </span><span class="n">Header</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">              </span><span class="n">uNumOfBytes</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></span><span class="w">              </span><span class="n">uTotalNumOfBytes</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a></span><span class="w">              </span><span class="n">ucBuffer</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">DOT11_BYTE_ARRAY</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">PDOT11_BYTE_ARRAY</span><span class="p">;</span>
</code></pre>
</div>

<h2 id="remarks">Remarks</h2>

<p>The type of structures stored in the
<strong>ucBuffer</strong> array depends on the OID set and query request. For example, when queried by
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-enum-bss-list">OID_DOT11_ENUM_BSS_LIST</a>, a miniport
driver stores one or more <a href="dot11_bss_entry" title="typedef struct DOT11_BSS_ENTRY {&#10;  ULONG                             uPhyId;&#10;  DOT11_BSS_ENTRY_PHY_SPECIFIC_INFO PhySpecificInfo;&#10;  DOT11_MAC_ADDRESS                 dot11BSSID;&#10;  DOT11_BSS_TYPE                    dot11BSSType;&#10;  LONG                              lRSSI;&#10;  ULONG                             uLinkQuality;&#10;  BOOLEAN                           bInRegDomain;&#10;  USHORT                            usBeaconPeriod;&#10;  ULONGLONG                         ullTimestamp;&#10;  ULONGLONG                         ullHostTimestamp;&#10;  USHORT                            usCapabilityInformation;&#10;  ULONG                             uBufferLength;&#10;  UCHAR                             ucBuffer[1];&#10;} DOT11_BSS_ENTRY, *PDOT11_BSS_ENTRY;">DOT11_BSS_ENTRY</a> structures in the
<strong>ucBuffer</strong> array.</p>

<p>When queried by an OID that uses the DOT11_BYTE_ARRAY structure, the miniport driver must verify that
the
<strong>InformationBuffer</strong> member of the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_oid_request">MiniportOidRequest</a> function's
<em>OidRequest</em> parameter is large enough to return the entire structure, including all entries in the
<strong>ucBuffer</strong> array. The value of the
<strong>InformationBufferLength</strong> member of the
<em>OidRequest</em> parameter determines what the miniport driver must do, as the following list shows:</p>

<ul>
<li><p>If the value of the
<strong>InformationBufferLength</strong> member is less than the length, in bytes, of the entire DOT11_BYTE_ARRAY
structure, the miniport driver must do the following:</p>

<ul>
<li>For the
<em>OidRequest</em> parameter, set the
<strong>BytesWritten</strong> member to zero and the
<strong>BytesNeeded</strong> member to the length, in bytes, of the entire DOT11_BYTE_ARRAY structure</li>
<li>Fail the query request by returning NDIS_STATUS_BUFFER_OVERFLOW from its
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_oid_request">MiniportOidRequest</a> function.</li>
</ul></li>
<li><p>If the value of the
<strong>InformationBufferLength</strong> member is greater than or equal to the length, in bytes, of the entire
DOT11_BYTE_ARRAY structure, the miniport driver must do the following to complete a successful query
request:</p>

<ul>
<li>For the DOT11_BYTE_ARRAY structure, set the
<strong>uNumOfBytes</strong> and
<strong>uTotalNumOfBytes</strong> members to the total number of entries in the
<strong>ucBuffer</strong> array.</li>
<li>For the
<em>OidRequest</em> parameter, set the
<strong>BytesNeeded</strong> member to zero and the
<strong>BytesWritten</strong> member to the length, in bytes, of the entire DOT11_BYTE_ARRAY structure. The
miniport driver must also copy the entire DOT11_BYTE_ARRAY structure to the
<strong>InformationBuffer</strong> member.</li>
<li>Return NDIS_STATUS_SUCCESS from its
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_oid_request">MiniportOidRequest</a> function.</li>
</ul></li>
</ul>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-cipher-key-mapping-key">OID_DOT11_CIPHER_KEY_MAPPING_KEY</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-dot11-enum-bss-list">OID_DOT11_ENUM_BSS_LIST</a></p>

<p><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/windot11/ns-windot11-dot11_byte_array">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/windot11/ns-windot11-dot11_byte_array.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
