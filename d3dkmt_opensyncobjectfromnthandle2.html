<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// d3dkmthk.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef struct _D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2 {
  [in]  HANDLE                             hNtHandle;
  [in]  D3DKMT_HANDLE                      hDevice;
  [in]  <a href="d3dddi_synchronizationobject_flags" title="typedef struct _D3DDDI_SYNCHRONIZATIONOBJECT_FLAGS {&#10;  union {&#10;    struct {&#10;      UINT Shared : 1;&#10;      UINT NtSecuritySharing : 1;&#10;      UINT CrossAdapter : 1;&#10;      UINT TopOfPipeline : 1;&#10;      UINT NoSignal : 1;&#10;      UINT NoWait : 1;&#10;      UINT NoSignalMaxValueOnTdr : 1;&#10;      UINT NoGPUAccess : 1;&#10;      UINT SignalByKmd : 1;&#10;      UINT Unused : 1;&#10;      UINT UnwaitCpuWaitersOnlyOnDestroy : 1;&#10;#if ...&#10;      UINT Reserved : 20;&#10;#elif&#10;      UINT Reserved : 21;&#10;#elif&#10;      UINT Reserved : 22;&#10;...">D3DDDI_SYNCHRONIZATIONOBJECT_FLAGS</a> Flags;
  [out] D3DKMT_HANDLE                      hSyncObject;
  union {
    struct {
      VOID                                  *FenceValueCPUVirtualAddress;
      D3DKMT_ALIGN64 D3DGPU_VIRTUAL_ADDRESS FenceValueGPUVirtualAddress;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                  EngineAffinity;
    } MonitoredFence;
          D3DKMT_ALIGN64 <a href="uint64" title="typedef unsigned __int64 UINT64;">UINT64</a> Reserved[8];
  };
} D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2;</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmthk/ns-d3dkmthk-_d3dkmt_opensyncobjectfromnthandle2">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3dkmt_opensyncobjectfromnthandle2.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmthk-_d3dkmt_opensyncobjectfromnthandle2)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2 structure</h1>
<h2>Description</h2>
<p><strong>D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2</strong> is used with <a href="d3dkmtopensyncobjectfromnthandle2" title="NTSTATUS D3DKMTOpenSyncObjectFromNtHandle2(&#10;  D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2 *unnamedParam1&#10;);">D3DKMTOpenSyncObjectFromNtHandle2</a> to open a monitored fence object.</p>
<h2>Members</h2>
<h3><code>hNtHandle</code> [in]</h3>
<p>NT handle for the sync object to be opened.</p>
<h3><code>hDevice</code> [in]</h3>
<p>Device handle to use this sync object on.</p>
<h3><code>Flags</code> [in]</h3>
<p>Specifies the desired sync object behavior for this device, such as wait and signal semantics and TDR handling.</p>
<h3><code>hSyncObject</code> [out]</h3>
<p>Handle to the sync object that can be used in this process.</p>
<h3><code>MonitoredFence</code></h3>
<p>Contains sync object virtual addresses that can be used in this process.</p>
<h3><code>MonitoredFence.FenceValueCPUVirtualAddress</code> [out]</h3>
<p>A read-only mapping of the fence value for the CPU. This is a user mode address readable from the process that created the monitored fence object. For 32 bit platforms that support 64 bit atomic reads via methods such as <code>InterlockedCompareExchange64(pointer,0,0)</code>, the mapping will be made read-write instead of read-only to avoid an access violation during the interlocked operation. Depending on the value of <strong>No64BitAtomics</strong> cap, this address points to either a 32 bit or a 64 bit underlying value.</p>
<h3><code>MonitoredFence.FenceValueGPUVirtualAddress</code> [out]</h3>
<p>A read-write mapping of the fence value for the GPU. A driver can signal a new fence value by inserting a GPU write command for this address into a command buffer, and the DirectX graphics kernel will unblock waiters for this fence object value. This GPU virtual address is mapped asynchronously, and the driver should wait for the device that opened or created the monitored fence synchronization object to reach <strong>PagingFenceValue</strong> on its paging fence object prior to accessing this GPU virtual address. Depending on the value of <strong>No64BitAtomics</strong> cap, this address points to either a 32 bit or a 64 bit underlying value.</p>
<h3><code>MonitoredFence.EngineAffinity</code> [in]</h3>
<p>A bit field, where each bit position (starting from zero) defines a physical adapter index in a linked display adapter link where the GPU virtual address will be committed. Zero means that GPU virtual address will be committed to all physical adapters.</p>
<h3><code>Reserved</code></h3>
<p>The consolidated value of the <strong>MonitoredFence</strong> structure.</p>
<h2>See also</h2>
<p><a href="d3dkmtopensyncobjectfromnthandle2" title="NTSTATUS D3DKMTOpenSyncObjectFromNtHandle2(&#10;  D3DKMT_OPENSYNCOBJECTFROMNTHANDLE2 *unnamedParam1&#10;);">D3DKMTOpenSyncObjectFromNtHandle2</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmthk/ns-d3dkmthk-_d3dkmt_opensyncobjectfromnthandle2">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmthk/ns-d3dkmthk-_d3dkmt_opensyncobjectfromnthandle2.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
