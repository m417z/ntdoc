<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="KSEVENT_CAMERAEVENT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>KSEVENT_CAMERAEVENT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            KSEVENT_CAMERAEVENT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ksmedia.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef enum {
  KSEVENT_PHOTO_SAMPLE_SCANNED
} KSEVENT_CAMERAEVENT;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ksmedia/ne-ksmedia-ksevent_cameraevent">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ksevent_cameraevent.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ne-ksmedia-ksevent_cameraevent)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p><strong>KSEVENT_CAMERAEVENT</strong> enumerates a kernel streaming event set that can be used by the pipeline to enable or disable camera event notifications from the driver.</p>

<h2 id="constants">Constants</h2>

<h3 id="ksevent_photo_sample_scanned"><code>KSEVENT_PHOTO_SAMPLE_SCANNED</code></h3>

<p>Event notifications to synchronize the shutter sound playback for a photo capture.</p>

<h2 id="remarks">Remarks</h2>

<p>The camera event DDI is defined by <strong>KSEVENTSETID_CameraEvent</strong>, a kernel streaming event set that can be used by the pipeline to enable or disable camera event notifications from the driver. This is a filter level event meaning that the driver must implement and define the event in the filter's automation table and use <strong><a href="ksfiltergenerateevents" title="void KsFilterGenerateEvents(&#10;  [in]           PKSFILTER                  Filter,&#10;  [in, optional] const GUID                 *EventSet,&#10;  [in]           ULONG                      EventId,&#10;  [in]           ULONG                      DataSize,&#10;  [in]           PVOID                      Data,&#10;  [in, optional] PFNKSGENERATEEVENTCALLBACK CallBack,&#10;  [in, optional] PVOID                      CallBackContext&#10;);">KsFilterGenerateEvents</a></strong> (or <strong><a href="ksgenerateevents" title="void KsGenerateEvents(&#10;  [in]           PVOID                      Object,&#10;  [in, optional] const GUID                 *EventSet,&#10;  [in]           ULONG                      EventId,&#10;  [in]           ULONG                      DataSize,&#10;  [in, optional] PVOID                      Data,&#10;  [in, optional] PFNKSGENERATEEVENTCALLBACK CallBack,&#10;  [in, optional] PVOID                      CallBackContext&#10;);">KsGenerateEvents</a></strong> with filter object) to generate event notifications.</p>

<p><strong>KSEVENTSETID_CameraEvent</strong> and its related data structures are defined in Ksmedia.h as follows.</p>

<p><!-- CODE_MARKER --></p>

<div class="codehilite">
<pre><span></span><code><span class="cp">#define STATIC_KSEVENTSETID_CameraEvent \</span>
<span class="cp">    0x7899b2e0, 0x6b43, 0x4964, 0x9d, 0x2a, 0xa2, 0x1f, 0x40, 0x61, 0xf5, 0x76</span>

<span class="n">DEFINE_GUIDSTRUCT</span><span class="p">(</span><span class="s">&quot;7899B2E0-6B43-4964-9D2A-A21F4061F576&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">KSEVENTSETID_CameraEvent</span><span class="p">);</span>

<span class="cp">#define KSEVENTSETID_CameraEvent DEFINE_GUIDNAMED(KSEVENTSETID_CameraEvent)</span>
</code></pre>
</div>

<p>Currently only <strong>KSEVENT_PHOTO_SAMPLE_SCANNED</strong> event is defined for <strong>KSEVENTSETID_CameraEvent</strong> event set. The pipeline subscribes and listens to the <strong>KSEVENT_PHOTO_SAMPLE_SCANNED</strong> event notifications to synchronize the shutter sound playback for a photo capture. The pipeline will only respond to the first <strong>KSEVENT_PHOTO_SAMPLE_SCANNED</strong> event notification for a given photo capture or photo sequence. It will play the shutter sound only once for any single photo capture or photo sequence capture and ignore subsequent notifications until the photo or photo sequence capture is complete or stopped.</p>

<p>This event set is optional. If the driver does not implement the event set, the pipeline will default to shutter sound playback when the first photo sample in a photo capture is received by DevProxy.</p>

<p>If the driver implements this event set, the pipeline will only respond to the event and will not generate a shutter sound when it receives a photo sample. Therefore it is important to ensure a <strong>KSEVENT_PHOTO_SAMPLE_SCANNED</strong> event notification is generated by the driver when the photo sample is scanned, if driver implements the support of this event set.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ksmedia/ne-ksmedia-ksevent_cameraevent">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ksmedia/ne-ksmedia-ksevent_cameraevent.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
