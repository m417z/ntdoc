<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="VIDEO_HW_INITIALIZATION_DATA - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>VIDEO_HW_INITIALIZATION_DATA - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            VIDEO_HW_INITIALIZATION_DATA - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// video.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _VIDEO_HW_INITIALIZATION_DATA {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          HwInitDataSize;
  <a href="interface_type" title="typedef enum _INTERFACE_TYPE&#10;{&#10;    InterfaceTypeUndefined = -1,&#10;    Internal = 0,&#10;    Isa = 1,&#10;    Eisa = 2,&#10;    MicroChannel = 3,&#10;    TurboChannel = 4,&#10;    PCIBus = 5,&#10;    VMEBus = 6,&#10;    NuBus = 7,&#10;    PCMCIABus = 8,&#10;    CBus = 9,&#10;    MPIBus = 10,&#10;    MPSABus = 11,&#10;    ProcessorInternal = 12,&#10;    InternalPowerBus = 13,&#10;    PNPISABus = 14,&#10;    PNPBus = 15,&#10;    Vmcs = 16,&#10;...">INTERFACE_TYPE</a>                 AdapterInterfaceType;
  <a href="pvideo_hw_find_adapter" title="PVIDEO_HW_FIND_ADAPTER PvideoHwFindAdapter;&#10;&#10;VP_STATUS PvideoHwFindAdapter(&#10;  PVOID HwDeviceExtension,&#10;  PVOID HwContext,&#10;  PWSTR ArgumentString,&#10;  PVIDEO_PORT_CONFIG_INFO ConfigInfo,&#10;  PUCHAR Again&#10;)&#10;{...}">PVIDEO_HW_FIND_ADAPTER</a>         HwFindAdapter;
  <a href="pvideo_hw_initialize" title="PVIDEO_HW_INITIALIZE PvideoHwInitialize;&#10;&#10;BOOLEAN PvideoHwInitialize(&#10;  PVOID HwDeviceExtension&#10;)&#10;{...}">PVIDEO_HW_INITIALIZE</a>           HwInitialize;
  <a href="pvideo_hw_interrupt" title="PVIDEO_HW_INTERRUPT PvideoHwInterrupt;&#10;&#10;BOOLEAN PvideoHwInterrupt(&#10;  PVOID HwDeviceExtension&#10;)&#10;{...}">PVIDEO_HW_INTERRUPT</a>            HwInterrupt;
  <a href="pvideo_hw_start_io" title="PVIDEO_HW_START_IO PvideoHwStartIo;&#10;&#10;BOOLEAN PvideoHwStartIo(&#10;  PVOID HwDeviceExtension,&#10;  PVIDEO_REQUEST_PACKET RequestPacket&#10;)&#10;{...}">PVIDEO_HW_START_IO</a>             HwStartIO;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          HwDeviceExtensionSize;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          StartingDeviceNumber;
  <a href="pvideo_hw_reset_hw" title="PVIDEO_HW_RESET_HW PvideoHwResetHw;&#10;&#10;BOOLEAN PvideoHwResetHw(&#10;  PVOID HwDeviceExtension,&#10;  ULONG Columns,&#10;  ULONG Rows&#10;)&#10;{...}">PVIDEO_HW_RESET_HW</a>             HwResetHw;
  <a href="pvideo_hw_timer" title="PVIDEO_HW_TIMER PvideoHwTimer;&#10;&#10;VOID PvideoHwTimer(&#10;  PVOID HwDeviceExtension&#10;)&#10;{...}">PVIDEO_HW_TIMER</a>                HwTimer;
  <a href="pvideo_hw_start_dma" title="PVIDEO_HW_START_DMA PvideoHwStartDma;&#10;&#10;HW_DMA_RETURN PvideoHwStartDma(&#10;  PVOID HwDeviceExtension,&#10;  PDMA pDma&#10;)&#10;{...}">PVIDEO_HW_START_DMA</a>            HwStartDma;
  <a href="pvideo_hw_power_set" title="PVIDEO_HW_POWER_SET PvideoHwPowerSet;&#10;&#10;VP_STATUS PvideoHwPowerSet(&#10;  PVOID HwDeviceExtension,&#10;  ULONG HwId,&#10;  PVIDEO_POWER_MANAGEMENT VideoPowerControl&#10;)&#10;{...}">PVIDEO_HW_POWER_SET</a>            HwSetPowerState;
  <a href="pvideo_hw_power_get" title="PVIDEO_HW_POWER_GET PvideoHwPowerGet;&#10;&#10;VP_STATUS PvideoHwPowerGet(&#10;  PVOID HwDeviceExtension,&#10;  ULONG HwId,&#10;  PVIDEO_POWER_MANAGEMENT VideoPowerControl&#10;)&#10;{...}">PVIDEO_HW_POWER_GET</a>            HwGetPowerState;
  <a href="pvideo_hw_get_child_descriptor" title="PVIDEO_HW_GET_CHILD_DESCRIPTOR PvideoHwGetChildDescriptor;&#10;&#10;VP_STATUS PvideoHwGetChildDescriptor(&#10;  [in]  IN PVOID HwDeviceExtension,&#10;  [in]  IN PVIDEO_CHILD_ENUM_INFO ChildEnumInfo,&#10;  [out] OUT PVIDEO_CHILD_TYPE VideoChildType,&#10;  [out] OUT PUCHAR pChildDescriptor,&#10;  [out] OUT PULONG UId,&#10;  [out] OUT PULONG pUnused&#10;)&#10;{...}">PVIDEO_HW_GET_CHILD_DESCRIPTOR</a> HwGetVideoChildDescriptor;
  <a href="pvideo_hw_query_interface" title="PVIDEO_HW_QUERY_INTERFACE PvideoHwQueryInterface;&#10;&#10;VP_STATUS PvideoHwQueryInterface(&#10;  PVOID HwDeviceExtension,&#10;  PQUERY_INTERFACE QueryInterface&#10;)&#10;{...}">PVIDEO_HW_QUERY_INTERFACE</a>      HwQueryInterface;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          HwChildDeviceExtensionSize;
  <a href="video_access_range" title="typedef struct _VIDEO_ACCESS_RANGE {&#10;  PHYSICAL_ADDRESS RangeStart;&#10;  ULONG            RangeLength;&#10;  UCHAR            RangeInIoSpace;&#10;  UCHAR            RangeVisible;&#10;  UCHAR            RangeShareable;&#10;  UCHAR            RangePassive;&#10;} VIDEO_ACCESS_RANGE, *PVIDEO_ACCESS_RANGE;">PVIDEO_ACCESS_RANGE</a>            HwLegacyResourceList;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          HwLegacyResourceCount;
  <a href="pvideo_hw_legacyresources" title="PVIDEO_HW_LEGACYRESOURCES PvideoHwLegacyresources;&#10;&#10;VOID PvideoHwLegacyresources(&#10;  [in]      IN ULONG VendorId,&#10;  [in]      IN ULONG DeviceId,&#10;  [in, out] IN OUT PVIDEO_ACCESS_RANGE *LegacyResourceList,&#10;  [in, out] IN OUT PULONG LegacyResourceCount&#10;)&#10;{...}">PVIDEO_HW_LEGACYRESOURCES</a>      HwGetLegacyResources;
  BOOLEAN                        AllowEarlyEnumeration;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          Reserved;
} VIDEO_HW_INITIALIZATION_DATA, *PVIDEO_HW_INITIALIZATION_DATA;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/ns-video-_video_hw_initialization_data">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/video_hw_initialization_data.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-video-_video_hw_initialization_data)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_VIDEO_HW_INITIALIZATION_DATA structure</h1>
<h2>Description</h2>
<p>The VIDEO_HW_INITIALIZATION_DATA structure specifies the entry points and storage requirements for the miniport driver. This structure is created on the stack and initialized by the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/storage/driverentry-of-ide-controller-minidriver">DriverEntry</a> function.</p>
<h2>Members</h2>
<h3><code>HwInitDataSize</code></h3>
<p>Is the size in bytes of this structure. In effect, this indicates the version of VIDEO_HW_INITIALIZATION_DATA being used.</p>
<h3><code>AdapterInterfaceType</code></h3>
<p>Is currently ignored by the video port and should remain zero-initialized.</p>
<h3><code>HwFindAdapter</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_find_adapter">HwVidFindAdapter</a> function, which is required for all miniport drivers.</p>
<h3><code>HwInitialize</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_initialize">HwVidInitialize</a> function, which is required for all miniport drivers.</p>
<h3><code>HwInterrupt</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_interrupt">HwVidInterrupt</a> function, which is required only if the miniport driver's adapter generates interrupts. Otherwise, this pointer must be <strong>NULL</strong>.</p>
<h3><code>HwStartIO</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_start_io">HwVidStartIO</a> function, which is required for all miniport drivers.</p>
<h3><code>HwDeviceExtensionSize</code></h3>
<p>Specifies the size in bytes of the storage the miniport driver requires for its private, adapter-specific device extension. A miniport driver uses this storage to hold driver-determined per-adapter information, such as the mapped logical address ranges for the adapter registers and whatever context information the driver maintains about its I/O operations.</p>
<p>A pointer to the device extension is passed in every call made to the miniport driver's standard functions except <a href="https://learn.microsoft.com/windows-hardware/drivers/storage/driverentry-of-ide-controller-minidriver">DriverEntry</a>, <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pminiport_synchronize_routine">HwVidSynchronizeExecutionCallback</a>, and any <em>SvgaHwIoPortXxx</em> functions. The video port driver allocates the memory for the device extension and initializes it with zeros before it is passed to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_find_adapter">HwVidFindAdapter</a> function.</p>
<h3><code>StartingDeviceNumber</code></h3>
<p>Must be set to zero.</p>
<h3><code>HwResetHw</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_reset_hw">HwVidResetHw</a> function, which is required for any miniport driver of an adapter that does not reset fully on a soft reboot of the machine. Drivers of SVGA adapters that are fully reset to a VGA standard character mode on receipt of an INT10, MODE3-type command usually set this to <strong>NULL</strong>.</p>
<h3><code>HwTimer</code></h3>
<p>Pointer to a miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_timer">HwVidTimer</a> function, which is optional. This pointer can be <strong>NULL</strong>.</p>
<h3><code>HwStartDma</code></h3>
<p>Reserved for system use.</p>
<h3><code>HwSetPowerState</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_power_set">HwVidSetPowerState</a> function, which is required for all miniport drivers.</p>
<h3><code>HwGetPowerState</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_power_get">HwVidGetPowerState</a> function, which is required for all miniport drivers.</p>
<h3><code>HwGetVideoChildDescriptor</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_get_child_descriptor">HwVidGetVideoChildDescriptor</a> function, which is required for all miniport drivers.</p>
<h3><code>HwQueryInterface</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_query_interface">HwVidQueryInterface</a> function. This can be optionally implemented in a miniport driver that supports external programming interfaces for inter-device communication, such as <a href="https://learn.microsoft.com/windows-hardware/drivers/">I2C</a> (or IÂ²C) support for MPEG decoders. Otherwise, this member should be set to <strong>NULL</strong>.</p>
<h3><code>HwChildDeviceExtensionSize</code></h3>
<p>Is the size in bytes of the device extension associated with the display output device. The miniport driver should fill in this member only if the miniport driver needs to manage the monitor configuration data separately from the adapter board configuration.</p>
<h3><code>HwLegacyResourceList</code></h3>
<p>Pointer to an array of <a href="video_access_range" title="typedef struct _VIDEO_ACCESS_RANGE {&#10;  PHYSICAL_ADDRESS RangeStart;&#10;  ULONG            RangeLength;&#10;  UCHAR            RangeInIoSpace;&#10;  UCHAR            RangeVisible;&#10;  UCHAR            RangeShareable;&#10;  UCHAR            RangePassive;&#10;} VIDEO_ACCESS_RANGE, *PVIDEO_ACCESS_RANGE;">VIDEO_ACCESS_RANGE</a> structures. Each structure describes a device I/O port or memory range for the video adapter that is not listed in PCI configuration space.</p>
<h3><code>HwLegacyResourceCount</code></h3>
<p>Is the number of elements in the array to which <strong>HwLegacyResourceList</strong> points.</p>
<h3><code>HwGetLegacyResources</code></h3>
<p>Pointer to the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_legacyresources">HwVidLegacyResources</a> function, which enables the driver to specify its legacy resources based on its device and vendor IDs.</p>
<h3><code>AllowEarlyEnumeration</code></h3>
<p>Allows the miniport driver to enumerate its child devices before the adapter is started; that is, the video port driver can call <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_get_child_descriptor">HwVidGetVideoChildDescriptor</a> before <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_find_adapter">HwVidFindAdapter</a> when this member is set to <strong>TRUE</strong>.</p>
<h3><code>Reserved</code></h3>
<p>Reserved for system use.</p>
<h2>Remarks</h2>
<p>A miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/storage/driverentry-of-ide-controller-minidriver">DriverEntry</a> function must initialize this structure with zeros before it sets relevant values in any member.</p>
<p>The video port driver will ignore the <strong>HwLegacyResourceCount</strong> and <strong>HwLegacyResourceList</strong> members when <strong>HwGetLegacyResources</strong> is initialized with a pointer to a <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_legacyresources">HwVidLegacyResources</a> implementation.</p>
<h2>See also</h2>
<p><a href="emulator_access_entry" title="typedef struct _EMULATOR_ACCESS_ENTRY {&#10;  ULONG                     BasePort;&#10;  ULONG                     NumConsecutivePorts;&#10;  EMULATOR_PORT_ACCESS_TYPE AccessType;&#10;  UCHAR                     AccessMode;&#10;  UCHAR                     StringSupport;&#10;  PVOID                     Routine;&#10;} EMULATOR_ACCESS_ENTRY, *PEMULATOR_ACCESS_ENTRY;">EMULATOR_ACCESS_ENTRY</a></p>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/nc-video-pvideo_hw_legacyresources">HwVidLegacyResources</a></p>
<p><a href="video_access_range" title="typedef struct _VIDEO_ACCESS_RANGE {&#10;  PHYSICAL_ADDRESS RangeStart;&#10;  ULONG            RangeLength;&#10;  UCHAR            RangeInIoSpace;&#10;  UCHAR            RangeVisible;&#10;  UCHAR            RangeShareable;&#10;  UCHAR            RangePassive;&#10;} VIDEO_ACCESS_RANGE, *PVIDEO_ACCESS_RANGE;">VIDEO_ACCESS_RANGE</a></p>
<p><a href="video_port_config_info" title="typedef struct _VIDEO_PORT_CONFIG_INFO {&#10;  ULONG                        Length;&#10;  ULONG                        SystemIoBusNumber;&#10;  INTERFACE_TYPE               AdapterInterfaceType;&#10;  ULONG                        BusInterruptLevel;&#10;  ULONG                        BusInterruptVector;&#10;  KINTERRUPT_MODE              InterruptMode;&#10;  ULONG                        NumEmulatorAccessEntries;&#10;  PEMULATOR_ACCESS_ENTRY       EmulatorAccessEntries;&#10;  ULONG_PTR                    EmulatorAccessEntriesContext;&#10;  PHYSICAL_ADDRESS             VdmPhysicalVideoMemoryAddress;&#10;  ULONG                        VdmPhysicalVideoMemoryLength;&#10;  ULONG                        HardwareStateSize;&#10;  ULONG                        DmaChannel;&#10;  ULONG                        DmaPort;&#10;  UCHAR                        DmaShareable;&#10;  UCHAR                        InterruptShareable;&#10;  BOOLEAN                      Master;&#10;  DMA_WIDTH                    DmaWidth;&#10;  DMA_SPEED                    DmaSpeed;&#10;...">VIDEO_PORT_CONFIG_INFO</a></p>
<p><a href="videoportzeromemory" title="VIDEOPORT_API VOID VideoPortZeroMemory(&#10;  [out] PVOID Destination,&#10;        ULONG Length&#10;);">VideoPortZeroMemory</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/video/ns-video-_video_hw_initialization_data">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/video/ns-video-_video_hw_initialization_data.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
