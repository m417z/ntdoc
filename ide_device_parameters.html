<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IDE_DEVICE_PARAMETERS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IDE_DEVICE_PARAMETERS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IDE_DEVICE_PARAMETERS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// irb.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _IDE_DEVICE_PARAMETERS {
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                  Version;
  <a href="ide_device_type" title="typedef enum {&#10;  DeviceUnknown,&#10;  DeviceIsAta,&#10;  DeviceIsAtapi,&#10;  DeviceNotExist&#10;} IDE_DEVICE_TYPE;">IDE_DEVICE_TYPE</a>         IdeDeviceType;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                   TargetId;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                   MaximumLun;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                   NumberOfOverlappedRequests;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>                   MaxBlockXfer;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>                  DeviceCharacteristics;
  <a href="ata_address_translation" title="typedef enum {&#10;  UnknownMode,&#10;  ChsMode,&#10;  LbaMode,&#10;  Lba48BitMode&#10;} ATA_ADDRESS_TRANSLATION;">ATA_ADDRESS_TRANSLATION</a> AddressTranslation;
  union {
    LARGE_INTEGER MaxLba;
    struct {
      <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NumCylinders;
      <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NumHeads;
      <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NumSectorsPerTrack;
      <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> Reserved;
    } Chs;
  };
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   BytesPerLogicalSector;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   BytesPerPhysicalSector;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   BytesOffsetForSectorAlignment;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   TransferModeSupported;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   TransferModeSelected;
} IDE_DEVICE_PARAMETERS, *PIDE_DEVICE_PARAMETERS;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/ns-irb-_ide_device_parameters">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ide_device_parameters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-irb-_ide_device_parameters)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ide_device_parameters-structure">_IDE_DEVICE_PARAMETERS structure</h1>

<h2 id="description">Description</h2>

<p>The IDE_DEVICE_PARAMETERS structure contains configuration information that the port driver provides to the miniport driver to configure a device.</p>

<p><strong>Note</strong> The ATA port driver and ATA miniport driver models may be altered or unavailable in the future. Instead, we recommend using the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-driver">Storport driver</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-miniport-drivers">Storport miniport</a> driver models.</p>

<h2 id="members">Members</h2>

<h3 id="version"><code>Version</code></h3>

<p>Indicates the size of the <em>Device</em> parameters structure. The miniport driver should verify that sizeof(IDE_DEVICE_PARAMETERS) is less than or equal to the <strong>Version</strong> field.</p>

<h3 id="idedevicetype"><code>IdeDeviceType</code></h3>

<p>Indicates the type of the device. The allowed device types are <em>DeviceIsAta</em> for ATA devices, <em>DeviceIsAtapi</em> for ATAPI devices, and <em>DeviceNotExist</em> if no device was found at that address. The other fields in this structure are not valid if the <strong>IdeDeviceType</strong> is set to <em>DeviceNotExist</em>.</p>

<h3 id="targetid"><code>TargetId</code></h3>

<p>Specifies the target ID of the device.</p>

<h3 id="maximumlun"><code>MaximumLun</code></h3>

<p>The miniport driver must update this field to indicate the maximum logical unit number supported by this device. By default, the member is set to 0 indicating the existence of just one LUN.</p>

<h3 id="numberofoverlappedrequests"><code>NumberOfOverlappedRequests</code></h3>

<p>The miniport driver must update this field to specify the number of overlapped requests it can handle for this device. By default, the member is set to 1.</p>

<h3 id="maxblockxfer"><code>MaxBlockXfer</code></h3>

<p>Specifies the number of sectors in a block of data to be transferred. This value applies to the data blocks used in ATA block transfer commands such as Read Multiple (0xC4), Write Multiple (0xC5). For more information about the ReadMultiple and WriteMultiple commands, see the <em>ATA Specification</em>.</p>

<h3 id="devicecharacteristics"><code>DeviceCharacteristics</code></h3>

<p>Specifies the device characteristics. The table below lists the characteristics that could be set in this member. The high byte of this member is opaque and shall not be changed by the ATA miniport.</p>

<table>
<thead>
<tr>
  <th>Device Characteristic</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>DFLAGS_REMOVABLE_MEDIA</td>
  <td>Indicates that the drive has removable media</td>
</tr>
<tr>
  <td>DFLAGS_ REMOVABLE_DEVICE</td>
  <td>Indicates that the device can be safely unplugged</td>
</tr>
<tr>
  <td>DFLAGS_FUA_SUPPORT</td>
  <td>Indicates that the device supports FUA (Force Unit Access)</td>
</tr>
<tr>
  <td>DFLAGS_INT_DRQ</td>
  <td>Indicates that the device interrupts as DRQ is set after receiving ATAPI Packet command</td>
</tr>
<tr>
  <td>DFLAGS_MSN_SUPPORT</td>
  <td>Indicates that the device supports Media Status Notification.</td>
</tr>
</tbody>
</table>

<h3 id="addresstranslation"><code>AddressTranslation</code></h3>

<p>Contains an enumeration value of type <a rel="noopener" target="_blank" href="ata_address_translation">ATA_ADDRESS_TRANSLATION</a> that specifies the sort of address translation used during data transfers.</p>

<h3 id="maxlba"><code>MaxLba</code></h3>

<p>Specifies the maximum user-addressable logical block address (LBA). This member is defined when <strong>AddressTranslation</strong> is equal to either <strong>LbaMode</strong> or <strong>Lba48BitMode</strong>.</p>

<h3 id="chs"><code>Chs</code></h3>

<p>Specifies the drive geometry with the values for the number of cylinders, heads per cylinder, and the sectors per track. This member is defined when <strong>AddressTranslation</strong> is equal to <strong>ChsMode</strong>.</p>

<h3 id="chsnumcylinders"><code>Chs.NumCylinders</code></h3>

<h3 id="chsnumheads"><code>Chs.NumHeads</code></h3>

<h3 id="chsnumsectorspertrack"><code>Chs.NumSectorsPerTrack</code></h3>

<h3 id="chsreserved"><code>Chs.Reserved</code></h3>

<h3 id="bytesperlogicalsector"><code>BytesPerLogicalSector</code></h3>

<p>This member specifies the number of bytes per logical sector (LBA) for the given device.</p>

<h3 id="bytesperphysicalsector"><code>BytesPerPhysicalSector</code></h3>

<p>This member specifies the number of bytes per physical sector (that is, the smallest amount of data that the device can physically write internally) for the given device.</p>

<h3 id="bytesoffsetforsectoralignment"><code>BytesOffsetForSectorAlignment</code></h3>

<p>This member specifies the location of sector 0 within the first physical sector as defined in the ATA specification represented in bytes.</p>

<h3 id="transfermodesupported"><code>TransferModeSupported</code></h3>

<p>Contains a bitmap that indicates the supported transfer modes.</p>

<h3 id="transfermodeselected"><code>TransferModeSelected</code></h3>

<p>Indicates the selected transfer modes on the device. The miniport driver must set this member.</p>

<h2 id="remarks">Remarks</h2>

<p>The port driver passes a IDE_DEVICE_PARAMETERS structure to the miniport driver when it calls <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/nc-irb-ide_hw_initialize">IdeHwInitialize</a>.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="ata_address_translation">ATA_ADDRESS_TRANSLATION</a></p>

<p><a rel="noopener" target="_blank" href="ide_device_type">IDE_DEVICE_TYPE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/nc-irb-ide_hw_initialize">IdeHwInitialize</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/ns-irb-_ide_device_parameters">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/irb/ns-irb-_ide_device_parameters.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
