<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_OUTPUT_STREAM_ARGUMENTS_0080_2 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_OUTPUT_STREAM_ARGUMENTS_0080_2 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_OUTPUT_STREAM_ARGUMENTS_0080_2 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d12umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_OUTPUT_STREAM_ARGUMENTS_0080_2 {
  <a href="d3d12ddi_video_encoder_compressed_bitstream_0080" title="typedef struct D3D12DDI_VIDEO_ENCODER_COMPRESSED_BITSTREAM_0080 {&#10;  D3D12DDI_HRESOURCE hDrvBuffer;&#10;  UINT64             Offset;&#10;} D3D12DDI_VIDEO_ENCODER_COMPRESSED_BITSTREAM_0080;">D3D12DDI_VIDEO_ENCODER_COMPRESSED_BITSTREAM_0080</a>               CompressedBitstream;
  <a href="d3d12ddi_video_encode_reconstructed_picture_0080" title="typedef struct D3D12DDI_VIDEO_ENCODE_RECONSTRUCTED_PICTURE_0080 {&#10;  D3D12DDI_HRESOURCE hDrvTexture2D;&#10;  UINT               InputFrameSubresource;&#10;} D3D12DDI_VIDEO_ENCODE_RECONSTRUCTED_PICTURE_0080;">D3D12DDI_VIDEO_ENCODE_RECONSTRUCTED_PICTURE_0080</a>               ReconstructedPicture;
  <a href="d3d12ddi_video_encoder_encode_operation_metadata_buffer_0080_2" title="typedef struct D3D12DDI_VIDEO_ENCODER_ENCODE_OPERATION_METADATA_BUFFER_0080_2 {&#10;  D3D12DDI_HRESOURCE hDrvBuffer;&#10;  UINT64             Offset;&#10;} D3D12DDI_VIDEO_ENCODER_ENCODE_OPERATION_METADATA_BUFFER_0080_2;">D3D12DDI_VIDEO_ENCODER_ENCODE_OPERATION_METADATA_BUFFER_0080_2</a> HWLayoutEncoderMetadataDrvBuffer;
} D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_OUTPUT_STREAM_ARGUMENTS_0080_2;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_encoder_encodeframe_output_stream_arguments_0080_2">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3d12ddi_video_encoder_encodeframe_output_stream_arguments_0080_2.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3d12umddi-d3d12ddi_video_encoder_encodeframe_output_stream_arguments_0080_2)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The <strong>D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_OUTPUT_STREAM_ARGUMENTS_0080_2</strong> structure contains the parameters for the output of a video encode operation.</p>

<h2 id="members">Members</h2>

<h3 id="compressedbitstream"><code>CompressedBitstream</code></h3>

<p>A <strong><a href="d3d12ddi_video_encoder_compressed_bitstream_0080" title="typedef struct D3D12DDI_VIDEO_ENCODER_COMPRESSED_BITSTREAM_0080 {&#10;  D3D12DDI_HRESOURCE hDrvBuffer;&#10;  UINT64             Offset;&#10;} D3D12DDI_VIDEO_ENCODER_COMPRESSED_BITSTREAM_0080;">D3D12DDI_VIDEO_ENCODER_COMPRESSED_BITSTREAM_0080</a></strong> structure that encapsulates the compressed bitstream output for the encoding operation.</p>

<h3 id="reconstructedpicture"><code>ReconstructedPicture</code></h3>

<p>A <strong><a href="d3d12ddi_video_encode_reconstructed_picture_0080" title="typedef struct D3D12DDI_VIDEO_ENCODE_RECONSTRUCTED_PICTURE_0080 {&#10;  D3D12DDI_HRESOURCE hDrvTexture2D;&#10;  UINT               InputFrameSubresource;&#10;} D3D12DDI_VIDEO_ENCODE_RECONSTRUCTED_PICTURE_0080;">D3D12DDI_VIDEO_ENCODE_RECONSTRUCTED_PICTURE_0080</a></strong> structure that encapsulates the reconstructed picture generated from the input frame passed to the encode operation. This resource is only needed if the encoded picture is marked to be used as a reference picture in the corresponding <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_encoder_picture_control_codec_data_0082_0">picture control structure</a> for this encode operation. Otherwise, this member can be set to NULL because the reconstructed picture will not be written in the output.</p>

<h3 id="hwlayoutencodermetadatadrvbuffer"><code>HWLayoutEncoderMetadataDrvBuffer</code></h3>

<p>A <strong><a href="d3d12ddi_video_encoder_encode_operation_metadata_buffer_0080_2" title="typedef struct D3D12DDI_VIDEO_ENCODER_ENCODE_OPERATION_METADATA_BUFFER_0080_2 {&#10;  D3D12DDI_HRESOURCE hDrvBuffer;&#10;  UINT64             Offset;&#10;} D3D12DDI_VIDEO_ENCODER_ENCODE_OPERATION_METADATA_BUFFER_0080_2;">D3D12DDI_VIDEO_ENCODER_ENCODE_OPERATION_METADATA_BUFFER_0080_2</a></strong> structure that contains metadata returned by the encoder regarding the hardware-specific layout of the output. This data needs to be resolved into a readable format using <strong><a href="pfnd3d12ddi_video_encode_resolve_output_metadata_0082_0" title="PFND3D12DDI_VIDEO_ENCODE_RESOLVE_OUTPUT_METADATA_0082_0 Pfnd3d12ddiVideoEncodeResolveOutputMetadata00820;&#10;&#10;VOID Pfnd3d12ddiVideoEncodeResolveOutputMetadata00820(&#10;  [in]  D3D12DDI_HCOMMANDLIST hDrvCommandList,&#10;  [in]  const D3D12DDI_VIDEO_ENCODER_RESOLVE_METADATA_INPUT_ARGUMENTS_0080_2 *pInputArguments,&#10;  [out] const D3D12DDI_VIDEO_ENCODER_RESOLVE_METADATA_OUTPUT_ARGUMENTS_0082_0 *pOutputArguments&#10;)&#10;{...}">PFND3D12DDI_VIDEO_ENCODE_RESOLVE_OUTPUT_METADATA_0082_0</a></strong>.</p>

<h2 id="remarks">Remarks</h2>

<p>Check for alignment requirements for the output resources used for the encoding operation.</p>

<p>See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/video-encoding-d3d12">D3D12 video encoding</a> for general information.</p>

<h2 id="see-also">See also</h2>

<p><strong><a href="d3d12ddi_video_encoder_encodeframe_input_stream_arguments_0082_0" title="typedef struct D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_INPUT_STREAM_ARGUMENTS_0082_0 {&#10;  D3D12DDI_VIDEO_ENCODER_SEQUENCE_CONTROL_DESC_0082_0 SequenceControlDesc;&#10;  D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_DESC_0082_0  PictureControlDesc;&#10;  D3D12DDI_HRESOURCE                                  hDrvInputTexture2D;&#10;  UINT                                                InputFrameSubresource;&#10;  UINT                                                CurrentFrameBitstreamMetadataSize;&#10;} D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_INPUT_STREAM_ARGUMENTS_0082_0;">D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_INPUT_STREAM_ARGUMENTS_0082_0</a></strong></p>

<p><strong><a href="d3d12ddi_video_encoder_picture_control_codec_data_0082_0" title="typedef struct D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_CODEC_DATA_0082_0 {&#10;  UINT  DataSize;&#10;  union {&#10;    D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_CODEC_DATA_H264_0082_0 *pH264PicData;&#10;    D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_CODEC_DATA_HEVC_0082_0 *pHEVCPicData;&#10;    D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_CODEC_DATA_0095    *pAV1PicData;&#10;  };&#10;} D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_CODEC_DATA_0082_0;">D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_CODEC_DATA_0082_0</a></strong></p>

<p><strong><a href="pfnd3d12ddi_video_encode_frame_0082_0" title="PFND3D12DDI_VIDEO_ENCODE_FRAME_0082_0 Pfnd3d12ddiVideoEncodeFrame00820;&#10;&#10;VOID Pfnd3d12ddiVideoEncodeFrame00820(&#10;  [in]  D3D12DDI_HCOMMANDLIST hDrvCommandList,&#10;  [in]  D3D12DDI_HVIDEOENCODER_0080 hDrvEncoder,&#10;  [in]  D3D12DDI_HVIDEOENCODERHEAP_0080 hDrvVideoEncoderHeap,&#10;  [in]  const D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_INPUT_STREAM_ARGUMENTS_0082_0 *pInputStreamArguments,&#10;  [out] const D3D12DDI_VIDEO_ENCODER_ENCODEFRAME_OUTPUT_STREAM_ARGUMENTS_0080_2 *pOutputStreamArguments&#10;)&#10;{...}">PFND3D12DDI_VIDEO_ENCODE_FRAME_0082_0</a></strong></p>

<p><strong><a href="pfnd3d12ddi_video_encode_resolve_output_metadata_0082_0" title="PFND3D12DDI_VIDEO_ENCODE_RESOLVE_OUTPUT_METADATA_0082_0 Pfnd3d12ddiVideoEncodeResolveOutputMetadata00820;&#10;&#10;VOID Pfnd3d12ddiVideoEncodeResolveOutputMetadata00820(&#10;  [in]  D3D12DDI_HCOMMANDLIST hDrvCommandList,&#10;  [in]  const D3D12DDI_VIDEO_ENCODER_RESOLVE_METADATA_INPUT_ARGUMENTS_0080_2 *pInputArguments,&#10;  [out] const D3D12DDI_VIDEO_ENCODER_RESOLVE_METADATA_OUTPUT_ARGUMENTS_0082_0 *pOutputArguments&#10;)&#10;{...}">PFND3D12DDI_VIDEO_ENCODE_RESOLVE_OUTPUT_METADATA_0082_0</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_encoder_encodeframe_output_stream_arguments_0080_2">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_encoder_encodeframe_output_stream_arguments_0080_2.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
