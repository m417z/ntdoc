<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PFND3D10DDI_CHECKCOUNTER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PFND3D10DDI_CHECKCOUNTER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PFND3D10DDI_CHECKCOUNTER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d10umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">PFND3D10DDI_CHECKCOUNTER Pfnd3d10ddiCheckcounter;

VOID Pfnd3d10ddiCheckcounter(
            D3D10DDI_HDEVICE unnamedParam1,
            <a href="d3d10ddi_query" title="typedef enum D3D10DDI_QUERY {&#10;  D3D10DDI_QUERY_EVENT,&#10;  D3D10DDI_QUERY_OCCLUSION,&#10;  D3D10DDI_QUERY_TIMESTAMP,&#10;  D3D10DDI_QUERY_TIMESTAMPDISJOINT,&#10;  D3D10DDI_QUERY_PIPELINESTATS,&#10;  D3D10DDI_QUERY_OCCLUSIONPREDICATE,&#10;  D3D10DDI_QUERY_STREAMOUTPUTSTATS,&#10;  D3D10DDI_QUERY_STREAMOVERFLOWPREDICATE,&#10;  D3D11DDI_QUERY_PIPELINESTATS,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM0,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM1,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM2,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM3,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM0,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM1,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM2,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM3,&#10;  D3D10DDI_COUNTER_GPU_IDLE,&#10;  D3D10DDI_COUNTER_VERTEX_PROCESSING,&#10;...">D3D10DDI_QUERY</a> unnamedParam2,
            D3D10DDI_COUNTER_TYPE *unnamedParam3,
            <a href="uint" title="typedef unsigned int UINT;">UINT</a> *unnamedParam4,
            LPSTR unnamedParam5,
  [in, out] <a href="uint" title="typedef unsigned int UINT;">UINT</a> *pNameLength,
            LPSTR unnamedParam7,
  [in, out] <a href="uint" title="typedef unsigned int UINT;">UINT</a> *pUnitsLength,
            LPSTR unnamedParam9,
  [in, out] <a href="uint" title="typedef unsigned int UINT;">UINT</a> *pDescriptionLength
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_checkcounter">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pfnd3d10ddi_checkcounter.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-d3d10umddi-pfnd3d10ddi_checkcounter)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>PFND3D10DDI_CHECKCOUNTER callback function</h1>

<h2>Description</h2>

<p>The <strong>CheckCounter</strong> function retrieves information that describes a counter.</p>

<h2>Parameters</h2>

<h3><code>unnamedParam1</code></h3>

<p><em>hDevice</em> [in]</p>

<p>A handle to the display device (graphics context).</p>

<h3><code>unnamedParam2</code></h3>

<p><em>Query</em> [in]</p>

<p>A <a href="d3d10ddi_query" title="typedef enum D3D10DDI_QUERY {&#10;  D3D10DDI_QUERY_EVENT,&#10;  D3D10DDI_QUERY_OCCLUSION,&#10;  D3D10DDI_QUERY_TIMESTAMP,&#10;  D3D10DDI_QUERY_TIMESTAMPDISJOINT,&#10;  D3D10DDI_QUERY_PIPELINESTATS,&#10;  D3D10DDI_QUERY_OCCLUSIONPREDICATE,&#10;  D3D10DDI_QUERY_STREAMOUTPUTSTATS,&#10;  D3D10DDI_QUERY_STREAMOVERFLOWPREDICATE,&#10;  D3D11DDI_QUERY_PIPELINESTATS,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM0,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM1,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM2,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM3,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM0,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM1,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM2,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM3,&#10;  D3D10DDI_COUNTER_GPU_IDLE,&#10;  D3D10DDI_COUNTER_VERTEX_PROCESSING,&#10;...">D3D10DDI_QUERY</a>-typed value that identifies the counter identifier that information is retrieved for.</p>

<h3><code>unnamedParam3</code></h3>

<p><em>pCounterType</em> [out]</p>

<p>A pointer to a variable that receives one of the following values from the D3D10DDI_COUNTER_TYPE enumeration that identifies the data type that the counter outputs.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>D3D10DDI_COUNTER_TYPE_FLOAT32</td>
  <td>Single-precision float</td>
</tr>
<tr>
  <td>D3D10DDI_COUNTER_TYPE_UINT16</td>
  <td>16-bit value</td>
</tr>
<tr>
  <td>D3D10DDI_COUNTER_TYPE_UINT32</td>
  <td>32-bit value</td>
</tr>
<tr>
  <td>D3D10DDI_COUNTER_TYPE_UINT64</td>
  <td>64-bit value</td>
</tr>
</tbody>
</table>

<h3><code>unnamedParam4</code></h3>

<p><em>pDescription</em> [out]</p>

<p>A pointer that the driver returns a NULL-terminated string to that contains the description of what the counter identifier measures.</p>

<h3><code>unnamedParam5</code></h3>

<p><em>pActiveCounters</em> [out]</p>

<p>A pointer to a variable that receives the number of simultaneously active counters that are allocated for the creation of the counter identifier that <em>Query</em> identifies.</p>

<h3><code>pNameLength</code> [in, out]</h3>

<p>A pointer to a variable that receives the size, in bytes, of the NULL-terminated string that the <em>pName</em> parameter specifies.</p>

<h3><code>unnamedParam7</code></h3>

<p><em>pName</em> [out]</p>

<p>A pointer that the driver returns a NULL-terminated string to that contains the name of the counter identifier.</p>

<h3><code>pUnitsLength</code> [in, out]</h3>

<p>A pointer to a variable that receives the size, in bytes, of the NULL-terminated string that the <em>pUnits</em> parameter specifies.</p>

<h3><code>unnamedParam9</code></h3>

<p><em>pUnits</em> [out]</p>

<p>A pointer that the driver returns a NULL-terminated string to that contains the name of the units that the counter identifier measures.</p>

<h3><code>pDescriptionLength</code> [in, out]</h3>

<p>A pointer to a variable that receives the size, in bytes, of the NULL-terminated string that the <em>pDescription</em> parameter specifies.</p>

<h2>Remarks</h2>

<p>The driver can use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_seterror_cb">pfnSetErrorCb</a> callback function to set an error code.</p>

<p>The driver's <strong>CheckCounter</strong> function can call the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_seterror_cb">pfnSetErrorCb</a> callback function to set the ERR_UNSUPPORTED error code if the <em>Query</em> parameter of <strong>CheckCounter</strong>specifies a well-known counter that the device does not support.</p>

<p>The driver must validate a device-dependent counter identifier to ensure the identifier is within range. The driver must also ensure that enough space exists to copy each counter string into each buffer that the Microsoft Direct3D runtime provides. The driver can call the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_seterror_cb">pfnSetErrorCb</a> callback function to set the E_INVALIDARG error code if there is not enough space for any of the provided buffers.</p>

<p>The driver's <strong>CheckCounter</strong> function cannot call the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_seterror_cb">pfnSetErrorCb</a> callback function to set the D3DDDIERR_DEVICEREMOVED error code because <strong>CheckCounter</strong> is a capability-check type of function. The driver must ensure that it has enough information after device creation to respond to a call to <strong>CheckCounter</strong>, even in the presence of D3DDDIERR_DEVICEREMOVED.</p>

<h2>See also</h2>

<p><a href="d3d10ddi_devicefuncs" title="typedef struct D3D10DDI_DEVICEFUNCS {&#10;  PFND3D10DDI_RESOURCEUPDATESUBRESOURCEUP               pfnDefaultConstantBufferUpdateSubresourceUP;&#10;  PFND3D10DDI_SETCONSTANTBUFFERS                        pfnVsSetConstantBuffers;&#10;  PFND3D10DDI_SETSHADERRESOURCES                        pfnPsSetShaderResources;&#10;  PFND3D10DDI_SETSHADER                                 pfnPsSetShader;&#10;  PFND3D10DDI_SETSAMPLERS                               pfnPsSetSamplers;&#10;  PFND3D10DDI_SETSHADER                                 pfnVsSetShader;&#10;  PFND3D10DDI_DRAWINDEXED                               pfnDrawIndexed;&#10;  PFND3D10DDI_DRAW                                      pfnDraw;&#10;  PFND3D10DDI_RESOURCEMAP                               pfnDynamicIABufferMapNoOverwrite;&#10;  PFND3D10DDI_RESOURCEUNMAP                             pfnDynamicIABufferUnmap;&#10;  PFND3D10DDI_RESOURCEMAP                               pfnDynamicConstantBufferMapDiscard;&#10;  PFND3D10DDI_RESOURCEMAP                               pfnDynamicIABufferMapDiscard;&#10;  PFND3D10DDI_RESOURCEUNMAP                             pfnDynamicConstantBufferUnmap;&#10;  PFND3D10DDI_SETCONSTANTBUFFERS                        pfnPsSetConstantBuffers;&#10;  PFND3D10DDI_SETINPUTLAYOUT                            pfnIaSetInputLayout;&#10;  PFND3D10DDI_IA_SETVERTEXBUFFERS                       pfnIaSetVertexBuffers;&#10;  PFND3D10DDI_IA_SETINDEXBUFFER                         pfnIaSetIndexBuffer;&#10;  PFND3D10DDI_DRAWINDEXEDINSTANCED                      pfnDrawIndexedInstanced;&#10;  PFND3D10DDI_DRAWINSTANCED                             pfnDrawInstanced;&#10;...">D3D10DDI_DEVICEFUNCS</a></p>

<p><a href="d3d10ddi_query" title="typedef enum D3D10DDI_QUERY {&#10;  D3D10DDI_QUERY_EVENT,&#10;  D3D10DDI_QUERY_OCCLUSION,&#10;  D3D10DDI_QUERY_TIMESTAMP,&#10;  D3D10DDI_QUERY_TIMESTAMPDISJOINT,&#10;  D3D10DDI_QUERY_PIPELINESTATS,&#10;  D3D10DDI_QUERY_OCCLUSIONPREDICATE,&#10;  D3D10DDI_QUERY_STREAMOUTPUTSTATS,&#10;  D3D10DDI_QUERY_STREAMOVERFLOWPREDICATE,&#10;  D3D11DDI_QUERY_PIPELINESTATS,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM0,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM1,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM2,&#10;  D3D11DDI_QUERY_STREAMOUTPUTSTATS_STREAM3,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM0,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM1,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM2,&#10;  D3D11DDI_QUERY_STREAMOVERFLOWPREDICATE_STREAM3,&#10;  D3D10DDI_COUNTER_GPU_IDLE,&#10;  D3D10DDI_COUNTER_VERTEX_PROCESSING,&#10;...">D3D10DDI_QUERY</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_seterror_cb">pfnSetErrorCb</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_checkcounter">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_checkcounter.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
