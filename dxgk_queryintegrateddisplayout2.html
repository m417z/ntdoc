<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGK_QUERYINTEGRATEDDISPLAYOUT2 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGK_QUERYINTEGRATEDDISPLAYOUT2 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGK_QUERYINTEGRATEDDISPLAYOUT2 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXGK_QUERYINTEGRATEDDISPLAYOUT2 {
  [out] <a href="dxgk_integrateddisplayflags" title="typedef union _DXGK_INTEGRATEDDISPLAYFLAGS {&#10;  struct {&#10;    DXGK_DISPLAYPANELORIENTATION UndockedOrientation : 2;&#10;    DXGK_DISPLAYPANELORIENTATION DockedOrientation : 2;&#10;    UINT                         Reserved : 28;&#10;  };&#10;  UINT   Value;&#10;} DXGK_INTEGRATEDDISPLAYFLAGS, *PDXGK_INTEGRATEDDISPLAYFLAGS;">DXGK_INTEGRATEDDISPLAYFLAGS</a>        Flags;
  [out] <a href="d3dkmdt_video_signal_info" title="typedef struct _D3DKMDT_VIDEO_SIGNAL_INFO {&#10;  D3DKMDT_VIDEO_SIGNAL_STANDARD VideoStandard;&#10;  D3DKMDT_2DREGION              TotalSize;&#10;  D3DKMDT_2DREGION              ActiveSize;&#10;  D3DDDI_RATIONAL               VSyncFreq;&#10;  D3DDDI_RATIONAL               HSyncFreq;&#10;  SIZE_T                        PixelRate;&#10;  union {&#10;    struct {&#10;      D3DDDI_VIDEO_SIGNAL_SCANLINE_ORDERING ScanLineOrdering : 3;&#10;      UINT                                  VSyncFreqDivider : 6;&#10;      UINT                                  Reserved : 23;&#10;    } AdditionalSignalInfo;&#10;    D3DDDI_VIDEO_SIGNAL_SCANLINE_ORDERING ScanLineOrdering;&#10;  };&#10;} D3DKMDT_VIDEO_SIGNAL_INFO;">D3DKMDT_VIDEO_SIGNAL_INFO</a>          NativeTiming;
  [out] <a href="dxgk_monitorlinkinfo_capabilities" title="typedef union _DXGK_MONITORLINKINFO_CAPABILITIES {&#10;  struct {&#10;    UINT Stereo : 1;&#10;    UINT WideColorSpace : 1;&#10;    UINT HighColorSpace : 1;&#10;    UINT DynamicColorSpace : 1;&#10;    UINT DynamicBitsPerColorChannel : 1;&#10;    UINT DynamicColorEncodingFormat : 1;&#10;    UINT DedicatedTimingGeneration : 1;&#10;    UINT TargetIndependentPrimary : 1;&#10;    UINT SyncLockIdentical : 1;&#10;    UINT Hdr10Plus : 1;&#10;    UINT DolbyVisionLowLatency : 1;&#10;    UINT VariableRefresh : 1;&#10;#if ...&#10;    UINT Reserved : 20;&#10;#elif&#10;    UINT Reserved : 21;&#10;#elif&#10;    UINT Reserved : 22;&#10;...">DXGK_MONITORLINKINFO_CAPABILITIES</a>  LinkCapabilities;
  [out] <a href="dxgk_colorimetry" title="typedef struct _DXGK_COLORIMETRY {&#10;  D3DKMDT_2DOFFSET                   RedPoint;&#10;  D3DKMDT_2DOFFSET                   GreenPoint;&#10;  D3DKMDT_2DOFFSET                   BluePoint;&#10;  D3DKMDT_2DOFFSET                   WhitePoint;&#10;  ULONG                              MinLuminance;&#10;  ULONG                              MaxLuminance;&#10;  ULONG                              MaxFullFrameLuminance;&#10;  D3DKMDT_WIRE_FORMAT_AND_PREFERENCE FormatBitDepths;&#10;  DXGK_STANDARD_COLORIMETRY_FLAGS    StandardColorimetryFlags;&#10;} DXGK_COLORIMETRY, *PDXGK_COLORIMETRY;">DXGK_COLORIMETRY</a>                   Colorimetry;
  [out] <a href="dxgk_display_technology" title="typedef enum _DXGK_DISPLAY_TECHNOLOGY {&#10;  DXGK_DT_INVALID = 0,&#10;  DXGK_DT_OTHER = 1,&#10;  DXGK_DT_LCD = 2,&#10;  DXGK_DT_OLED = 3,&#10;  DXGK_DT_PROJECTOR = 4,&#10;  DXGK_DT_MAX = 5&#10;} DXGK_DISPLAY_TECHNOLOGY, *PDXGK_DISPLAY_TECHNOLOGY;">DXGK_DISPLAY_TECHNOLOGY</a>            DisplayTechnology;
  [out] <a href="dxgk_display_usage" title="typedef enum _DXGK_DISPLAY_USAGE {&#10;  DXGK_DU_INVALID = 0,&#10;  DXGK_DU_GENERIC = 1,&#10;  DXGK_DU_AR = 2,&#10;  DXGK_DU_VR = 3,&#10;  DXGK_DU_MEDICAL_IMAGING = 4,&#10;  DXGK_DU_ACCESSORY = 5,&#10;  DXGK_DU_MAX&#10;} DXGK_DISPLAY_USAGE, *PDXGK_DISPLAY_USAGE;">DXGK_DISPLAY_USAGE</a>                 IntendedUsage;
  [out] <a href="byte" title="typedef unsigned char BYTE;">BYTE</a>                               Instance;
  [out] <a href="dxgk_display_descriptor_type" title="typedef enum _DXGK_DISPLAY_DESCRIPTOR_TYPE {&#10;  DXGK_DDT_INVALID,&#10;  DXGK_DDT_EDID,&#10;  DXGK_DDT_DISPLAYID&#10;} DXGK_DISPLAY_DESCRIPTOR_TYPE, *PDXGK_DISPLAY_DESCRIPTOR_TYPE;">DXGK_DISPLAY_DESCRIPTOR_TYPE</a>       DescriptorType;
  [out] <a href="d3dkmdt_wire_format_and_preference" title="typedef union _D3DKMDT_WIRE_FORMAT_AND_PREFERENCE {&#10;  struct {&#10;    D3DKMDT_MODE_PREFERENCE Preference : 2;&#10;    UINT                    Rgb : 6;&#10;    UINT                    YCbCr444 : 6;&#10;    UINT                    YCbCr422 : 6;&#10;    UINT                    YCbCr420 : 6;&#10;    UINT                    Intensity : 6;&#10;  };&#10;  UINT   Value;&#10;} D3DKMDT_WIRE_FORMAT_AND_PREFERENCE, *PD3DKMDT_WIRE_FORMAT_AND_PREFERENCE;">D3DKMDT_WIRE_FORMAT_AND_PREFERENCE</a> DitheringSupport;
} DXGK_QUERYINTEGRATEDDISPLAYOUT2, *PDXGK_QUERYINTEGRATEDDISPLAYOUT2;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_queryintegrateddisplayout2">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgk_queryintegrateddisplayout2.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmddi-_dxgk_queryintegrateddisplayout2)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_dxgk_queryintegrateddisplayout2-structure">_DXGK_QUERYINTEGRATEDDISPLAYOUT2 structure</h1>

<h2 id="description">Description</h2>

<p>Used during a query for the integrated display output.</p>

<h2 id="members">Members</h2>

<h3 id="flags-out"><code>Flags</code> [out]</h3>

<p>Pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_integrateddisplayflags">DXGK_INTEGRATEDDISPLAYFLAGS</a> structure that describes simple properties of an integrated display. Orientation values of 0 degrees indicate no override from the descriptor.</p>

<h3 id="nativetiming-out"><code>NativeTiming</code> [out]</h3>

<p>Pointer to a [<a href="d3dkmdt_video_signal_info" title="typedef struct _D3DKMDT_VIDEO_SIGNAL_INFO {&#10;  D3DKMDT_VIDEO_SIGNAL_STANDARD VideoStandard;&#10;  D3DKMDT_2DREGION              TotalSize;&#10;  D3DKMDT_2DREGION              ActiveSize;&#10;  D3DDDI_RATIONAL               VSyncFreq;&#10;  D3DDDI_RATIONAL               HSyncFreq;&#10;  SIZE_T                        PixelRate;&#10;  union {&#10;    struct {&#10;      D3DDDI_VIDEO_SIGNAL_SCANLINE_ORDERING ScanLineOrdering : 3;&#10;      UINT                                  VSyncFreqDivider : 6;&#10;      UINT                                  Reserved : 23;&#10;    } AdditionalSignalInfo;&#10;    D3DDDI_VIDEO_SIGNAL_SCANLINE_ORDERING ScanLineOrdering;&#10;  };&#10;} D3DKMDT_VIDEO_SIGNAL_INFO;">D3DKMDT_VIDEO_SIGNAL_INFO</a>]/d3dkmdt/ns-d3dkmdt-_d3dkmdt_video_signal_info.md) structure that contains information about a native timing of the integrated display. Should be zeroed to indicate no override. This value overrides the native timing in the descriptor. Since the driver is responsible for providing the descriptor, the only expected usage of this override is to describe a timing which cannot be described by an EDID, most obviously, a display which has more than 4095 addressable pixels in either direction.
If a NativeTiming override is provided, the OS will not call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_recommendmonitormodes">DxgkDdiRecommendMonitorModes</a> for this target. Generally, integrated panels do not support a large set of timings and the driver should be well matched to the EDID provided. If the driver needs to describe multiple overrides for monitor modes, it should leave the NativeTiming structure zeroed and report all the overrides using DxgkDdiRecommendMonitorModes.</p>

<h3 id="linkcapabilities-out"><code>LinkCapabilities</code> [out]</h3>

<p>Pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmdt/ns-d3dkmdt-_dxgk_monitorlinkinfo_capabilities">DXGK_MONITORLINKINFO_CAPABILITIES</a> structure that describes the link capabilities for driving the monitor. This is the same link capabilities as the OS would query from an external display after hot-plug. Since an integrated display is exposed during adapter driver initialization, the capabilities are described directly rather make an additional DDI call.</p>

<p>Starting in WDDM 2.6, this member is used to report synchronization support.</p>

<h3 id="colorimetry-out"><code>Colorimetry</code> [out]</h3>

<p>Colorimetry related overrides for the display. See the description of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_colorimetry">DXGK_COLORIMETRY</a> for the field definitions and restrictions on the combinations of fields.</p>

<h3 id="displaytechnology-out"><code>DisplayTechnology</code> [out]</h3>

<p>Value that represents the technology of the display. Used to optimize experience, for example enabling a darker theme with reduced blue content on DXGK_DT_OLED displays.</p>

<h3 id="intendedusage-out"><code>IntendedUsage</code> [out]</h3>

<p>Value that indicates the manufacturer’s intended usage of the display. The value reported should be DXGK_DU_GENERIC, unless the driver has information indicating a more specific usage. The expectation is that if the integrated display is intended to be used for AR, VR or auxiliary output, the driver would have to have enough specific handling that it would be able to report the correct usage.</p>

<h3 id="instance-out"><code>Instance</code> [out]</h3>

<p>A zero-based integer for the instance of integrated panel. Used to order multiple integrated panels. Values must be unique and contiguous across integrated targets but are not required to be reported in order.</p>

<h3 id="descriptortype-out"><code>DescriptorType</code> [out]</h3>

<p>Value to indicate the type of descriptor. For WDDM 2.4 this value must be DXGK_DDT_EDID. From WDDM 2.5 and later, either DXGK_DDT_EDID or DXGK_DDT_DISPLAYID is allowed.</p>

<h3 id="ditheringsupport-out"><code>DitheringSupport</code> [out]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmdt/ns-d3dkmdt-_d3dkmdt_wire_format_and_preference">D3DKMDT_WIRE_FORMAT_AND_PREFERENCE</a> field that contains the flags for each wire-format. The driver should set the wire-format bit for each format where the driver and hardware supports dithering beneficial to image quality when the source pixel format contains higher precision than the wire-format.</p>

<h2 id="remarks">Remarks</h2>

<p>The fields provide overrides attributes of the display which could be provided by a descriptor, but either can't be described by an EDID or have commonly missing or incorrect in EDIDs. Where there is a conflict between the descriptor and these override fields, the OS will use the overrides when valid.</p>

<p>The OS will sanity check the fields and will fail driver start if any fields are found to be inconsistent or invalid. For most fields, sanity checking simply means verifying that reported values are in range but the Colorimetry, Instance and Descriptor fields have further validation applied. For Colorimetry, see the description of <a href="dxgk_colorimetry" title="typedef struct _DXGK_COLORIMETRY {&#10;  D3DKMDT_2DOFFSET                   RedPoint;&#10;  D3DKMDT_2DOFFSET                   GreenPoint;&#10;  D3DKMDT_2DOFFSET                   BluePoint;&#10;  D3DKMDT_2DOFFSET                   WhitePoint;&#10;  ULONG                              MinLuminance;&#10;  ULONG                              MaxLuminance;&#10;  ULONG                              MaxFullFrameLuminance;&#10;  D3DKMDT_WIRE_FORMAT_AND_PREFERENCE FormatBitDepths;&#10;  DXGK_STANDARD_COLORIMETRY_FLAGS    StandardColorimetryFlags;&#10;} DXGK_COLORIMETRY, *PDXGK_COLORIMETRY;">DXGK_COLORIMETRY</a> for validation. Instance values are verified to be consistent across all integrated displays as noted above. The Descriptor must be a valid EDID.</p>

<h2 id="see-also">See also</h2>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_queryintegrateddisplayout2">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ns-d3dkmddi-_dxgk_queryintegrateddisplayout2.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
