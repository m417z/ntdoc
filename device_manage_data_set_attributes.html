<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DEVICE_MANAGE_DATA_SET_ATTRIBUTES - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DEVICE_MANAGE_DATA_SET_ATTRIBUTES - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DEVICE_MANAGE_DATA_SET_ATTRIBUTES - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddstor.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DEVICE_MANAGE_DATA_SET_ATTRIBUTES {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             Size;
  DEVICE_DSM_ACTION Action;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             Flags;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             ParameterBlockOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             ParameterBlockLength;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             DataSetRangesOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>             DataSetRangesLength;
} DEVICE_MANAGE_DATA_SET_ATTRIBUTES, *PDEVICE_MANAGE_DATA_SET_ATTRIBUTES, DEVICE_DSM_INPUT, *PDEVICE_DSM_INPUT;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddstor/ns-ntddstor-_device_manage_data_set_attributes">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// winioctl.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DEVICE_MANAGE_DATA_SET_ATTRIBUTES {
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>             Size;
  DEVICE_DSM_ACTION Action;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>             Flags;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>             ParameterBlockOffset;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>             ParameterBlockLength;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>             DataSetRangesOffset;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>             DataSetRangesLength;
} DEVICE_MANAGE_DATA_SET_ATTRIBUTES, *PDEVICE_MANAGE_DATA_SET_ATTRIBUTES, DEVICE_DSM_INPUT, *PDEVICE_DSM_INPUT;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-device_manage_data_set_attributes">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/device_manage_data_set_attributes.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddstor-_device_manage_data_set_attributes)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_device_manage_data_set_attributes-structure">_DEVICE_MANAGE_DATA_SET_ATTRIBUTES structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>DEVICE_DSM_INPUT</strong> (or DEVICE_MANAGE_DATA_SET_ATTRIBUTES) structure specifies a management action for the data-set attributes for a device.</p>

<h2 id="members">Members</h2>

<h3 id="size"><code>Size</code></h3>

<p>Size of the DEVICE_DSM_INPUT structure, in bytes. The value of this member will change as members are added to the structure.</p>

<h3 id="action"><code>Action</code></h3>

<p>A DEVICE_DSM_ACTION value that specifies the action to be performed. See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/device-dsm-action-descriptions">DEVICE_DSM_ACTION Descriptions</a> for a list of action values and descriptions.</p>

<p>If the <strong>DeviceDsmActionFlag_NonDestructive</strong> flag (most significant bit) is set in <strong>Action</strong>, the specified action is nondestructive. For nondestructive actions, the driver can safely forward the <a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> request to the next lower driver in the stack even if the driver does not handle the specified action. If the driver does handle the DSM, it should perform the normal processing of the data set ranges block that is specified by the <strong>DataSetRangesOffset</strong> and <strong>DataSetRangesLength</strong> members before forwarding the <a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> request to the next lower driver.</p>

<h3 id="flags"><code>Flags</code></h3>

<p>These flags are global to all control actions. This member can be set to one of the following flags:</p>

<table>
<thead>
<tr>
  <th>Flag Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>DEVICE_DSM_FLAG_ENTIRE_DATA_SET_RANGE</td>
  <td>The control action is specified for the entire block of data set ranges. If this flag is set, the <strong>DataSetRangesOffset</strong> and <strong>DataSetRangesLength</strong> members must be set to zero.</td>
</tr>
</tbody>
</table>

<h3 id="parameterblockoffset"><code>ParameterBlockOffset</code></h3>

<p>Specifies the start of the parameter block within the payload of the <a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> request. The format of the parameter block depends on the value of the <strong>Action</strong> member. For more information regarding parameter block format, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/device-dsm-action-descriptions">DEVICE_DSM_ACTION Descriptions</a>. <strong>Note</strong>: The offset of the parameter block must be aligned on the address boundary of the corresponding parameter.</p>

<p>If <strong>ParameterBlockOffset</strong> is set to zero, then the parameter block does not exist.</p>

<h3 id="parameterblocklength"><code>ParameterBlockLength</code></h3>

<p>Specifies the length, in bytes, of the parameter block within the payload of the <a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> request.</p>

<p>If <strong>ParameterBlockLength</strong> is set to zero, then the parameter block does not exist.</p>

<h3 id="datasetrangesoffset"><code>DataSetRangesOffset</code></h3>

<p>Specifies the start of the block of data set ranges within the payload of the <a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> request. This block consists of one or more contiguous entries that are formatted as <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddstor/ns-ntddstor-_device_data_set_range">DEVICE_DSM_RANGE</a> structures. <strong>Note</strong>: The offset of the data set range block must be aligned on the address boundary of the DEVICE_DSM_RANGE structure.</p>

<p>If set to zero, then the block of data set ranges does not exist.</p>

<h3 id="datasetrangeslength"><code>DataSetRangesLength</code></h3>

<p>Specifies the length, in bytes, of the block of data set ranges within the payload of the <a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> request. If <strong>DataSetRangesLength</strong> is set to zero, the block of data set ranges does not exist.</p>

<h2 id="remarks">Remarks</h2>

<p>For more information on the format of the payload for an <a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> request, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/data-set-management-overview">Data Set Management Overview</a>. The total size of the buffer should be at least <code>sizeof(DEVICE_DSM_INPUT) + ParameterBlockLength + DataSetRangesLength</code>.</p>

<p>The block of data set ranges is specified by the <strong>DataSetRangesOffset</strong> and <strong>DataSetRangesLength</strong> members. If this block exists, it contains contiguous <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddstor/ns-ntddstor-_device_data_set_range">DEVICE_DSM_RANGE</a> structures.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/data-set-management-overview">Data Set Management Overview</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/device-dsm-action-descriptions">DEVICE_DSM_ACTION Descriptions</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddstor/ns-ntddstor-_device_data_set_range">DEVICE_DSM_RANGE</a></p>

<p><a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddstor/ns-ntddstor-_device_manage_data_set_attributes">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddstor/ns-ntddstor-_device_manage_data_set_attributes.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ns-winioctl-device_manage_data_set_attributes)</h1>
</div>
<div class="ntdoc-description">
<h1>DEVICE_MANAGE_DATA_SET_ATTRIBUTES structure</h1>

<h2>Description</h2>

<p>Input structure for the
<a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a>
control code.</p>

<h2>Members</h2>

<h3><code>Size</code></h3>

<p>Size of this data structure. Must be set to
<code>sizeof(DEVICE_MANAGE_DATA_SET_ATTRIBUTES)</code>.</p>

<h3><code>Action</code></h3>

<p>A valid value of type
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/DevIO/device-data-management-set-action">DEVICE_DATA_MANAGEMENT_SET_ACTION</a>.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>DeviceDsmAction_Trim</strong><br><br>1</td>
  <td>A trim action is performed. This value is not supported for user-mode applications.</td>
</tr>
<tr>
  <td><strong>DeviceDsmAction_Notification</strong><br><br>2</td>
  <td><strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000002)</td>
  <td>A notification action is performed. The additional parameters are in a <a href="device_dsm_notification_parameters" title="typedef struct _DEVICE_DSM_NOTIFICATION_PARAMETERS {&#10;  ULONG Size;&#10;  ULONG Flags;&#10;  ULONG NumFileTypeIDs;&#10;  GUID  FileTypeID[ANYSIZE_ARRAY];&#10;} DEVICE_DSM_NOTIFICATION_PARAMETERS, *PDEVICE_DSM_NOTIFICATION_PARAMETERS;">DEVICE_DSM_NOTIFICATION_PARAMETERS</a> structure. The <strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000000) is a bit flag to indicate to the driver stack that this operation is non-destructive.</td>
</tr>
<tr>
  <td><strong>DeviceDsmAction_OffloadRead</strong><br><br>3</td>
  <td><strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000003)</td>
  <td>An offload read action is performed. The additional parameters are in a <a href="device_dsm_offload_read_parameters" title="typedef struct _DEVICE_DSM_OFFLOAD_READ_PARAMETERS {&#10;  ULONG Flags;&#10;  ULONG TimeToLive;&#10;  ULONG Reserved[2];&#10;} DEVICE_DSM_OFFLOAD_READ_PARAMETERS, *PDEVICE_DSM_OFFLOAD_READ_PARAMETERS;">DEVICE_DSM_OFFLOAD_READ_PARAMETERS</a> structure. The <strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000000) is a bit flag to indicate to the driver stack that this operation is non-destructive.<br><br><strong>Windows 7 and Windows Server 2008 R2:</strong> This value is not supported before Windows 8 and Windows Server 2012.</td>
</tr>
<tr>
  <td><strong>DeviceDsmAction_OffloadWrite</strong><br><br>4</td>
  <td>An offload write action is performed. The additional parameters are in a <a href="device_dsm_offload_write_parameters" title="typedef struct _DEVICE_DSM_OFFLOAD_WRITE_PARAMETERS {&#10;  ULONG                 Flags;&#10;  ULONG                 Reserved;&#10;  ULONGLONG             TokenOffset;&#10;  STORAGE_OFFLOAD_TOKEN Token;&#10;} DEVICE_DSM_OFFLOAD_WRITE_PARAMETERS, *PDEVICE_DSM_OFFLOAD_WRITE_PARAMETERS;">DEVICE_DSM_OFFLOAD_WRITE_PARAMETERS</a> structure.<br><br><strong>Windows 7 and Windows Server 2008 R2:</strong> This value is not supported before Windows 8 and Windows Server 2012.</td>
</tr>
<tr>
  <td><strong>DeviceDsmAction_Allocation</strong><br><br>5</td>
  <td><strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000005)</td>
  <td>An allocation bitmap is retrieved for the first data set range specified. The <strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000000) is a bit flag to indicate to the driver stack that this operation is non-destructive.<br><br><strong>Windows 7 and Windows Server 2008 R2:</strong> This value is not supported before Windows 8 and Windows Server 2012.</td>
</tr>
<tr>
  <td><strong>DeviceDsmAction_Repair</strong><br><br>6</td>
  <td><strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000006)</td>
  <td>A repair action is performed. The additional parameters are in a <a href="device_data_set_repair_parameters" title="typedef struct _DEVICE_DATA_SET_REPAIR_PARAMETERS {&#10;  ULONG NumberOfRepairCopies;&#10;  ULONG SourceCopy;&#10;  ULONG RepairCopies[ANYSIZE_ARRAY];&#10;} DEVICE_DATA_SET_REPAIR_PARAMETERS, *PDEVICE_DATA_SET_REPAIR_PARAMETERS, DEVICE_DSM_REPAIR_PARAMETERS, *PDEVICE_DSM_REPAIR_PARAMETERS;">DEVICE_DATA_SET_REPAIR_PARAMETERS</a> structure. The <strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000000) is a bit flag to indicate to the driver stack that this operation is non-destructive.<br><br><strong>Windows 7 and Windows Server 2008 R2:</strong> This value is not supported before Windows 8 and Windows Server 2012.</td>
</tr>
<tr>
  <td><strong>DeviceDsmAction_Scrub</strong><br><br>7</td>
  <td><strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000007)</td>
  <td>A scrub action is performed. The <strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000000) is a bit flag to indicate to the driver stack that this operation is non-destructive.<br><br><strong>Windows 7 and Windows Server 2008 R2:</strong> This value is not supported before Windows 8 and Windows Server 2012.</td>
</tr>
<tr>
  <td><strong>DeviceDsmAction_Resiliency</strong><br><br>8</td>
  <td><strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000008)</td>
  <td>A resiliency action is performed. The <strong>DeviceDsmActionFlag_NonDestructive</strong> (0x80000000) is a bit flag to indicate to the driver stack that this operation is non-destructive.<br><br><strong>Windows 7 and Windows Server 2008 R2:</strong> This value is not supported before Windows 8 and Windows Server 2012.</td>
</tr>
</tbody>
</table>

<h3><code>Flags</code></h3>

<p>Flags for the actions.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>DEVICE_DSM_FLAG_TRIM_NOT_FS_ALLOCATED</strong><br><br>0x80000000</td>
  <td>If set then the described ranges are not allocated by a file system. This flag is specific to the <strong>DeviceDsmAction_Trim</strong> action.</td>
</tr>
<tr>
  <td><strong>DEVICE_DSM_FLAG_RESILIENCY_START_RESYNC</strong><br><br>0x10000000</td>
  <td>Starts a resync operation on the storage device. This flag is specific to the <strong>DeviceDsmAction_Resiliency</strong> action.</td>
</tr>
<tr>
  <td><strong>DEVICE_DSM_FLAG_RESILIENCY_START_LOAD_BALANCING</strong><br><br>0x20000000</td>
  <td>Starts a load balancing operation on the storage device. This flag is specific to the <strong>DeviceDsmAction_Resiliency</strong> action.</td>
</tr>
</tbody>
</table>

<h3><code>ParameterBlockOffset</code></h3>

<p>Byte offset to the start of the parameter block stored in the buffer contiguous to this structure. Must be
aligned to the corresponding structure alignment. A value of zero indicates there is no parameter block and the
<strong>ParameterBlockLength</strong> member must also be zero.</p>

<h3><code>ParameterBlockLength</code></h3>

<p>Length of the parameter block, in bytes. A value of zero indicates there is no parameter block and the
<strong>ParameterBlockOffset</strong> member must also be zero.</p>

<h3><code>DataSetRangesOffset</code></h3>

<p>Byte offset to the start of the data set ranges block made up of an array of
<a href="device_data_set_range" title="typedef struct _DEVICE_DATA_SET_RANGE {&#10;  LONGLONG  StartingOffset;&#10;  ULONGLONG LengthInBytes;&#10;} DEVICE_DATA_SET_RANGE, *PDEVICE_DATA_SET_RANGE, DEVICE_DSM_RANGE, *PDEVICE_DSM_RANGE;">DEVICE_DATA_SET_RANGE</a> structures stored in the
buffer contiguous to this structure. Must be aligned to the
<strong><a href="device_data_set_range" title="typedef struct _DEVICE_DATA_SET_RANGE {&#10;  LONGLONG  StartingOffset;&#10;  ULONGLONG LengthInBytes;&#10;} DEVICE_DATA_SET_RANGE, *PDEVICE_DATA_SET_RANGE, DEVICE_DSM_RANGE, *PDEVICE_DSM_RANGE;">DEVICE_DATA_SET_RANGE</a></strong> structure alignment. A
value of zero indicates there is no data set ranges block and the
<strong>DataSetRangesLength</strong> member must also be zero.</p>

<h3><code>DataSetRangesLength</code></h3>

<p>Length of the data set ranges block, in bytes. A value of zero indicates there is no data set ranges block
and the <strong>DataSetRangesOffset</strong> member must also be zero.</p>

<h2>Remarks</h2>

<p>The total length of the buffer that contains this structure must be at least
<code>(sizeof(DEVICE_MANAGE_DATA_SET_ATTRIBUTES) + ParameterBlockLength + DataSetRangesLength)</code>.</p>

<h2>See also</h2>

<p><a href="device_data_set_range" title="typedef struct _DEVICE_DATA_SET_RANGE {&#10;  LONGLONG  StartingOffset;&#10;  ULONGLONG LengthInBytes;&#10;} DEVICE_DATA_SET_RANGE, *PDEVICE_DATA_SET_RANGE, DEVICE_DSM_RANGE, *PDEVICE_DSM_RANGE;">DEVICE_DATA_SET_RANGE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/DevIO/device-management-structures">Device Management Structures</a></p>

<p><a href="ioctl_storage_manage_data_set_attributes" title="// CTL_CODE(0x002d, 0x501, METHOD_BUFFERED, FILE_WRITE_ACCESS)&#10;#define IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES 0x002D9404">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-device_manage_data_set_attributes">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/winioctl/ns-winioctl-device_manage_data_set_attributes.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
