<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="FSCTL_SET_INTEGRITY_INFORMATION_BUFFER - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>FSCTL_SET_INTEGRITY_INFORMATION_BUFFER - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            FSCTL_SET_INTEGRITY_INFORMATION_BUFFER - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// winioctl.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _FSCTL_SET_INTEGRITY_INFORMATION_BUFFER {
  <a href="word" title="typedef unsigned short WORD;">WORD</a>  ChecksumAlgorithm;
  <a href="word" title="typedef unsigned short WORD;">WORD</a>  Reserved;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> Flags;
} FSCTL_SET_INTEGRITY_INFORMATION_BUFFER, *PFSCTL_SET_INTEGRITY_INFORMATION_BUFFER;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-fsctl_set_integrity_information_buffer">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/fsctl_set_integrity_information_buffer.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ns-winioctl-fsctl_set_integrity_information_buffer)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="fsctl_set_integrity_information_buffer-structure">FSCTL_SET_INTEGRITY_INFORMATION_BUFFER structure</h1>

<h2 id="description">Description</h2>

<p>Input buffer passed with the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/winioctl/ni-winioctl-fsctl_set_integrity_information">FSCTL_SET_INTEGRITY_INFORMATION</a> control
code.</p>

<h2 id="members">Members</h2>

<h3 id="checksumalgorithm"><code>ChecksumAlgorithm</code></h3>

<p>Specifies the checksum algorithm.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>CHECKSUM_TYPE_NONE</strong><br><br>0x0000</td>
  <td>The file or directory is not configured to use integrity.</td>
</tr>
<tr>
  <td><strong>CHECKSUM_TYPE_CRC64</strong><br><br>0x0002</td>
  <td>The file or directory uses a CRC64 checksum to provide integrity.</td>
</tr>
<tr>
  <td>3â€“0xfffe</td>
  <td>Reserved for future use. Must not be used.</td>
</tr>
<tr>
  <td><strong>CHECKSUM_TYPE_UNCHANGED</strong><br><br>0xffff</td>
  <td>The checksum algorithm is to remain the same.</td>
</tr>
</tbody>
</table>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Must be 0</p>

<h3 id="flags"><code>Flags</code></h3>

<p>Contains zero or more flags.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>FSCTL_INTEGRITY_FLAG_CHECKSUM_ENFORCEMENT_OFF</strong><br><br>0x00000001</td>
  <td>If set, the checksum enforcement is disabled and reads will succeed even if the checksums do not match. This flag is valid only if the file has an integrity algorithm set. If there is no algorithm set or the <strong>CheckSum</strong> member is set to <strong>CHECKSUM_TYPE_NONE</strong>, then the operation fails with <strong>ERROR_INVALID_PARAMETER</strong>.</td>
</tr>
</tbody>
</table>

<h2 id="remarks">Remarks</h2>

<p>If <strong>FSCTL_INTEGRITY_FLAG_CHECKSUM_ENFORCEMENT_OFF</strong> is specified and the file is opened
with sharing permissions such that subsequent opens can succeed, it's possible for corrupt data to be read by an
application that did not specify <strong>FSCTL_INTEGRITY_FLAG_CHECKSUM_ENFORCEMENT_OFF</strong>.</p>

<h2 id="see-also">See also</h2>

<p><a href="fsctl_get_integrity_information_buffer" title="typedef struct _FSCTL_GET_INTEGRITY_INFORMATION_BUFFER {&#10;  WORD  ChecksumAlgorithm;&#10;  WORD  Reserved;&#10;  DWORD Flags;&#10;  DWORD ChecksumChunkSizeInBytes;&#10;  DWORD ClusterSizeInBytes;&#10;} FSCTL_GET_INTEGRITY_INFORMATION_BUFFER, *PFSCTL_GET_INTEGRITY_INFORMATION_BUFFER;">FSCTL_GET_INTEGRITY_INFORMATION_BUFFER</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/winioctl/ni-winioctl-fsctl_set_integrity_information">FSCTL_SET_INTEGRITY_INFORMATION</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/FileIO/volume-management-structures">Volume Management Structures</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-fsctl_set_integrity_information_buffer">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/winioctl/ns-winioctl-fsctl_set_integrity_information_buffer.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
