<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PTS_DATA - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PTS_DATA - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PTS_DATA - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// smclib.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PTS_DATA {
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Type;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Fl;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> Dl;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CLKFrequency;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DataRate;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a> StopBits;
} PTS_DATA, *PPTS_DATA;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/smclib/ns-smclib-_pts_data">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pts_data.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-smclib-_pts_data)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_pts_data-structure">_PTS_DATA structure</h1>

<h2 id="description">Description</h2>

<p>The PTS_DATA structure is used for protocol type selection (PTS).</p>

<h2 id="members">Members</h2>

<h3 id="type"><code>Type</code></h3>

<p>Controls how the remaining members of this structure are calculated. This member can have one of the following values:</p>

<h4 id="pts_type_default">PTS_TYPE_DEFAULT</h4>

<p>Calculates standard parameters for PTS.</p>

<h4 id="pts_type_optimal">PTS_TYPE_OPTIMAL</h4>

<p>Calculates the best possible parameters for PTS.</p>

<h4 id="pts_type_user">PTS_TYPE_USER</h4>

<p>Calculates user-defined parameters for PTS.</p>

<p>The smart card driver library populates the remaining members of this structure when the reader driver calls its <a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/ff548972(v=vs.85)">SmartcardUpdateCardCapabilities (WDM)</a> routine. However, in some cases, the reader driver might be responsible for setting these parameters. For example, if a PTS request that specifies optimal parameters fails, the reader driver can set the parameters in a callback function that specifies the protocol. To specify the protocol, the callback function should set the type to PTS_TYPE_DEFAULT and call <strong>SmartcardUpdateCardCapabilities</strong> again.</p>

<h3 id="fl"><code>Fl</code></h3>

<p>The Fl value to use as part of PTS1 for the PTS request.</p>

<h3 id="dl"><code>Dl</code></h3>

<p>The Dl value to use as part of PTS1 for the PTS request.</p>

<h3 id="clkfrequency"><code>CLKFrequency</code></h3>

<p>Contains the clock frequency. Some smart card readers must be programmed by using the new clock frequency to use after the PTS request.</p>

<h3 id="datarate"><code>DataRate</code></h3>

<p>Contains the new data rate. Some smart card readers (for example, serial readers) must be set to the new data rate to use after a PTS request.</p>

<h3 id="stopbits"><code>StopBits</code></h3>

<p>Contains the number of stop bits to use with the inserted card.</p>

<h2 id="remarks">Remarks</h2>

<p>The smart card reader driver library assigns values to the members of this structure before it calls the callback function that sets the protocol. The driver library considers the characteristics of the inserted smart card, the supported clock frequencies, and supported data rates of the reader when it assigns the values.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/smclib/ns-smclib-_pts_data">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/smclib/ns-smclib-_pts_data.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
