<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGI_DDI_BASE_FUNCTIONS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGI_DDI_BASE_FUNCTIONS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGI_DDI_BASE_FUNCTIONS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// dxgiddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct DXGI_DDI_BASE_FUNCTIONS {
  HRESULT()(<a href="dxgi_ddi_arg_present" title="typedef struct DXGI_DDI_ARG_PRESENT {&#10;  [in] DXGI_DDI_HDEVICE            hDevice;&#10;  [in] DXGI_DDI_HRESOURCE          hSurfaceToPresent;&#10;  [in] UINT                        SrcSubResourceIndex;&#10;  [in] DXGI_DDI_HRESOURCE          hDstResource;&#10;       UINT                        DstSubResourceIndex;&#10;  [in] void                        *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS      Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE FlipInterval;&#10;} DXGI_DDI_ARG_PRESENT;">DXGI_DDI_ARG_PRESENT</a> *) * pfnPresent;
  HRESULT()(<a href="dxgi_ddi_arg_get_gamma_control_caps" title="typedef struct DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS {&#10;  [in]     DXGI_DDI_HDEVICE                hDevice;&#10;  [in/out] DXGI_GAMMA_CONTROL_CAPABILITIES *pGammaCapabilities;&#10;} DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS;">DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS</a> *) * pfnGetGammaCaps;
  HRESULT()(<a href="dxgi_ddi_arg_setdisplaymode" title="typedef struct DXGI_DDI_ARG_SETDISPLAYMODE {&#10;  [in] DXGI_DDI_HDEVICE   hDevice;&#10;  [in] DXGI_DDI_HRESOURCE hResource;&#10;  [in] UINT               SubResourceIndex;&#10;} DXGI_DDI_ARG_SETDISPLAYMODE;">DXGI_DDI_ARG_SETDISPLAYMODE</a> *) * pfnSetDisplayMode;
  HRESULT()(<a href="dxgi_ddi_arg_setresourcepriority" title="typedef struct DXGI_DDI_ARG_SETRESOURCEPRIORITY {&#10;  [in] DXGI_DDI_HDEVICE   hDevice;&#10;  [in] DXGI_DDI_HRESOURCE hResource;&#10;  [in] UINT               Priority;&#10;} DXGI_DDI_ARG_SETRESOURCEPRIORITY;">DXGI_DDI_ARG_SETRESOURCEPRIORITY</a> *) * pfnSetResourcePriority;
  HRESULT()(<a href="dxgi_ddi_arg_queryresourceresidency" title="typedef struct DXGI_DDI_ARG_QUERYRESOURCERESIDENCY {&#10;  [in]  DXGI_DDI_HDEVICE         hDevice;&#10;  [in]  const DXGI_DDI_HRESOURCE *pResources;&#10;  [out] DXGI_DDI_RESIDENCY       *pStatus;&#10;  [in]  SIZE_T                   Resources;&#10;} DXGI_DDI_ARG_QUERYRESOURCERESIDENCY;">DXGI_DDI_ARG_QUERYRESOURCERESIDENCY</a> *) * pfnQueryResourceResidency;
  HRESULT()(<a href="dxgi_ddi_arg_rotate_resource_identities" title="typedef struct DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES {&#10;  [in] DXGI_DDI_HDEVICE         hDevice;&#10;  [in] const DXGI_DDI_HRESOURCE *pResources;&#10;  [in] UINT                     Resources;&#10;} DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES;">DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES</a> *) * pfnRotateResourceIdentities;
  HRESULT()(<a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a> *) * pfnBlt;
} DXGI_DDI_BASE_FUNCTIONS;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgi_ddi_base_functions.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-dxgiddi-dxgi_ddi_base_functions)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dxgi_ddi_base_functions-structure">DXGI_DDI_BASE_FUNCTIONS structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>DXGI_DDI_BASE_FUNCTIONS</strong> structure contains functions that the user-mode display driver can implement to perform low-level tasks like presenting rendered frames to an output, controlling gamma, and managing a full-screen transition.</p>

<h2 id="members">Members</h2>

<h3 id="pfnpresent"><code>pfnPresent</code></h3>

<p>Pointer to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>PresentDXGI</strong></a> function that notifies the user-mode display driver that an application finished rendering and requests that the driver display to the destination surface.</p>

<p>The <strong>hDevice</strong> member of the <strong><a href="dxgi_ddi_arg_present" title="typedef struct DXGI_DDI_ARG_PRESENT {&#10;  [in] DXGI_DDI_HDEVICE            hDevice;&#10;  [in] DXGI_DDI_HRESOURCE          hSurfaceToPresent;&#10;  [in] UINT                        SrcSubResourceIndex;&#10;  [in] DXGI_DDI_HRESOURCE          hDstResource;&#10;       UINT                        DstSubResourceIndex;&#10;  [in] void                        *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS      Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE FlipInterval;&#10;} DXGI_DDI_ARG_PRESENT;">DXGI_DDI_ARG_PRESENT</a></strong> structure that the <strong>pPresentData</strong> parameter points to is the same handle that the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createdevice"><strong>CreateDevice(D3D10)</strong></a> function passed back to the runtime in the <strong>hDrvDevice</strong> member of the <strong><a href="d3d10ddiarg_createdevice" title="typedef struct D3D10DDIARG_CREATEDEVICE {&#10;  D3D10DDI_HRTDEVICE            hRTDevice;&#10;  UINT                          Interface;&#10;  UINT                          Version;&#10;  const D3DDDI_DEVICECALLBACKS  *pKTCallbacks;&#10;  union {&#10;    D3D10DDI_DEVICEFUNCS      *pDeviceFuncs;&#10;    D3D10_1DDI_DEVICEFUNCS    *p10_1DeviceFuncs;&#10;    D3D11DDI_DEVICEFUNCS      *p11DeviceFuncs;&#10;    D3D11_1DDI_DEVICEFUNCS    *p11_1DeviceFuncs;&#10;    D3DWDDM1_3DDI_DEVICEFUNCS *pWDDM1_3DeviceFuncs;&#10;    D3DWDDM2_0DDI_DEVICEFUNCS *pWDDM2_0DeviceFuncs;&#10;    D3DWDDM2_1DDI_DEVICEFUNCS *pWDDM2_1DeviceFuncs;&#10;    D3DWDDM2_2DDI_DEVICEFUNCS *pWDDM2_2DeviceFuncs;&#10;    D3DWDDM2_6DDI_DEVICEFUNCS *pWDDM2_6DeviceFuncs;&#10;  };&#10;  D3D10DDI_HDEVICE              hDrvDevice;&#10;  DXGI_DDI_BASE_ARGS            DXGIBaseDDI;&#10;  D3D10DDI_HRTCORELAYER         hRTCoreLayer;&#10;  union {&#10;...">D3D10DDIARG_CREATEDEVICE</a></strong> structure. Therefore, driver writers must define the type of this handle carefully. In addition, drivers can supply different implementations of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>PresentDXGI</strong></a> function based on which DDI implementation handled the call to <strong>CreateDevice(D3D10)</strong>. The runtime will never mix driver handles across DDI implementations. Similarly, the <strong>hSurfaceToPresent</strong> and <strong>hDstResource</strong> members of <strong><a href="dxgi_ddi_arg_present" title="typedef struct DXGI_DDI_ARG_PRESENT {&#10;  [in] DXGI_DDI_HDEVICE            hDevice;&#10;  [in] DXGI_DDI_HRESOURCE          hSurfaceToPresent;&#10;  [in] UINT                        SrcSubResourceIndex;&#10;  [in] DXGI_DDI_HRESOURCE          hDstResource;&#10;       UINT                        DstSubResourceIndex;&#10;  [in] void                        *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS      Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE FlipInterval;&#10;} DXGI_DDI_ARG_PRESENT;">DXGI_DDI_ARG_PRESENT</a></strong> are also driver-defined resource handles that the driver returned to the runtime in previous calls to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createresource"><strong>CreateResource(D3D10)</strong></a> function.</p>

<p>The <strong>pDXGIContext</strong> member of <strong><a href="dxgi_ddi_arg_present" title="typedef struct DXGI_DDI_ARG_PRESENT {&#10;  [in] DXGI_DDI_HDEVICE            hDevice;&#10;  [in] DXGI_DDI_HRESOURCE          hSurfaceToPresent;&#10;  [in] UINT                        SrcSubResourceIndex;&#10;  [in] DXGI_DDI_HRESOURCE          hDstResource;&#10;       UINT                        DstSubResourceIndex;&#10;  [in] void                        *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS      Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE FlipInterval;&#10;} DXGI_DDI_ARG_PRESENT;">DXGI_DDI_ARG_PRESENT</a></strong> is an opaque communication mechanism. The runtime passes this DXGI context to the driver. The driver should copy this DXGI context unchanged to the <strong>pDXGIContext</strong> member of the <strong><a href="dxgiddicb_present" title="typedef struct DXGIDDICB_PRESENT {&#10;  [in] D3DKMT_HANDLE               hSrcAllocation;&#10;  [in] D3DKMT_HANDLE               hDstAllocation;&#10;  [in] void                        *pDXGIContext;&#10;  [in] HANDLE                      hContext;&#10;  [in] UINT                        BroadcastContextCount;&#10;       HANDLE                      BroadcastContext[D3DDDI_MAX_BROADCAST_CONTEXT];&#10;       D3DKMT_HANDLE               *BroadcastSrcAllocation;&#10;       D3DKMT_HANDLE               *BroadcastDstAllocation;&#10;       UINT                        PrivateDriverDataSize;&#10;       PVOID                       pPrivateDriverData;&#10;       BOOLEAN                     bOptimizeForComposition;&#10;       BOOL                        SyncIntervalOverrideValid;&#10;       DXGI_DDI_FLIP_INTERVAL_TYPE SyncIntervalOverride;&#10;} DXGIDDICB_PRESENT;">DXGIDDICB_PRESENT</a></strong> structure when the driver calls the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/nc-dxgiddi-pfnddxgiddi_presentcb"><strong>pfnPresentCbDXGI</strong></a> function.</p>

<p>The driver must submit all partially built render data (command buffers) using the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_rendercb"><strong>pfnRenderCb</strong></a> function. Thereafter, the driver must translate the resource handle parameters into kernel handles and use those kernel handles in a call to <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/nc-dxgiddi-pfnddxgiddi_presentcb"><strong>pfnPresentCbDXGI</strong></a>.</p>

<blockquote>
  <p>[!NOTE]</p>
  
  <p>When the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>PresentDXGI</strong></a> function copies sRGB-formatted content from a source surface to a non-sRGB destination surface, the driver should copy the sRGB content unchanged (that is, the driver should not perform the sRGB to linear conversion).</p>
</blockquote>

<h4 id="ppresentdata">pPresentData</h4>

<p>[in] A pointer to a <strong><a href="dxgi_ddi_arg_present" title="typedef struct DXGI_DDI_ARG_PRESENT {&#10;  [in] DXGI_DDI_HDEVICE            hDevice;&#10;  [in] DXGI_DDI_HRESOURCE          hSurfaceToPresent;&#10;  [in] UINT                        SrcSubResourceIndex;&#10;  [in] DXGI_DDI_HRESOURCE          hDstResource;&#10;       UINT                        DstSubResourceIndex;&#10;  [in] void                        *pDXGIContext;&#10;  [in] DXGI_DDI_PRESENT_FLAGS      Flags;&#10;  [in] DXGI_DDI_FLIP_INTERVAL_TYPE FlipInterval;&#10;} DXGI_DDI_ARG_PRESENT;">DXGI_DDI_ARG_PRESENT</a></strong> structure that describes how to display to the destination surface.</p>

<h3 id="pfngetgammacaps"><code>pfnGetGammaCaps</code></h3>

<p>The <strong>GetGammaCapsDXGI</strong> function retrieves gamma capabilities.</p>

<h4 id="pgammadata">pGammaData</h4>

<p>[in] A pointer to a <strong><a href="dxgi_ddi_arg_get_gamma_control_caps" title="typedef struct DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS {&#10;  [in]     DXGI_DDI_HDEVICE                hDevice;&#10;  [in/out] DXGI_GAMMA_CONTROL_CAPABILITIES *pGammaCapabilities;&#10;} DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS;">DXGI_DDI_ARG_GET_GAMMA_CONTROL_CAPS</a></strong> structure that contains gamma capabilities.</p>

<h3 id="pfnsetdisplaymode"><code>pfnSetDisplayMode</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_1_ddi_base_functions"><strong>SetDisplayModeDXGI</strong></a> function.</p>

<h3 id="pfnsetresourcepriority"><code>pfnSetResourcePriority</code></h3>

<p>The <strong>SetResourcePriorityDXGI</strong> function sets the eviction-from-memory priority for a resource.</p>

<p>The Microsoft Direct3D runtime calls <strong>SetResourcePriorityDXGI</strong> to set the priority level for a resource. The user-mode display driver should translate the resource handle that is supplied in the <strong>hResource</strong> member of the <a href="dxgi_ddi_arg_setresourcepriority" title="typedef struct DXGI_DDI_ARG_SETRESOURCEPRIORITY {&#10;  [in] DXGI_DDI_HDEVICE   hDevice;&#10;  [in] DXGI_DDI_HRESOURCE hResource;&#10;  [in] UINT               Priority;&#10;} DXGI_DDI_ARG_SETRESOURCEPRIORITY;">DXGI_DDI_ARG_SETRESOURCEPRIORITY</a> structure that is pointed to by <strong>pPriorityData</strong> to an allocation handle. After the driver makes this translation, the driver should pass the resulting handle in a call to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_setprioritycb"><strong>pfnSetPriorityCb</strong></a> function.</p>

<h4 id="pprioritydata">pPriorityData</h4>

<p>[in] A pointer to a <strong><a href="dxgi_ddi_arg_setresourcepriority" title="typedef struct DXGI_DDI_ARG_SETRESOURCEPRIORITY {&#10;  [in] DXGI_DDI_HDEVICE   hDevice;&#10;  [in] DXGI_DDI_HRESOURCE hResource;&#10;  [in] UINT               Priority;&#10;} DXGI_DDI_ARG_SETRESOURCEPRIORITY;">DXGI_DDI_ARG_SETRESOURCEPRIORITY</a></strong> structure that describes the priority level to set a resource to.</p>

<h3 id="pfnqueryresourceresidency"><code>pfnQueryResourceResidency</code></h3>

<p>This function determines the residency of the given list of resources.</p>

<p>The Microsoft Direct3D runtime calls the user-mode display driver's <strong>QueryResourceResidencyDXGI</strong> function for applications to determine if the operating system will incur a significant stall at draw time if the system must make resources GPU-accessible. The information that is returned from <strong>QueryResourceResidencyDXGI</strong> is an approximation of the residency of resources because the resources might become demoted before applications use the resources.</p>

<p><strong>QueryResourceResidencyDXGI</strong> must call the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_queryresidencycb"><strong>pfnQueryResidencyCb</strong></a> function. <strong>pfnQueryResidencyCb</strong> returns the residency status of a resource in the elements of the array that is specified by the <strong>pResidencyStatus</strong> member of the <strong><a href="d3dddicb_queryresidency" title="typedef struct _D3DDDICB_QUERYRESIDENCY {&#10;  [in]  HANDLE                 hResource;&#10;  [in]  UINT                   NumAllocations;&#10;  [in]  const D3DKMT_HANDLE    *HandleList;&#10;  [out] D3DDDI_RESIDENCYSTATUS *pResidencyStatus;&#10;} D3DDDICB_QUERYRESIDENCY;">D3DDDICB_QUERYRESIDENCY</a></strong> structure. If <strong>pfnQueryResidencyCb<em>* returns D3DDDI_RESIDENCYSTATUS_NOTRESIDENT for any query, *</em>QueryResourceResidencyDXGI<em>* must return S_NOT_RESIDENT. If *</em>pfnQueryResidencyCb<em>* returns D3DDDI_RESIDENCYSTATUS_RESIDENTINSHAREDMEMORY for any query and does not return D3DDDI_RESIDENCYSTATUS_NOTRESIDENT for any query, *</em>QueryResourceResidencyDXGI<em>* must return S_RESIDENT_IN_SHARED_MEMORY. *</em>QueryResourceResidencyDXGI<em>* must return S_OK only if all calls to *</em>pfnQueryResidencyCb</strong> for all queries return D3DDDI_RESIDENCYSTATUS_RESIDENTINGPUMEMORY.</p>

<p>For each resource that the runtime queries through a call to <strong>QueryResourceResidencyDXGI</strong>, the user-mode display driver must determine which allocations that belong to the resource to query through a call to <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_queryresidencycb"><strong>pfnQueryResidencyCb</strong></a>. For a resource that owns a single allocation, the determination is simple--the driver will query that allocation. However, if a resource owns multiple allocations, the determination is more difficult. The driver must determine which allocations that an application will likely use for rendering, and the driver must query only those allocations. For example, if a resource owns an allocation that is used for rendering and a scratch allocation that handles a lock operation, the driver should query only for the residency of the first allocation, because an application will most likely not use the second allocation for rendering.</p>

<blockquote>
  <p>[!NOTE]</p>
  
  <p>Because the runtime does not support residency-querying of system memory resources, the runtime will always fail requests from applications for the residency status of system memory resources and will never call the user-mode display driver's <strong>QueryResourceResidencyDXGI</strong> function for these system memory resources.</p>
</blockquote>

<h4 id="presidencydata">pResidencyData</h4>

<p>[in] A pointer to a <strong><a href="dxgi_ddi_arg_queryresourceresidency" title="typedef struct DXGI_DDI_ARG_QUERYRESOURCERESIDENCY {&#10;  [in]  DXGI_DDI_HDEVICE         hDevice;&#10;  [in]  const DXGI_DDI_HRESOURCE *pResources;&#10;  [out] DXGI_DDI_RESIDENCY       *pStatus;&#10;  [in]  SIZE_T                   Resources;&#10;} DXGI_DDI_ARG_QUERYRESOURCERESIDENCY;">DXGI_DDI_ARG_QUERYRESOURCERESIDENCY</a></strong> structure that describes a list of resources that residency is verified on.</p>

<h3 id="pfnrotateresourceidentities"><code>pfnRotateResourceIdentities</code></h3>

<p>Rotates a list of resources.</p>

<p>The <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>RotateResourceIdentitiesDXGI</strong></a> function must exchange identities of the array of resources that are passed in the <strong>pResources</strong> member of the <strong><a href="dxgi_ddi_arg_rotate_resource_identities" title="typedef struct DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES {&#10;  [in] DXGI_DDI_HDEVICE         hDevice;&#10;  [in] const DXGI_DDI_HRESOURCE *pResources;&#10;  [in] UINT                     Resources;&#10;} DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES;">DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES</a></strong> structure that the <strong>pRotateData</strong> parameter points to. For example, if the array of resources refers to resources X, Y, and Z, in increasing array index order, <strong>RotateResourceIdentitiesDXGI</strong> must rotate those handles to refer to Y, Z, and X, in increasing array index order. In particular, the user-mode display driver should swap the kernel handles of the corresponding resources. However, the driver should not swap the corresponding runtime (RT) handles. The runtime calls <strong>RotateResourceIdentitiesDXGI</strong> to rotate back buffers during presentation. Therefore, a call to <strong>RotateResourceIdentitiesDXGI<em>* is infrequent. The runtime can specify the D3D10_DDI_BIND_PRESENT flag in the *</em>BindFlags</strong> member of the <strong><a href="d3d10ddiarg_createresource" title="typedef struct D3D10DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO            *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE             ResourceDimension;&#10;  [in]      UINT                              Usage;&#10;  [in]      UINT                              BindFlags;&#10;  [in]      UINT                              MapFlags;&#10;  [in]      UINT                              MiscFlags;&#10;  [in]      DXGI_FORMAT                       Format;&#10;  [in]      DXGI_SAMPLE_DESC                  SampleDesc;&#10;  [in]      UINT                              MipLevels;&#10;  [in]      UINT                              ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC             *pPrimaryDesc;&#10;} D3D10DDIARG_CREATERESOURCE;">D3D10DDIARG_CREATERESOURCE</a></strong> structure when the runtime calls the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createresource"><strong>CreateResource(D3D10)</strong></a> function to indicate that the resource can participate in a rotate operation.</p>

<p>The user-mode display driver must also handle other aspects of exchanging identities. For example, in Direct3D version 10, views can refer to resources; and such views can have resource addresses embedded in them. Therefore, the driver must re-create such views. Also, the driver might be required to reapply currently bound views.</p>

<p>Beginning in Windows 8, the driver must support rotation of stereo back buffers.</p>

<h4 id="protatedata">pRotateData</h4>

<p>[in] A pointer to a <strong><a href="dxgi_ddi_arg_rotate_resource_identities" title="typedef struct DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES {&#10;  [in] DXGI_DDI_HDEVICE         hDevice;&#10;  [in] const DXGI_DDI_HRESOURCE *pResources;&#10;  [in] UINT                     Resources;&#10;} DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES;">DXGI_DDI_ARG_ROTATE_RESOURCE_IDENTITIES</a></strong> structure that describes a list of resources to rotate.</p>

<h3 id="pfnblt"><code>pfnBlt</code></h3>

<p>Copies the contents of a source surface to a destination surface and may rotate the contents.</p>

<p>The Direct3D runtime might set the <strong>Flags</strong> member of the <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong> structure that the <strong>pBltData</strong> parameter points to in such a way as to require the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>BltDXGI</strong></a> function to perform a bit-block transfer (bitblt) operation that resolves multi-sampled resources, performs color-format conversion, and performs a stretch or shrink all at once. However, the Direct3D runtime will never set the <strong>Flags</strong> member of <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong> to zero (that is, no flags set) together with the <strong>DXGI_DDI_MODE_ROTATION_IDENTITY</strong> value set in the <strong>Rotate</strong> member of <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong> (that is, to indicate no rotation) to perform a straight memory copy operation. Instead, unless both resources are multi-sampled, the Direct3D runtime calls the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_resourcecopy"><strong>ResourceCopy</strong></a> or <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_resourcecopyregion"><strong>ResourceCopyRegion</strong></a> function to perform a straight memory copy operation.</p>

<p>The quality of the stretch or shrink that the user-mode display driver performs must be as good as the stretch or shrink that a bilinear filter performs.</p>

<p>The Direct3D runtime will call the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>BltDXGI</strong></a> function infrequently. That is, the runtime should call <strong>BltDXGI</strong> no more than once or twice per frame because the runtime uses <strong>BltDXGI</strong> primarily to support a presentation.</p>

<p>When the runtime calls <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>BltDXGI</strong></a> for a presentation, the runtime sets the <strong>Present</strong> bit-field flag in the <strong>Flags</strong> member of <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong>. The runtime sets the <strong>Present</strong> bit-field flag to inform the driver that there are extra requirements for the bitblt and that extra synchronization may be necessary (for example, the runtime might need to perform extra synchronization in computer configurations that contain two graphics adapters that each handle separate parts of the display). When the <strong>Present</strong> bit-field flag is set, the driver should perform a copy operation from an application's back buffers to the shared surface of the DWM. Because synchronization for this type of copy operation is inexact, tearing artifacts should be the worst type of artifacts that a user experiences. For this type of copy operation, the driver should not use a multi-pass approach by first resolving into the destination surface and then color converting the results in-place because the possible artifacts would be much worse.</p>

<p>If the driver supports returning <strong>DXGI_DDI_ERR_UNSUPPORTED</strong> during the creation of a primary surface (that is, returning <strong>DXGI_DDI_ERR_UNSUPPORTED</strong> from a call to its <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createresource"><strong>CreateResource(D3D10)</strong></a> function with the <strong>D3D10_DDI_BIND_PRESENT</strong> flag set in the <strong>BindFlags</strong> member of <strong><a href="d3d10ddiarg_createresource" title="typedef struct D3D10DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO            *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE             ResourceDimension;&#10;  [in]      UINT                              Usage;&#10;  [in]      UINT                              BindFlags;&#10;  [in]      UINT                              MapFlags;&#10;  [in]      UINT                              MiscFlags;&#10;  [in]      DXGI_FORMAT                       Format;&#10;  [in]      DXGI_SAMPLE_DESC                  SampleDesc;&#10;  [in]      UINT                              MipLevels;&#10;  [in]      UINT                              ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC             *pPrimaryDesc;&#10;} D3D10DDIARG_CREATERESOURCE;">D3D10DDIARG_CREATERESOURCE</a></strong> along with the <strong>pPrimaryDesc</strong> member of <strong><a href="d3d10ddiarg_createresource" title="typedef struct D3D10DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO            *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE             ResourceDimension;&#10;  [in]      UINT                              Usage;&#10;  [in]      UINT                              BindFlags;&#10;  [in]      UINT                              MapFlags;&#10;  [in]      UINT                              MiscFlags;&#10;  [in]      DXGI_FORMAT                       Format;&#10;  [in]      DXGI_SAMPLE_DESC                  SampleDesc;&#10;  [in]      UINT                              MipLevels;&#10;  [in]      UINT                              ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC             *pPrimaryDesc;&#10;} D3D10DDIARG_CREATERESOURCE;">D3D10DDIARG_CREATERESOURCE</a></strong> set to non-NULL), the driver must also support rotation during a copy operation. If the driver never returns <strong>DXGI_DDI_ERR_UNSUPPORTED</strong> from a call to its <strong>CreateResource(D3D10)</strong> function, the runtime will never pass the <strong>DXGI_DDI_MODE_ROTATION_ROTATE90</strong>, <strong>DXGI_DDI_MODE_ROTATION_ROTATE180</strong>, or <strong>DXGI_DDI_MODE_ROTATION_ROTATE270</strong> value to the <strong>Rotate</strong> member of <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong>. Therefore, in this situation, the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>BltDXGI</strong></a> function is not required to support rotation.</p>

<p>The runtime sets a value in the <strong>Rotate</strong> member of <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong> to indicate the number of degrees to rotate counter-clockwise the contents of the source before the driver copies the contents to the destination. Rotation is specified in increments of 90 degrees.</p>

<blockquote>
  <p>[!NOTE]</p>
  
  <p>When the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>BltDXGI</strong></a> function copies sRGB-formatted content from a source surface to a non-sRGB destination surface, the driver should copy the sRGB content unchanged (that is, the driver should not perform the sRGB to linear conversion).</p>
</blockquote>

<h4 id="source-restrictions">Source restrictions</h4>

<p>The <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>BltDXGI</strong></a> function always uses a whole source subresource (versus some sub-rectangular area) to perform the bitblt operation. In addition, the source is a <strong>D3D10DDIRESOURCE_TEXTURE2D</strong> representation (specified in the <strong>ResourceDimension</strong> member of <strong><a href="d3d10ddiarg_createresource" title="typedef struct D3D10DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO            *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE             ResourceDimension;&#10;  [in]      UINT                              Usage;&#10;  [in]      UINT                              BindFlags;&#10;  [in]      UINT                              MapFlags;&#10;  [in]      UINT                              MiscFlags;&#10;  [in]      DXGI_FORMAT                       Format;&#10;  [in]      DXGI_SAMPLE_DESC                  SampleDesc;&#10;  [in]      UINT                              MipLevels;&#10;  [in]      UINT                              ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC             *pPrimaryDesc;&#10;} D3D10DDIARG_CREATERESOURCE;">D3D10DDIARG_CREATERESOURCE</a></strong> when the source is created in a call to the user-mode display driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createresource"><strong>CreateResource(D3D10)</strong></a> function). When the runtime sets the <strong>Resolve</strong> bitfield in the <strong>Flags</strong> member of <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong>, the source is a multi-sampled resource. The source resource is restricted to a resource in which the <strong>D3D10_DDI_BIND_PRESENT</strong> flag was set in the <strong>BindFlags</strong> member of <strong><a href="d3d10ddiarg_createresource" title="typedef struct D3D10DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO            *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE             ResourceDimension;&#10;  [in]      UINT                              Usage;&#10;  [in]      UINT                              BindFlags;&#10;  [in]      UINT                              MapFlags;&#10;  [in]      UINT                              MiscFlags;&#10;  [in]      DXGI_FORMAT                       Format;&#10;  [in]      DXGI_SAMPLE_DESC                  SampleDesc;&#10;  [in]      UINT                              MipLevels;&#10;  [in]      UINT                              ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC             *pPrimaryDesc;&#10;} D3D10DDIARG_CREATERESOURCE;">D3D10DDIARG_CREATERESOURCE</a></strong>. The format of the source (specified in the <strong>Format</strong> member of <strong><a href="d3d10ddiarg_createresource" title="typedef struct D3D10DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO            *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE             ResourceDimension;&#10;  [in]      UINT                              Usage;&#10;  [in]      UINT                              BindFlags;&#10;  [in]      UINT                              MapFlags;&#10;  [in]      UINT                              MiscFlags;&#10;  [in]      DXGI_FORMAT                       Format;&#10;  [in]      DXGI_SAMPLE_DESC                  SampleDesc;&#10;  [in]      UINT                              MipLevels;&#10;  [in]      UINT                              ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC             *pPrimaryDesc;&#10;} D3D10DDIARG_CREATERESOURCE;">D3D10DDIARG_CREATERESOURCE</a></strong>) is restricted to display mode formats, specified by the following values from the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/dxgiformat/ne-dxgiformat-dxgi_format"><strong>DXGI_FORMAT</strong></a> enumeration:</p>

<ul>
<li><strong>DXGI_FORMAT_B5G6R5_UNORM</strong></li>
<li><strong>DXGI_FORMAT_B5G5R5A1_UNORM</strong></li>
<li><strong>DXGI_FORMAT_B8G8R8A8_UNORM</strong> (See Note below.)</li>
<li><strong>DXGI_FORMAT_B8G8R8X8_UNORM</strong></li>
<li><strong>DXGI_FORMAT_R16G16B16A16_FLOAT</strong></li>
<li><strong>DXGI_FORMAT_R10G10B10A2_UNORM</strong></li>
<li><strong>DXGI_FORMAT_R8G8B8A8_UNORM</strong></li>
<li><strong>DXGI_FORMAT_R8G8B8A8_UNORM_SRGB</strong></li>
</ul>

<blockquote>
  <p>[!NOTE]</p>
  
  <p>If the driver supports the source format <strong>DXGI_FORMAT_B8G8R8A8_UNORM</strong>, the following restrictions apply:</p>
  
  <ul>
  <li>When the driver performs a bitblt operation from a floating-point format to an integer format such as BGRA8888, it must implicitly encode gamma into the results.</li>
  <li>Conversely, when the driver performs a bitblt operation from an integer format to a floating-point format, it must implicitly remove gamma encoding from the results.</li>
  </ul>
</blockquote>

<h4 id="destination-restrictions">Destination restrictions</h4>

<p>The destination is also a <strong>D3D10DDIRESOURCE_TEXTURE2D</strong> representation. The format of the destination is also restricted to display mode formats. The destination resource is restricted to a resource that is bound as a render target (<strong>D3D10_DDI_BIND_RENDER_TARGET</strong> set in the <strong>BindFlags</strong> member of <strong><a href="d3d10ddiarg_createresource" title="typedef struct D3D10DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO            *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE             ResourceDimension;&#10;  [in]      UINT                              Usage;&#10;  [in]      UINT                              BindFlags;&#10;  [in]      UINT                              MapFlags;&#10;  [in]      UINT                              MiscFlags;&#10;  [in]      DXGI_FORMAT                       Format;&#10;  [in]      DXGI_SAMPLE_DESC                  SampleDesc;&#10;  [in]      UINT                              MipLevels;&#10;  [in]      UINT                              ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC             *pPrimaryDesc;&#10;} D3D10DDIARG_CREATERESOURCE;">D3D10DDIARG_CREATERESOURCE</a></strong> or <strong><a href="d3d11ddiarg_createresource" title="typedef struct D3D11DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO               *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP    *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE                ResourceDimension;&#10;  [in]      UINT                                 Usage;&#10;  [in]      UINT                                 BindFlags;&#10;  [in]      UINT                                 MapFlags;&#10;  [in]      UINT                                 MiscFlags;&#10;  [in]      DXGI_FORMAT                          Format;&#10;  [in]      DXGI_SAMPLE_DESC                     SampleDesc;&#10;  [in]      UINT                                 MipLevels;&#10;  [in]      UINT                                 ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC                *pPrimaryDesc;&#10;  [in]      UINT                                 ByteStride;&#10;  [in]      D3D11_1DDI_VIDEO_DECODER_BUFFER_TYPE DecoderBufferType;&#10;            D3DWDDM2_0DDI_TEXTURE_LAYOUT         TextureLayout;&#10;} D3D11DDIARG_CREATERESOURCE;">D3D11DDIARG_CREATERESOURCE</a></strong>).</p>

<h4 id="creating-a-stereo-back-buffer">Creating a stereo back buffer</h4>

<p>Beginning in Windows 8, if the driver must create a stereo back buffer, it should set members of the <strong><a href="d3d10ddiarg_createresource" title="typedef struct D3D10DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO            *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE             ResourceDimension;&#10;  [in]      UINT                              Usage;&#10;  [in]      UINT                              BindFlags;&#10;  [in]      UINT                              MapFlags;&#10;  [in]      UINT                              MiscFlags;&#10;  [in]      DXGI_FORMAT                       Format;&#10;  [in]      DXGI_SAMPLE_DESC                  SampleDesc;&#10;  [in]      UINT                              MipLevels;&#10;  [in]      UINT                              ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC             *pPrimaryDesc;&#10;} D3D10DDIARG_CREATERESOURCE;">D3D10DDIARG_CREATERESOURCE</a></strong> or <strong><a href="d3d11ddiarg_createresource" title="typedef struct D3D11DDIARG_CREATERESOURCE {&#10;  [in]      const D3D10DDI_MIPINFO               *pMipInfoList;&#10;  [in]      const D3D10_DDIARG_SUBRESOURCE_UP    *pInitialDataUP;&#10;  [in]      D3D10DDIRESOURCE_TYPE                ResourceDimension;&#10;  [in]      UINT                                 Usage;&#10;  [in]      UINT                                 BindFlags;&#10;  [in]      UINT                                 MapFlags;&#10;  [in]      UINT                                 MiscFlags;&#10;  [in]      DXGI_FORMAT                          Format;&#10;  [in]      DXGI_SAMPLE_DESC                     SampleDesc;&#10;  [in]      UINT                                 MipLevels;&#10;  [in]      UINT                                 ArraySize;&#10;  [in, out] DXGI_DDI_PRIMARY_DESC                *pPrimaryDesc;&#10;  [in]      UINT                                 ByteStride;&#10;  [in]      D3D11_1DDI_VIDEO_DECODER_BUFFER_TYPE DecoderBufferType;&#10;            D3DWDDM2_0DDI_TEXTURE_LAYOUT         TextureLayout;&#10;} D3D11DDIARG_CREATERESOURCE;">D3D11DDIARG_CREATERESOURCE</a></strong> structure, respectively, pointed to by the <strong>pCreateResource</strong> parameter of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createresource"><strong>CreateResource(D3D10)</strong></a> or <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d11ddi_createresource"><strong>CreateResource(D3D11)</strong></a> functions, as follows:</p>

<ol>
<li>Set the <strong>ArraySize</strong> member to a value of 2.</li>
<li>Set the <strong>D3D10_DDI_BIND_PRESENT</strong> flag value in the <strong>BindFlags</strong> member.</li>
</ol>

<p>Additionally, to support stereo presentation, the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>BltDXGI</strong></a> function must allow any values for the <strong>DstSubresource</strong> and <strong>SrcSubresource</strong> members of the <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong> structure that are within the range of the source and destination resources.</p>

<h4 id="pbltdata">pBltData</h4>

<p>[in] A pointer to a <strong><a href="dxgi_ddi_arg_blt" title="typedef struct DXGI_DDI_ARG_BLT {&#10;  [in] DXGI_DDI_HDEVICE       hDevice;&#10;  [in] DXGI_DDI_HRESOURCE     hDstResource;&#10;  [in] UINT                   DstSubresource;&#10;  [in] UINT                   DstLeft;&#10;  [in] UINT                   DstTop;&#10;  [in] UINT                   DstRight;&#10;  [in] UINT                   DstBottom;&#10;  [in] DXGI_DDI_HRESOURCE     hSrcResource;&#10;  [in] UINT                   SrcSubresource;&#10;  [in] DXGI_DDI_ARG_BLT_FLAGS Flags;&#10;  [in] DXGI_DDI_MODE_ROTATION Rotate;&#10;} DXGI_DDI_ARG_BLT;">DXGI_DDI_ARG_BLT</a></strong> structure that describes the parameters of a bit-block transfer (bitblt).</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>BltDXGI</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d10umddi/nc-d3d10umddi-pfnd3d10ddi_createdevice"><strong>CreateDevice(D3D10)</strong></a></p>

<p><strong><a href="d3d10ddiarg_createdevice" title="typedef struct D3D10DDIARG_CREATEDEVICE {&#10;  D3D10DDI_HRTDEVICE            hRTDevice;&#10;  UINT                          Interface;&#10;  UINT                          Version;&#10;  const D3DDDI_DEVICECALLBACKS  *pKTCallbacks;&#10;  union {&#10;    D3D10DDI_DEVICEFUNCS      *pDeviceFuncs;&#10;    D3D10_1DDI_DEVICEFUNCS    *p10_1DeviceFuncs;&#10;    D3D11DDI_DEVICEFUNCS      *p11DeviceFuncs;&#10;    D3D11_1DDI_DEVICEFUNCS    *p11_1DeviceFuncs;&#10;    D3DWDDM1_3DDI_DEVICEFUNCS *pWDDM1_3DeviceFuncs;&#10;    D3DWDDM2_0DDI_DEVICEFUNCS *pWDDM2_0DeviceFuncs;&#10;    D3DWDDM2_1DDI_DEVICEFUNCS *pWDDM2_1DeviceFuncs;&#10;    D3DWDDM2_2DDI_DEVICEFUNCS *pWDDM2_2DeviceFuncs;&#10;    D3DWDDM2_6DDI_DEVICEFUNCS *pWDDM2_6DeviceFuncs;&#10;  };&#10;  D3D10DDI_HDEVICE              hDrvDevice;&#10;  DXGI_DDI_BASE_ARGS            DXGIBaseDDI;&#10;  D3D10DDI_HRTCORELAYER         hRTCoreLayer;&#10;  union {&#10;...">D3D10DDIARG_CREATEDEVICE</a></strong></p>

<p><strong><a href="dxgi_ddi_base_args" title="typedef struct DXGI_DDI_BASE_ARGS {&#10;  [in]     DXGI_DDI_BASE_CALLBACKS *pDXGIBaseCallbacks;&#10;  union {&#10;             DXGI1_6_1_DDI_BASE_FUNCTIONS *pDXGIDDIBaseFunctions6_1;&#10;             DXGI1_5_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions6;&#10;             DXGI1_4_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions5;&#10;    [in/out] DXGI1_3_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions4;&#10;    [in/out] DXGI1_2_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions3;&#10;    [in/out] DXGI1_1_DDI_BASE_FUNCTIONS   *pDXGIDDIBaseFunctions2;&#10;    [in/out] DXGI_DDI_BASE_FUNCTIONS      *pDXGIDDIBaseFunctions;&#10;  };&#10;} DXGI_DDI_BASE_ARGS;">DXGI_DDI_BASE_ARGS</a></strong></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>GetGammaCapsDXGI</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>PresentDXGI</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>QueryResourceResidencyDXGI</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>RotateResourceIdentitiesDXGI</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi1_1_ddi_base_functions"><strong>SetDisplayModeDXGI</strong></a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions"><strong>SetResourcePriorityDXGI</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/dxgiddi/ns-dxgiddi-dxgi_ddi_base_functions.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
