<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="UNIFM_HDR - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>UNIFM_HDR - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            UNIFM_HDR - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// prntfont.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _UNIFM_HDR {
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwSize;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwVersion;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ulDefaultCodepage;
  <a href="long" title="typedef long LONG;">LONG</a>  lGlyphSetDataRCID;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> loUnidrvInfo;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> loIFIMetrics;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> loExtTextMetric;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> loWidthTable;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> loKernPair;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwReserved[2];
} UNIFM_HDR, *PUNIFM_HDR;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/prntfont/ns-prntfont-_unifm_hdr">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/unifm_hdr.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-prntfont-_unifm_hdr)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_UNIFM_HDR structure</h1>
<h2>Description</h2>
<p>The UNIFM_HDR structure is used to define the contents of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/print/customized-font-management">Unidrv font metrics files</a> (.ufm files).</p>
<h2>Members</h2>
<h3><code>dwSize</code></h3>
<p>Specifies the total size, in bytes, of the .ufm file. Note that this is the total size of all structures used to define the file. This value is not the size of the UNIFM_HDR structure.</p>
<h3><code>dwVersion</code></h3>
<p>Specifies the file version number, as defined in prntfont.h by a constant with a name format of UNIFM_VERSION_<em>x</em>_<em>x</em>.</p>
<h3><code>ulDefaultCodepage</code></h3>
<p>Specifies the code page identifier for the font's default code page. For more information, see the following Remarks section.</p>
<h3><code>lGlyphSetDataRCID</code></h3>
<p>Specifies an RC_GTT resource identifier that identifies a .gtt (Glyph Translation Table) file, or one of the CC_-prefixed code conversion identifiers defined in prntfont.h. For more information, see the following Remarks section.</p>
<h3><code>loUnidrvInfo</code></h3>
<p>Specifies the byte offset from the beginning of the .ufm (Unidrv Font Metrics) file to the location of the file's <a href="unidrvinfo" title="typedef struct _UNIDRVINFO {&#10;  DWORD dwSize;&#10;  DWORD flGenFlags;&#10;  WORD  wType;&#10;  WORD  fCaps;&#10;  WORD  wXRes;&#10;  WORD  wYRes;&#10;  short sYAdjust;&#10;  short sYMoved;&#10;  WORD  wPrivateData;&#10;  short sShift;&#10;  INVOC SelectFont;&#10;  INVOC UnSelectFont;&#10;  WORD  wReserved[4];&#10;} UNIDRVINFO, *PUNIDRVINFO;">UNIDRVINFO</a> structure.</p>
<h3><code>loIFIMetrics</code></h3>
<p>Specifies the byte offset from the beginning of the .ufm file to the location of the file's <a href="printifi32" title="typedef struct _PRINTIFI32 {&#10;  ULONG   cjThis;&#10;  ULONG   cjIfiExtra;&#10;  PTRDIFF dpwszFamilyName;&#10;  PTRDIFF dpwszStyleName;&#10;  PTRDIFF dpwszFaceName;&#10;  PTRDIFF dpwszUniqueName;&#10;  PTRDIFF dpFontSim;&#10;  LONG    lEmbedId;&#10;  LONG    lItalicAngle;&#10;  LONG    lCharBias;&#10;  PTRDIFF dpCharSets;&#10;  BYTE    jWinCharSet;&#10;  BYTE    jWinPitchAndFamily;&#10;  USHORT  usWinWeight;&#10;  ULONG   flInfo;&#10;  USHORT  fsSelection;&#10;  USHORT  fsType;&#10;  FWORD   fwdUnitsPerEm;&#10;  FWORD   fwdLowestPPEm;&#10;...">PRINTIFI32</a> structure.</p>
<h3><code>loExtTextMetric</code></h3>
<p>Specifies the byte offset from the beginning of the .ufm file to the location of the file's <a href="exttextmetric" title="typedef struct _EXTTEXTMETRIC {&#10;  short emSize;&#10;  short emPointSize;&#10;  short emOrientation;&#10;  short emMasterHeight;&#10;  short emMinScale;&#10;  short emMaxScale;&#10;  short emMasterUnits;&#10;  short emCapHeight;&#10;  short emXHeight;&#10;  short emLowerCaseAscent;&#10;  short emLowerCaseDescent;&#10;  short emSlant;&#10;  short emSuperScript;&#10;  short emSubScript;&#10;  short emSuperScriptSize;&#10;  short emSubScriptSize;&#10;  short emUnderlineOffset;&#10;  short emUnderlineWidth;&#10;  short emDoubleUpperUnderlineOffset;&#10;...">EXTTEXTMETRIC</a> structure.</p>
<h3><code>loWidthTable</code></h3>
<p>Specifies the byte offset from the beginning of the .ufm file to the location of the file's <a href="widthtable" title="typedef struct _WIDTHTABLE {&#10;  DWORD    dwSize;&#10;  DWORD    dwRunNum;&#10;  WIDTHRUN WidthRun[1];&#10;} WIDTHTABLE, *PWIDTHTABLE;">WIDTHTABLE</a> structure.</p>
<h3><code>loKernPair</code></h3>
<p>Specifies the byte offset from the beginning of the .ufm file to the location of the file's <a href="kerndata" title="typedef struct _KERNDATA {&#10;  DWORD          dwSize;&#10;  DWORD          dwKernPairNum;&#10;  FD_KERNINGPAIR KernPair[1];&#10;} KERNDATA, *PKERNDATA;">KERNDATA</a> structure.</p>
<h3><code>dwReserved</code></h3>
<p>Not used.</p>
<h2>Remarks</h2>
<p>A UNIFM_HDR structure must be the first structure contained in a .ufm file.</p>
<p>If <strong>lGlyphSetDataRCID</strong> is not CC_DEFAULT, then the following rules apply:</p>
<ul>
<li>

</li>
<li><p>If <strong>lGlyphSetDataRCID</strong> contains one of the CC_-prefixed code conversion identifiers (other than CC_DEFAULT), the code page number specified for <strong>ulDefaultCodepage</strong> must be the code page number that is associated with the CC_-prefixed identifier. (These code page numbers are listed in Prntfont.h, next to each CC_-prefixed identifier.)</p>
<p>The character conversion codes predefined by the system, listed in Prntfont.h, are as follows:</p></li>
</ul>
<pre><code>    //
// System predefined character conversion
//
// UNIDRV is going to support  following system predefined character conversion.
// By specifying these number in UNIFM.dwGlyphSetDataRCID;
//
#define CC_NOPRECNV 0x0000FFFF // Not use predefined
//
// ANSI
//
#define CC_DEFAULT  0 // Default Character Conversion
#define CC_CP437   -1 // Unicode to IBM Codepage 437
#define CC_CP850   -2 // Unicode to IBM Codepage 850
#define CC_CP863   -3 // Unicode to IBM Codepage 863
//
// East Asia
//
#define CC_BIG5     -10 // Unicode to Chinese Big 5. Codepage 950.
#define CC_ISC      -11 // Unicode to Korean Industrial Standard. Codepage 949.
#define CC_JIS      -12 // Unicode to JIS X0208. Codepage 932.
#define CC_JIS_ANK  -13 // Unicode to JIS X0208 except ANK. Codepage 932.
#define CC_NS86     -14 // Big-5 to National Standard conversion. Codepage 950
#define CC_TCA      -15 // Big-5 to Taipei Computer Association. Codepage 950.
#define CC_GB2312   -16 // Unicode to GB2312. Codepage 936
#define CC_SJIS     -17 // Unicode to Shift-JIS. Codepage 932.
#define CC_WANSUNG  -18 // Unicode to Extended Wansung. Codepage 949.
</code></pre>
<p>If <strong>lGlyphSetDataRCID</strong> is CC_DEFAULT, there are no restrictions on the value specified for <strong>ulDefaultCodepage</strong>, but a default code page must be specified.</p>
<h2>See also</h2>
<p><a href="exttextmetric" title="typedef struct _EXTTEXTMETRIC {&#10;  short emSize;&#10;  short emPointSize;&#10;  short emOrientation;&#10;  short emMasterHeight;&#10;  short emMinScale;&#10;  short emMaxScale;&#10;  short emMasterUnits;&#10;  short emCapHeight;&#10;  short emXHeight;&#10;  short emLowerCaseAscent;&#10;  short emLowerCaseDescent;&#10;  short emSlant;&#10;  short emSuperScript;&#10;  short emSubScript;&#10;  short emSuperScriptSize;&#10;  short emSubScriptSize;&#10;  short emUnderlineOffset;&#10;  short emUnderlineWidth;&#10;  short emDoubleUpperUnderlineOffset;&#10;...">EXTTEXTMETRIC</a></p>
<p><a href="kerndata" title="typedef struct _KERNDATA {&#10;  DWORD          dwSize;&#10;  DWORD          dwKernPairNum;&#10;  FD_KERNINGPAIR KernPair[1];&#10;} KERNDATA, *PKERNDATA;">KERNDATA</a></p>
<p><a href="printifi32" title="typedef struct _PRINTIFI32 {&#10;  ULONG   cjThis;&#10;  ULONG   cjIfiExtra;&#10;  PTRDIFF dpwszFamilyName;&#10;  PTRDIFF dpwszStyleName;&#10;  PTRDIFF dpwszFaceName;&#10;  PTRDIFF dpwszUniqueName;&#10;  PTRDIFF dpFontSim;&#10;  LONG    lEmbedId;&#10;  LONG    lItalicAngle;&#10;  LONG    lCharBias;&#10;  PTRDIFF dpCharSets;&#10;  BYTE    jWinCharSet;&#10;  BYTE    jWinPitchAndFamily;&#10;  USHORT  usWinWeight;&#10;  ULONG   flInfo;&#10;  USHORT  fsSelection;&#10;  USHORT  fsType;&#10;  FWORD   fwdUnitsPerEm;&#10;  FWORD   fwdLowestPPEm;&#10;...">PRINTIFI32</a></p>
<p><a href="unidrvinfo" title="typedef struct _UNIDRVINFO {&#10;  DWORD dwSize;&#10;  DWORD flGenFlags;&#10;  WORD  wType;&#10;  WORD  fCaps;&#10;  WORD  wXRes;&#10;  WORD  wYRes;&#10;  short sYAdjust;&#10;  short sYMoved;&#10;  WORD  wPrivateData;&#10;  short sShift;&#10;  INVOC SelectFont;&#10;  INVOC UnSelectFont;&#10;  WORD  wReserved[4];&#10;} UNIDRVINFO, *PUNIDRVINFO;">UNIDRVINFO</a></p>
<p><a href="uni_codepageinfo" title="typedef struct _UNI_CODEPAGEINFO {&#10;  DWORD dwCodePage;&#10;  INVOC SelectSymbolSet;&#10;  INVOC UnSelectSymbolSet;&#10;} UNI_CODEPAGEINFO, *PUNI_CODEPAGEINFO;">UNI_CODEPAGEINFO</a></p>
<p><a href="widthtable" title="typedef struct _WIDTHTABLE {&#10;  DWORD    dwSize;&#10;  DWORD    dwRunNum;&#10;  WIDTHRUN WidthRun[1];&#10;} WIDTHTABLE, *PWIDTHTABLE;">WIDTHTABLE</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/prntfont/ns-prntfont-_unifm_hdr">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/prntfont/ns-prntfont-_unifm_hdr.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
