<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_NDK_PERFORMANCE_COUNTERS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_NDK_PERFORMANCE_COUNTERS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_NDK_PERFORMANCE_COUNTERS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NDIS_NDK_PERFORMANCE_COUNTERS {
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Connect;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Accept;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> ConnectFailure;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> ConnectionError;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> ActiveConnection;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved01;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved02;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved03;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved04;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved05;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved06;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved07;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved08;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved09;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved10;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved11;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved12;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved13;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved14;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved15;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved16;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved17;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved18;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved19;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> Reserved20;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> CQError;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> RDMAInOctets;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> RDMAOutOctets;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> RDMAInFrames;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a> RDMAOutFrames;
} NDIS_NDK_PERFORMANCE_COUNTERS, *PNDIS_NDK_PERFORMANCE_COUNTERS;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_ndk_performance_counters">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_ndk_performance_counters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddndis-_ndis_ndk_performance_counters)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ndis_ndk_performance_counters-structure">_NDIS_NDK_PERFORMANCE_COUNTERS structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>NDIS_NDK_PERFORMANCE_COUNTERS</strong> structure contains the NDK performance counters.</p>

<h2 id="members">Members</h2>

<h3 id="connect"><code>Connect</code></h3>

<p>The number of outbound connections established. In a bitmask of counters (for example, <strong>MissingCounterMask</strong> member of the <a href="ndis_ndk_capabilities" title="typedef struct _NDIS_NDK_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              MaxQpCount;&#10;  ULONG              MaxCqCount;&#10;  ULONG              MaxMrCount;&#10;  ULONG              MaxPdCount;&#10;  ULONG              MaxInboundReadLimit;&#10;  ULONG              MaxOutboundReadLimit;&#10;  ULONG              MaxMwCount;&#10;  ULONG              MaxSrqCount;&#10;  ULONG64            MissingCounterMask;&#10;  NDK_ADAPTER_INFO   *NdkInfo;&#10;} NDIS_NDK_CAPABILITIES, *PNDIS_NDK_CAPABILITIES;">NDIS_NDK_CAPABILITIES</a> structure), this is counter 0.</p>

<h3 id="accept"><code>Accept</code></h3>

<p>The number of inbound <em>RDMA</em> connections established. In a bitmask of counters (for example, <strong>MissingCounterMask</strong> member of the <a href="ndis_ndk_capabilities" title="typedef struct _NDIS_NDK_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              MaxQpCount;&#10;  ULONG              MaxCqCount;&#10;  ULONG              MaxMrCount;&#10;  ULONG              MaxPdCount;&#10;  ULONG              MaxInboundReadLimit;&#10;  ULONG              MaxOutboundReadLimit;&#10;  ULONG              MaxMwCount;&#10;  ULONG              MaxSrqCount;&#10;  ULONG64            MissingCounterMask;&#10;  NDK_ADAPTER_INFO   *NdkInfo;&#10;} NDIS_NDK_CAPABILITIES, *PNDIS_NDK_CAPABILITIES;">NDIS_NDK_CAPABILITIES</a> structure), this is counter 1.</p>

<h3 id="connectfailure"><code>ConnectFailure</code></h3>

<p>The number of inbound and outbound <em>RDMA</em> connect attempts that failed. In a bitmask of counters, this is counter 2.</p>

<h3 id="connectionerror"><code>ConnectionError</code></h3>

<p>The number of established connections with an error before a consumer disconnected the connection. In a bitmask of counters, this is counter 3.</p>

<h3 id="activeconnection"><code>ActiveConnection</code></h3>

<p>The number of active <em>RDMA</em> connections. In a bitmask of counters, this is counter 4.</p>

<h3 id="reserved01"><code>Reserved01</code></h3>

<p>Reserved.</p>

<h3 id="reserved02"><code>Reserved02</code></h3>

<p>Reserved.</p>

<h3 id="reserved03"><code>Reserved03</code></h3>

<p>Reserved.</p>

<h3 id="reserved04"><code>Reserved04</code></h3>

<p>Reserved.</p>

<h3 id="reserved05"><code>Reserved05</code></h3>

<p>Reserved.</p>

<h3 id="reserved06"><code>Reserved06</code></h3>

<p>Reserved.</p>

<h3 id="reserved07"><code>Reserved07</code></h3>

<p>Reserved.</p>

<h3 id="reserved08"><code>Reserved08</code></h3>

<p>Reserved.</p>

<h3 id="reserved09"><code>Reserved09</code></h3>

<p>Reserved.</p>

<h3 id="reserved10"><code>Reserved10</code></h3>

<p>Reserved.</p>

<h3 id="reserved11"><code>Reserved11</code></h3>

<p>Reserved.</p>

<h3 id="reserved12"><code>Reserved12</code></h3>

<p>Reserved.</p>

<h3 id="reserved13"><code>Reserved13</code></h3>

<p>Reserved.</p>

<h3 id="reserved14"><code>Reserved14</code></h3>

<p>Reserved.</p>

<h3 id="reserved15"><code>Reserved15</code></h3>

<p>Reserved.</p>

<h3 id="reserved16"><code>Reserved16</code></h3>

<p>Reserved.</p>

<h3 id="reserved17"><code>Reserved17</code></h3>

<p>Reserved.</p>

<h3 id="reserved18"><code>Reserved18</code></h3>

<p>Reserved.</p>

<h3 id="reserved19"><code>Reserved19</code></h3>

<p>Reserved.</p>

<h3 id="reserved20"><code>Reserved20</code></h3>

<p>Reserved.</p>

<h3 id="cqerror"><code>CQError</code></h3>

<p>The number of <em>RDMA</em> completion queue (CQs) that went into an error state. In a bitmask of counters, this is counter 25.</p>

<h3 id="rdmainoctets"><code>RDMAInOctets</code></h3>

<p>The number of bytes for all incoming <em>RDMA</em> traffic. This should include additional layer two protocol overhead. In a bitmask of counters, this is counter 26.</p>

<h3 id="rdmaoutoctets"><code>RDMAOutOctets</code></h3>

<p>The number of bytes for all outgoing <em>RDMA</em> traffic. This should include additional layer two protocol overhead. In a bitmask of counters, this is counter 27.</p>

<h3 id="rdmainframes"><code>RDMAInFrames</code></h3>

<p>The number, in frames, of layer two frames that carry incoming <em>RDMA</em> traffic. In a bitmask of counters, this is counter 28.</p>

<h3 id="rdmaoutframes"><code>RDMAOutFrames</code></h3>

<p>The number, in frames, of layer two frames that carry outgoing <em>RDMA</em> traffic. In a bitmask of counters, this is counter 29.</p>

<h2 id="remarks">Remarks</h2>

<p>The <strong>NDIS_NDK_PERFORMANCE_COUNTERS</strong> structure is used in the <strong>CounterSet</strong> member of the <a href="ndis_ndk_statistics_info" title="typedef struct _NDIS_NDK_STATISTICS_INFO {&#10;  NDIS_OBJECT_HEADER            Header;&#10;  ULONG                         Flags;&#10;  NDIS_NDK_PERFORMANCE_COUNTERS CounterSet;&#10;} NDIS_NDK_STATISTICS_INFO;">NDIS_NDK_STATISTICS_INFO</a> structure.</p>

<p>NDK providers are required to support all the performance counters that are included
in the <strong>NDIS_NDK_PERFORMANCE_COUNTERS</strong> structure. However, in the rare case that
a provider cannot support a counter due to extreme implementation difficulties,
the provider must indicate any unsupported counters with the mask value for the
counter which it cannot support. The <strong>MissingCounterMask</strong> parameter of the <a href="ndis_ndk_capabilities" title="typedef struct _NDIS_NDK_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              MaxQpCount;&#10;  ULONG              MaxCqCount;&#10;  ULONG              MaxMrCount;&#10;  ULONG              MaxPdCount;&#10;  ULONG              MaxInboundReadLimit;&#10;  ULONG              MaxOutboundReadLimit;&#10;  ULONG              MaxMwCount;&#10;  ULONG              MaxSrqCount;&#10;  ULONG64            MissingCounterMask;&#10;  NDK_ADAPTER_INFO   *NdkInfo;&#10;} NDIS_NDK_CAPABILITIES, *PNDIS_NDK_CAPABILITIES;">NDIS_NDK_CAPABILITIES</a> structure specifies a bitmask that identifies counters that an NDK provider does not support.</p>

<p>All <strong>ReservedXX</strong> counters must be set to zero by providers and are ignored by NDIS. The term <em>RDMA</em> refers to all NDKPI and NDSPI activity as well as activity through any other RDMA programming interface that might be exposed by the provider. All providers must report the NDKPI and NDSPI activity with these counters, but reporting activity for other RDMA programming interfaces is not a strict requirement. The term <em>RDMA traffic</em> for the RDMA in, out, byte, and frame counters refers to all RDMA activity originating from NDKPI, NDSPI, and other RDMA programming interfaces (if any). This includes reads and writes (that is, direct data placement) as well as sends and receives. This also should also include all of the associated layer two protocol overhead. That is, <em>RDMA traffic</em> on an NDK-capable adapter includes all traffic through the adapter except for traffic that is delivered through the standard NDIS send and receive interface and TCP chimney by NDIS protocol drivers.</p>

<h2 id="see-also">See also</h2>

<p><a href="ndis_ndk_capabilities" title="typedef struct _NDIS_NDK_CAPABILITIES {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              Flags;&#10;  ULONG              MaxQpCount;&#10;  ULONG              MaxCqCount;&#10;  ULONG              MaxMrCount;&#10;  ULONG              MaxPdCount;&#10;  ULONG              MaxInboundReadLimit;&#10;  ULONG              MaxOutboundReadLimit;&#10;  ULONG              MaxMwCount;&#10;  ULONG              MaxSrqCount;&#10;  ULONG64            MissingCounterMask;&#10;  NDK_ADAPTER_INFO   *NdkInfo;&#10;} NDIS_NDK_CAPABILITIES, *PNDIS_NDK_CAPABILITIES;">NDIS_NDK_CAPABILITIES</a></p>

<p><a href="ndis_ndk_statistics_info" title="typedef struct _NDIS_NDK_STATISTICS_INFO {&#10;  NDIS_OBJECT_HEADER            Header;&#10;  ULONG                         Flags;&#10;  NDIS_NDK_PERFORMANCE_COUNTERS CounterSet;&#10;} NDIS_NDK_STATISTICS_INFO;">NDIS_NDK_STATISTICS_INFO</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_ndk_performance_counters">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddndis/ns-ntddndis-_ndis_ndk_performance_counters.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
