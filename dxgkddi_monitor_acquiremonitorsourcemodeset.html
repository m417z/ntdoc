<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGKDDI_MONITOR_ACQUIREMONITORSOURCEMODESET - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGKDDI_MONITOR_ACQUIREMONITORSOURCEMODESET - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGKDDI_MONITOR_ACQUIREMONITORSOURCEMODESET - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">DXGKDDI_MONITOR_ACQUIREMONITORSOURCEMODESET DxgkddiMonitorAcquiremonitorsourcemodeset;

<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> DxgkddiMonitorAcquiremonitorsourcemodeset(
  [in]  IN_CONST_D3DKMDT_ADAPTER hAdapter,
  [in]  IN_CONST_D3DDDI_VIDEO_PRESENT_TARGET_ID VideoPresentTargetId,
  [out] OUT_PD3DKMDT_HMONITORSOURCEMODESET phMonitorSourceModeSet,
  [out] DEREF_OUT_CONST_PPDXGK_MONITORSOURCEMODESET_INTERFACE ppMonitorSourceModeSetInterface
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_monitor_acquiremonitorsourcemodeset">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgkddi_monitor_acquiremonitorsourcemodeset.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-d3dkmddi-dxgkddi_monitor_acquiremonitorsourcemodeset)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="dxgkddi_monitor_acquiremonitorsourcemodeset-callback-function">DXGKDDI_MONITOR_ACQUIREMONITORSOURCEMODESET callback function</h1>

<h2 id="description">Description</h2>

<p>The <strong>pfnAcquireMonitorSourceModeSet</strong> function returns a handle to the monitor source mode set object that is associated with a specified monitor.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="hadapter-in"><code>hAdapter</code> [in]</h3>

<p>A handle that identifies a display adapter. The Microsoft DirectX graphics kernel subsystem previously provided this handle to the display miniport driver in the <em>DxgkInterface</em> parameter of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_start_device">DxgkDdiStartDevice</a> function.</p>

<h3 id="videopresenttargetid-in"><code>VideoPresentTargetId</code> [in]</h3>

<p>An integer that identifies one of the video present targets on the display adapter. The returned source mode set object describes the modes available on the monitor that is connected to this video present target.</p>

<h3 id="phmonitorsourcemodeset-out"><code>phMonitorSourceModeSet</code> [out]</h3>

<p>A pointer to a variable that receives a handle to a monitor source mode set object.</p>

<h3 id="ppmonitorsourcemodesetinterface-out"><code>ppMonitorSourceModeSetInterface</code> [out]</h3>

<p>A pointer to a variable that receives a pointer to a <a href="dxgk_monitorsourcemodeset_interface" title="typedef struct _DXGK_MONITORSOURCEMODESET_INTERFACE {&#10;  DXGKDDI_MONITORSOURCEMODESET_GETNUMMODES              pfnGetNumModes;&#10;  DXGKDDI_MONITORSOURCEMODESET_ACQUIREPREFERREDMODEINFO pfnAcquirePreferredModeInfo;&#10;  DXGKDDI_MONITORSOURCEMODESET_ACQUIREFIRSTMODEINFO     pfnAcquireFirstModeInfo;&#10;  DXGKDDI_MONITORSOURCEMODESET_ACQUIRENEXTMODEINFO      pfnAcquireNextModeInfo;&#10;  DXGKDDI_MONITORSOURCEMODESET_CREATENEWMODEINFO        pfnCreateNewModeInfo;&#10;  DXGKDDI_MONITORSOURCEMODESET_ADDMODE                  pfnAddMode;&#10;  DXGKDDI_MONITORSOURCEMODESET_RELEASEMODEINFO          pfnReleaseModeInfo;&#10;} DXGK_MONITORSOURCEMODESET_INTERFACE;">DXGK_MONITORSOURCEMODESET_INTERFACE</a> structure. The structure contains pointers to functions that the display miniport driver can call to inspect and alter the monitor source mode set object.</p>

<h2 id="return-value">Return value</h2>

<p>The <strong>pfnAcquireMonitorSourceModeSet</strong> function returns one of the following values.</p>

<table>
<thead>
<tr>
  <th>Return code</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a></td>
  <td>The function succeeded.</td>
</tr>
<tr>
  <td>STATUS_GRAPHICS_INVALID_DISPLAY_ADAPTER</td>
  <td>The handle supplied in hAdapter was invalid.</td>
</tr>
<tr>
  <td>STATUS_GRAPHICS_INVALID_VIDEO_PRESENT_TARGET</td>
  <td>The identifier supplied in VideoPresentTargetId was invalid.</td>
</tr>
<tr>
  <td>STATUS_GRAPHICS_MONITOR_NOT_CONNECTED</td>
  <td>There is no monitor connected to the video present target identified by VideoPresentTargetId.</td>
</tr>
</tbody>
</table>

<p>This function might also return other error codes that are defined in <em>Ntstatus.h</em>.</p>

<h2 id="remarks">Remarks</h2>

<p>VidPN target identifiers are assigned by the display miniport driver. The <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_query_child_relations">DxgkDdiQueryChildRelations</a> function, implemented by the display miniport driver, returns an array of <a href="dxgk_child_descriptor" title="typedef struct _DXGK_CHILD_DESCRIPTOR {&#10;  DXGK_CHILD_DEVICE_TYPE  ChildDeviceType;&#10;  DXGK_CHILD_CAPABILITIES ChildCapabilities;&#10;  ULONG                   AcpiUid;&#10;  ULONG                   ChildUid;&#10;} DXGK_CHILD_DESCRIPTOR, *PDXGK_CHILD_DESCRIPTOR;">DXGK_CHILD_DESCRIPTOR</a> structures, each of which contains an identifier.</p>

<p>When you have finished using the monitor source mode set object handle, you must release the handle by calling <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_monitor_releasemonitorsourcemodeset">pfnReleaseMonitorSourceModeSet</a>. Target mode set objects are reference counted, so if you acquire a handle several times, you must release it that same number of times.</p>

<p>This function is also available in the <a href="dxgk_monitor_interface_v2" title="typedef struct _DXGK_MONITOR_INTERFACE_V2 {&#10;  DXGK_MONITOR_INTERFACE_VERSION                  Version;&#10;  DXGKDDI_MONITOR_ACQUIREMONITORSOURCEMODESET     pfnAcquireMonitorSourceModeSet;&#10;  DXGKDDI_MONITOR_RELEASEMONITORSOURCEMODESET     pfnReleaseMonitorSourceModeSet;&#10;  DXGKDDI_MONITOR_GETMONITORFREQUENCYRANGESET     pfnGetMonitorFrequencyRangeSet;&#10;  DXGKDDI_MONITOR_GETMONITORDESCRIPTORSET         pfnGetMonitorDescriptorSet;&#10;  DXGKDDI_MONITOR_GETADDITIONALMONITORMODESET     pfnGetAdditionalMonitorModeSet;&#10;  DXGKDDI_MONITOR_RELEASEADDITIONALMONITORMODESET pfnReleaseAdditionalMonitorModeSet;&#10;} DXGK_MONITOR_INTERFACE_V2;">DXGK_MONITOR_INTERFACE_V2</a> interface beginning with Windows 7.</p>

<h2 id="see-also">See also</h2>

<p><a href="dxgk_monitor_interface_v2" title="typedef struct _DXGK_MONITOR_INTERFACE_V2 {&#10;  DXGK_MONITOR_INTERFACE_VERSION                  Version;&#10;  DXGKDDI_MONITOR_ACQUIREMONITORSOURCEMODESET     pfnAcquireMonitorSourceModeSet;&#10;  DXGKDDI_MONITOR_RELEASEMONITORSOURCEMODESET     pfnReleaseMonitorSourceModeSet;&#10;  DXGKDDI_MONITOR_GETMONITORFREQUENCYRANGESET     pfnGetMonitorFrequencyRangeSet;&#10;  DXGKDDI_MONITOR_GETMONITORDESCRIPTORSET         pfnGetMonitorDescriptorSet;&#10;  DXGKDDI_MONITOR_GETADDITIONALMONITORMODESET     pfnGetAdditionalMonitorModeSet;&#10;  DXGKDDI_MONITOR_RELEASEADDITIONALMONITORMODESET pfnReleaseAdditionalMonitorModeSet;&#10;} DXGK_MONITOR_INTERFACE_V2;">DXGK_MONITOR_INTERFACE_V2</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_enumvidpncofuncmodality">DxgkDdiEnumVidPnCofuncModality</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_monitor_acquiremonitorsourcemodeset">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/nc-d3dkmddi-dxgkddi_monitor_acquiremonitorsourcemodeset.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
