<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PEP_ACPI_EVALUATE_CONTROL_METHOD - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PEP_ACPI_EVALUATE_CONTROL_METHOD - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PEP_ACPI_EVALUATE_CONTROL_METHOD - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pep_x.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PEP_ACPI_EVALUATE_CONTROL_METHOD {
  PEPHANDLE             DeviceHandle;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                 RequestFlags;
  union {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>       MethodName;
    <a href="string" title="typedef struct _STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PCHAR Buffer;&#10;} STRING, *PSTRING, ANSI_STRING, *PANSI_STRING, OEM_STRING, *POEM_STRING;">ANSI_STRING</a> MethodNameString;
  };
  <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a>              MethodStatus;
  PVOID                 CompletionContext;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                 InputArgumentCount;
  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a>                InputArgumentSize;
  PACPI_METHOD_ARGUMENT InputArguments;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                 OutputArgumentCount;
  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a>                OutputArgumentSize;
  PACPI_METHOD_ARGUMENT OutputArguments;
} PEP_ACPI_EVALUATE_CONTROL_METHOD, *PPEP_ACPI_EVALUATE_CONTROL_METHOD;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_acpi_evaluate_control_method">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pepfx.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PEP_ACPI_EVALUATE_CONTROL_METHOD {
  PEPHANDLE             DeviceHandle;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                 RequestFlags;
  union {
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>       MethodName;
    <a href="string" title="typedef struct _STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PCHAR Buffer;&#10;} STRING, *PSTRING, ANSI_STRING, *PANSI_STRING, OEM_STRING, *POEM_STRING;">ANSI_STRING</a> MethodNameString;
  };
  <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a>              MethodStatus;
  PVOID                 CompletionContext;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                 InputArgumentCount;
  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a>                InputArgumentSize;
  PACPI_METHOD_ARGUMENT InputArguments;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                 OutputArgumentCount;
  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a>                OutputArgumentSize;
  PACPI_METHOD_ARGUMENT OutputArguments;
} PEP_ACPI_EVALUATE_CONTROL_METHOD, *PPEP_ACPI_EVALUATE_CONTROL_METHOD;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_acpi_evaluate_control_method">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pep_acpi_evaluate_control_method.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-pep_x-_pep_acpi_evaluate_control_method)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_pep_acpi_evaluate_control_method-structure-pep_xh">_PEP_ACPI_EVALUATE_CONTROL_METHOD structure (pep_x.h)</h1>

<h2 id="description">Description</h2>

<p>The <strong>PEP_ACPI_EVALUATE_CONTROL_METHOD</strong> structure specifies an ACPI control method to evaluate, an input argument to supply to this method, and an output buffer for the result of the evaluation.</p>

<h2 id="members">Members</h2>

<h3 id="devicehandle"><code>DeviceHandle</code></h3>

<p>A PEPHANDLE value that identifies the device's registration for ACPI services. The platform extension plug-in (PEP) supplied this handle in response to a previous <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_acpi_register_device">PEP_NOTIFY_ACPI_REGISTER_DEVICE</a> notification.</p>

<h3 id="requestflags"><code>RequestFlags</code></h3>

<p>A set of flags. This member contains one of the following values.</p>

<table>
<thead>
<tr>
  <th>Flag name</th>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>PEP_ACPI_ECM_FLAG_NONE</td>
  <td>0x0</td>
  <td>Not a valid control method name.</td>
</tr>
<tr>
  <td>PEP_ACPI_ECM_FLAG_RELATIVE_NAME</td>
  <td>0x1</td>
  <td>The <strong>MethodNameUlong</strong> member contains a path-relative control method name.</td>
</tr>
<tr>
  <td>PEP_ACPI_ECM_FLAG_FULLY_QUALIFIED_NAME</td>
  <td>0x2</td>
  <td>The <strong>MethodNameString</strong> member contains a fully qualified control method name.</td>
</tr>
</tbody>
</table>

<h3 id="methodname"><code>MethodName</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that contains the four-character, path-relative name of the ACPI control method.</p>

<h3 id="methodnamestring"><code>MethodNameString</code></h3>

<p>An <a href="string" title="typedef struct _STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PCHAR Buffer;&#10;} STRING, *PSTRING, ANSI_STRING, *PANSI_STRING, OEM_STRING, *POEM_STRING;">ANSI_STRING</a> structure that contains the fully qualified name of the ACPI control method. This name specifies the path and name of the method in the ACPI namespace. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/acpi/enumerating-child-devices-and-control-methods">Enumerating Child Devices and Control Methods</a>.</p>

<h3 id="methodstatus"><code>MethodStatus</code></h3>

<p>An <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> value that indicates the status of the evaluation of the ACPI control method. Set this member to <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> to indicate that the platform extension plug-in (PEP) successfully completed its evaluation of the method. Set to STATUS_NOT_SUPPORTED to indicate that the PEP does not recognize the control method. Set to STATUS_BUFFER_TOO_SMALL to indicate that the output buffer size specified by the <strong>InputArgumentSize</strong> member is not large enough to contain the method results.</p>

<p>If the PEP is to evaluate the method asynchronously, set this member to STATUS_PENDING and return from the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/nc-pepfx-pepcallbacknotifyacpi">AcceptAcpiNotification</a> callback. Later, when the evaluation is completed, the PEP calls the <em>CompleteWork</em> routine to notify the Windows <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_kernel/#device-power-management">power management framework</a> (PoFx) that the evaluation of the control method is complete.</p>

<h3 id="completioncontext"><code>CompletionContext</code></h3>

<p>A pointer to a completion context value. The PEP uses this member only if the control method is evaluated asynchronously. In this case, the PEP supplies this completion context pointer in the call to the <em>CompleteWork</em> routine that notifies the Windows <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_kernel/#device-power-management">power management framework</a> (PoFx) that the evaluation of the control method is complete. Included in the input parameters to this call is a pointer to a <a href="pep_work_acpi_evaluate_control_method_complete" title="typedef struct _PEP_WORK_ACPI_EVALUATE_CONTROL_METHOD_COMPLETE {&#10;  POHANDLE              DeviceHandle;&#10;  ULONG                 CompletionFlags;&#10;  NTSTATUS              MethodStatus;&#10;  PVOID                 CompletionContext;&#10;  SIZE_T                OutputArgumentSize;&#10;  PACPI_METHOD_ARGUMENT OutputArguments;&#10;} PEP_WORK_ACPI_EVALUATE_CONTROL_METHOD_COMPLETE, *PPEP_WORK_ACPI_EVALUATE_CONTROL_METHOD_COMPLETE;">PEP_WORK_ACPI_EVALUATE_CONTROL_METHOD_COMPLETE</a> structure to which the PEP has written the completion context pointer. The context is opaque to the PEP and contains data used internally by PoFx.</p>

<h3 id="inputargumentcount"><code>InputArgumentCount</code></h3>

<p>The number of input arguments in the input buffer pointed to by the <strong>InputArguments</strong> member. Each argument starts with an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a> structure that specifies the size of the argument. Currently, the maximum <strong>InputArgumentCount</strong> value is one.</p>

<h3 id="inputargumentsize"><code>InputArgumentSize</code></h3>

<p>The size, in bytes, of the input buffer pointed to by the <strong>InputArguments</strong> member.</p>

<h3 id="inputarguments"><code>InputArguments</code></h3>

<p>A pointer to an input buffer that contains an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a> structure that specifies the input argument for the specified ACPI control method.</p>

<h3 id="outputargumentcount"><code>OutputArgumentCount</code></h3>

<p>The number of output arguments in the output buffer pointed to by the <strong>OutputArguments</strong> member. Each argument starts with an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a> structure that specifies the size of the argument. Currently, the maximum allowed <strong>OutputArgumentCount</strong> value is one.</p>

<h3 id="outputargumentsize"><code>OutputArgumentSize</code></h3>

<p>On input, the size, in bytes, of the output buffer pointed to by the <strong>OutputArguments</strong> member. If this buffer is not large enough to contain the result of evaluating the method, the PEP overwrites the <strong>OutputArgumentSize</strong> input value with the required size, and sets the <strong>MethodStatus</strong> member to STATUS_BUFFER_TOO_SMALL.</p>

<h3 id="outputarguments"><code>OutputArguments</code></h3>

<p>A pointer to an output buffer to which the PEP writes an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a> structure that contains the result of evaluating the specified ACPI control method.</p>

<h2 id="remarks">Remarks</h2>

<p>This structure is used by the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_acpi_evaluate_control_method">PEP_NOTIFY_ACPI_EVALUATE_CONTROL_METHOD</a> notification. The <strong>MethodStatus</strong> member contains an output value that the PEP writes to the structure in response to this notification. The <strong>OutputArgumentSize</strong> member contains an input value supplied by PoFx when the notification is sent. The PEP may overwrite this input value with an output value if the input value is less than the required output buffer size. All other members of this structure contain input values that are supplied by PoFx when the notification is sent.</p>

<p>This structure defines an unnamed union that contains either the four-character path-relative control method name (if <strong>RequestFlags</strong> = PEP_ACPI_ECM_FLAG_RELATIVE_NAME) or the fully qualified control method name (if **RequestFlags** = PEP_ACPI_ECM_FLAG_FULLY_QUALIFIED_NAME).</p>

<h2 id="see-also">See also</h2>

<ul>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a></li>
<li><a href="string" title="typedef struct _STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PCHAR Buffer;&#10;} STRING, *PSTRING, ANSI_STRING, *PANSI_STRING, OEM_STRING, *POEM_STRING;">ANSI_STRING</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_acpi_evaluate_control_method">PEP_NOTIFY_ACPI_EVALUATE_CONTROL_METHOD</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_acpi_register_device">PEP_NOTIFY_ACPI_REGISTER_DEVICE</a></li>
</ul>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_acpi_evaluate_control_method">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pep_x/ns-pep_x-_pep_acpi_evaluate_control_method.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-pepfx-_pep_acpi_evaluate_control_method)</h1>
</div>
<div class="ntdoc-description">
<h1>_PEP_ACPI_EVALUATE_CONTROL_METHOD structure (pepfx.h)</h1>

<h2>Description</h2>

<p>The <strong>PEP_ACPI_EVALUATE_CONTROL_METHOD</strong> structure specifies an ACPI control method to evaluate, an input argument to supply to this method, and an output buffer for the result of the evaluation.</p>

<h2>Members</h2>

<h3><code>DeviceHandle</code></h3>

<p>A PEPHANDLE value that identifies the device's registration for ACPI services. The platform extension plug-in (PEP) supplied this handle in response to a previous <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_acpi_register_device">PEP_NOTIFY_ACPI_REGISTER_DEVICE</a> notification.</p>

<h3><code>RequestFlags</code></h3>

<p>A set of flags. This member contains one of the following values.</p>

<table>
<thead>
<tr>
  <th>Flag name</th>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>PEP_ACPI_ECM_FLAG_NONE</td>
  <td>0x0</td>
  <td>Not a valid control method name.</td>
</tr>
<tr>
  <td>PEP_ACPI_ECM_FLAG_RELATIVE_NAME</td>
  <td>0x1</td>
  <td>The <strong>MethodNameUlong</strong> member contains a path-relative control method name.</td>
</tr>
<tr>
  <td>PEP_ACPI_ECM_FLAG_FULLY_QUALIFIED_NAME</td>
  <td>0x2</td>
  <td>The <strong>MethodNameString</strong> member contains a fully qualified control method name.</td>
</tr>
</tbody>
</table>

<h3><code>MethodName</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that contains the four-character, path-relative name of the ACPI control method.</p>

<h3><code>MethodNameString</code></h3>

<p>An <a href="string" title="typedef struct _STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PCHAR Buffer;&#10;} STRING, *PSTRING, ANSI_STRING, *PANSI_STRING, OEM_STRING, *POEM_STRING;">ANSI_STRING</a> structure that contains the fully qualified name of the ACPI control method. This name specifies the path and name of the method in the ACPI namespace. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/acpi/enumerating-child-devices-and-control-methods">Enumerating Child Devices and Control Methods</a>.</p>

<h3><code>MethodStatus</code></h3>

<p>An <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> value that indicates the status of the evaluation of the ACPI control method. Set this member to <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> to indicate that the platform extension plug-in (PEP) successfully completed its evaluation of the method. Set to STATUS_NOT_SUPPORTED to indicate that the PEP does not recognize the control method. Set to STATUS_BUFFER_TOO_SMALL to indicate that the output buffer size specified by the <strong>InputArgumentSize</strong> member is not large enough to contain the method results.</p>

<p>If the PEP is to evaluate the method asynchronously, set this member to STATUS_PENDING and return from the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/nc-pepfx-pepcallbacknotifyacpi">AcceptAcpiNotification</a> callback. Later, when the evaluation is completed, the PEP calls the <em>CompleteWork</em> routine to notify the Windows <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_kernel/#device-power-management">power management framework</a> (PoFx) that the evaluation of the control method is complete.</p>

<h3><code>CompletionContext</code></h3>

<p>A pointer to a completion context value. The PEP uses this member only if the control method is evaluated asynchronously. In this case, the PEP supplies this completion context pointer in the call to the <em>CompleteWork</em> routine that notifies the Windows <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_kernel/#device-power-management">power management framework</a> (PoFx) that the evaluation of the control method is complete. Included in the input parameters to this call is a pointer to a <a href="pep_work_acpi_evaluate_control_method_complete" title="typedef struct _PEP_WORK_ACPI_EVALUATE_CONTROL_METHOD_COMPLETE {&#10;  POHANDLE              DeviceHandle;&#10;  ULONG                 CompletionFlags;&#10;  NTSTATUS              MethodStatus;&#10;  PVOID                 CompletionContext;&#10;  SIZE_T                OutputArgumentSize;&#10;  PACPI_METHOD_ARGUMENT OutputArguments;&#10;} PEP_WORK_ACPI_EVALUATE_CONTROL_METHOD_COMPLETE, *PPEP_WORK_ACPI_EVALUATE_CONTROL_METHOD_COMPLETE;">PEP_WORK_ACPI_EVALUATE_CONTROL_METHOD_COMPLETE</a> structure to which the PEP has written the completion context pointer. The context is opaque to the PEP and contains data used internally by PoFx.</p>

<h3><code>InputArgumentCount</code></h3>

<p>The number of input arguments in the input buffer pointed to by the <strong>InputArguments</strong> member. Each argument starts with an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a> structure that specifies the size of the argument. Currently, the maximum <strong>InputArgumentCount</strong> value is one.</p>

<h3><code>InputArgumentSize</code></h3>

<p>The size, in bytes, of the input buffer pointed to by the <strong>InputArguments</strong> member.</p>

<h3><code>InputArguments</code></h3>

<p>A pointer to an input buffer that contains an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a> structure that specifies the input argument for the specified ACPI control method.</p>

<h3><code>OutputArgumentCount</code></h3>

<p>The number of output arguments in the output buffer pointed to by the <strong>OutputArguments</strong> member. Each argument starts with an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a> structure that specifies the size of the argument. Currently, the maximum allowed <strong>OutputArgumentCount</strong> value is one.</p>

<h3><code>OutputArgumentSize</code></h3>

<p>On input, the size, in bytes, of the output buffer pointed to by the <strong>OutputArguments</strong> member. If this buffer is not large enough to contain the result of evaluating the method, the PEP overwrites the <strong>OutputArgumentSize</strong> input value with the required size, and sets the <strong>MethodStatus</strong> member to STATUS_BUFFER_TOO_SMALL.</p>

<h3><code>OutputArguments</code></h3>

<p>A pointer to an output buffer to which the PEP writes an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a> structure that contains the result of evaluating the specified ACPI control method.</p>

<h2>Remarks</h2>

<p>This structure is used by the <strong>PEP_NOTIFY_ACPI_EVALUATE_CONTROL_METHOD</strong> notification. The <strong>MethodStatus</strong> member contains an output value that the PEP writes to the structure in response to this notification. The <strong>OutputArgumentSize</strong> member contains an input value supplied by PoFx when the notification is sent. The PEP may overwrite this input value with an output value if the input value is less than the required output buffer size. All other members of this structure contain input values that are supplied by PoFx when the notification is sent.</p>

<p>The unnamed union in this structure contains either the four-character path-relative control method name (if <strong>RequestFlags</strong> = PEP_ACPI_ECM_FLAG_RELATIVE_NAME) or the fully qualified control method name (if **RequestFlags** = PEP_ACPI_ECM_FLAG_FULLY_QUALIFIED_NAME).</p>

<h2>See also</h2>

<ul>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/acpiioct/ns-acpiioct-_acpi_method_argument_v1">ACPI_METHOD_ARGUMENT</a></li>
<li><a href="string" title="typedef struct _STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PCHAR Buffer;&#10;} STRING, *PSTRING, ANSI_STRING, *PANSI_STRING, OEM_STRING, *POEM_STRING;">ANSI_STRING</a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_acpi_register_device">PEP_NOTIFY_ACPI_REGISTER_DEVICE</a></li>
</ul>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pepfx/ns-pepfx-_pep_acpi_evaluate_control_method">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pepfx/ns-pepfx-_pep_acpi_evaluate_control_method.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
