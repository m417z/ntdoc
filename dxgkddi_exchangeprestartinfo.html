<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGKDDI_EXCHANGEPRESTARTINFO - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGKDDI_EXCHANGEPRESTARTINFO - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGKDDI_EXCHANGEPRESTARTINFO - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// dispmprt.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">DXGKDDI_EXCHANGEPRESTARTINFO DxgkddiExchangeprestartinfo;

<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> DxgkddiExchangeprestartinfo(
  [in] IN_CONST_HANDLE hAdapter,
  [in] IN_OUT_PDXGK_PRE_START_INFO pPreStartInfo
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_exchangeprestartinfo">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgkddi_exchangeprestartinfo.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-dispmprt-dxgkddi_exchangeprestartinfo)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>DXGKDDI_EXCHANGEPRESTARTINFO callback function</h1>
<h2>Description</h2>
<p>Allows very simple data to be exchanged between the OS and driver which may be required prior to DxgkDdiStartDevice device being called and therefore cannot be queried through normal caps or adapter info DDIs.</p>
<h2>Parameters</h2>
<h3><code>hAdapter</code> [in]</h3>
<p>Identifies the adapter.</p>
<h3><code>pPreStartInfo</code> [in]</h3>
<p>Pointer to a <a href="dxgk_pre_start_info" title="typedef struct _DXGK_PRE_START_INFO {&#10;  union {&#10;    struct {&#10;      UINT ReservedIn;&#10;    };&#10;    UINT Input;&#10;  };&#10;  union {&#10;    struct {&#10;      UINT SupportPreserveBootDisplay : 1;&#10;      UINT IsUEFIFrameBufferCpuAccessibleDuringStartup : 1;&#10;      UINT ReservedOut : 30;&#10;    };&#10;    UINT Output;&#10;  };&#10;} DXGK_PRE_START_INFO, *PDXGK_PRE_START_INFO;">DXGK_PRE_START_INFO</a> structure, which contains both fields for the OS to pass info and fields for the driver to return info. Initially, only <em>SupportPreserveBootDisplay</em> is defined.</p>
<p>[out] SupportPreserveBootDisplay</p>
<p>The driver and hardware support the requirements that allow the boot frame buffer to be used and displayed throughout the hardware initialization, performed during <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_start_device">DxgkDdiStartDevice</a>.</p>
<h2>Return value</h2>
<p>If this routine succeeds and returns the requested change, it returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a>.</p>
<h2>Remarks</h2>
<p>This DDI will be called after <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_add_device">DxgkDdiAddDevice</a> and before <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_start_device">DxgkDdiStartDevice</a> so that the driver does not have access to its own hardware resources. However, it can use the <em>PhysicalDeviceObject</em> passed to the driver in <strong>DxgkDdiAddDevice</strong> to call <a href="iogetdeviceproperty" title="NTSTATUS IoGetDeviceProperty(&#10;  [in]            PDEVICE_OBJECT           DeviceObject,&#10;  [in]            DEVICE_REGISTRY_PROPERTY DeviceProperty,&#10;  [in]            ULONG                    BufferLength,&#10;  [out, optional] PVOID                    PropertyBuffer,&#10;  [out]           PULONG                   ResultLength&#10;);">IoGetDeviceProperty</a>. For example, it can find the hardware id in order to decide what to return in the output fields of the <a href="dxgk_pre_start_info" title="typedef struct _DXGK_PRE_START_INFO {&#10;  union {&#10;    struct {&#10;      UINT ReservedIn;&#10;    };&#10;    UINT Input;&#10;  };&#10;  union {&#10;    struct {&#10;      UINT SupportPreserveBootDisplay : 1;&#10;      UINT IsUEFIFrameBufferCpuAccessibleDuringStartup : 1;&#10;      UINT ReservedOut : 30;&#10;    };&#10;    UINT Output;&#10;  };&#10;} DXGK_PRE_START_INFO, *PDXGK_PRE_START_INFO;">DXGK_PRE_START_INFO</a> structure.</p>
<p>This function is always called at PASSIVE level so the supporting code should be made pageable where possible.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_exchangeprestartinfo">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/dispmprt/nc-dispmprt-dxgkddi_exchangeprestartinfo.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
