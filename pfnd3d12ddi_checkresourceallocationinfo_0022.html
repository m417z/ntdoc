<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PFND3D12DDI_CHECKRESOURCEALLOCATIONINFO_0022 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PFND3D12DDI_CHECKRESOURCEALLOCATIONINFO_0022 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PFND3D12DDI_CHECKRESOURCEALLOCATIONINFO_0022 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d12umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">PFND3D12DDI_CHECKRESOURCEALLOCATIONINFO_0022 Pfnd3d12ddiCheckresourceallocationinfo0022;

VOID Pfnd3d12ddiCheckresourceallocationinfo0022(
  D3D12DDI_HDEVICE unnamedParam1,
  const <a href="d3d12ddiarg_createresource_0003" title="typedef struct D3D12DDIARG_CREATERESOURCE_0003 {&#10;  D3D12DDIARG_BUFFER_PLACEMENT                ReuseBufferGPUVA;&#10;  D3D12DDI_RESOURCE_TYPE                      ResourceType;&#10;  UINT64                                      Width;&#10;  UINT                                        Height;&#10;  UINT16                                      DepthOrArraySize;&#10;  UINT16                                      MipLevels;&#10;  DXGI_FORMAT                                 Format;&#10;  DXGI_SAMPLE_DESC                            SampleDesc;&#10;  D3D12DDI_TEXTURE_LAYOUT                     Layout;&#10;  D3D12DDI_RESOURCE_FLAGS_0003                Flags;&#10;  D3D12DDI_RESOURCE_STATES                    InitialResourceState;&#10;  const D3D12DDIARG_ROW_MAJOR_RESOURCE_LAYOUT *pRowMajorLayout;&#10;} D3D12DDIARG_CREATERESOURCE_0003;">D3D12DDIARG_CREATERESOURCE_0003</a> *unnamedParam2,
  <a href="d3d12ddi_resource_optimization_flags" title="typedef enum D3D12DDI_RESOURCE_OPTIMIZATION_FLAGS {&#10;  D3D12DDI_RESOURCE_OPTIMIZATION_FLAG_NONE = 0x0,&#10;  D3D12DDI_RESOURCE_OPTIMIZATION_FLAG_SHADER_RESOURCE = 0x1,&#10;  D3D12DDI_RESOURCE_OPTIMIZATION_FLAG_UNORDERED_ACCESS = 0x2,&#10;  D3D12DDI_RESOURCE_OPTIMIZATION_FLAG_PRIMARY = 0x4,&#10;  D3D12DDI_RESOURCE_OPTIMIZATION_FLAG_DETERMINISTIC = 0x8&#10;} ;">D3D12DDI_RESOURCE_OPTIMIZATION_FLAGS</a> unnamedParam3,
  <a href="uint32" title="typedef unsigned int UINT32;">UINT32</a> AlignmentRestriction,
  <a href="uint" title="typedef unsigned int UINT;">UINT</a> VisibleNodeMask,
  <a href="d3d12ddi_resource_allocation_info_0022" title="typedef struct D3D12DDI_RESOURCE_ALLOCATION_INFO_0022 {&#10;  UINT64                  ResourceDataSize;&#10;  UINT64                  AdditionalDataHeaderSize;&#10;  UINT64                  AdditionalDataSize;&#10;  UINT32                  ResourceDataAlignment;&#10;  UINT32                  AdditionalDataHeaderAlignment;&#10;  UINT32                  AdditionalDataAlignment;&#10;  D3D12DDI_TEXTURE_LAYOUT Layout;&#10;  UINT8                   MipLevelSwizzleTransition[5];&#10;  UINT8                   PlaneSliceSwizzleTransition[2];&#10;} D3D12DDI_RESOURCE_ALLOCATION_INFO_0022;">D3D12DDI_RESOURCE_ALLOCATION_INFO_0022</a> *unnamedParam6
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/nc-d3d12umddi-pfnd3d12ddi_checkresourceallocationinfo_0022">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pfnd3d12ddi_checkresourceallocationinfo_0022.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-d3d12umddi-pfnd3d12ddi_checkresourceallocationinfo_0022)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="pfnd3d12ddi_checkresourceallocationinfo_0022-callback-function">PFND3D12DDI_CHECKRESOURCEALLOCATIONINFO_0022 callback function</h1>

<h2 id="description">Description</h2>

<p>The <em>pfnCheckResourceAllocationInfo</em> callback function supports checking resource allocation information.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="unnamedparam1"><code>unnamedParam1</code></h3>

<p><em>hDevice</em></p>

<p>A handle to the display device (graphics context).</p>

<h3 id="unnamedparam2"><code>unnamedParam2</code></h3>

<p><em>CreateResource</em> [in]</p>

<p>A pointer to a create resource.</p>

<h3 id="unnamedparam3"><code>unnamedParam3</code></h3>

<p><em>ResourceOptimizationFlags</em></p>

<p>Resource optimization flags.</p>

<h3 id="alignmentrestriction"><code>AlignmentRestriction</code></h3>

<p>An alignment restriction value.</p>

<h3 id="visiblenodemask"><code>VisibleNodeMask</code></h3>

<p>A visible node mask.</p>

<h3 id="unnamedparam6"><code>unnamedParam6</code></h3>

<p><em>pInfo</em> [out]</p>

<p>Information for resource allocation.</p>

<h2 id="remarks">Remarks</h2>

<p>This callback function is part of a two step process of resource creation. This function determines the sizes and alignments of the resource data, additional data header, and additional data is determined, along with the texture layout. When the resource description is passed into this function, the layout of the resource description may be set to _UNDEFINED. This allows the driver to choose any texture layout. When the layout of the resource description is <strong>STANDARD_SWIZZLE</strong> or <strong>ROW_MAJOR</strong>, the driver must return out the corresponding value as its choice.</p>

<p>This callback function is accessed by using the <a href="d3d12ddi_device_funcs_core_0010" title="typedef struct D3D12DDI_DEVICE_FUNCS_CORE_0010 {&#10;  PFND3D12DDI_CHECKFORMATSUPPORT                                   pfnCheckFormatSupport;&#10;  PFND3D12DDI_CHECKMULTISAMPLEQUALITYLEVELS                        pfnCheckMultisampleQualityLevels;&#10;  PFND3D12DDI_GETMIPPACKING                                        pfnGetMipPacking;&#10;  PFND3D12DDI_CALCPRIVATEELEMENTLAYOUTSIZE_0010                    pfnCalcPrivateElementLayoutSize;&#10;  PFND3D12DDI_CREATEELEMENTLAYOUT_0010                             pfnCreateElementLayout;&#10;  PFND3D12DDI_DESTROYELEMENTLAYOUT                                 pfnDestroyElementLayout;&#10;  PFND3D12DDI_CALCPRIVATEBLENDSTATESIZE_0010                       pfnCalcPrivateBlendStateSize;&#10;  PFND3D12DDI_CREATEBLENDSTATE_0010                                pfnCreateBlendState;&#10;  PFND3D12DDI_DESTROYBLENDSTATE                                    pfnDestroyBlendState;&#10;  PFND3D12DDI_CALCPRIVATEDEPTHSTENCILSTATESIZE_0010                pfnCalcPrivateDepthStencilStateSize;&#10;  PFND3D12DDI_CREATEDEPTHSTENCILSTATE_0010                         pfnCreateDepthStencilState;&#10;  PFND3D12DDI_DESTROYDEPTHSTENCILSTATE                             pfnDestroyDepthStencilState;&#10;  PFND3D12DDI_CALCPRIVATERASTERIZERSTATESIZE_0010                  pfnCalcPrivateRasterizerStateSize;&#10;  PFND3D12DDI_CREATERASTERIZERSTATE_0010                           pfnCreateRasterizerState;&#10;  PFND3D12DDI_DESTROYRASTERIZERSTATE                               pfnDestroyRasterizerState;&#10;  PFND3D12DDI_CALC_PRIVATE_SHADER_SIZE_0010                        pfnCalcPrivateShaderSize;&#10;  PFND3D12DDI_CREATE_SHADER_0010                                   pfnCreateVertexShader;&#10;  PFND3D12DDI_CREATE_SHADER_0010                                   pfnCreatePixelShader;&#10;  PFND3D12DDI_CREATE_SHADER_0010                                   pfnCreateGeometryShader;&#10;...">D3D12DDI_DEVICE_FUNCS_CORE_0010</a> structure.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/nc-d3d12umddi-pfnd3d12ddi_checkresourceallocationinfo_0022">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/nc-d3d12umddi-pfnd3d12ddi_checkresourceallocationinfo_0022.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
