<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WHEA_ERROR_SOURCE_DESCRIPTOR - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WHEA_ERROR_SOURCE_DESCRIPTOR - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WHEA_ERROR_SOURCE_DESCRIPTOR - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _WHEA_ERROR_SOURCE_DESCRIPTOR {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   Length;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   Version;
  <a href="whea_error_source_type" title="typedef enum _WHEA_ERROR_SOURCE_TYPE {&#10;  WheaErrSrcTypeMCE,&#10;  WheaErrSrcTypeCMC,&#10;  WheaErrSrcTypeCPE,&#10;  WheaErrSrcTypeNMI,&#10;  WheaErrSrcTypePCIe,&#10;  WheaErrSrcTypeGeneric,&#10;  WheaErrSrcTypeINIT,&#10;  WheaErrSrcTypeBOOT,&#10;  WheaErrSrcTypeSCIGeneric,&#10;  WheaErrSrcTypeIPFMCA,&#10;  WheaErrSrcTypeIPFCMC,&#10;  WheaErrSrcTypeIPFCPE,&#10;  WheaErrSrcTypeGenericV2,&#10;  WheaErrSrcTypeSCIGenericV2,&#10;  WheaErrSrcTypeBMC,&#10;  WheaErrSrcTypePMEM,&#10;  WheaErrSrcTypeDeviceDriver,&#10;  WheaErrSrcTypeSea,&#10;  WheaErrSrcTypeSei,&#10;...">WHEA_ERROR_SOURCE_TYPE</a>  Type;
  <a href="whea_error_source_state" title="typedef enum _WHEA_ERROR_SOURCE_STATE {&#10;  WheaErrSrcStateStopped,&#10;  WheaErrSrcStateStarted,&#10;  WheaErrSrcStateRemoved,&#10;  WheaErrSrcStateRemovePending&#10;} WHEA_ERROR_SOURCE_STATE, *PWHEA_ERROR_SOURCE_STATE;">WHEA_ERROR_SOURCE_STATE</a> State;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   MaxRawDataLength;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   NumRecordsToPreallocate;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   MaxSectionsPerRecord;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   ErrorSourceId;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   PlatformErrorSourceId;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                   Flags;
  union {
    <a href="whea_xpf_mce_descriptor" title="typedef struct _WHEA_XPF_MCE_DESCRIPTOR {&#10;  USHORT                      Type;&#10;  UCHAR                       Enabled;&#10;  UCHAR                       NumberOfBanks;&#10;  XPF_MCE_FLAGS               Flags;&#10;  ULONGLONG                   MCG_Capability;&#10;  ULONGLONG                   MCG_GlobalControl;&#10;  WHEA_XPF_MC_BANK_DESCRIPTOR Banks[WHEA_MAX_MC_BANKS];&#10;} WHEA_XPF_MCE_DESCRIPTOR, *PWHEA_XPF_MCE_DESCRIPTOR;">WHEA_XPF_MCE_DESCRIPTOR</a>          XpfMceDescriptor;
    <a href="whea_xpf_cmc_descriptor" title="typedef struct _WHEA_XPF_CMC_DESCRIPTOR {&#10;  USHORT                       Type;&#10;  BOOLEAN                      Enabled;&#10;  UCHAR                        NumberOfBanks;&#10;  ULONG                        Reserved;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;  WHEA_XPF_MC_BANK_DESCRIPTOR  Banks[WHEA_MAX_MC_BANKS];&#10;} WHEA_XPF_CMC_DESCRIPTOR, *PWHEA_XPF_CMC_DESCRIPTOR;">WHEA_XPF_CMC_DESCRIPTOR</a>          XpfCmcDescriptor;
    <a href="whea_xpf_nmi_descriptor" title="typedef struct _WHEA_XPF_NMI_DESCRIPTOR {&#10;  USHORT  Type;&#10;  BOOLEAN Enabled;&#10;} WHEA_XPF_NMI_DESCRIPTOR, *PWHEA_XPF_NMI_DESCRIPTOR;">WHEA_XPF_NMI_DESCRIPTOR</a>          XpfNmiDescriptor;
    <a href="whea_ipf_mca_descriptor" title="typedef struct _WHEA_IPF_MCA_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_MCA_DESCRIPTOR, *PWHEA_IPF_MCA_DESCRIPTOR;">WHEA_IPF_MCA_DESCRIPTOR</a>          IpfMcaDescriptor;
    <a href="whea_ipf_cmc_descriptor" title="typedef struct _WHEA_IPF_CMC_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_CMC_DESCRIPTOR, *PWHEA_IPF_CMC_DESCRIPTOR;">WHEA_IPF_CMC_DESCRIPTOR</a>          IpfCmcDescriptor;
    <a href="whea_ipf_cpe_descriptor" title="typedef struct _WHEA_IPF_CPE_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_CPE_DESCRIPTOR, *PWHEA_IPF_CPE_DESCRIPTOR;">WHEA_IPF_CPE_DESCRIPTOR</a>          IpfCpeDescriptor;
    <a href="whea_aer_rootport_descriptor" title="typedef struct _WHEA_AER_ROOTPORT_DESCRIPTOR {&#10;  USHORT                        Type;&#10;  BOOLEAN                       Enabled;&#10;  UCHAR                         Reserved;&#10;  ULONG                         BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER          Slot;&#10;  USHORT                        DeviceControl;&#10;  AER_ROOTPORT_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                         UncorrectableErrorMask;&#10;  ULONG                         UncorrectableErrorSeverity;&#10;  ULONG                         CorrectableErrorMask;&#10;  ULONG                         AdvancedCapsAndControl;&#10;  ULONG                         RootErrorCommand;&#10;} WHEA_AER_ROOTPORT_DESCRIPTOR, *PWHEA_AER_ROOTPORT_DESCRIPTOR;">WHEA_AER_ROOTPORT_DESCRIPTOR</a>     AerRootportDescriptor;
    <a href="whea_aer_endpoint_descriptor" title="typedef struct _WHEA_AER_ENDPOINT_DESCRIPTOR {&#10;  USHORT                        Type;&#10;  BOOLEAN                       Enabled;&#10;  UCHAR                         Reserved;&#10;  ULONG                         BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER          Slot;&#10;  USHORT                        DeviceControl;&#10;  AER_ENDPOINT_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                         UncorrectableErrorMask;&#10;  ULONG                         UncorrectableErrorSeverity;&#10;  ULONG                         CorrectableErrorMask;&#10;  ULONG                         AdvancedCapsAndControl;&#10;} WHEA_AER_ENDPOINT_DESCRIPTOR, *PWHEA_AER_ENDPOINT_DESCRIPTOR;">WHEA_AER_ENDPOINT_DESCRIPTOR</a>     AerEndpointDescriptor;
    <a href="whea_aer_bridge_descriptor" title="typedef struct _WHEA_AER_BRIDGE_DESCRIPTOR {&#10;  USHORT                      Type;&#10;  BOOLEAN                     Enabled;&#10;  UCHAR                       Reserved;&#10;  ULONG                       BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER        Slot;&#10;  USHORT                      DeviceControl;&#10;  AER_BRIDGE_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                       UncorrectableErrorMask;&#10;  ULONG                       UncorrectableErrorSeverity;&#10;  ULONG                       CorrectableErrorMask;&#10;  ULONG                       AdvancedCapsAndControl;&#10;  ULONG                       SecondaryUncorrectableErrorMask;&#10;  ULONG                       SecondaryUncorrectableErrorSev;&#10;  ULONG                       SecondaryCapsAndControl;&#10;} WHEA_AER_BRIDGE_DESCRIPTOR, *PWHEA_AER_BRIDGE_DESCRIPTOR;">WHEA_AER_BRIDGE_DESCRIPTOR</a>       AerBridgeDescriptor;
    <a href="whea_generic_error_descriptor" title="typedef struct _WHEA_GENERIC_ERROR_DESCRIPTOR {&#10;  USHORT                       Type;&#10;  UCHAR                        Reserved;&#10;  UCHAR                        Enabled;&#10;  ULONG                        ErrStatusBlockLength;&#10;  ULONG                        RelatedErrorSourceId;&#10;  UCHAR                        ErrStatusAddressSpaceID;&#10;  UCHAR                        ErrStatusAddressBitWidth;&#10;  UCHAR                        ErrStatusAddressBitOffset;&#10;  UCHAR                        ErrStatusAddressAccessSize;&#10;  WHEA_PHYSICAL_ADDRESS        ErrStatusAddress;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;} WHEA_GENERIC_ERROR_DESCRIPTOR, *PWHEA_GENERIC_ERROR_DESCRIPTOR;">WHEA_GENERIC_ERROR_DESCRIPTOR</a>    GenErrDescriptor;
    <a href="whea_generic_error_descriptor_v2" title="typedef struct _WHEA_GENERIC_ERROR_DESCRIPTOR_V2 {&#10;  USHORT                       Type;&#10;  UCHAR                        Reserved;&#10;  UCHAR                        Enabled;&#10;  ULONG                        ErrStatusBlockLength;&#10;  ULONG                        RelatedErrorSourceId;&#10;  UCHAR                        ErrStatusAddressSpaceID;&#10;  UCHAR                        ErrStatusAddressBitWidth;&#10;  UCHAR                        ErrStatusAddressBitOffset;&#10;  UCHAR                        ErrStatusAddressAccessSize;&#10;  WHEA_PHYSICAL_ADDRESS        ErrStatusAddress;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;  UCHAR                        ReadAckAddressSpaceID;&#10;  UCHAR                        ReadAckAddressBitWidth;&#10;  UCHAR                        ReadAckAddressBitOffset;&#10;  UCHAR                        ReadAckAddressAccessSize;&#10;  WHEA_PHYSICAL_ADDRESS        ReadAckAddress;&#10;  ULONGLONG                    ReadAckPreserveMask;&#10;  ULONGLONG                    ReadAckWriteMask;&#10;} WHEA_GENERIC_ERROR_DESCRIPTOR_V2, *PWHEA_GENERIC_ERROR_DESCRIPTOR_V2;">WHEA_GENERIC_ERROR_DESCRIPTOR_V2</a> GenErrDescriptorV2;
    <a href="whea_device_driver_descriptor" title="typedef struct _WHEA_DEVICE_DRIVER_DESCRIPTOR {&#10;  USHORT                             Type;&#10;  BOOLEAN                            Enabled;&#10;  UCHAR                              Reserved;&#10;  GUID                               SourceGuid;&#10;  USHORT                             LogTag;&#10;  USHORT                             Reserved2;&#10;  ULONG                              PacketLength;&#10;  ULONG                              PacketCount;&#10;  PUCHAR                             PacketBuffer;&#10;  WHEA_ERROR_SOURCE_CONFIGURATION_DD Config;&#10;  GUID                               CreatorId;&#10;  GUID                               PartitionId;&#10;  ULONG                              MaxSectionDataLength;&#10;  ULONG                              MaxSectionsPerRecord;&#10;  PUCHAR                             PacketStateBuffer;&#10;  LONG                               OpenHandles;&#10;} WHEA_DEVICE_DRIVER_DESCRIPTOR, *PWHEA_DEVICE_DRIVER_DESCRIPTOR;">WHEA_DEVICE_DRIVER_DESCRIPTOR</a>    DeviceDriverDescriptor;
  } Info;
} *PWHEA_ERROR_SOURCE_DESCRIPTOR, WHEA_ERROR_SOURCE_DESCRIPTOR;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/ns-ntddk-_whea_error_source_descriptor">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/whea_error_source_descriptor.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddk-_whea_error_source_descriptor)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_WHEA_ERROR_SOURCE_DESCRIPTOR structure</h1>

<h2>Description</h2>

<p>The WHEA_ERROR_SOURCE_DESCRIPTOR structure describes an error source.</p>

<h2>Members</h2>

<h3><code>Length</code></h3>

<p>The size, in bytes, of the WHEA_ERROR_SOURCE_DESCRIPTOR structure.</p>

<h3><code>Version</code></h3>

<p>The version number of the WHEA_ERROR_SOURCE_DESCRIPTOR structure. This member contains the value WHEA_ERROR_SOURCE_DESCRIPTOR_VERSION_10.</p>

<h3><code>Type</code></h3>

<p>A <a href="whea_error_source_type" title="typedef enum _WHEA_ERROR_SOURCE_TYPE {&#10;  WheaErrSrcTypeMCE,&#10;  WheaErrSrcTypeCMC,&#10;  WheaErrSrcTypeCPE,&#10;  WheaErrSrcTypeNMI,&#10;  WheaErrSrcTypePCIe,&#10;  WheaErrSrcTypeGeneric,&#10;  WheaErrSrcTypeINIT,&#10;  WheaErrSrcTypeBOOT,&#10;  WheaErrSrcTypeSCIGeneric,&#10;  WheaErrSrcTypeIPFMCA,&#10;  WheaErrSrcTypeIPFCMC,&#10;  WheaErrSrcTypeIPFCPE,&#10;  WheaErrSrcTypeGenericV2,&#10;  WheaErrSrcTypeSCIGenericV2,&#10;  WheaErrSrcTypeBMC,&#10;  WheaErrSrcTypePMEM,&#10;  WheaErrSrcTypeDeviceDriver,&#10;  WheaErrSrcTypeSea,&#10;  WheaErrSrcTypeSei,&#10;...">WHEA_ERROR_SOURCE_TYPE</a>-typed value that specifies the type of the error source.</p>

<h3><code>State</code></h3>

<p>A <a href="whea_error_source_state" title="typedef enum _WHEA_ERROR_SOURCE_STATE {&#10;  WheaErrSrcStateStopped,&#10;  WheaErrSrcStateStarted,&#10;  WheaErrSrcStateRemoved,&#10;  WheaErrSrcStateRemovePending&#10;} WHEA_ERROR_SOURCE_STATE, *PWHEA_ERROR_SOURCE_STATE;">WHEA_ERROR_SOURCE_STATE</a>-typed value that specifies the state of the error source.</p>

<h3><code>MaxRawDataLength</code></h3>

<p>The maximum number of bytes of raw data included in a hardware error packet that is reported by this error source. This number must be large enough to include any additional platform-specific error information that is added to the hardware error packet by the PSHED or by a PSHED plug-in.</p>

<h3><code>NumRecordsToPreallocate</code></h3>

<p>The number of error records that should be pre-allocated for hardware errors that are reported by this error source.</p>

<h3><code>MaxSectionsPerRecord</code></h3>

<p>The maximum number of error record sections that are required in an error record to describe a hardware error that is reported by this error source. This number must be large enough to include any additional error record sections that are added to the error record by the PSHED or by a PSHED plug-in during the processing of the error.</p>

<h3><code>ErrorSourceId</code></h3>

<p>The identifier of the error source. This identifier is unique only on the system where the error source exists.</p>

<h3><code>PlatformErrorSourceId</code></h3>

<p>The identifier of the error source as enumerated by the hardware platform. This identifier is unique only on the system where the error source exists.</p>

<h3><code>Flags</code></h3>

<p>A bitwise OR'ed combination of flags that describes the error source. Possible flags are:</p>

<h4>WHEA_ERROR_SOURCE_FLAG_DEFAULTSOURCE</h4>

<p>This flag indicates that the error source is a default error source for the type of hardware platform on which it exists.</p>

<h4>WHEA_ERROR_SOURCE_FLAG_FIRMWAREFIRST</h4>

<p>This flag indicates that the errors that are reported by this error source are handled by the firmware before control of the hardware error processing is passed to the operating system.</p>

<h4>WHEA_ERROR_SOURCE_FLAG_GLOBAL</h4>

<p>This flag indicates that the settings specified for the error source are to be applied to all of the error sources in the system that are of the same type as that specified in the <strong>Type</strong> member.</p>

<h3><code>Info</code></h3>

<p>A union of descriptor structures that are specific to each different type of error source.</p>

<h3><code>Info.XpfMceDescriptor</code></h3>

<p>A <a href="whea_xpf_mce_descriptor" title="typedef struct _WHEA_XPF_MCE_DESCRIPTOR {&#10;  USHORT                      Type;&#10;  UCHAR                       Enabled;&#10;  UCHAR                       NumberOfBanks;&#10;  XPF_MCE_FLAGS               Flags;&#10;  ULONGLONG                   MCG_Capability;&#10;  ULONGLONG                   MCG_GlobalControl;&#10;  WHEA_XPF_MC_BANK_DESCRIPTOR Banks[WHEA_MAX_MC_BANKS];&#10;} WHEA_XPF_MCE_DESCRIPTOR, *PWHEA_XPF_MCE_DESCRIPTOR;">WHEA_XPF_MCE_DESCRIPTOR</a> structure that describes an x86 or x64 processor machine check exception (MCE) error source.</p>

<h3><code>Info.XpfCmcDescriptor</code></h3>

<p>A <a href="whea_xpf_cmc_descriptor" title="typedef struct _WHEA_XPF_CMC_DESCRIPTOR {&#10;  USHORT                       Type;&#10;  BOOLEAN                      Enabled;&#10;  UCHAR                        NumberOfBanks;&#10;  ULONG                        Reserved;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;  WHEA_XPF_MC_BANK_DESCRIPTOR  Banks[WHEA_MAX_MC_BANKS];&#10;} WHEA_XPF_CMC_DESCRIPTOR, *PWHEA_XPF_CMC_DESCRIPTOR;">WHEA_XPF_CMC_DESCRIPTOR</a> structure that describes an x86 or x64 processor corrected machine check (CMC) error source.</p>

<h3><code>Info.XpfNmiDescriptor</code></h3>

<p>A <a href="whea_xpf_nmi_descriptor" title="typedef struct _WHEA_XPF_NMI_DESCRIPTOR {&#10;  USHORT  Type;&#10;  BOOLEAN Enabled;&#10;} WHEA_XPF_NMI_DESCRIPTOR, *PWHEA_XPF_NMI_DESCRIPTOR;">WHEA_XPF_NMI_DESCRIPTOR</a> structure that describes an x86 or x64 processor nonmaskable interrupt (NMI) error source.</p>

<h3><code>Info.IpfMcaDescriptor</code></h3>

<p>A <a href="whea_ipf_mca_descriptor" title="typedef struct _WHEA_IPF_MCA_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_MCA_DESCRIPTOR, *PWHEA_IPF_MCA_DESCRIPTOR;">WHEA_IPF_MCA_DESCRIPTOR</a> structure that describes an Itanium processor machine check abort (MCA) error source.</p>

<h3><code>Info.IpfCmcDescriptor</code></h3>

<p>A <a href="whea_ipf_cmc_descriptor" title="typedef struct _WHEA_IPF_CMC_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_CMC_DESCRIPTOR, *PWHEA_IPF_CMC_DESCRIPTOR;">WHEA_IPF_CMC_DESCRIPTOR</a> structure that describes an Itanium processor corrected machine check (CMC) error source.</p>

<h3><code>Info.IpfCpeDescriptor</code></h3>

<p>A <a href="whea_ipf_cpe_descriptor" title="typedef struct _WHEA_IPF_CPE_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_CPE_DESCRIPTOR, *PWHEA_IPF_CPE_DESCRIPTOR;">WHEA_IPF_CPE_DESCRIPTOR</a> structure that describes an Itanium processor corrected platform error (CPE) error source.</p>

<h3><code>Info.AerRootportDescriptor</code></h3>

<p>A <a href="whea_aer_rootport_descriptor" title="typedef struct _WHEA_AER_ROOTPORT_DESCRIPTOR {&#10;  USHORT                        Type;&#10;  BOOLEAN                       Enabled;&#10;  UCHAR                         Reserved;&#10;  ULONG                         BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER          Slot;&#10;  USHORT                        DeviceControl;&#10;  AER_ROOTPORT_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                         UncorrectableErrorMask;&#10;  ULONG                         UncorrectableErrorSeverity;&#10;  ULONG                         CorrectableErrorMask;&#10;  ULONG                         AdvancedCapsAndControl;&#10;  ULONG                         RootErrorCommand;&#10;} WHEA_AER_ROOTPORT_DESCRIPTOR, *PWHEA_AER_ROOTPORT_DESCRIPTOR;">WHEA_AER_ROOTPORT_DESCRIPTOR</a> structure that describes a PCI Express (PCIe) root port error source.</p>

<h3><code>Info.AerEndpointDescriptor</code></h3>

<p>A <a href="whea_aer_endpoint_descriptor" title="typedef struct _WHEA_AER_ENDPOINT_DESCRIPTOR {&#10;  USHORT                        Type;&#10;  BOOLEAN                       Enabled;&#10;  UCHAR                         Reserved;&#10;  ULONG                         BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER          Slot;&#10;  USHORT                        DeviceControl;&#10;  AER_ENDPOINT_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                         UncorrectableErrorMask;&#10;  ULONG                         UncorrectableErrorSeverity;&#10;  ULONG                         CorrectableErrorMask;&#10;  ULONG                         AdvancedCapsAndControl;&#10;} WHEA_AER_ENDPOINT_DESCRIPTOR, *PWHEA_AER_ENDPOINT_DESCRIPTOR;">WHEA_AER_ENDPOINT_DESCRIPTOR</a> structure that describes a PCIe endpoint error source.</p>

<h3><code>Info.AerBridgeDescriptor</code></h3>

<p>A <a href="whea_aer_bridge_descriptor" title="typedef struct _WHEA_AER_BRIDGE_DESCRIPTOR {&#10;  USHORT                      Type;&#10;  BOOLEAN                     Enabled;&#10;  UCHAR                       Reserved;&#10;  ULONG                       BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER        Slot;&#10;  USHORT                      DeviceControl;&#10;  AER_BRIDGE_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                       UncorrectableErrorMask;&#10;  ULONG                       UncorrectableErrorSeverity;&#10;  ULONG                       CorrectableErrorMask;&#10;  ULONG                       AdvancedCapsAndControl;&#10;  ULONG                       SecondaryUncorrectableErrorMask;&#10;  ULONG                       SecondaryUncorrectableErrorSev;&#10;  ULONG                       SecondaryCapsAndControl;&#10;} WHEA_AER_BRIDGE_DESCRIPTOR, *PWHEA_AER_BRIDGE_DESCRIPTOR;">WHEA_AER_BRIDGE_DESCRIPTOR</a> structure that describes a PCIe bridge error source.</p>

<h3><code>Info.GenErrDescriptor</code></h3>

<p>A <a href="whea_generic_error_descriptor" title="typedef struct _WHEA_GENERIC_ERROR_DESCRIPTOR {&#10;  USHORT                       Type;&#10;  UCHAR                        Reserved;&#10;  UCHAR                        Enabled;&#10;  ULONG                        ErrStatusBlockLength;&#10;  ULONG                        RelatedErrorSourceId;&#10;  UCHAR                        ErrStatusAddressSpaceID;&#10;  UCHAR                        ErrStatusAddressBitWidth;&#10;  UCHAR                        ErrStatusAddressBitOffset;&#10;  UCHAR                        ErrStatusAddressAccessSize;&#10;  WHEA_PHYSICAL_ADDRESS        ErrStatusAddress;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;} WHEA_GENERIC_ERROR_DESCRIPTOR, *PWHEA_GENERIC_ERROR_DESCRIPTOR;">WHEA_GENERIC_ERROR_DESCRIPTOR</a> structure that describes a generic error source.</p>

<h3><code>Info.GenErrDescriptorV2</code></h3>

<p>A <a href="whea_generic_error_descriptor_v2" title="typedef struct _WHEA_GENERIC_ERROR_DESCRIPTOR_V2 {&#10;  USHORT                       Type;&#10;  UCHAR                        Reserved;&#10;  UCHAR                        Enabled;&#10;  ULONG                        ErrStatusBlockLength;&#10;  ULONG                        RelatedErrorSourceId;&#10;  UCHAR                        ErrStatusAddressSpaceID;&#10;  UCHAR                        ErrStatusAddressBitWidth;&#10;  UCHAR                        ErrStatusAddressBitOffset;&#10;  UCHAR                        ErrStatusAddressAccessSize;&#10;  WHEA_PHYSICAL_ADDRESS        ErrStatusAddress;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;  UCHAR                        ReadAckAddressSpaceID;&#10;  UCHAR                        ReadAckAddressBitWidth;&#10;  UCHAR                        ReadAckAddressBitOffset;&#10;  UCHAR                        ReadAckAddressAccessSize;&#10;  WHEA_PHYSICAL_ADDRESS        ReadAckAddress;&#10;  ULONGLONG                    ReadAckPreserveMask;&#10;  ULONGLONG                    ReadAckWriteMask;&#10;} WHEA_GENERIC_ERROR_DESCRIPTOR_V2, *PWHEA_GENERIC_ERROR_DESCRIPTOR_V2;">WHEA_GENERIC_ERROR_DESCRIPTOR_V2</a> structure.</p>

<h3><code>Info.DeviceDriverDescriptor</code></h3>

<p>A <a href="whea_device_driver_descriptor" title="typedef struct _WHEA_DEVICE_DRIVER_DESCRIPTOR {&#10;  USHORT                             Type;&#10;  BOOLEAN                            Enabled;&#10;  UCHAR                              Reserved;&#10;  GUID                               SourceGuid;&#10;  USHORT                             LogTag;&#10;  USHORT                             Reserved2;&#10;  ULONG                              PacketLength;&#10;  ULONG                              PacketCount;&#10;  PUCHAR                             PacketBuffer;&#10;  WHEA_ERROR_SOURCE_CONFIGURATION_DD Config;&#10;  GUID                               CreatorId;&#10;  GUID                               PartitionId;&#10;  ULONG                              MaxSectionDataLength;&#10;  ULONG                              MaxSectionsPerRecord;&#10;  PUCHAR                             PacketStateBuffer;&#10;  LONG                               OpenHandles;&#10;} WHEA_DEVICE_DRIVER_DESCRIPTOR, *PWHEA_DEVICE_DRIVER_DESCRIPTOR;">WHEA_DEVICE_DRIVER_DESCRIPTOR</a> structure.</p>

<h2>Remarks</h2>

<p>The WHEA_ERROR_SOURCE_DESCRIPTOR structure describes an error source. The WHEA_ERROR_SOURCE_DESCRIPTOR structure is also used to configure an error source.</p>

<p>A user-mode WHEA management application can control the error sources in the system by calling the methods in the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_whea/">WHEAErrorSourceMethods</a> WMI provider class.</p>

<h2>See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/nc-ntddk-pshed_pi_disable_error_source">DisableErrorSource</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/nc-ntddk-pshed_pi_enable_error_source">EnableErrorSource</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/nc-ntddk-pshed_pi_get_all_error_sources">GetAllErrorSources</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/nc-ntddk-pshed_pi_get_error_source_info">GetErrorSourceInfo</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/nc-ntddk-pshed_pi_set_error_source_info">SetErrorSourceInfo</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_whea/">WHEAErrorSourceMethods::DisableErrorSourceRtn</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_whea/">WHEAErrorSourceMethods::EnableErrorSourceRtn</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_whea/">WHEAErrorSourceMethods::GetAllErrorSourcesRtn</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_whea/">WHEAErrorSourceMethods::GetErrorSourceInfoRtn</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_whea/">WHEAErrorSourceMethods::SetErrorSourceInfoRtn</a></p>

<p><a href="whea_aer_bridge_descriptor" title="typedef struct _WHEA_AER_BRIDGE_DESCRIPTOR {&#10;  USHORT                      Type;&#10;  BOOLEAN                     Enabled;&#10;  UCHAR                       Reserved;&#10;  ULONG                       BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER        Slot;&#10;  USHORT                      DeviceControl;&#10;  AER_BRIDGE_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                       UncorrectableErrorMask;&#10;  ULONG                       UncorrectableErrorSeverity;&#10;  ULONG                       CorrectableErrorMask;&#10;  ULONG                       AdvancedCapsAndControl;&#10;  ULONG                       SecondaryUncorrectableErrorMask;&#10;  ULONG                       SecondaryUncorrectableErrorSev;&#10;  ULONG                       SecondaryCapsAndControl;&#10;} WHEA_AER_BRIDGE_DESCRIPTOR, *PWHEA_AER_BRIDGE_DESCRIPTOR;">WHEA_AER_BRIDGE_DESCRIPTOR</a></p>

<p><a href="whea_aer_endpoint_descriptor" title="typedef struct _WHEA_AER_ENDPOINT_DESCRIPTOR {&#10;  USHORT                        Type;&#10;  BOOLEAN                       Enabled;&#10;  UCHAR                         Reserved;&#10;  ULONG                         BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER          Slot;&#10;  USHORT                        DeviceControl;&#10;  AER_ENDPOINT_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                         UncorrectableErrorMask;&#10;  ULONG                         UncorrectableErrorSeverity;&#10;  ULONG                         CorrectableErrorMask;&#10;  ULONG                         AdvancedCapsAndControl;&#10;} WHEA_AER_ENDPOINT_DESCRIPTOR, *PWHEA_AER_ENDPOINT_DESCRIPTOR;">WHEA_AER_ENDPOINT_DESCRIPTOR</a></p>

<p><a href="whea_aer_rootport_descriptor" title="typedef struct _WHEA_AER_ROOTPORT_DESCRIPTOR {&#10;  USHORT                        Type;&#10;  BOOLEAN                       Enabled;&#10;  UCHAR                         Reserved;&#10;  ULONG                         BusNumber;&#10;  WHEA_PCI_SLOT_NUMBER          Slot;&#10;  USHORT                        DeviceControl;&#10;  AER_ROOTPORT_DESCRIPTOR_FLAGS Flags;&#10;  ULONG                         UncorrectableErrorMask;&#10;  ULONG                         UncorrectableErrorSeverity;&#10;  ULONG                         CorrectableErrorMask;&#10;  ULONG                         AdvancedCapsAndControl;&#10;  ULONG                         RootErrorCommand;&#10;} WHEA_AER_ROOTPORT_DESCRIPTOR, *PWHEA_AER_ROOTPORT_DESCRIPTOR;">WHEA_AER_ROOTPORT_DESCRIPTOR</a></p>

<p><a href="whea_error_source_state" title="typedef enum _WHEA_ERROR_SOURCE_STATE {&#10;  WheaErrSrcStateStopped,&#10;  WheaErrSrcStateStarted,&#10;  WheaErrSrcStateRemoved,&#10;  WheaErrSrcStateRemovePending&#10;} WHEA_ERROR_SOURCE_STATE, *PWHEA_ERROR_SOURCE_STATE;">WHEA_ERROR_SOURCE_STATE</a></p>

<p><a href="whea_error_source_type" title="typedef enum _WHEA_ERROR_SOURCE_TYPE {&#10;  WheaErrSrcTypeMCE,&#10;  WheaErrSrcTypeCMC,&#10;  WheaErrSrcTypeCPE,&#10;  WheaErrSrcTypeNMI,&#10;  WheaErrSrcTypePCIe,&#10;  WheaErrSrcTypeGeneric,&#10;  WheaErrSrcTypeINIT,&#10;  WheaErrSrcTypeBOOT,&#10;  WheaErrSrcTypeSCIGeneric,&#10;  WheaErrSrcTypeIPFMCA,&#10;  WheaErrSrcTypeIPFCMC,&#10;  WheaErrSrcTypeIPFCPE,&#10;  WheaErrSrcTypeGenericV2,&#10;  WheaErrSrcTypeSCIGenericV2,&#10;  WheaErrSrcTypeBMC,&#10;  WheaErrSrcTypePMEM,&#10;  WheaErrSrcTypeDeviceDriver,&#10;  WheaErrSrcTypeSea,&#10;  WheaErrSrcTypeSei,&#10;...">WHEA_ERROR_SOURCE_TYPE</a></p>

<p><a href="whea_generic_error_descriptor" title="typedef struct _WHEA_GENERIC_ERROR_DESCRIPTOR {&#10;  USHORT                       Type;&#10;  UCHAR                        Reserved;&#10;  UCHAR                        Enabled;&#10;  ULONG                        ErrStatusBlockLength;&#10;  ULONG                        RelatedErrorSourceId;&#10;  UCHAR                        ErrStatusAddressSpaceID;&#10;  UCHAR                        ErrStatusAddressBitWidth;&#10;  UCHAR                        ErrStatusAddressBitOffset;&#10;  UCHAR                        ErrStatusAddressAccessSize;&#10;  WHEA_PHYSICAL_ADDRESS        ErrStatusAddress;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;} WHEA_GENERIC_ERROR_DESCRIPTOR, *PWHEA_GENERIC_ERROR_DESCRIPTOR;">WHEA_GENERIC_ERROR_DESCRIPTOR</a></p>

<p><a href="whea_ipf_cmc_descriptor" title="typedef struct _WHEA_IPF_CMC_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_CMC_DESCRIPTOR, *PWHEA_IPF_CMC_DESCRIPTOR;">WHEA_IPF_CMC_DESCRIPTOR</a></p>

<p><a href="whea_ipf_cpe_descriptor" title="typedef struct _WHEA_IPF_CPE_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_CPE_DESCRIPTOR, *PWHEA_IPF_CPE_DESCRIPTOR;">WHEA_IPF_CPE_DESCRIPTOR</a></p>

<p><a href="whea_ipf_mca_descriptor" title="typedef struct _WHEA_IPF_MCA_DESCRIPTOR {&#10;  USHORT Type;&#10;  UCHAR  Enabled;&#10;  UCHAR  Reserved;&#10;} WHEA_IPF_MCA_DESCRIPTOR, *PWHEA_IPF_MCA_DESCRIPTOR;">WHEA_IPF_MCA_DESCRIPTOR</a></p>

<p><a href="whea_xpf_cmc_descriptor" title="typedef struct _WHEA_XPF_CMC_DESCRIPTOR {&#10;  USHORT                       Type;&#10;  BOOLEAN                      Enabled;&#10;  UCHAR                        NumberOfBanks;&#10;  ULONG                        Reserved;&#10;  WHEA_NOTIFICATION_DESCRIPTOR Notify;&#10;  WHEA_XPF_MC_BANK_DESCRIPTOR  Banks[WHEA_MAX_MC_BANKS];&#10;} WHEA_XPF_CMC_DESCRIPTOR, *PWHEA_XPF_CMC_DESCRIPTOR;">WHEA_XPF_CMC_DESCRIPTOR</a></p>

<p><a href="whea_xpf_mce_descriptor" title="typedef struct _WHEA_XPF_MCE_DESCRIPTOR {&#10;  USHORT                      Type;&#10;  UCHAR                       Enabled;&#10;  UCHAR                       NumberOfBanks;&#10;  XPF_MCE_FLAGS               Flags;&#10;  ULONGLONG                   MCG_Capability;&#10;  ULONGLONG                   MCG_GlobalControl;&#10;  WHEA_XPF_MC_BANK_DESCRIPTOR Banks[WHEA_MAX_MC_BANKS];&#10;} WHEA_XPF_MCE_DESCRIPTOR, *PWHEA_XPF_MCE_DESCRIPTOR;">WHEA_XPF_MCE_DESCRIPTOR</a></p>

<p><a href="whea_xpf_nmi_descriptor" title="typedef struct _WHEA_XPF_NMI_DESCRIPTOR {&#10;  USHORT  Type;&#10;  BOOLEAN Enabled;&#10;} WHEA_XPF_NMI_DESCRIPTOR, *PWHEA_XPF_NMI_DESCRIPTOR;">WHEA_XPF_NMI_DESCRIPTOR</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddk/ns-ntddk-_whea_error_source_descriptor">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddk/ns-ntddk-_whea_error_source_descriptor.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
