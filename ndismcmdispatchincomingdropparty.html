<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NdisMCmDispatchIncomingDropParty - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NdisMCmDispatchIncomingDropParty - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NdisMCmDispatchIncomingDropParty - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">void NdisMCmDispatchIncomingDropParty(
  _S_,
  _H_,
  _B_,
  _Z_
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndismcmdispatchincomingdropparty">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndismcmdispatchincomingdropparty.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-ndis-ndismcmdispatchincomingdropparty)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>NdisMCmDispatchIncomingDropParty macro</h1>
<h2>Description</h2>
<p><strong>NdisMCmDispatchIncomingDropParty</strong> notifies a client that it should remove a particular party on a
multipoint VC.</p>
<h2>Parameters</h2>
<h3><code>_S_</code></h3>
<p>Indicates the reason this party is being dropped, usually NDIS_STATUS_SUCCESS if the remote party
simply requested that its connection be closed.</p>
<h3><code>_H_</code></h3>
<p>Specifies the handle that identifies the party to be dropped from the multipoint VC, which must
have other parties that are still connected. The MCM driver originally obtained this handle as an input
parameter to its
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_cm_add_party">ProtocolCmAddParty</a> function.</p>
<h3><code>_B_</code></h3>
<p>Pointer to a caller-allocated resident buffer containing additional protocol-specific data
received from the remote party, if any. Depending on the underlying medium, this pointer can be
<strong>NULL</strong>.</p>
<h3><code>_Z_</code></h3>
<p>Specifies the size in bytes of the buffer, zero if
<em>Buffer</em> is <strong>NULL</strong>.</p>
<h2>Remarks</h2>
<p>In the course of normal network operations, an MCM driver calls
<strong>NdisMCmDispatchIncomingDropParty</strong> with the
<em>CloseStatus</em> set to NDIS_STATUS_SUCCESS because a remote client on a multipoint connection has
called
<a href="ndisclclosecall" title="NDIS_STATUS NdisClCloseCall(&#10;  [in]           NDIS_HANDLE NdisVcHandle,&#10;  [in, optional] NDIS_HANDLE NdisPartyHandle,&#10;  [in, optional] PVOID       Buffer,&#10;  [in]           UINT        Size&#10;);">NdisClCloseCall</a>.</p>
<p>However, an MCM driver also can call
<strong>NdisMCmDispatchIncomingDropParty</strong> with a driver-determined
<em>CloseStatus</em> at the behest of the network itself if abnormal network conditions occur, such as the
failure of a switch on the path between the local client and one or more client(s) on an established
multipoint connection.</p>
<p>A call to
<strong>NdisMCmDispatchIncomingDropParty</strong> causes NDIS to call the client's
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_cl_incoming_drop_party">ProtocolClIncomingDropParty</a> function.</p>
<p>If the
<em>NdisPartyHandle</em> identifies the last remaining party on the given VC, the MCM driver calls
<a href="ndismcmdispatchincomingclosecall" title="void NdisMCmDispatchIncomingCloseCall(&#10;  _S_,&#10;  _H_,&#10;  _B_,&#10;  _Z_&#10;);">NdisMCmDispatchIncomingCloseCall</a>, rather than
<strong>NdisMCmDispatchIncomingDropParty</strong>.</p>
<p>Only connection-oriented miniport drivers that provide integrated call-management support can call
<strong>NdisMCmDispatchIncomingDropParty</strong>. Stand-alone call managers, which register themselves with NDIS
as protocol drivers, call
<strong><a href="ndiscmdispatchincomingdropparty" title="VOID NdisCmDispatchIncomingDropParty(&#10;  [in]           NDIS_STATUS DropStatus,&#10;  [in]           NDIS_HANDLE NdisPartyHandle,&#10;  [in, optional] PVOID       Buffer,&#10;  [in]           UINT        Size&#10;);">NdisCmDispatchIncomingDropParty</a></strong> instead.</p>
<h2>See also</h2>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-miniport_interrupt_dpc">MiniportInterruptDPC</a></p>
<p><a href="ndiscldropparty" title="NDIS_STATUS NdisClDropParty(&#10;  [in]           NDIS_HANDLE NdisPartyHandle,&#10;  [in, optional] PVOID       Buffer,&#10;  [in, optional] UINT        Size&#10;);">NdisClDropParty</a></p>
<p><a href="ndiscmdispatchincomingdropparty" title="VOID NdisCmDispatchIncomingDropParty(&#10;  [in]           NDIS_STATUS DropStatus,&#10;  [in]           NDIS_HANDLE NdisPartyHandle,&#10;  [in, optional] PVOID       Buffer,&#10;  [in]           UINT        Size&#10;);">NdisCmDispatchIncomingDropParty</a></p>
<p><a href="ndismcmdispatchincomingclosecall" title="void NdisMCmDispatchIncomingCloseCall(&#10;  _S_,&#10;  _H_,&#10;  _B_,&#10;  _Z_&#10;);">NdisMCmDispatchIncomingCloseCall</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nc-ndis-protocol_cl_incoming_drop_party">ProtocolClIncomingDropParty</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndismcmdispatchincomingdropparty">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ndis/nf-ndis-ndismcmdispatchincomingdropparty.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
