<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IDDCX_ADAPTER_FLAGS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IDDCX_ADAPTER_FLAGS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IDDCX_ADAPTER_FLAGS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// iddcx.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef enum IDDCX_ADAPTER_FLAGS {
  IDDCX_ADAPTER_FLAGS_NONE = 0,
  IDDCX_ADAPTER_FLAGS_USE_SMALLEST_MODE = 0x1,
  IDDCX_ADAPTER_FLAGS_CAN_USE_MOVE_REGIONS = 0x2,
  IDDCX_ADAPTER_FLAGS_REMOTE_SESSION_DRIVER = 0x4,
  IDDCX_ADAPTER_FLAGS_PREFER_PHYSICALLY_CONTIGUOUS = 0x8,
  IDDCX_ADAPTER_FLAGS_REMOTE_ALL_CURSOR_POSITION = 0x10,
  IDDCX_ADAPTER_FLAGS_PREFER_PRECISE_PRESENT_REGIONS = 0x20,
  IDDCX_ADAPTER_FLAGS_CAN_PROCESS_FP16 = 0x40,
  IDDCX_ADAPTER_FLAGS_REMOTE_ALL_TARGET_MODES_MONITOR_COMPATIBLE = 0x80
} ;</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/ne-iddcx-iddcx_adapter_flags">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/iddcx_adapter_flags.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ne-iddcx-iddcx_adapter_flags)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>IDDCX_ADAPTER_FLAGS enumeration</h1>
<h2>Description</h2>
<p><strong>IDDCX_ADAPTER_FLAGS</strong> specifies the Boolean capability flags for an indirect display adapter.</p>
<h2>Constants</h2>
<h3><code>IDDCX_ADAPTER_FLAGS_NONE:0</code></h3>
<p>Indicates that there are no flags set for the adapter.</p>
<h3><code>IDDCX_ADAPTER_FLAGS_USE_SMALLEST_MODE:0x1</code></h3>
<p>The indirect display model automatically supports OS virtual modes, allowing the OS to seamlessly perform mode changes using Desktop Window Manager (DWM) scaling on a per frame basis without a display mode change. A disadvantage occurs when a smaller desktop mode is used by the user: the desktop image provided to the driver is larger than the desktop size, thus wasting encode and transmit bandwidth.</p>
<p>This enum value tells the OS to use the smallest possible desktop surface size when the desktop mode is changed. A solution that has large processing overhead or limited transmission bandwidth typically uses this flag to reduce the desktop image size in order to process as much as possible.</p>
<p>Setting this flag results in a mode change each time the desktop resolution is changed.</p>
<h3><code>IDDCX_ADAPTER_FLAGS_CAN_USE_MOVE_REGIONS:0x2</code></h3>
<p>This flag was <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.7-updates">deprecated starting in IddCx v1.7</a>. Drivers can still set this flag for IddCx 1.7 and above but it will have no effect. If a driver is designed to run on pre-IddCx 1.7 and sets this flag, that driver must have the logic to process the moves; otherwise users will see visual issues when running on pre-IddCx 1.7 systems.</p>
<p>Indicates whether the driver can use move regions provided by the OS in addition to dirty rects when encoding the image. The driver should only set this to TRUE if it uses the move regions because the OS incurs a cost when generating these additional resources. If driver sets this to FALSE, the OS converts all move regions to dirty rects.</p>
<h3><code>IDDCX_ADAPTER_FLAGS_REMOTE_SESSION_DRIVER:0x4</code></h3>
<p>Indicates whether the driver is a remote session driver supporting remote session monitors, rather than console session monitors. A remote session driver cannot support console session monitors, and a console session driver cannot support remote session monitors. Supported starting in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.4-updates">IddCx version 1.4</a>.</p>
<h3><code>IDDCX_ADAPTER_FLAGS_PREFER_PHYSICALLY_CONTIGUOUS:0x8</code></h3>
<p>Indicates that the driver prefers physically contiguous memory to be used for swap chain buffers, allowing the driver to directly scan out the buffers without the need for an intermediate copy. Supported starting in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.6-updates">IddCx version 1.6</a>.</p>
<h3><code>IDDCX_ADAPTER_FLAGS_REMOTE_ALL_CURSOR_POSITION:0x10</code></h3>
<p>Indicates that the driver wants to receive all cursor position changes; that is, it wants to receive both mouse input injected into the remote session from the remote client and procedural moves caused by an API call from an application or the OS on the server.</p>
<p>This flag is only valid when combined with <strong>IDDCX_ADAPTER_FLAGS_REMOTE_SESSION_DRIVER</strong>. <strong><a href="iddcxadapterinitasync" title="NTSTATUS IddCxAdapterInitAsync(&#10;  [in]  const IDARG_IN_ADAPTER_INIT *pInArgs,&#10;  [out] IDARG_OUT_ADAPTER_INIT      *pOutArgs&#10;);">IddCxAdapterInitAsync</a></strong> will fail if <strong>IDDCX_ADAPTER_FLAGS_REMOTE_ALL_CURSOR_POSITION</strong> is set without <strong>IDDCX_ADAPTER_FLAGS_REMOTE_SESSION_DRIVER</strong>.</p>
<p>Supported starting in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.7-updates">IddCx version 1.7</a>.</p>
<h3><code>IDDCX_ADAPTER_FLAGS_PREFER_PRECISE_PRESENT_REGIONS:0x20</code></h3>
<p>A driver that sets this flag is requesting the OS to track dirty regions of the desktop updates more accurately. This more accurate tracking has a small CPU usage overhead so drivers should only set this flag if smaller dirty regions are beneficial to the driver.</p>
<p>Supported starting in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.8-updates">IddCx version 1.8</a>.</p>
<h3><code>IDDCX_ADAPTER_FLAGS_CAN_PROCESS_FP16:</code> 0x40</h3>
<p>Indicates that the driver can process IEEE half-precision floating point (FP16) swapchain surfaces. A driver should set <strong>IDDCX_ADAPTER_FLAGS_CAN_PROCESS_FP16</strong> even for adapters that don't support HDR or SDR WCG. The OS sends HDR or SDR WC surfaces and modes to the driver when the right combination of monitor, target capabilities, O settings, and so forth are in place. Therefore, a driver that sets <strong>IDDCX_ADAPTER_FLAGS_CAN_PROCESS_FP16</strong> must also support the IddCx version 1.10 functions that allow this to happen. A driver that supports HDR10 must be capable of:</p>
<ul>
<li>Receiving and processing FP16 format surfaces within a swapchain.</li>
<li>Applying the indicated SDR white level to mouse cursors.</li>
</ul>
<p>Console drivers must also:</p>
<ul>
<li>Use the new 3x4 matrix color transform.</li>
<li>Accept and use HDR metadata.</li>
</ul>
<p>Remote drivers must also:</p>
<ul>
<li>Supply colorimetry and SDR white level when required.</li>
</ul>
<p>Supported starting in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.10-updates">IddCx version 1.10</a>. See Remarks.</p>
<h3><code>IDDCX_ADAPTER_FLAGS_REMOTE_ALL_TARGET_MODES_MONITOR_COMPATIBLE:0x80</code></h3>
<p>Only remote drivers can set this flag.</p>
<p>Remote drivers can use <strong>IDDCX_ADAPTER_FLAGS_ALL_TARGET_MODES_MONITOR_COMPATIBLE</strong> to allow them to specify target modes that are not part of a monitor descriptor. Normally the OS chooses a mode based on it being in both the monitor and target mode list, reported either via <strong><a href="evt_idd_cx_parse_monitor_description" title="EVT_IDD_CX_PARSE_MONITOR_DESCRIPTION EvtIddCxParseMonitorDescription;&#10;&#10;NTSTATUS EvtIddCxParseMonitorDescription(&#10;  const IDARG_IN_PARSEMONITORDESCRIPTION *pInArgs,&#10;  IDARG_OUT_PARSEMONITORDESCRIPTION *pOutArgs&#10;)&#10;{...}">EVT_IDD_CX_PARSE_MONITOR_DESCRIPTION</a></strong> or <strong><a href="evt_idd_cx_monitor_get_default_description_modes" title="EVT_IDD_CX_MONITOR_GET_DEFAULT_DESCRIPTION_MODES EvtIddCxMonitorGetDefaultDescriptionModes;&#10;&#10;NTSTATUS EvtIddCxMonitorGetDefaultDescriptionModes(&#10;  IDDCX_MONITOR MonitorObject,&#10;  const IDARG_IN_GETDEFAULTDESCRIPTIONMODES *pInArgs,&#10;  IDARG_OUT_GETDEFAULTDESCRIPTIONMODES *pOutArgs&#10;)&#10;{...}">EVT_IDD_CX_MONITOR_GET_DEFAULT_DESCRIPTION_MODES</a></strong> if no descriptor is available, and the target mode list. Remote scenarios may require modes that are not in the descriptor. Instead, the driver can use target modes to describe them and indicate to the OS they should not be checked against monitor modes.</p>
<p>When a remote driver sets this flag, it indicates that every target mode reported in calls to <strong><a href="evt_idd_cx_monitor_query_target_modes2" title="EVT_IDD_CX_MONITOR_QUERY_TARGET_MODES2 EvtIddCxMonitorQueryTargetModes2;&#10;&#10;NTSTATUS EvtIddCxMonitorQueryTargetModes2(&#10;  IDDCX_MONITOR MonitorObject,&#10;  const IDARG_IN_QUERYTARGETMODES2 *pInArgs,&#10;  IDARG_OUT_QUERYTARGETMODES *pOutArgs&#10;)&#10;{...}">EVT_IDD_CX_MONITOR_QUERY_TARGET_MODES2</a></strong> and <strong><a href="iddcxmonitorupdatemodes2" title="NTSTATUS IddCxMonitorUpdateModes2(&#10;  IDDCX_MONITOR               MonitorObject,&#10;  const IDARG_IN_UPDATEMODES2 *pInArgs&#10;);">IddCxMonitorUpdateModes2</a></strong> is guaranteed to be compatible with the currently connected monitor. The OS will then not call <strong><a href="evt_idd_cx_parse_monitor_description2" title="EVT_IDD_CX_PARSE_MONITOR_DESCRIPTION2 EvtIddCxParseMonitorDescription2;&#10;&#10;NTSTATUS EvtIddCxParseMonitorDescription2(&#10;  const IDARG_IN_PARSEMONITORDESCRIPTION2 *pInArgs,&#10;  IDARG_OUT_PARSEMONITORDESCRIPTION *pOutArgs&#10;)&#10;{...}">EVT_IDD_CX_PARSE_MONITOR_DESCRIPTION2</a></strong> or <strong><a href="evt_idd_cx_monitor_get_default_description_modes" title="EVT_IDD_CX_MONITOR_GET_DEFAULT_DESCRIPTION_MODES EvtIddCxMonitorGetDefaultDescriptionModes;&#10;&#10;NTSTATUS EvtIddCxMonitorGetDefaultDescriptionModes(&#10;  IDDCX_MONITOR MonitorObject,&#10;  const IDARG_IN_GETDEFAULTDESCRIPTIONMODES *pInArgs,&#10;  IDARG_OUT_GETDEFAULTDESCRIPTIONMODES *pOutArgs&#10;)&#10;{...}">EVT_IDD_CX_MONITOR_GET_DEFAULT_DESCRIPTION_MODES</a></strong>.</p>
<p>Supported starting in <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.10-updates">IddCx version 1.10</a>. See Remarks.</p>
<h2>Remarks</h2>
<p>To determine whether the OS accepts drivers setting <strong>IDDCX_ADAPTER_FLAGS_CAN_PROCESS_FP16</strong> or <strong>IDDCX_ADAPTER_FLAGS_ALL_TARGET_MODES_MONITOR_COMPATIBLE</strong>, the driver should use the <strong>IDD_IS_FUNCTION_AVAILABLE</strong> macro to check for the presence of one of the version 1.10 DDIs; for example <code>IDD_IS_FUNCTION_AVAILABLE(<a href="iddcxswapchainreleaseandacquirebuffer2" title="HRESULT IddCxSwapChainReleaseAndAcquireBuffer2(&#10;  IDDCX_SWAPCHAIN                    SwapChainObject,&#10;  IDARG_IN_RELEASEANDACQUIREBUFFER2  *pInArgs,&#10;  IDARG_OUT_RELEASEANDACQUIREBUFFER2 *pOutArgs&#10;);">IddCxSwapChainReleaseAndAcquireBuffer2</a>)</code>. This macro evaluates to TRUE on a v1.10-supported OS and false otherwise. See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.10-updates">Updates for IddCx versions 1.10 and later</a> for more information.</p>
<h2>See also</h2>
<p><strong><a href="iddcx_adapter_caps" title="struct IDDCX_ADAPTER_CAPS {&#10;  UINT                           Size;&#10;  IDDCX_ADAPTER_FLAGS            Flags;&#10;  UINT64                         MaxDisplayPipelineRate;&#10;  UINT                           MaxMonitorsSupported;&#10;  IDDCX_ENDPOINT_DIAGNOSTIC_INFO EndPointDiagnostics;&#10;  UINT                           StaticDesktopReencodeFrameCount;&#10;};">IDDCX_ADAPTER_CAPS</a></strong></p>
<p><strong><a href="iddcxadapterinitasync" title="NTSTATUS IddCxAdapterInitAsync(&#10;  [in]  const IDARG_IN_ADAPTER_INIT *pInArgs,&#10;  [out] IDARG_OUT_ADAPTER_INIT      *pOutArgs&#10;);">IddCxAdapterInitAsync</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/ne-iddcx-iddcx_adapter_flags">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/iddcx/ne-iddcx-iddcx_adapter_flags.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
