<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IDDCX_METADATA2 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IDDCX_METADATA2 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IDDCX_METADATA2 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// iddcx.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">struct IDDCX_METADATA2 {
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                        Size;
  <a href="iddcx_metadata2_valid_flags" title="typedef enum IDDCX_METADATA2_VALID_FLAGS {&#10;  IDDCX_METADATA2_VALID_FLAGS_NONE = 0,&#10;  IDDCX_METADATA2_VALID_FLAGS_SYSTEMBUFFERINFO = 0x1,&#10;  IDDCX_METADATA2_VALID_FLAGS_HDR10METADATA = 0x2&#10;} ;">IDDCX_METADATA2_VALID_FLAGS</a> ValidFlags;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                        PresentationFrameNumber;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                        DirtyRectCount;
  BOOL                        HwProtectedSurface;
  <a href="uint64" title="typedef unsigned __int64 UINT64;">UINT64</a>                      PresentDisplayQPCTime;
  IDXGIResource               *pSurface;
  <a href="dxgi_color_space_type" title="typedef enum DXGI_COLOR_SPACE_TYPE {&#10;  DXGI_COLOR_SPACE_CUSTOM&#10;} ;">DXGI_COLOR_SPACE_TYPE</a>       SurfaceColorSpace;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                        SdrWhiteLevel;
  <a href="iddcx_system_buffer_info" title="struct IDDCX_SYSTEM_BUFFER_INFO {&#10;  UINT        Size;&#10;  UINT        Pitch;&#10;  UINT        Height;&#10;  UINT        Width;&#10;  DXGI_FORMAT Format;&#10;  VOID        *pBuffer;&#10;};">IDDCX_SYSTEM_BUFFER_INFO</a>    SystemBufferInfo;
  <a href="iddcx_hdr10_frame_metadata" title="struct IDDCX_HDR10_FRAME_METADATA {&#10;  IDDCX_HDR10_FRAME_METADATA_TYPE Type;&#10;  IDDCX_HDR10_METADATA            NewMetaData;&#10;};">IDDCX_HDR10_FRAME_METADATA</a>  Hdr10FrameMetaData;
};</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/ns-iddcx-iddcx_metadata2">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/iddcx_metadata2.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-iddcx-iddcx_metadata2)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2>Description</h2>
<p><strong>IDDCX_METADATA2</strong> provides information about the current provided surface and what is displayed on it.</p>
<h2>Members</h2>
<h3><code>Size</code></h3>
<p>Total size of the structure, in bytes.</p>
<h3><code>ValidFlags</code></h3>
<p>A bitwise-OR of <strong><a href="iddcx_metadata2_valid_flags" title="typedef enum IDDCX_METADATA2_VALID_FLAGS {&#10;  IDDCX_METADATA2_VALID_FLAGS_NONE = 0,&#10;  IDDCX_METADATA2_VALID_FLAGS_SYSTEMBUFFERINFO = 0x1,&#10;  IDDCX_METADATA2_VALID_FLAGS_HDR10METADATA = 0x2&#10;} ;">IDDCX_METADATA2_VALID_FLAGS</a></strong> values that indicate which fields in this structure have valid content.</p>
<h3><code>PresentationFrameNumber</code></h3>
<p>Presentation frame number of this surface.</p>
<h3><code>DirtyRectCount</code></h3>
<p>Number of dirty rects for this frame. Call <strong><a href="iddcxswapchaingetdirtyrects" title="HRESULT IddCxSwapChainGetDirtyRects(&#10;  [in]  IDDCX_SWAPCHAIN              SwapChainObject,&#10;  [in]  const IDARG_IN_GETDIRTYRECTS *pInArgs,&#10;  [out] IDARG_OUT_GETDIRTYRECTS      *pOutArgs&#10;);">IddCxSwapChainGetDirtyRects</a></strong> to get the dirty rects.</p>
<p>A <strong>DirtyRectCount</strong> of 1, where the single dirty rect has all values set to zero, indicates that there has not been any image updates from the previous frame. In this situation, the driver has the opportunity to re-encode the desktop image again to increase the visual quality. Once there are no more updates, the OS presents the same frame as many times as indicated by the <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/ns-iddcx-iddcx_adapter_caps"><strong>IDDCX_ADAPTER_CAPS::StaticDesktopReencodeFrameCount</strong></a> value , then stops presenting until the next update.</p>
<h3><code>HwProtectedSurface</code></h3>
<p>Indicates whether the provided surface is hardware protected.</p>
<h3><code>PresentDisplayQPCTime</code></h3>
<p>System QPC time of when this surface should be displayed on the indirect display monitor.</p>
<h3><code>pSurface</code></h3>
<p>Pointer to a <a href="https://learn.microsoft.com/windows/win32/api/dxgi/nn-dxgi-idxgiresource"><strong>IDXGIResource</strong></a> DX surface that contains the image to encode and transmit. The driver can use this DX surface anytime until <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/nf-iddcx-iddcxswapchainreleaseandacquirebuffer"><strong>IddCxSwapChainReleaseAndAcquire</strong></a> is called again.</p>
<h3><code>SurfaceColorSpace</code></h3>
<p>A <a href="https://learn.microsoft.com/windows/win32/api/dxgicommon/ne-dxgicommon-dxgi_color_space_type"><strong>DXGI_COLOR_SPACE_TYPE</strong></a> value that indicates the color space of the provided surface. The color space typically matches that specified in the committed path.</p>
<h3><code>SdrWhiteLevel</code></h3>
<p>The white level in nits for any SDR content; for example, the mouse cursor. This value always defaults to 80 nits for non-HDR modes.</p>
<h3><code>SystemBufferInfo</code></h3>
<p>An <strong><a href="iddcx_system_buffer_info" title="struct IDDCX_SYSTEM_BUFFER_INFO {&#10;  UINT        Size;&#10;  UINT        Pitch;&#10;  UINT        Height;&#10;  UINT        Width;&#10;  DXGI_FORMAT Format;&#10;  VOID        *pBuffer;&#10;};">IDDCX_SYSTEM_BUFFER_INFO</a></strong> structure in which the resulting information from the <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/nf-iddcx-iddcxswapchainreleaseandacquirebuffer2">release and acquire operation</a>
is returned.</p>
<h3><code>Hdr10FrameMetaData</code></h3>
<p>An <strong><a href="iddcx_hdr10_frame_metadata" title="struct IDDCX_HDR10_FRAME_METADATA {&#10;  IDDCX_HDR10_FRAME_METADATA_TYPE Type;&#10;  IDDCX_HDR10_METADATA            NewMetaData;&#10;};">IDDCX_HDR10_FRAME_METADATA</a></strong> structure that contains the HDR10 metadata to use with this frame.</p>
<h2>Remarks</h2>
<p>For more information about HDR support, see <a href="https://learn.microsoft.com/windows-hardware/drivers/display/iddcx1.10-updates">IddCx version 1.10 updates</a>.</p>
<h2>See also</h2>
<p><strong><a href="idarg_out_releaseandacquirebuffer2" title="struct IDARG_OUT_RELEASEANDACQUIREBUFFER2 {&#10;  IDDCX_METADATA2 MetaData;&#10;};">IDARG_OUT_RELEASEANDACQUIREBUFFER2</a></strong></p>
<p><strong><a href="iddcxswapchainreleaseandacquirebuffer2" title="HRESULT IddCxSwapChainReleaseAndAcquireBuffer2(&#10;  IDDCX_SWAPCHAIN                    SwapChainObject,&#10;  IDARG_IN_RELEASEANDACQUIREBUFFER2  *pInArgs,&#10;  IDARG_OUT_RELEASEANDACQUIREBUFFER2 *pOutArgs&#10;);">IddCxSwapChainReleaseAndAcquireBuffer2</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iddcx/ns-iddcx-iddcx_metadata2">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/iddcx/ns-iddcx-iddcx_metadata2.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
