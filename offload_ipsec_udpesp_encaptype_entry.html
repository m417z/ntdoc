<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY {
  UDP_ENCAP_TYPE UdpEncapType;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>         DstEncapPort;
} OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY, *POFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_offload_ipsec_udpesp_encaptype_entry">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/offload_ipsec_udpesp_encaptype_entry.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddndis-_offload_ipsec_udpesp_encaptype_entry)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_offload_ipsec_udpesp_encaptype_entry-structure">_OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY structure</h1>

<h2 id="description">Description</h2>

<p>The OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY structure specifies the UDP-ESP encapsulation type and
destination port of a parser entry.</p>

<h2 id="members">Members</h2>

<h3 id="udpencaptype"><code>UdpEncapType</code></h3>

<p>The UDP-ESP encapsulation type for packets protected by the security associations (SAs) that are
being offloaded:</p>

<h4 id="ipsec_udpesp_encaptype_ike">IPSEC_UDPESP_ENCAPTYPE_IKE</h4>

<p>This value is reserved.</p>

<h4 id="ipsec_udpesp_encaptype_other">IPSEC_UDPESP_E\NCAPTYPE_OTHER</h4>

<p>UDP encapsulation for packets on port 4500. For more information, see
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/network/ff565707(v=vs.85)">UDP-ESP Encapsulation
Types</a>.</p>

<h3 id="dstencapport"><code>DstEncapPort</code></h3>

<p>For an inbound SA (Flags = OFFLOAD_INBOUND_SA), specifies the destination port that the NIC should
look for in the UDP header of inbound packets that it processes on the SAs being offloaded. The NIC
should ignore this member for an outbound SA (
<strong>Flags</strong> =
<strong>OFFLOAD_OUTBOUND_SA</strong>).
<strong>DstEncapPort</strong> should always specify port 4500.</p>

<h2 id="remarks">Remarks</h2>

<p>The OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY structure is used with the
<a href="offload_ipsec_add_udpesp_sa" title="typedef struct _OFFLOAD_IPSEC_ADD_UDPESP_SA {&#10;  IPAddr                               SrcAddr;&#10;  IPMask                               SrcMask;&#10;  IPAddr                               DstAddr;&#10;  IPMask                               DstMask;&#10;  ULONG                                Protocol;&#10;  USHORT                               SrcPort;&#10;  USHORT                               DstPort;&#10;  IPAddr                               SrcTunnelAddr;&#10;  IPAddr                               DstTunnelAddr;&#10;  USHORT                               Flags;&#10;  SHORT                                NumSAs;&#10;  OFFLOAD_SECURITY_ASSOCIATION         SecAssoc[OFFLOAD_MAX_SAS];&#10;  HANDLE                               OffloadHandle;&#10;  OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY EncapTypeEntry;&#10;  HANDLE                               EncapTypeEntryOffldHandle;&#10;  ULONG                                KeyLen;&#10;  UCHAR                                KeyMat[1];&#10;} OFFLOAD_IPSEC_ADD_UDPESP_SA, *POFFLOAD_IPSEC_ADD_UDPESP_SA;">OFFLOAD_IPSEC_ADD_UDPESP_SA</a> structure.</p>

<h2 id="see-also">See also</h2>

<p><a href="offload_ipsec_add_udpesp_sa" title="typedef struct _OFFLOAD_IPSEC_ADD_UDPESP_SA {&#10;  IPAddr                               SrcAddr;&#10;  IPMask                               SrcMask;&#10;  IPAddr                               DstAddr;&#10;  IPMask                               DstMask;&#10;  ULONG                                Protocol;&#10;  USHORT                               SrcPort;&#10;  USHORT                               DstPort;&#10;  IPAddr                               SrcTunnelAddr;&#10;  IPAddr                               DstTunnelAddr;&#10;  USHORT                               Flags;&#10;  SHORT                                NumSAs;&#10;  OFFLOAD_SECURITY_ASSOCIATION         SecAssoc[OFFLOAD_MAX_SAS];&#10;  HANDLE                               OffloadHandle;&#10;  OFFLOAD_IPSEC_UDPESP_ENCAPTYPE_ENTRY EncapTypeEntry;&#10;  HANDLE                               EncapTypeEntryOffldHandle;&#10;  ULONG                                KeyLen;&#10;  UCHAR                                KeyMat[1];&#10;} OFFLOAD_IPSEC_ADD_UDPESP_SA, *POFFLOAD_IPSEC_ADD_UDPESP_SA;">OFFLOAD_IPSEC_ADD_UDPESP_SA</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_offload_ipsec_udpesp_encaptype_entry">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddndis/ns-ntddndis-_offload_ipsec_udpesp_encaptype_entry.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
