<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="StorPortInitializeDpc - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>StorPortInitializeDpc - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            StorPortInitializeDpc - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// storport.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">VOID StorPortInitializeDpc(
  [in]  PVOID           DeviceExtension,
  [out] <a href="stor_dpc" title="typedef struct _STOR_DPC {&#10;  DPC_BUFFER Dpc;&#10;  ULONG_PTR  Lock;&#10;} STOR_DPC, *PSTOR_DPC;">PSTOR_DPC</a>       Dpc,
  [in]  PHW_DPC_ROUTINE HwDpcRoutine
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/nf-storport-storportinitializedpc">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/storportinitializedpc.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-storport-storportinitializedpc)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>StorPortInitializeDpc function</h1>
<h2>Description</h2>
<p>The <strong>StorPortInitializeDpc</strong> routine initializes a StorPort DPC.</p>
<h2>Parameters</h2>
<h3><code>DeviceExtension</code> [in]</h3>
<p>Pointer to the per-adapter device extension.</p>
<h3><code>Dpc</code> [out]</h3>
<p>Pointer to a buffer where a DPC object of type <a href="stor_dpc" title="typedef struct _STOR_DPC {&#10;  DPC_BUFFER Dpc;&#10;  ULONG_PTR  Lock;&#10;} STOR_DPC, *PSTOR_DPC;">STOR_DPC</a> will be created. The caller must ensure that the size in bytes of this buffer is greater than or equal to <strong>sizeof</strong>(<a href="stor_dpc" title="typedef struct _STOR_DPC {&#10;  DPC_BUFFER Dpc;&#10;  ULONG_PTR  Lock;&#10;} STOR_DPC, *PSTOR_DPC;">STOR_DPC</a>).</p>
<h3><code>HwDpcRoutine</code> [in]</h3>
<p>Pointer to the DPC routine that corresponds to the DPC object pointed to by <em>Dpc</em>. The prototype for this deferred routine is defined in Storport.h as follows:</p>
<pre><code>typedef
VOID
(*PHW_DPC_ROUTINE)
  IN <a href="stor_dpc" title="typedef struct _STOR_DPC {&#10;  DPC_BUFFER Dpc;&#10;  ULONG_PTR  Lock;&#10;} STOR_DPC, *PSTOR_DPC;">PSTOR_DPC</a>  Dpc,
  IN PVOID  HwDeviceExtension,
  IN PVOID  SystemArgument1,
  IN PVOID  SystemArgument2
  );
</code></pre>
<h2>Remarks</h2>
<p>The <strong>StorPortInitializeDpc</strong> routine must be called during HBA initialization from within the miniport driver's <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/nc-storport-hw_passive_initialize_routine">HwStorPassiveInitializeRoutine</a> routine.</p>
<p>This routine is implemented using inline function definitions, so that miniport drivers that use this routine will not have to link to libraries that are dependent on the version of the operating system. Miniport drivers can use this routine without sacrificing backward compatibility with versions of the operating system that do not support DPCs in storage miniport drivers.</p>
<h2>See also</h2>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/nc-storport-hw_passive_initialize_routine">HwStorPassiveInitializeRoutine</a></p>
<p><a href="stor_dpc" title="typedef struct _STOR_DPC {&#10;  DPC_BUFFER Dpc;&#10;  ULONG_PTR  Lock;&#10;} STOR_DPC, *PSTOR_DPC;">STOR_DPC</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/storport/nf-storport-storportinitializedpc">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/storport/nf-storport-storportinitializedpc.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
