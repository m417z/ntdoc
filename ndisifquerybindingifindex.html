<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NdisIfQueryBindingIfIndex - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NdisIfQueryBindingIfIndex - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NdisIfQueryBindingIfIndex - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">NDIS_STATUS NdisIfQueryBindingIfIndex(
  [in]  NDIS_HANDLE  NdisBindingHandle,
  [out] PNET_IFINDEX pBoundIfIndex,
  [out] PNET_LUID    pBoundIfNetLuid,
  [out] PNET_IFINDEX pLowestIfIndex,
  [out] PNET_LUID    pLowestIfNetLuid
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndisifquerybindingifindex">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndisifquerybindingifindex.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-ndis-ndisifquerybindingifindex)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>NdisIfQueryBindingIfIndex function</h1>
<h2>Description</h2>
<p>The
<strong>NdisIfQueryBindingIfIndex</strong> function retrieves the network interface indexes and
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ns-ifdef-net_luid_lh">NET_LUID</a> values for the highest and lowest layered
network interfaces that are associated with a specified protocol binding.</p>
<h2>Parameters</h2>
<h3><code>NdisBindingHandle</code> [in]</h3>
<p>A handle that identifies the binding for which NDIS should obtain the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ns-ifdef-net_luid_lh">NET_LUID</a> values and network interface indexes.
NDIS provided this handle at the
<em>NdisBindingHandle</em> parameter of the
<a href="ndisopenadapterex" title="NDIS_STATUS NdisOpenAdapterEx(&#10;  [in]  NDIS_HANDLE           NdisProtocolHandle,&#10;  [in]  NDIS_HANDLE           ProtocolBindingContext,&#10;  [in]  PNDIS_OPEN_PARAMETERS OpenParameters,&#10;  [in]  NDIS_HANDLE           BindContext,&#10;  [out] PNDIS_HANDLE          NdisBindingHandle&#10;);">NdisOpenAdapterEx</a> function.</p>
<h3><code>pBoundIfIndex</code> [out]</h3>
<p>A pointer to a caller-supplied interface index variable. If
<strong>NdisIfQueryBindingIfIndex</strong> succeeds, NDIS writes to this variable the network interface index of
the network interface that is associated with the specified binding and is highest in the driver
stack.</p>
<h3><code>pBoundIfNetLuid</code> [out]</h3>
<p>A pointer to a caller-supplied NET_LUID variable. If
<strong>NdisIfQueryBindingIfIndex</strong> succeeds, NDIS writes to this variable the NET_LUID value of the network
interface that is associated with the specified binding and is highest in the driver stack.</p>
<h3><code>pLowestIfIndex</code> [out]</h3>
<p>A pointer to a caller-supplied interface index variable. If
<strong>NdisIfQueryBindingIfIndex</strong> succeeds, NDIS writes to this variable the network interface index of
the network interface that is associated with the specified binding and is lowest in the driver
stack.</p>
<h3><code>pLowestIfNetLuid</code> [out]</h3>
<p>A pointer to a caller-supplied NET_LUID variable. If
<strong>NdisIfQueryBindingIfIndex</strong> succeeds, NDIS writes to this variable the NET_LUID value of the network
interface that is associated with the specified binding and is lowest in the driver stack.</p>
<h2>Return value</h2>
<p><strong>NdisIfQueryBindingIfIndex</strong> returns one of the following status values:</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>NDIS_STATUS_SUCCESS</strong></td>
<td>The operation completed successfully.</td>
</tr>
<tr>
<td><strong>NDIS_STATUS_INTERFACE_NOT_FOUND</strong></td>
<td><strong>NdisIfQueryBindingIfIndex</strong> failed because the specified binding is not associated with a registered interface.</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>NDIS protocol drivers can call the
<strong>NdisIfQueryBindingIfIndex</strong> function to retrieve the network interface indexes and
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ns-ifdef-net_luid_lh">NET_LUID</a> values that are associated with a
binding.</p>
<p><strong>NdisIfQueryBindingIfIndex</strong> provides the NET_LUID value and the interface index for the highest
interface and lowest interface that are associated with the binding. These values are different, for
example, if the miniport adapter that is directly associated with the specified binding is the virtual
miniport of a filter intermediate driver or if there is a filter module that is configured over the
miniport adapter.</p>
<p>Protocol drivers can also obtain the interface index and NET_LUID of the highest and the lowest
interfaces in a driver stack in the
<a href="ndis_bind_parameters" title="typedef struct _NDIS_BIND_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_STRING                      ProtocolSection;&#10;  PNDIS_STRING                      AdapterName;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  NDIS_MEDIUM                       MediaType;&#10;  ULONG                             MtuSize;&#10;  ULONG64                           MaxXmitLinkSpeed;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           MaxRcvLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NDIS_MEDIA_DUPLEX_STATE           MediaDuplexState;&#10;  ULONG                             LookaheadSize;&#10;  PNDIS_PNP_CAPABILITIES            PowerManagementCapabilities;&#10;  ULONG                             SupportedPacketFilters;&#10;  ULONG                             MaxMulticastListSize;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NDIS_PHYSICAL_MEDIUM              PhysicalMediumType;&#10;...">NDIS_BIND_PARAMETERS</a> structure.</p>
<h2>See also</h2>
<p><a href="ndis_bind_parameters" title="typedef struct _NDIS_BIND_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_STRING                      ProtocolSection;&#10;  PNDIS_STRING                      AdapterName;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  NDIS_MEDIUM                       MediaType;&#10;  ULONG                             MtuSize;&#10;  ULONG64                           MaxXmitLinkSpeed;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           MaxRcvLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NDIS_MEDIA_DUPLEX_STATE           MediaDuplexState;&#10;  ULONG                             LookaheadSize;&#10;  PNDIS_PNP_CAPABILITIES            PowerManagementCapabilities;&#10;  ULONG                             SupportedPacketFilters;&#10;  ULONG                             MaxMulticastListSize;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NDIS_PHYSICAL_MEDIUM              PhysicalMediumType;&#10;...">NDIS_BIND_PARAMETERS</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ifdef/ns-ifdef-net_luid_lh">NET_LUID</a></p>
<p><a href="ndisopenadapterex" title="NDIS_STATUS NdisOpenAdapterEx(&#10;  [in]  NDIS_HANDLE           NdisProtocolHandle,&#10;  [in]  NDIS_HANDLE           ProtocolBindingContext,&#10;  [in]  PNDIS_OPEN_PARAMETERS OpenParameters,&#10;  [in]  NDIS_HANDLE           BindContext,&#10;  [out] PNDIS_HANDLE          NdisBindingHandle&#10;);">NdisOpenAdapterEx</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndisifquerybindingifindex">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ndis/nf-ndis-ndisifquerybindingifindex.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
