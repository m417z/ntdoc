<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED_DMA - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED_DMA - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED_DMA - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// netadapter.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">void NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED_DMA(
  [_Out_] <a href="net_adapter_rx_capabilities" title="typedef struct _NET_ADAPTER_RX_CAPABILITIES {&#10;  ULONG                                  Size;&#10;  NET_RX_FRAGMENT_BUFFER_ALLOCATION_MODE AllocationMode;&#10;  NET_RX_FRAGMENT_BUFFER_ATTACHMENT_MODE AttachmentMode;&#10;  UINT32                                 FragmentRingNumberOfElementsHint;&#10;  SIZE_T                                 MaximumFrameSize;&#10;  SIZE_T                                 MaximumNumberOfQueues;&#10;  union {&#10;    struct {&#10;      PFN_NET_ADAPTER_RETURN_RX_BUFFER EvtAdapterReturnRxBuffer;&#10;    } DUMMYSTRUCTNAME;&#10;    struct {&#10;      NET_MEMORY_MAPPING_REQUIREMENT MappingRequirement;&#10;      SIZE_T                         FragmentBufferAlignment;&#10;      NET_ADAPTER_DMA_CAPABILITIES   *DmaCapabilities;&#10;    } DUMMYSTRUCTNAME2;&#10;  } DUMMYUNIONNAME;&#10;} NET_ADAPTER_RX_CAPABILITIES;">NET_ADAPTER_RX_CAPABILITIES</a>  *RxCapabilities,
  [_In_]  <a href="net_adapter_dma_capabilities" title="typedef struct _NET_ADAPTER_DMA_CAPABILITIES {&#10;  ULONG            Size;&#10;  WDFDMAENABLER    DmaEnabler;&#10;  PHYSICAL_ADDRESS MaximumPhysicalAddress;&#10;  WDF_TRI_STATE    CacheEnabled;&#10;  NODE_REQUIREMENT PreferredNode;&#10;} NET_ADAPTER_DMA_CAPABILITIES;">NET_ADAPTER_DMA_CAPABILITIES</a> *DmaCapabilities,
  [_In_]  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a>                       MaximumFrameSize,
  [_In_]  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a>                       MaximumNumberOfQueues
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netadapter/nf-netadapter-net_adapter_rx_capabilities_init_system_managed_dma">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/net_adapter_rx_capabilities_init_system_managed_dma.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-netadapter-net_adapter_rx_capabilities_init_system_managed_dma)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED_DMA function</h1>
<h2>Description</h2>
<p>The <strong>NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED_DMA</strong> function initializes a <a href="net_adapter_rx_capabilities" title="typedef struct _NET_ADAPTER_RX_CAPABILITIES {&#10;  ULONG                                  Size;&#10;  NET_RX_FRAGMENT_BUFFER_ALLOCATION_MODE AllocationMode;&#10;  NET_RX_FRAGMENT_BUFFER_ATTACHMENT_MODE AttachmentMode;&#10;  UINT32                                 FragmentRingNumberOfElementsHint;&#10;  SIZE_T                                 MaximumFrameSize;&#10;  SIZE_T                                 MaximumNumberOfQueues;&#10;  union {&#10;    struct {&#10;      PFN_NET_ADAPTER_RETURN_RX_BUFFER EvtAdapterReturnRxBuffer;&#10;    } DUMMYSTRUCTNAME;&#10;    struct {&#10;      NET_MEMORY_MAPPING_REQUIREMENT MappingRequirement;&#10;      SIZE_T                         FragmentBufferAlignment;&#10;      NET_ADAPTER_DMA_CAPABILITIES   *DmaCapabilities;&#10;    } DUMMYSTRUCTNAME2;&#10;  } DUMMYUNIONNAME;&#10;} NET_ADAPTER_RX_CAPABILITIES;">NET_ADAPTER_RX_CAPABILITIES</a> structure for a net adapter that would like to specify operating system-managed receive buffer allocation and attachment, as well as DMA for memory mapping.</p>
<h2>Parameters</h2>
<h3><code>RxCapabilities</code> [<em>Out</em>]</h3>
<p>A pointer to a driver-allocated <a href="net_adapter_rx_capabilities" title="typedef struct _NET_ADAPTER_RX_CAPABILITIES {&#10;  ULONG                                  Size;&#10;  NET_RX_FRAGMENT_BUFFER_ALLOCATION_MODE AllocationMode;&#10;  NET_RX_FRAGMENT_BUFFER_ATTACHMENT_MODE AttachmentMode;&#10;  UINT32                                 FragmentRingNumberOfElementsHint;&#10;  SIZE_T                                 MaximumFrameSize;&#10;  SIZE_T                                 MaximumNumberOfQueues;&#10;  union {&#10;    struct {&#10;      PFN_NET_ADAPTER_RETURN_RX_BUFFER EvtAdapterReturnRxBuffer;&#10;    } DUMMYSTRUCTNAME;&#10;    struct {&#10;      NET_MEMORY_MAPPING_REQUIREMENT MappingRequirement;&#10;      SIZE_T                         FragmentBufferAlignment;&#10;      NET_ADAPTER_DMA_CAPABILITIES   *DmaCapabilities;&#10;    } DUMMYSTRUCTNAME2;&#10;  } DUMMYUNIONNAME;&#10;} NET_ADAPTER_RX_CAPABILITIES;">NET_ADAPTER_RX_CAPABILITIES</a> structure.</p>
<h3><code>DmaCapabilities</code> [<em>In</em>]</h3>
<p>A pointer to a driver-allocated and initialized <a href="net_adapter_dma_capabilities" title="typedef struct _NET_ADAPTER_DMA_CAPABILITIES {&#10;  ULONG            Size;&#10;  WDFDMAENABLER    DmaEnabler;&#10;  PHYSICAL_ADDRESS MaximumPhysicalAddress;&#10;  WDF_TRI_STATE    CacheEnabled;&#10;  NODE_REQUIREMENT PreferredNode;&#10;} NET_ADAPTER_DMA_CAPABILITIES;">NET_ADAPTER_DMA_CAPABILITIES</a> structure.</p>
<h3><code>MaximumFrameSize</code> [<em>In</em>]</h3>
<p>The maximum frame size, in bytes, that the adapter can receive.</p>
<h3><code>MaximumNumberOfQueues</code> [<em>In</em>]</h3>
<p>The maximum number of receive queues that the adapter supports.</p>
<h2>Remarks</h2>
<p>This function is one of three possible functions to call in order to initialize a <a href="net_adapter_rx_capabilities" title="typedef struct _NET_ADAPTER_RX_CAPABILITIES {&#10;  ULONG                                  Size;&#10;  NET_RX_FRAGMENT_BUFFER_ALLOCATION_MODE AllocationMode;&#10;  NET_RX_FRAGMENT_BUFFER_ATTACHMENT_MODE AttachmentMode;&#10;  UINT32                                 FragmentRingNumberOfElementsHint;&#10;  SIZE_T                                 MaximumFrameSize;&#10;  SIZE_T                                 MaximumNumberOfQueues;&#10;  union {&#10;    struct {&#10;      PFN_NET_ADAPTER_RETURN_RX_BUFFER EvtAdapterReturnRxBuffer;&#10;    } DUMMYSTRUCTNAME;&#10;    struct {&#10;      NET_MEMORY_MAPPING_REQUIREMENT MappingRequirement;&#10;      SIZE_T                         FragmentBufferAlignment;&#10;      NET_ADAPTER_DMA_CAPABILITIES   *DmaCapabilities;&#10;    } DUMMYSTRUCTNAME2;&#10;  } DUMMYUNIONNAME;&#10;} NET_ADAPTER_RX_CAPABILITIES;">NET_ADAPTER_RX_CAPABILITIES</a> structure. Which one the client driver should call depends on how it would like to allocate receive buffers and if it would like to use DMA.</p>
<p>The client driver must call <strong>NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED_DMA</strong> to initialize its <strong><a href="net_adapter_rx_capabilities" title="typedef struct _NET_ADAPTER_RX_CAPABILITIES {&#10;  ULONG                                  Size;&#10;  NET_RX_FRAGMENT_BUFFER_ALLOCATION_MODE AllocationMode;&#10;  NET_RX_FRAGMENT_BUFFER_ATTACHMENT_MODE AttachmentMode;&#10;  UINT32                                 FragmentRingNumberOfElementsHint;&#10;  SIZE_T                                 MaximumFrameSize;&#10;  SIZE_T                                 MaximumNumberOfQueues;&#10;  union {&#10;    struct {&#10;      PFN_NET_ADAPTER_RETURN_RX_BUFFER EvtAdapterReturnRxBuffer;&#10;    } DUMMYSTRUCTNAME;&#10;    struct {&#10;      NET_MEMORY_MAPPING_REQUIREMENT MappingRequirement;&#10;      SIZE_T                         FragmentBufferAlignment;&#10;      NET_ADAPTER_DMA_CAPABILITIES   *DmaCapabilities;&#10;    } DUMMYSTRUCTNAME2;&#10;  } DUMMYUNIONNAME;&#10;} NET_ADAPTER_RX_CAPABILITIES;">NET_ADAPTER_RX_CAPABILITIES</a></strong> structure if it would like the operating system to perform receive buffer allocation and attachment, and if it would also like to use DMA in its receive data path. By calling this function, the Rx capabilities structure's <strong>AllocationMode</strong> member is set to <strong>NetRxFragmentBufferAllocationModeSystem</strong> and the <strong>AttachmentMode</strong> member is set to <strong>NetRxFragmentBufferAttachmentModeSystem</strong>.</p>
<p>Before calling <strong>NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED_DMA</strong>, the driver must have allocated a <a href="net_adapter_dma_capabilities" title="typedef struct _NET_ADAPTER_DMA_CAPABILITIES {&#10;  ULONG            Size;&#10;  WDFDMAENABLER    DmaEnabler;&#10;  PHYSICAL_ADDRESS MaximumPhysicalAddress;&#10;  WDF_TRI_STATE    CacheEnabled;&#10;  NODE_REQUIREMENT PreferredNode;&#10;} NET_ADAPTER_DMA_CAPABILITIES;">NET_ADAPTER_DMA_CAPABILITIES</a> structure and initialized it with <a href="net_adapter_dma_capabilities_init" title="void NET_ADAPTER_DMA_CAPABILITIES_INIT(&#10;  [_Out_] NET_ADAPTER_DMA_CAPABILITIES *DmaCapabilities,&#10;  [_In_]  WDFDMAENABLER                DmaEnabler&#10;);">NET_ADAPTER_DMA_CAPABILITIES_INIT</a>. This DMA capabilities structure is then assigned to the <strong>DmaCapabilities</strong> member of the <strong><a href="net_adapter_rx_capabilities" title="typedef struct _NET_ADAPTER_RX_CAPABILITIES {&#10;  ULONG                                  Size;&#10;  NET_RX_FRAGMENT_BUFFER_ALLOCATION_MODE AllocationMode;&#10;  NET_RX_FRAGMENT_BUFFER_ATTACHMENT_MODE AttachmentMode;&#10;  UINT32                                 FragmentRingNumberOfElementsHint;&#10;  SIZE_T                                 MaximumFrameSize;&#10;  SIZE_T                                 MaximumNumberOfQueues;&#10;  union {&#10;    struct {&#10;      PFN_NET_ADAPTER_RETURN_RX_BUFFER EvtAdapterReturnRxBuffer;&#10;    } DUMMYSTRUCTNAME;&#10;    struct {&#10;      NET_MEMORY_MAPPING_REQUIREMENT MappingRequirement;&#10;      SIZE_T                         FragmentBufferAlignment;&#10;      NET_ADAPTER_DMA_CAPABILITIES   *DmaCapabilities;&#10;    } DUMMYSTRUCTNAME2;&#10;  } DUMMYUNIONNAME;&#10;} NET_ADAPTER_RX_CAPABILITIES;">NET_ADAPTER_RX_CAPABILITIES</a></strong> structure.</p>
<h2>See also</h2>
<p><a href="net_adapter_rx_capabilities" title="typedef struct _NET_ADAPTER_RX_CAPABILITIES {&#10;  ULONG                                  Size;&#10;  NET_RX_FRAGMENT_BUFFER_ALLOCATION_MODE AllocationMode;&#10;  NET_RX_FRAGMENT_BUFFER_ATTACHMENT_MODE AttachmentMode;&#10;  UINT32                                 FragmentRingNumberOfElementsHint;&#10;  SIZE_T                                 MaximumFrameSize;&#10;  SIZE_T                                 MaximumNumberOfQueues;&#10;  union {&#10;    struct {&#10;      PFN_NET_ADAPTER_RETURN_RX_BUFFER EvtAdapterReturnRxBuffer;&#10;    } DUMMYSTRUCTNAME;&#10;    struct {&#10;      NET_MEMORY_MAPPING_REQUIREMENT MappingRequirement;&#10;      SIZE_T                         FragmentBufferAlignment;&#10;      NET_ADAPTER_DMA_CAPABILITIES   *DmaCapabilities;&#10;    } DUMMYSTRUCTNAME2;&#10;  } DUMMYUNIONNAME;&#10;} NET_ADAPTER_RX_CAPABILITIES;">NET_ADAPTER_RX_CAPABILITIES</a></p>
<p><a href="net_adapter_rx_capabilities_init_driver_managed" title="void NET_ADAPTER_RX_CAPABILITIES_INIT_DRIVER_MANAGED(&#10;  [_Out_] NET_ADAPTER_RX_CAPABILITIES      *RxCapabilities,&#10;  [_In_]  PFN_NET_ADAPTER_RETURN_RX_BUFFER EvtAdapterReturnRxBuffer,&#10;  [_In_]  SIZE_T                           MaximumFrameSize,&#10;  [_In_]  SIZE_T                           MaximumNumberOfQueues&#10;);">NET_ADAPTER_RX_CAPABILITIES_INIT_DRIVER_MANAGED</a></p>
<p><a href="net_adapter_rx_capabilities_init_system_managed" title="void NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED(&#10;  [_Out_] NET_ADAPTER_RX_CAPABILITIES *RxCapabilities,&#10;  [_In_]  SIZE_T                      MaximumFrameSize,&#10;  [_In_]  SIZE_T                      MaximumNumberOfQueues&#10;);">NET_ADAPTER_RX_CAPABILITIES_INIT_SYSTEM_MANAGED</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netadapter/nf-netadapter-net_adapter_rx_capabilities_init_system_managed_dma">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/netadapter/nf-netadapter-net_adapter_rx_capabilities_init_system_managed_dma.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
