<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d12umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095 {
  <a href="uint64" title="typedef unsigned __int64 UINT64;">UINT64</a> RowCount;
  <a href="uint64" title="typedef unsigned __int64 UINT64;">UINT64</a> ColCount;
  <a href="uint64" title="typedef unsigned __int64 UINT64;">UINT64</a> RowHeights[D3D12DDI_VIDEO_ENCODER_AV1_MAX_TILE_ROWS_0095];
  <a href="uint64" title="typedef unsigned __int64 UINT64;">UINT64</a> ColWidths[D3D12DDI_VIDEO_ENCODER_AV1_MAX_TILE_COLS_0095];
  <a href="uint64" title="typedef unsigned __int64 UINT64;">UINT64</a> ContextUpdateTileId;
} D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_encoder_av1_picture_control_subregions_layout_data_tiles_0095">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3d12ddi_video_encoder_av1_picture_control_subregions_layout_data_tiles_0095.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3d12umddi-d3d12ddi_video_encoder_av1_picture_control_subregions_layout_data_tiles_0095)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The <strong>D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095</strong> structure contains the tile layout data for AV1 picture control subregions.</p>

<h2 id="members">Members</h2>

<h3 id="rowcount"><code>RowCount</code></h3>

<p>Number of tile rows in the frame.</p>

<h3 id="colcount"><code>ColCount</code></h3>

<p>Number of tile columns in the frame.</p>

<h3 id="rowheightsd3d12ddi_video_encoder_av1_max_tile_rows_0095"><code>RowHeights[D3D12DDI_VIDEO_ENCODER_AV1_MAX_TILE_ROWS_0095]</code></h3>

<p>Array of tile row heights, where each element represents the height of the corresponding tile row in pixels.</p>

<h3 id="colwidthsd3d12ddi_video_encoder_av1_max_tile_cols_0095"><code>ColWidths[D3D12DDI_VIDEO_ENCODER_AV1_MAX_TILE_COLS_0095]</code></h3>

<p>Array of tile column widths, where each element represents the width of the corresponding tile column in pixels.</p>

<h3 id="contextupdatetileid"><code>ContextUpdateTileId</code></h3>

<p>Related to AV1 syntax context_update_tile_id.</p>

<h2 id="remarks">Remarks</h2>

<p>This structure operates in different ways using different <strong><a href="d3d12ddi_video_encoder_frame_subregion_layout_mode_0080" title="typedef enum D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0080 {&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0080_FULL_FRAME = 0,&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0080_BYTES_PER_SUBREGION = 1,&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0080_SQUARE_UNITS_PER_SUBREGION_ROW_UNALIGNED = 2,&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0080_UNIFORM_PARTITIONING_ROWS_PER_SUBREGION = 3,&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0080_UNIFORM_PARTITIONING_SUBREGIONS_PER_FRAME = 4,&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0095_UNIFORM_GRID_PARTITION = 5,&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0095_CONFIGURABLE_GRID_PARTITION = 6&#10;} ;">D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0080</a></strong> configurations.</p>

<ul>
<li><p>For <strong>D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0095_CONFIGURABLE_GRID_PARTITION</strong>:</p>

<ul>
<li>Input parameters: <strong>RowCount</strong>, <strong>ColCount</strong>, <strong>RowHeights</strong>, <strong>ColWidths</strong> within the reported tile caps. The integer values must match the AV1 codec standard expectations (ie. power of two, etc).</li>
<li>The driver honors exactly and copies the exact same structure after <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/nc-d3d12umddi-pfnd3d12ddi_video_encode_frame_0082_0"><em>EncodeFrame</em></a> execution.</li>
</ul></li>
<li><p>For <strong>D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0095_UNIFORM_GRID_PARTITION</strong>:</p>

<ul>
<li>Input parameters: <strong>RowCount</strong>, <strong>ColCount</strong>. The integer values must match the AV1 codec standard expectations (ie. power of two, etc).</li>
<li>The driver copies <strong>RowCount</strong>/<strong>ColCount</strong> as passed by API Client, and returns also <strong>RowHeights</strong>, <strong>ColWidths</strong> after <em>EncodeFrame</em> execution.</li>
</ul></li>
</ul>

<p>For ContextUpdateTileId, is an input parameter from the API Client corresponding to the frame header context_update_tile_id AV1 syntax and if D3D12_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_FLAG_CONTEXT_UPDATE_TILE_ID was reported then the driver is able to overwrite the API client input after EncodeFrame execution, otherwise must be copied by the driver from the input to the post encode values.</p>

<p>Check the limitations for tile configuration returned in <strong><a href="d3d12ddi_feature_data_video_encoder_frame_subregion_layout_config_0095" title="typedef struct D3D12DDI_FEATURE_DATA_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_CONFIG_0095 {&#10;  UINT                                                              NodeIndex;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_0080                                 Codec;&#10;  D3D12DDI_VIDEO_ENCODER_PROFILE_DESC_0080_2                        Profile;&#10;  D3D12DDI_VIDEO_ENCODER_LEVEL_SETTING_0080_2                       Level;&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_MODE_0080           SubregionMode;&#10;  D3D12DDI_VIDEO_ENCODER_PICTURE_RESOLUTION_DESC_0080               FrameResolution;&#10;  D3D12DDI_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_CONFIG_SUPPORT_0095 CodecSupport;&#10;  BOOL                                                              IsSupported;&#10;} D3D12DDI_FEATURE_DATA_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_CONFIG_0095;">D3D12DDI_FEATURE_DATA_VIDEO_ENCODER_FRAME_SUBREGION_LAYOUT_CONFIG_0095</a></strong> for AV1 codec.</p>

<p><strong>D3D12DDI_VIDEO_ENCODER_AV1_MAX_TILE_ROWS_0095</strong> and <strong>D3D12DDI_VIDEO_ENCODER_AV1_MAX_TILE_COLS_0095</strong> are constants as defined in the AV1 codec specification. For the width and height parameter lists, make sure they fall under these AV1 codec standard-defined dimension limitations. The units of these arrays are measured in block of size <strong><a href="d3d12ddi_video_encoder_resolution_support_limits_0080_2" title="typedef struct D3D12DDI_VIDEO_ENCODER_RESOLUTION_SUPPORT_LIMITS_0080_2 {&#10;  UINT MaxSubregionsNumber;&#10;  UINT MaxIntraRefreshFrameDuration;&#10;  UINT SubregionBlockPixelsSize;&#10;  UINT QPMapRegionPixelsSize;&#10;} D3D12DDI_VIDEO_ENCODER_RESOLUTION_SUPPORT_LIMITS_0080_2;">D3D12DDI_VIDEO_ENCODER_RESOLUTION_SUPPORT_LIMITS_0080_2</a></strong><strong>.SubregionBlockPixelsSize</strong>. For example if <strong>ColHeights</strong>[0] equals 2 and <strong>SubregionBlockPixelsSize</strong> equals 64,
then <code>ColHeightInPixels**[0] = ColHeights[0] * SubregionBlockPixelsSize = 2 * 64 = 128</code>.</p>

<p>See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/video-encoding-d3d12-av1">D3D12 AV1 video encoding</a> for more information.</p>

<h2 id="see-also">See also</h2>

<p><strong><a href="d3d12ddi_video_encoder_av1_frame_subregion_layout_config_support_0095" title="typedef struct D3D12DDI_VIDEO_ENCODER_AV1_FRAME_SUBREGION_LAYOUT_CONFIG_SUPPORT_0095 {&#10;  BOOL                                                                           Use128SuperBlocks;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095   TilesConfiguration;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_FRAME_SUBREGION_LAYOUT_CONFIG_VALIDATION_0095_FLAGS ValidationFlags;&#10;  UINT                                                                           MinTileRows;&#10;  UINT                                                                           MaxTileRows;&#10;  UINT                                                                           MinTileCols;&#10;  UINT                                                                           MaxTileCols;&#10;  UINT                                                                           MinTileWidth;&#10;  UINT                                                                           MaxTileWidth;&#10;  UINT                                                                           MinTileArea;&#10;  UINT                                                                           MaxTileArea;&#10;  UINT                                                                           TileSizeBytesMinus1;&#10;} D3D12DDI_VIDEO_ENCODER_AV1_FRAME_SUBREGION_LAYOUT_CONFIG_SUPPORT_0095;">D3D12DDI_VIDEO_ENCODER_AV1_FRAME_SUBREGION_LAYOUT_CONFIG_SUPPORT_0095</a></strong></p>

<p><strong><a href="d3d12ddi_video_encoder_picture_control_subregions_layout_data_0080_2" title="typedef struct D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_0080_2 {&#10;  UINT  DataSize;&#10;  union {&#10;    const D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_SLICES_0080    *pSlicesPartition_H264;&#10;    const D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_SLICES_0080    *pSlicesPartition_HEVC;&#10;    const D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095 *pTilesPartition_AV1;&#10;  };&#10;} D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_0080_2;">D3D12DDI_VIDEO_ENCODER_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_0080_2</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_encoder_av1_picture_control_subregions_layout_data_tiles_0095">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_encoder_av1_picture_control_subregions_layout_data_tiles_0095.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
