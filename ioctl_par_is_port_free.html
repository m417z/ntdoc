<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IOCTL_PAR_IS_PORT_FREE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IOCTL_PAR_IS_PORT_FREE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IOCTL_PAR_IS_PORT_FREE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddpar.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">// <a href="ctl_code" title="void CTL_CODE(&#10;  DeviceType,&#10;  Function,&#10;  Method,&#10;  Access&#10;);">CTL_CODE</a>(0x0016, 0x015, METHOD_BUFFERED, FILE_ANY_ACCESS)
#define IOCTL_PAR_IS_PORT_FREE 0x00160054</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddpar/ni-ntddpar-ioctl_par_is_port_free">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ioctl_par_is_port_free.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ni-ntddpar-ioctl_par_is_port_free)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>IOCTL_PAR_IS_PORT_FREE IOCTL</h1>
<h2>Major Code:</h2>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/irp-mj-device-control">IRP_MJ_DEVICE_CONTROL</a></p>
<h2>Description</h2>
<p>The IOCTL_PAR_IS_PORT_FREE request determines if a parallel device's parent parallel port is free at the time the system-supplied bus driver for parallel ports processes the request. This request is provided primarily for user-mode clients.</p>
<p>This request is processed immediately after the I/O manager calls the parallel port bus driver's dispatch routine for device control requests. Note, however, that the status of the parallel port can change between the time that the parallel port bus driver completes the request and the time that control returns to a user-mode client.</p>
<p>Kernel-mode clients can directly determine if a parallel port is free by calling the system-supplied <a href="pparallel_try_allocate_routine" title="PPARALLEL_TRY_ALLOCATE_ROUTINE PparallelTryAllocateRoutine;&#10;&#10;BOOLEAN PparallelTryAllocateRoutine(&#10;  [in] PVOID TryAllocateContext&#10;)&#10;{...}">PPARALLEL_TRY_ALLOCATE_ROUTINE</a> callback.</p>
<p>For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/ff544195(v=vs.85)">Locking and Unlocking a ParallelPort for Use by a Parallel Device</a>.</p>
<h2>Parameters</h2>
<h3>Major code</h3>
<h3>Input buffer</h3>
<p>None.</p>
<h3>Input buffer length</h3>
<p>None.</p>
<h3>Output buffer</h3>
<p>The <strong>AssociatedIrp.SystemBuffer</strong> member points to a BOOLEAN buffer that the client allocates to output the status of the parallel port. If the parallel port is free, the system-supplied function driver for parallel ports sets the buffer to <strong>TRUE</strong>, otherwise it sets the buffer to <strong>FALSE</strong>.</p>
<h3>Output buffer length</h3>
<p>The length of a BOOLEAN.</p>
<h3>Input/output buffer</h3>
<h3>Input/output buffer length</h3>
<h3>Status block</h3>
<p>The <strong>Information</strong> member is set to the size, in bytes, of a BOOLEAN.</p>
<p>The <strong>Status</strong> member is set to one of the generic status values returned by device control requests for parallel devices or to the following value:</p>
<p><strong>STATUS_BUFFER_TOO_SMALL</strong></p>
<p>The <strong>Parameters.DeviceIoControl.OutputBufferLength</strong> member is less than the size, in bytes, of a BOOLEAN.</p>
<h2>See also</h2>
<p><a href="ioctl_internal_parallel_port_free" title="// CTL_CODE(0x0016, 0x028, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_INTERNAL_PARALLEL_PORT_FREE 0x001600A0">IOCTL_INTERNAL_PARALLEL_PORT_FREE</a></p>
<p><a href="pparallel_try_allocate_routine" title="PPARALLEL_TRY_ALLOCATE_ROUTINE PparallelTryAllocateRoutine;&#10;&#10;BOOLEAN PparallelTryAllocateRoutine(&#10;  [in] PVOID TryAllocateContext&#10;)&#10;{...}">PPARALLEL_TRY_ALLOCATE_ROUTINE</a></p>
<p><a href="ioctl_internal_lock_port" title="// CTL_CODE(0x0016, 0x025, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_INTERNAL_LOCK_PORT 0x00160094">IOCTL_INTERNAL_LOCK_PORT</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddpar/ni-ntddpar-ioctl_par_is_port_free">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddpar/ni-ntddpar-ioctl_par_is_port_free.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
