<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="CHANGER_ELEMENT_STATUS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>CHANGER_ELEMENT_STATUS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            CHANGER_ELEMENT_STATUS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddchgr.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _CHANGER_ELEMENT_STATUS {
  <a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a> Element;
  <a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a> SrcElementAddress;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>           Flags;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>           ExceptionCode;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>           TargetId;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>           Lun;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a>          Reserved;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>           PrimaryVolumeID[MAX_VOLUME_ID_SIZE];
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>           AlternateVolumeID[MAX_VOLUME_ID_SIZE];
} CHANGER_ELEMENT_STATUS, *PCHANGER_ELEMENT_STATUS;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddchgr/ns-ntddchgr-_changer_element_status">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// winioctl.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _CHANGER_ELEMENT_STATUS {
  <a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a> Element;
  <a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a> SrcElementAddress;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>           Flags;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>           ExceptionCode;
  <a href="byte" title="typedef unsigned char BYTE;">BYTE</a>            TargetId;
  <a href="byte" title="typedef unsigned char BYTE;">BYTE</a>            Lun;
  <a href="word" title="typedef unsigned short WORD;">WORD</a>            Reserved;
  <a href="byte" title="typedef unsigned char BYTE;">BYTE</a>            PrimaryVolumeID[MAX_VOLUME_ID_SIZE];
  <a href="byte" title="typedef unsigned char BYTE;">BYTE</a>            AlternateVolumeID[MAX_VOLUME_ID_SIZE];
} CHANGER_ELEMENT_STATUS, *PCHANGER_ELEMENT_STATUS;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-changer_element_status">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/changer_element_status.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddchgr-_changer_element_status)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_changer_element_status-structure">_CHANGER_ELEMENT_STATUS structure</h1>

<h2 id="description">Description</h2>

<p>The <a href="changergetelementstatus" title="NTSTATUS ChangerGetElementStatus(&#10;  [in] PDEVICE_OBJECT DeviceObject,&#10;  [in] PIRP           Irp&#10;);">ChangerGetElementStatus</a> routine returns status information in this structure.</p>

<h2 id="members">Members</h2>

<h3 id="element"><code>Element</code></h3>

<p>Specifies the element of type <a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a> to which this structure refers.</p>

<h3 id="srcelementaddress"><code>SrcElementAddress</code></h3>

<p>Specifies the element of type <a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a> from which the media currently in this element was most recently moved. This member is valid only if ELEMENT_STATUS_SVALID is also set in <strong>Flags</strong>. This value must be a zero-based offset from the device-unique value.</p>

<h3 id="flags"><code>Flags</code></h3>

<p>Indicates the status of the element, which can be one or more of the following values.</p>

<h4 id="element_status_full">ELEMENT_STATUS_FULL</h4>

<p>The element contains a piece of media. This flag is valid if <strong>ElementType</strong> in the <strong>Element</strong> member is <strong>ChangerDrive</strong>, <strong>ChangerSlot</strong>, or <strong>ChangerTransport</strong>. If <strong>ElementType</strong> is <strong>ChangerIEPort</strong>, this flag is valid only if CHANGER_REPORT_IEPORT_STATE is also set in <strong>Features0</strong> of <a href="get_changer_parameters" title="typedef struct _GET_CHANGER_PARAMETERS {&#10;  ULONG  Size;&#10;  USHORT NumberTransportElements;&#10;  USHORT NumberStorageElements;&#10;  USHORT NumberCleanerSlots;&#10;  USHORT NumberIEElements;&#10;  USHORT NumberDataTransferElements;&#10;  USHORT NumberOfDoors;&#10;  USHORT FirstSlotNumber;&#10;  USHORT FirstDriveNumber;&#10;  USHORT FirstTransportNumber;&#10;  USHORT FirstIEPortNumber;&#10;  USHORT FirstCleanerSlotAddress;&#10;  USHORT MagazineSize;&#10;  ULONG  DriveCleanTimeout;&#10;  ULONG  Features0;&#10;  ULONG  Features1;&#10;  UCHAR  MoveFromTransport;&#10;  UCHAR  MoveFromSlot;&#10;  UCHAR  MoveFromIePort;&#10;...">GET_CHANGER_PARAMETERS</a>.</p>

<h4 id="element_status_impexp">ELEMENT_STATUS_IMPEXP</h4>

<p>The media in this element was placed there by an operator. This flag is valid only if <strong>ElementType</strong> in the <strong>Element</strong> member is <strong>ChangerIEPort</strong>.</p>

<h4 id="element_status_except">ELEMENT_STATUS_EXCEPT</h4>

<p>The element is in an abnormal state. Check the <strong>ExceptionCode</strong> member for more information.</p>

<h4 id="element_status_access">ELEMENT_STATUS_ACCESS</h4>

<p>The changer's transport element can access the piece of media in this element. The miniclass driver clears this flag to indicate that the media is not accessible for one of the following reasons: If <strong>ElementType</strong> in the <strong>Element</strong> member is <strong>ChangerSlot</strong>, the slot is not present in the changer (for example, the magazine containing the slot has been physically removed). If <strong>ElementType</strong> is <strong>ChangerDrive</strong>, the drive is broken or has been removed. If <strong>ElementType</strong> is <strong>ChangerIEPort</strong>, the IEport is extended.</p>

<h4 id="element_status_exenab">ELEMENT_STATUS_EXENAB</h4>

<p>The element supports export of media through the changer's IEport.</p>

<h4 id="element_status_inenab">ELEMENT_STATUS_INENAB</h4>

<p>The element supports import of media through the changer's IEport.</p>

<h4 id="element_status_lun_valid">ELEMENT_STATUS_LUN_VALID</h4>

<p>The device number in the <strong>Lun</strong> member is valid. This flag is valid only if <strong>ElementType</strong> in the <strong>Element</strong> member is <strong>ChangerDrive</strong>.</p>

<h4 id="element_status_id_valid">ELEMENT_STATUS_ID_VALID</h4>

<p>The SCSI target ID in the <strong>TargetID</strong> member is valid. This flag is valid only if <strong>ElementType</strong> in the <strong>Element</strong> member is <strong>ChangerDrive</strong>.</p>

<h4 id="element_status_not_bus">ELEMENT_STATUS_NOT_BUS</h4>

<p>The drive at the address indicated by <strong>Lun</strong> and <strong>TargetID</strong> is on a different SCSI bus than the changer itself.</p>

<h4 id="element_status_invert">ELEMENT_STATUS_INVERT</h4>

<p>The media in the element was flipped. This flag is valid only if the ELEMENT_STATUS_SVALID flag is also set.</p>

<h4 id="element_status_svalid">ELEMENT_STATUS_SVALID</h4>

<p>The <strong>SourceElement</strong> member and ELEMENT_STATUS_INVERT flag are both valid.</p>

<h4 id="element_status_pvoltag">ELEMENT_STATUS_PVOLTAG</h4>

<p>Primary volume information in the <strong>PrimaryVolumeID</strong> member is valid.</p>

<h4 id="element_status_avoltag">ELEMENT_STATUS_AVOLTAG</h4>

<p>Alternate volume information in the <strong>AlternateVolumeID</strong> member is valid.</p>

<h3 id="exceptioncode"><code>ExceptionCode</code></h3>

<p>Indicates that the element is in an abnormal state. This member is valid only if ELEMENT_STATUS_EXCEPT is set in <strong>Flags</strong>. <strong>ExceptionCode</strong> can be set to one of the following values.</p>

<h4 id="error_label_unreadable">ERROR_LABEL_UNREADABLE</h4>

<p>The changer's bar code reader could not read the bar code label on the piece of media in this element, because the media is missing, damaged, improperly positioned, or upside down.</p>

<h4 id="error_label_questionable">ERROR_LABEL_QUESTIONABLE</h4>

<p>The label might be invalid due to a unit attention condition.</p>

<h4 id="error_slot_not_present">ERROR_SLOT_NOT_PRESENT</h4>

<p>The slot at this element address is currently not installed in the changer. A miniclass driver sets this code for each slot in a removable magazine to indicate that the magazine has been removed.</p>

<h4 id="error_drive_not_installed">ERROR_DRIVE_NOT_INSTALLED</h4>

<p>The drive at this element address is absent. If a changer can continue to operate without the drive, its miniclass driver sets ERROR_DRIVE_NOT_INSTALLED for the drive.</p>

<h4 id="error_tray_malfunction">ERROR_TRAY_MALFUNCTION</h4>

<p>The drive at this element address has a tray that must be extended to load or remove media, and the tray is not extending as required.</p>

<h4 id="error_unhandled_error">ERROR_UNHANDLED_ERROR</h4>

<p>Unknown error condition.</p>

<h3 id="targetid"><code>TargetId</code></h3>

<p>Specifies the SCSI target ID of the drive at this element address for a SCSI changer. This member is valid only if <strong>ElementType</strong> in the <strong>Element</strong> member is <strong>ChangerDrive</strong> and ELEMENT_STATUS_ID_VALID is set in <strong>Flags</strong>.</p>

<h3 id="lun"><code>Lun</code></h3>

<p>Specifies the SCSI device number of the drive at this element address. This member is valid only if <strong>ElementType</strong> in the <strong>Element</strong> member is <strong>ChangerDrive</strong> and ELEMENT_STATUS_LUN_VALID is set in <strong>Flags</strong>.</p>

<h3 id="reserved"><code>Reserved</code></h3>

<p>Reserved for future use. The value of this member must be zero.</p>

<h3 id="primaryvolumeid"><code>PrimaryVolumeID</code></h3>

<p>Specifies the primary volume identifier for the media. If the changer supports a bar code reader and the reader is installed (as indicated by CHANGER_BAR_CODE_SCANNER_INSTALLED in <strong>Features0</strong> of <a href="get_changer_parameters" title="typedef struct _GET_CHANGER_PARAMETERS {&#10;  ULONG  Size;&#10;  USHORT NumberTransportElements;&#10;  USHORT NumberStorageElements;&#10;  USHORT NumberCleanerSlots;&#10;  USHORT NumberIEElements;&#10;  USHORT NumberDataTransferElements;&#10;  USHORT NumberOfDoors;&#10;  USHORT FirstSlotNumber;&#10;  USHORT FirstDriveNumber;&#10;  USHORT FirstTransportNumber;&#10;  USHORT FirstIEPortNumber;&#10;  USHORT FirstCleanerSlotAddress;&#10;  USHORT MagazineSize;&#10;  ULONG  DriveCleanTimeout;&#10;  ULONG  Features0;&#10;  ULONG  Features1;&#10;  UCHAR  MoveFromTransport;&#10;  UCHAR  MoveFromSlot;&#10;  UCHAR  MoveFromIePort;&#10;...">GET_CHANGER_PARAMETERS</a>), the miniclass driver must set <strong>PrimaryVolumeID</strong> to the bar code of the media. If the changer does not support a bar code reader, the miniclass driver should set <strong>PrimaryVolumeID</strong> to the value previously assigned to the media using the <strong><a href="changerqueryvolumetags" title="NTSTATUS ChangerQueryVolumeTags(&#10;  [in] PDEVICE_OBJECT DeviceObject,&#10;  [in] PIRP           Irp&#10;);">ChangerQueryVolumeTags</a></strong> routine with an ASSERT_PRIMARY or REPLACE_PRIMARY action. This member is valid only if ELEMENT_STATUS_PVOLTAG is also set in <strong>Flags</strong>. If the volume identifier is missing or unreadable, the miniclass driver should clear this flag and set the appropriate error status. This identifier must be no larger than MAX_VOLUME_ID_SIZE bytes.</p>

<h3 id="alternatevolumeid"><code>AlternateVolumeID</code></h3>

<p>Specifies alternate volume identification for the media. This member is valid for two-sided media only, and pertains to the ID of the inverted side. It never represents a bar code. The miniclass driver must set <strong>AlternateVolumeID</strong> to the value previously assigned to the media using the <strong><a href="changerqueryvolumetags" title="NTSTATUS ChangerQueryVolumeTags(&#10;  [in] PDEVICE_OBJECT DeviceObject,&#10;  [in] PIRP           Irp&#10;);">ChangerQueryVolumeTags</a></strong> routine with an ASSERT_ALTERNATE or REPLACE_ALTERNATE action. The identifier must be no larger than MAX_VOLUME_ID_SIZE bytes and is valid only if ELEMENT_STATUS_AVOLTAG is also set in <strong>Flags</strong>.</p>

<h2 id="remarks">Remarks</h2>

<p>For most element types, changer miniclass drivers use CHANGER_ELEMENT_STATUS to report the status of specified elements to the changer class driver. Some elements of type <strong>ChangerDrive</strong>, however, return product information data. If the device provides product information, the miniclass driver will report the element status data in a structure of type <a href="changer_element_status_ex" title="typedef struct _CHANGER_ELEMENT_STATUS_EX {&#10;  CHANGER_ELEMENT Element;&#10;  CHANGER_ELEMENT SrcElementAddress;&#10;  ULONG           Flags;&#10;  ULONG           ExceptionCode;&#10;  UCHAR           TargetId;&#10;  UCHAR           Lun;&#10;  USHORT          Reserved;&#10;  UCHAR           PrimaryVolumeID[MAX_VOLUME_ID_SIZE];&#10;  UCHAR           AlternateVolumeID[MAX_VOLUME_ID_SIZE];&#10;  UCHAR           VendorIdentification[VENDOR_ID_LENGTH];&#10;  UCHAR           ProductIdentification[PRODUCT_ID_LENGTH];&#10;  UCHAR           SerialNumber[SERIAL_NUMBER_LENGTH];&#10;} CHANGER_ELEMENT_STATUS_EX, *PCHANGER_ELEMENT_STATUS_EX;">CHANGER_ELEMENT_STATUS_EX</a> instead of using CHANGER_ELEMENT_STATUS. The miniclass driver indicates that product information is present by setting ELEMENT_STATUS_PRODUCT_DATA in the <strong>Flags</strong> member of the structure.</p>

<h2 id="see-also">See also</h2>

<p><a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a></p>

<p><a href="changer_element_status_ex" title="typedef struct _CHANGER_ELEMENT_STATUS_EX {&#10;  CHANGER_ELEMENT Element;&#10;  CHANGER_ELEMENT SrcElementAddress;&#10;  ULONG           Flags;&#10;  ULONG           ExceptionCode;&#10;  UCHAR           TargetId;&#10;  UCHAR           Lun;&#10;  USHORT          Reserved;&#10;  UCHAR           PrimaryVolumeID[MAX_VOLUME_ID_SIZE];&#10;  UCHAR           AlternateVolumeID[MAX_VOLUME_ID_SIZE];&#10;  UCHAR           VendorIdentification[VENDOR_ID_LENGTH];&#10;  UCHAR           ProductIdentification[PRODUCT_ID_LENGTH];&#10;  UCHAR           SerialNumber[SERIAL_NUMBER_LENGTH];&#10;} CHANGER_ELEMENT_STATUS_EX, *PCHANGER_ELEMENT_STATUS_EX;">CHANGER_ELEMENT_STATUS_EX</a></p>

<p><a href="changergetelementstatus" title="NTSTATUS ChangerGetElementStatus(&#10;  [in] PDEVICE_OBJECT DeviceObject,&#10;  [in] PIRP           Irp&#10;);">ChangerGetElementStatus</a></p>

<p><a href="changerqueryvolumetags" title="NTSTATUS ChangerQueryVolumeTags(&#10;  [in] PDEVICE_OBJECT DeviceObject,&#10;  [in] PIRP           Irp&#10;);">ChangerQueryVolumeTags</a></p>

<p><a href="ioctl_changer_get_element_status" title="// CTL_CODE(0x0030, 0x005, METHOD_BUFFERED, FILE_READ_ACCESS | FILE_WRITE_ACCESS)&#10;#define IOCTL_CHANGER_GET_ELEMENT_STATUS 0x0030C014">IOCTL_CHANGER_GET_ELEMENT_STATUS</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddchgr/ns-ntddchgr-_changer_element_status">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddchgr/ns-ntddchgr-_changer_element_status.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ns-winioctl-changer_element_status)</h1>
</div>
<div class="ntdoc-description">
<h1>CHANGER_ELEMENT_STATUS structure</h1>

<h2>Description</h2>

<p>Represents the status of the specified element.</p>

<h2>Members</h2>

<h3><code>Element</code></h3>

<p>A
<a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a> structure that represents the element.</p>

<h3><code>SrcElementAddress</code></h3>

<p>A
<a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a> structure that represents the element from which the media currently in this element was most recently moved.</p>

<p>This member is valid only if the <strong>Flags</strong> member includes ELEMENT_STATUS_SVALID.</p>

<h3><code>Flags</code></h3>

<p>The element status. This member can be one or more of the following values.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>ELEMENT_STATUS_ACCESS</strong>&lt;br&gt;&lt;br&gt;0x00000008</td>
  <td>The changer's transport element can access the piece of media in this element. The media is not accessible in the following circumstances: (1) If the element type is ChangerSlot, the slot is not present in the changer (for example, the magazine containing the slot has been physically removed). (2) If the element type is ChangerDrive, the drive is broken or has been removed. (3) If the element type is ChangerIEPort, the changer's insert/eject port is extended.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_AVOLTAG</strong>&lt;br&gt;&lt;br&gt;0x20000000</td>
  <td>Alternate volume information in the <strong>AlternateVolumeID</strong> member is valid.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_EXCEPT</strong>&lt;br&gt;&lt;br&gt;0x00000004</td>
  <td>The element is in an abnormal state. Check the <strong>ExceptionCode</strong> member for more information.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_EXENAB</strong>&lt;br&gt;&lt;br&gt;0x00000010</td>
  <td>The element supports export of media through the changer's insert/eject port.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_FULL</strong>&lt;br&gt;&lt;br&gt;0x00000001</td>
  <td>The element contains a piece of media. &lt;br&gt;&lt;br&gt;Note that this value is valid only if the element type is ChangerDrive, ChangerSlot, or ChangerTransport. If <strong>ElementType</strong> is ChangerIEPort, this value is valid only if the <strong>Features0</strong> member of <a href="get_changer_parameters" title="typedef struct _GET_CHANGER_PARAMETERS {&#10;  ULONG  Size;&#10;  USHORT NumberTransportElements;&#10;  USHORT NumberStorageElements;&#10;  USHORT NumberCleanerSlots;&#10;  USHORT NumberIEElements;&#10;  USHORT NumberDataTransferElements;&#10;  USHORT NumberOfDoors;&#10;  USHORT FirstSlotNumber;&#10;  USHORT FirstDriveNumber;&#10;  USHORT FirstTransportNumber;&#10;  USHORT FirstIEPortNumber;&#10;  USHORT FirstCleanerSlotAddress;&#10;  USHORT MagazineSize;&#10;  ULONG  DriveCleanTimeout;&#10;  ULONG  Features0;&#10;  ULONG  Features1;&#10;  UCHAR  MoveFromTransport;&#10;  UCHAR  MoveFromSlot;&#10;  UCHAR  MoveFromIePort;&#10;...">GET_CHANGER_PARAMETERS</a> includes CHANGER_REPORT_IEPORT_STATE.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_ID_VALID</strong>&lt;br&gt;&lt;br&gt;0x00002000</td>
  <td>The SCSI target ID in the <strong>TargetID</strong> member is valid. &lt;br&gt;&lt;br&gt;This value is valid only if the element type is ChangerDrive.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_IMPEXP</strong>&lt;br&gt;&lt;br&gt;0x00000002</td>
  <td>The media in this element was placed there by an operator. &lt;br&gt;&lt;br&gt;This value is valid only if the element type is ChangerIEPort.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_INENAB</strong>&lt;br&gt;&lt;br&gt;0x00000020</td>
  <td>The element supports import of media through the changer's insert/eject port.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_INVERT</strong>&lt;br&gt;&lt;br&gt;0x00400000</td>
  <td>The media in the element was flipped. &lt;br&gt;&lt;br&gt;This value is valid only if ELEMENT_STATUS_SVALID is also included.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_LUN_VALID</strong>&lt;br&gt;&lt;br&gt;0x00001000</td>
  <td>The logical unit number in the <strong>Lun</strong> member is valid. This value is valid only if the element type is ChangerDrive.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_NOT_BUS</strong>&lt;br&gt;&lt;br&gt;0x00008000</td>
  <td>The drive at the address indicated by <strong>Lun</strong> and <strong>TargetID</strong> is on a different SCSI bus than the changer itself.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_PVOLTAG</strong>&lt;br&gt;&lt;br&gt;0x10000000</td>
  <td>Primary volume information in the <strong>PrimaryVolumeID</strong> member is valid.</td>
</tr>
<tr>
  <td><strong>ELEMENT_STATUS_SVALID</strong>&lt;br&gt;&lt;br&gt;0x00800000</td>
  <td>The <strong>SourceElement</strong> member and ELEMENT_STATUS_INVERT are both valid.</td>
</tr>
</tbody>
</table>

<h3><code>ExceptionCode</code></h3>

<p>An exception code that indicates that the element is in an abnormal state. This member is valid only if the <strong>Flags</strong> member includes ELEMENT_STATUS_EXCEPT. This member can be one of the following values.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>ERROR_DRIVE_NOT_INSTALLED</strong>&lt;br&gt;&lt;br&gt;0x00000008</td>
  <td>The drive at this element address is absent.</td>
</tr>
<tr>
  <td><strong>ERROR_LABEL_QUESTIONABLE</strong>&lt;br&gt;&lt;br&gt;0x00000002</td>
  <td>The label might be invalid due to a unit attention condition.</td>
</tr>
<tr>
  <td><strong>ERROR_LABEL_UNREADABLE</strong>&lt;br&gt;&lt;br&gt;0x00000001</td>
  <td>The changer's barcode reader could not read the bar code label on the piece of media in this element, because the media is missing, damaged, improperly positioned, or upside down.</td>
</tr>
<tr>
  <td><strong>ERROR_SLOT_NOT_PRESENT</strong>&lt;br&gt;&lt;br&gt;0x00000004</td>
  <td>The slot at this element address is currently not installed in the changer. Each slot in a removable magazine is reported not present to indicate that the magazine has been removed.</td>
</tr>
<tr>
  <td><strong>ERROR_TRAY_MALFUNCTION</strong>&lt;br&gt;&lt;br&gt;0x00000010</td>
  <td>The drive at this element address has a tray that must be extended to load or remove media, and the tray is not extending as required.</td>
</tr>
<tr>
  <td><strong>ERROR_UNHANDLED_ERROR</strong>&lt;br&gt;&lt;br&gt;0xFFFFFFFF</td>
  <td>Unknown error condition.</td>
</tr>
</tbody>
</table>

<h3><code>TargetId</code></h3>

<p>For a SCSI changer, specifies the SCSI target ID of the drive at this element address. This member is valid only if the <strong>ElementType</strong> member of the <strong>Element</strong> structure is ChangerDrive and the <strong>Flags</strong> member includes ELEMENT_STATUS_ID_VALID.</p>

<h3><code>Lun</code></h3>

<p>The SCSI logical unit number of the drive at this element address. This member is valid only if the <strong>ElementType</strong> member of the <strong>Element</strong> structure is ChangerDrive and the <strong>Flags</strong> member includes ELEMENT_STATUS_LUN_VALID.</p>

<h3><code>Reserved</code></h3>

<p>Reserved for future use. The value of this member must be zero.</p>

<h3><code>PrimaryVolumeID</code></h3>

<p>The primary volume identifier for the media. If the changer supports a barcode reader and the reader is installed (as indicated by CHANGER_BAR_CODE_SCANNER_INSTALLED in the <strong>Features0</strong> member of
<a href="get_changer_parameters" title="typedef struct _GET_CHANGER_PARAMETERS {&#10;  ULONG  Size;&#10;  USHORT NumberTransportElements;&#10;  USHORT NumberStorageElements;&#10;  USHORT NumberCleanerSlots;&#10;  USHORT NumberIEElements;&#10;  USHORT NumberDataTransferElements;&#10;  USHORT NumberOfDoors;&#10;  USHORT FirstSlotNumber;&#10;  USHORT FirstDriveNumber;&#10;  USHORT FirstTransportNumber;&#10;  USHORT FirstIEPortNumber;&#10;  USHORT FirstCleanerSlotAddress;&#10;  USHORT MagazineSize;&#10;  ULONG  DriveCleanTimeout;&#10;  ULONG  Features0;&#10;  ULONG  Features1;&#10;  UCHAR  MoveFromTransport;&#10;  UCHAR  MoveFromSlot;&#10;  UCHAR  MoveFromIePort;&#10;...">GET_CHANGER_PARAMETERS</a>), <strong>PrimaryVolumeID</strong> is the bar code of the media. If the changer does not support a barcode reader, <strong>PrimaryVolumeID</strong> is the value previously assigned to the media.</p>

<p>This member is valid only if the <strong>Flags</strong> member includes ELEMENT_STATUS_PVOLTAG.</p>

<p>If the volume identifier is missing or unreadable, this member is cleared.</p>

<h3><code>AlternateVolumeID</code></h3>

<p>An alternate volume identification for the media. This member is valid only for two-sided media, and pertains to the ID of the inverted side. It never represents a bar code.</p>

<p>This member is valid only if the <strong>Flags</strong> member includes ELEMENT_STATUS_AVOLTAG.</p>

<h2>See also</h2>

<p><a href="changer_element" title="typedef struct _CHANGER_ELEMENT {&#10;  ELEMENT_TYPE ElementType;&#10;  ULONG        ElementAddress;&#10;} CHANGER_ELEMENT, *PCHANGER_ELEMENT;">CHANGER_ELEMENT</a></p>

<p><a href="changer_element_status_ex" title="typedef struct _CHANGER_ELEMENT_STATUS_EX {&#10;  CHANGER_ELEMENT Element;&#10;  CHANGER_ELEMENT SrcElementAddress;&#10;  ULONG           Flags;&#10;  ULONG           ExceptionCode;&#10;  UCHAR           TargetId;&#10;  UCHAR           Lun;&#10;  USHORT          Reserved;&#10;  UCHAR           PrimaryVolumeID[MAX_VOLUME_ID_SIZE];&#10;  UCHAR           AlternateVolumeID[MAX_VOLUME_ID_SIZE];&#10;  UCHAR           VendorIdentification[VENDOR_ID_LENGTH];&#10;  UCHAR           ProductIdentification[PRODUCT_ID_LENGTH];&#10;  UCHAR           SerialNumber[SERIAL_NUMBER_LENGTH];&#10;} CHANGER_ELEMENT_STATUS_EX, *PCHANGER_ELEMENT_STATUS_EX;">CHANGER_ELEMENT_STATUS_EX</a></p>

<p><a href="ioctl_changer_get_element_status" title="// CTL_CODE(0x0030, 0x005, METHOD_BUFFERED, FILE_READ_ACCESS | FILE_WRITE_ACCESS)&#10;#define IOCTL_CHANGER_GET_ELEMENT_STATUS 0x0030C014">IOCTL_CHANGER_GET_ELEMENT_STATUS</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winioctl/ns-winioctl-changer_element_status">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/winioctl/ns-winioctl-changer_element_status.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
