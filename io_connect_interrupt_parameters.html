<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IO_CONNECT_INTERRUPT_PARAMETERS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IO_CONNECT_INTERRUPT_PARAMETERS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IO_CONNECT_INTERRUPT_PARAMETERS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdm.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _IO_CONNECT_INTERRUPT_PARAMETERS {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Version;
  union {
    IO_CONNECT_INTERRUPT_FULLY_SPECIFIED_PARAMETERS FullySpecified;
    IO_CONNECT_INTERRUPT_LINE_BASED_PARAMETERS      LineBased;
    IO_CONNECT_INTERRUPT_MESSAGE_BASED_PARAMETERS   MessageBased;
  };
} IO_CONNECT_INTERRUPT_PARAMETERS, *PIO_CONNECT_INTERRUPT_PARAMETERS;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_io_connect_interrupt_parameters">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/io_connect_interrupt_parameters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-wdm-_io_connect_interrupt_parameters)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_io_connect_interrupt_parameters-structure">_IO_CONNECT_INTERRUPT_PARAMETERS structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>IO_CONNECT_INTERRUPT_PARAMETERS</strong> structure contains the parameters that a driver supplies to the <a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a> routine to register an interrupt service routine (ISR).</p>

<h2 id="members">Members</h2>

<h3 id="version"><code>Version</code></h3>

<p>On input, specifies the particular operation to be performed by <strong><a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a></strong>, as follows.</p>

<table>
<thead>
<tr>
  <th>Version value</th>
  <th><a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a> operation</th>
</tr>
</thead>
<tbody>
<tr>
  <td>CONNECT_FULLY_SPECIFIED</td>
  <td>Connects to a specific interrupt using information provided by the Plug and Play (PnP) manager. Use the <strong>FullySpecified</strong> member to provide the additional parameters of the operation.</td>
</tr>
<tr>
  <td>CONNECT_LINE_BASED</td>
  <td>Registers an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kservice_routine">InterruptService</a> routine for the device's line-based interrupts. Use the <strong>LineBased</strong> member to provide the additional parameters of the operation.</td>
</tr>
<tr>
  <td>CONNECT_MESSAGE_BASED</td>
  <td>Registers an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kmessage_service_routine">InterruptMessageService</a> routine for the device's message-signaled interrupts. The caller can also specify a fallback <em>InterruptService</em> routine if the device only has line-based interrupts. Use the <strong>MessageBased</strong> member to provide the additional parameters of the operation.</td>
</tr>
</tbody>
</table>

<p>On return, the routine provides information about the operation, as follows.</p>

<table>
<thead>
<tr>
  <th>Version value</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>CONNECT_FULLY_SPECIFIED</td>
  <td>The caller specified CONNECT_LINE_BASED or CONNECT_MESSAGE_BASED for <strong>Version</strong> on a platform that does not support it. Retry the operation using CONNECT_FULLY_SPECIFIED.</td>
</tr>
<tr>
  <td>CONNECT_LINE_BASED</td>
  <td>The caller specified CONNECT_MESSAGE_BASED and the caller's fallback <em>InterruptService</em> routine was registered.</td>
</tr>
<tr>
  <td>CONNECT_MESSAGE_BASED</td>
  <td>The caller specified CONNECT_MESSAGE_BASED and the caller's <em>InterruptMessageService</em> routine was registered.</td>
</tr>
</tbody>
</table>

<h3 id="fullyspecified"><code>FullySpecified</code></h3>

<p>Specifies the additional parameters of the operation to be performed by <a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a> when <strong>Version</strong> has a value of CONNECT_FULLY_SPECIFIED (or CONNECT_FULLY_SPECIFIED_GROUP if the <strong>Group</strong> member is used). For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-the-connect-fully-specified-version-of-ioconnectinterruptex">Using the CONNECT_FULLY_SPECIFIED Version of IoConnectInterruptEx</a>.</p>

<h4 id="physicaldeviceobject">PhysicalDeviceObject</h4>

<p>A pointer to the PDO for the device.</p>

<h4 id="interruptobject">InterruptObject</h4>

<p>A pointer to a location that receives a pointer to the set of interrupt objects for the device.</p>

<h4 id="serviceroutine">ServiceRoutine</h4>

<p>A pointer to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kservice_routine">InterruptService</a> routine to register as the ISR for the device's interrupts.</p>

<h4 id="servicecontext">ServiceContext</h4>

<p>Specifies the value to be passed as the <em>ServiceContext</em> parameter of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kservice_routine">InterruptService</a> routine.</p>

<h4 id="spinlock">SpinLock</h4>

<p>Either a pointer to a spin lock to serve as the interrupt spin lock for the set of interrupts, or <strong>NULL</strong>. If <strong>NULL</strong>, the system allocates a spin lock to serve as the interrupt spin lock. If non-<strong>NULL</strong>, you should have initialized the spin lock with <a href="keinitializespinlock" title="VOID KeInitializeSpinLock(&#10;  [out] PKSPIN_LOCK SpinLock&#10;);">KeInitializeSpinLock</a>.</p>

<h4 id="synchronizeirql">SynchronizeIrql</h4>

<p>Specifies the DIRQL at which the ISR will run. If the ISR handles more than one interrupt vector or the driver has more than one ISR, this value must be the maximum IRQL of the set of interrupts. The IRQL for an interrupt is passed in the <strong>CmResourceTypeInterrupt</strong> resource at the <strong>u.Interrupt.Level</strong> member of <a href="cm_partial_resource_descriptor" title="typedef struct _CM_PARTIAL_RESOURCE_DESCRIPTOR {&#10;  UCHAR  Type;&#10;  UCHAR  ShareDisposition;&#10;  USHORT Flags;&#10;  union {&#10;    struct {&#10;      PHYSICAL_ADDRESS Start;&#10;      ULONG            Length;&#10;    } Generic;&#10;    struct {&#10;      PHYSICAL_ADDRESS Start;&#10;      ULONG            Length;&#10;    } Port;&#10;    struct {&#10;#if ...&#10;      USHORT    Level;&#10;      USHORT    Group;&#10;#else&#10;      ULONG     Level;&#10;#endif&#10;...">CM_PARTIAL_RESOURCE_DESCRIPTOR</a>. Otherwise, the <strong>Irql</strong> and <strong>SynchronizeIrql</strong> values are identical.</p>

<h4 id="floatingsave">FloatingSave</h4>

<p>Specifies if the system saves the processor's floating-point state when the interrupt occurs. If <strong>TRUE</strong>, the system saves the floating-point state.</p>

<h4 id="sharevector">ShareVector</h4>

<p>Specifies whether the interrupt vector is sharable. Line-based PCI interrupts must be sharable. For message-signaled PCI interrupts, driver writers can choose whether their interrupts are sharable, but should choose to make them sharable by default.</p>

<h4 id="vector">Vector</h4>

<p>Specifies the interrupt vector passed in the <strong>CmResourceTypeInterrupt</strong> resource at the <strong>u.Interrupt.Vector</strong> member of <strong><a href="cm_partial_resource_descriptor" title="typedef struct _CM_PARTIAL_RESOURCE_DESCRIPTOR {&#10;  UCHAR  Type;&#10;  UCHAR  ShareDisposition;&#10;  USHORT Flags;&#10;  union {&#10;    struct {&#10;      PHYSICAL_ADDRESS Start;&#10;      ULONG            Length;&#10;    } Generic;&#10;    struct {&#10;      PHYSICAL_ADDRESS Start;&#10;      ULONG            Length;&#10;    } Port;&#10;    struct {&#10;#if ...&#10;      USHORT    Level;&#10;      USHORT    Group;&#10;#else&#10;      ULONG     Level;&#10;#endif&#10;...">CM_PARTIAL_RESOURCE_DESCRIPTOR</a></strong>.</p>

<h4 id="irql">Irql</h4>

<p>Specifies the DIRQL passed in the <strong>CmResourceTypeInterrupt</strong> resource at the <strong>u.Interrupt.Level</strong> member of <a href="cm_partial_resource_descriptor" title="typedef struct _CM_PARTIAL_RESOURCE_DESCRIPTOR {&#10;  UCHAR  Type;&#10;  UCHAR  ShareDisposition;&#10;  USHORT Flags;&#10;  union {&#10;    struct {&#10;      PHYSICAL_ADDRESS Start;&#10;      ULONG            Length;&#10;    } Generic;&#10;    struct {&#10;      PHYSICAL_ADDRESS Start;&#10;      ULONG            Length;&#10;    } Port;&#10;    struct {&#10;#if ...&#10;      USHORT    Level;&#10;      USHORT    Group;&#10;#else&#10;      ULONG     Level;&#10;#endif&#10;...">CM_PARTIAL_RESOURCE_DESCRIPTOR</a>. Starting with Windows 8, a driver can register an ISR that runs at passive level by setting <strong>Irql</strong> and <strong>SynchronizeIrql</strong> to PASSIVE_LEVEL, and setting <strong>SpinLock</strong> to <strong>NULL</strong>. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-passive-level-interrupt-handling-routines">Using Passive-Level Interrupt Service Routines</a>.</p>

<h4 id="interruptmode">InterruptMode</h4>

<p>Specifies a <a href="kinterrupt_mode" title="typedef enum _KINTERRUPT_MODE {&#10;  LevelSensitive,&#10;  Latched&#10;} KINTERRUPT_MODE;">KINTERRUPT_MODE</a> that determines whether the interrupt is level-triggered (<strong>InterruptMode</strong> = <strong>LevelSensitive</strong>) or edge-triggered (<strong>InterruptMode</strong> = <strong>Latched</strong>). For shared interrupt lines from a PCI bus, specify <strong>LevelSensitive</strong>. For PCI message-signaled interrupts, specify <strong>Latched</strong>.</p>

<h4 id="processorenablemask">ProcessorEnableMask</h4>

<p>Specifies the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/interrupt-affinity-and-priority#about-kaffinity"><strong>KAFFINITY</strong></a> mask that represents the set of processors on which the device's interrupts can occur. This value is passed in the <strong>CmResourceTypeInterrupt</strong> resource at the <strong>u.Interrupt.Affinity</strong> member of <strong><a href="cm_partial_resource_descriptor" title="typedef struct _CM_PARTIAL_RESOURCE_DESCRIPTOR {&#10;  UCHAR  Type;&#10;  UCHAR  ShareDisposition;&#10;  USHORT Flags;&#10;  union {&#10;    struct {&#10;      PHYSICAL_ADDRESS Start;&#10;      ULONG            Length;&#10;    } Generic;&#10;    struct {&#10;      PHYSICAL_ADDRESS Start;&#10;      ULONG            Length;&#10;    } Port;&#10;    struct {&#10;#if ...&#10;      USHORT    Level;&#10;      USHORT    Group;&#10;#else&#10;      ULONG     Level;&#10;#endif&#10;...">CM_PARTIAL_RESOURCE_DESCRIPTOR</a></strong>.</p>

<h4 id="group">Group</h4>

<p>Specifies a group number that identifies the processor group to which the interrupt is to be delivered. Typically, a driver receives its group number as part of the translated resources that are included in an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/irp-mn-start-device">IRP_MN_START_DEVICE</a> request. Starting with Windows 7, the <strong>Group</strong> member is used if the <strong>Version</strong> member of the <strong>IO_CONNECT_INTERRUPT_PARAMETERS</strong> structure is set to CONNECT_FULLY_SPECIFIED_GROUP. The <strong>Group</strong> member is ignored if <strong>Version</strong> is set to CONNECT_FULLY_SPECIFIED, in which case the group number for delivery of the interrupt is always 0.</p>

<h3 id="linebased"><code>LineBased</code></h3>

<p>Specifies the additional parameters of the operation to be performed by <a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a> when <strong>Version</strong> has a value of CONNECT_LINE_BASED. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-the-connect-line-based-version-of-ioconnectinterruptex">Using the CONNECT_LINE_BASED Version of IoConnectInterruptEx</a>.</p>

<h4 id="physicaldeviceobject-2">PhysicalDeviceObject</h4>

<p>A pointer to the physical device object (PDO) of the device.</p>

<h4 id="interruptobject-2">InterruptObject</h4>

<p>A pointer to a location that receives a pointer to the set of interrupt objects for the device.</p>

<h4 id="serviceroutine-2">ServiceRoutine</h4>

<p>A pointer to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kservice_routine">InterruptService</a> routine to register as the ISR for the device's interrupts.</p>

<h4 id="servicecontext-2">ServiceContext</h4>

<p>Specifies the value to be passed as the <em>ServiceContext</em> parameter of the <em>InterruptService</em> routine.</p>

<h4 id="spinlock-2">SpinLock</h4>

<p>Either a pointer to a spin lock to serve as the interrupt spin lock for the set of interrupts, or <strong>NULL</strong>. If <strong>NULL</strong>, the system allocates a spin lock to serve as the interrupt spin lock. If non-<strong>NULL</strong>, you should have initialized the spin lock with <a href="keinitializespinlock" title="VOID KeInitializeSpinLock(&#10;  [out] PKSPIN_LOCK SpinLock&#10;);">KeInitializeSpinLock</a>.</p>

<h4 id="synchronizeirql-2">SynchronizeIrql</h4>

<p>Specifies the minimum device IRQL (DIRQL) at which the ISR runs. The system uses this value only if it is greater than the maximum IRQL of the set of interrupts; otherwise, the system uses the maximum IRQL. Drivers almost always specify PASSIVE_LEVEL for <strong>SynchronizeIrql</strong>. (A driver should specify a value other than PASSIVE_LEVEL only if the ISR must run above a certain IRQL.) Starting with Windows 8, a set of line-based interrupt resources that are assigned to a device can share an ISR that runs at IRQL = PASSIVE_LEVEL. If <strong>SynchronizeIrql</strong> = PASSIVE_LEVEL, and the maximum IRQL of this set of interrupts is PASSIVE_LEVEL, the <em>InterruptService</em> routine is called at PASSIVE_LEVEL. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-passive-level-interrupt-handling-routines">Using Passive-Level Interrupt Service Routines</a>.</p>

<h4 id="floatingsave-2">FloatingSave</h4>

<p>Specifies if the system saves the processor's floating-point state when the interrupt occurs. If <strong>TRUE</strong>, the system saves floating-point state. For x86-based and Itanium-based platforms, this value must be set to <strong>FALSE</strong>. For more information about saving floating-point and MMX state, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-floating-point-or-mmx-in-a-wdm-driver">Using Floating Point or MMX in a WDM Driver</a>.</p>

<h3 id="messagebased"><code>MessageBased</code></h3>

<p>Specifies the additional parameters of the operation to be performed by <a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a> when <strong>Version</strong> has a value of CONNECT_MESSAGE_BASED. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/using-the-connect-message-based-version-of-ioconnectinterruptex">Using the CONNECT_MESSAGE_BASED Version of IoConnectInterruptEx</a>.</p>

<h4 id="physicaldeviceobject-3">PhysicalDeviceObject</h4>

<p>A pointer to the PDO of the device.</p>

<h4 id="connectioncontext">ConnectionContext</h4>

<p>A pointer to a location that receives a pointer to the connection context. If on return <strong>Version</strong> has a value of CONNECT_LINE_BASED, the routine provides a pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/kernel/eprocess">KINTERRUPT</a> structure. If on return <strong>Version</strong> has a value of CONNECT_MESSAGE_BASED, the routine provides a pointer to an <a href="io_interrupt_message_info" title="typedef struct _IO_INTERRUPT_MESSAGE_INFO {&#10;  KIRQL                           UnifiedIrql;&#10;  ULONG                           MessageCount;&#10;  IO_INTERRUPT_MESSAGE_INFO_ENTRY MessageInfo[1];&#10;} IO_INTERRUPT_MESSAGE_INFO, *PIO_INTERRUPT_MESSAGE_INFO;">IO_INTERRUPT_MESSAGE_INFO</a> structure.</p>

<p>To minimize casting, <strong>ConnectionContext</strong> is defined as a union. Use <strong>ConnectionContext.Generic</strong> to treat the location as a PVOID. Use <strong>ConnectionContext.InterruptObject</strong> and <strong>ConnectionContext.InterruptMessageTable</strong> to treat the location as a PKINTERRUPT or <a href="io_interrupt_message_info" title="typedef struct _IO_INTERRUPT_MESSAGE_INFO {&#10;  KIRQL                           UnifiedIrql;&#10;  ULONG                           MessageCount;&#10;  IO_INTERRUPT_MESSAGE_INFO_ENTRY MessageInfo[1];&#10;} IO_INTERRUPT_MESSAGE_INFO, *PIO_INTERRUPT_MESSAGE_INFO;">PIO_INTERRUPT_MESSAGE_INFO</a> variable respectively.</p>

<h5 id="generic">Generic</h5>

<p>A pointer to a PVOID variable into which the <strong><a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a></strong> routine writes a pointer to the connection context.</p>

<h5 id="interruptmessagetable">InterruptMessageTable</h5>

<p>A pointer to a <a href="io_interrupt_message_info" title="typedef struct _IO_INTERRUPT_MESSAGE_INFO {&#10;  KIRQL                           UnifiedIrql;&#10;  ULONG                           MessageCount;&#10;  IO_INTERRUPT_MESSAGE_INFO_ENTRY MessageInfo[1];&#10;} IO_INTERRUPT_MESSAGE_INFO, *PIO_INTERRUPT_MESSAGE_INFO;">PIO_INTERRUPT_MESSAGE_INFO</a> variable into which the <strong><a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a></strong> routine writes a pointer to the connection context.</p>

<h5 id="interruptobject-3">InterruptObject</h5>

<p>A pointer to a PKINTERRUPT variable into which the <strong><a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a></strong> routine writes a pointer to the connection context.</p>

<h4 id="messageserviceroutine">MessageServiceRoutine</h4>

<p>A pointer to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kmessage_service_routine">InterruptMessageService</a> routine to register as the ISR for the device's interrupts.</p>

<h4 id="servicecontext-3">ServiceContext</h4>

<p>Specifies the value to be passed as the <em>ServiceContext</em> parameter of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kmessage_service_routine">InterruptMessageService</a> or <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kservice_routine">InterruptService</a> routine for the interrupt.</p>

<h4 id="spinlock-3">SpinLock</h4>

<p>Either a pointer to a spin lock to serve as the interrupt spin lock for the set of interrupts, or <strong>NULL</strong>. If <strong>NULL</strong>, the system allocates a spin lock to serve as the interrupt spin lock. If non-<strong>NULL</strong>, you should have initialized the spin lock with <a href="keinitializespinlock" title="VOID KeInitializeSpinLock(&#10;  [out] PKSPIN_LOCK SpinLock&#10;);">KeInitializeSpinLock</a>.</p>

<h4 id="synchronizeirql-3">SynchronizeIrql</h4>

<p>Specifies the minimum device IRQL (DIRQL) at which the ISR runs. The system only uses this value if it is greater than the maximum IRQL of the set of interrupts; otherwise, the system uses the maximum IRQL. Drivers almost always specify PASSIVE_LEVEL for <strong>SynchronizeIrql</strong>.</p>

<h4 id="floatingsave-3">FloatingSave</h4>

<p>Specifies if the system saves the processor's floating-point state when the interrupt occurs. If <strong>TRUE</strong>, the system saves floating-point state.</p>

<h4 id="fallbackserviceroutine">FallBackServiceRoutine</h4>

<p>A pointer to an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-kservice_routine">InterruptService</a> routine to use as the ISR for line-based interrupts. If the device has no message-signaled interrupts, but has line-based interrupts, the system registers this routine to handle the line-based interrupts.</p>

<h2 id="remarks">Remarks</h2>

<p>The <a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a> routine takes a single <em>Parameters</em> parameter, which points to an <strong>IO_CONNECT_INTERRUPT_PARAMETERS</strong> structure that contains all of the parameters of the operation.</p>

<h2 id="see-also">See also</h2>

<p><a href="ioconnectinterruptex" title="NTSTATUS IoConnectInterruptEx(&#10;  [in, out] PIO_CONNECT_INTERRUPT_PARAMETERS Parameters&#10;);">IoConnectInterruptEx</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_io_connect_interrupt_parameters">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdm/ns-wdm-_io_connect_interrupt_parameters.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
