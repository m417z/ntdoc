<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="ReplyPrinterChangeNotification - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ReplyPrinterChangeNotification - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            ReplyPrinterChangeNotification - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// winsplp.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">BOOL ReplyPrinterChangeNotification(
                  HANDLE hPrinter,
                  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>  fdwChangeFlags,
  [out, optional] PDWORD pdwResult,
  [in, optional]  PVOID  pPrinterNotifyInfo
);</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/winsplp/nf-winsplp-replyprinterchangenotification">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/replyprinterchangenotification.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nf-winsplp-replyprinterchangenotification)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The print spooler's <strong>ReplyPrinterChangeNotification</strong> function allows a print provider to update the spooler's database of print queue events associated with a notification handle, and to notify the client that print queue events have occurred.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="hprinter"><code>hPrinter</code></h3>

<p>Caller-supplied handle. This handle must have been previously received as the <em>hNotify</em> input to the print provider's <a href="findfirstprinterchangenotification" title="HANDLE FindFirstPrinterChangeNotification(&#10;  HANDLE hPrinter,&#10;  DWORD  fdwFilter,&#10;  DWORD  fdwOptions,&#10;  PVOID  pPrinterNotifyOptions&#10;);">FindFirstPrinterChangeNotification</a> function.</p>

<h3 id="fdwchangeflags"><code>fdwChangeFlags</code></h3>

<p>One or more caller-supplied PRINTER_CHANGE_-prefixed flags, listed in the Microsoft Windows SDK documentation's description of <strong>FindNextPrinterChangeNotification</strong>.</p>

<h3 id="pdwresult-out-optional"><code>pdwResult</code> [out, optional]</h3>

<p>Optional. If not <strong>NULL</strong>, it receives spooler-supplied PRINTER_NOTIFY_INFO-prefixed flags indicating results of updating the supplied information.</p>

<h3 id="pprinternotifyinfo-in-optional"><code>pPrinterNotifyInfo</code> [in, optional]</h3>

<p>Optional. Caller-supplied address of a PRINTER_NOTIFY_INFO structure (described in the Windows SDK documentation). Can be <strong>NULL</strong> if no new notification information is being added.</p>

<h2 id="return-value">Return value</h2>

<p>If the operation succeeds, the function returns <strong>TRUE</strong>. Otherwise the function returns <strong>FALSE</strong>. The caller can obtain an error code by calling <strong>GetLastError</strong>.</p>

<h2 id="remarks">Remarks</h2>

<p>Print providers that do not support polling (see <a href="findfirstprinterchangenotification" title="HANDLE FindFirstPrinterChangeNotification(&#10;  HANDLE hPrinter,&#10;  DWORD  fdwFilter,&#10;  DWORD  fdwOptions,&#10;  PVOID  pPrinterNotifyOptions&#10;);">FindFirstPrinterChangeNotification</a>) must notify the spooler of the occurrence of any events represented by the PRINTER_CHANGE_-prefixed flags received by the provider's <strong><a href="findfirstprinterchangenotification" title="HANDLE FindFirstPrinterChangeNotification(&#10;  HANDLE hPrinter,&#10;  DWORD  fdwFilter,&#10;  DWORD  fdwOptions,&#10;  PVOID  pPrinterNotifyOptions&#10;);">FindFirstPrinterChangeNotification</a></strong> function. When an event occurs, the print provider can call <strong>ReplyPrinterChangeNotification</strong> to inform the spooler of the event and to supply information associated with the event. The spooler keeps track of this event information, for each notification handle, and delivers the information to an application when the application calls <strong>FindNextPrinterChangeNotification</strong> (described in the Windows SDK documentation).</p>

<p>When a print provider calls <strong>ReplyPrinterChangeNotification</strong>, it must identify the event that has occurred by setting a PRINTER_CHANGE_-prefixed flag in <em>fwdFlags</em> or by using <em>pPrinterNotifyInfo</em> to return a PRINTER_NOTIFY_INFO structure. (Use the flags listed in the Windows SDK documentation's description of <strong>FindNextPrinterChangeNotification</strong>--not the flags listed in the Windows SDK documentation's description of <strong><a href="findfirstprinterchangenotification" title="HANDLE FindFirstPrinterChangeNotification(&#10;  HANDLE hPrinter,&#10;  DWORD  fdwFilter,&#10;  DWORD  fdwOptions,&#10;  PVOID  pPrinterNotifyOptions&#10;);">FindFirstPrinterChangeNotification</a></strong>.)</p>

<p>Calling <strong>ReplyPrinterChangeNotification</strong> causes the spooler to signal the client application that a print queue event has occurred. This happens even if the provider supplies <strong>NULL</strong> for <em>pPrinterNotifyInfo</em>. To update the spooler's record of print queue changes without causing the client to be notified, use <a href="partialreplyprinterchangenotification" title="BOOL PartialReplyPrinterChangeNotification(&#10;  HANDLE                    hPrinter,&#10;  PPRINTER_NOTIFY_INFO_DATA pDataSrc&#10;);">PartialReplyPrinterChangeNotification</a>. It is common to call <strong><a href="partialreplyprinterchangenotification" title="BOOL PartialReplyPrinterChangeNotification(&#10;  HANDLE                    hPrinter,&#10;  PPRINTER_NOTIFY_INFO_DATA pDataSrc&#10;);">PartialReplyPrinterChangeNotification</a></strong> several times to update the spooler's database, then to call <strong>ReplyPrinterChangeNotification</strong> to notify the client that changes have occurred.</p>

<p>For additional information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/print/supporting-printer-change-notifications">Supporting Printer Change Notifications</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="findfirstprinterchangenotification" title="HANDLE FindFirstPrinterChangeNotification(&#10;  HANDLE hPrinter,&#10;  DWORD  fdwFilter,&#10;  DWORD  fdwOptions,&#10;  PVOID  pPrinterNotifyOptions&#10;);">FindFirstPrinterChangeNotification</a></p>

<p><a href="partialreplyprinterchangenotification" title="BOOL PartialReplyPrinterChangeNotification(&#10;  HANDLE                    hPrinter,&#10;  PPRINTER_NOTIFY_INFO_DATA pDataSrc&#10;);">PartialReplyPrinterChangeNotification</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/winsplp/nf-winsplp-replyprinterchangenotification">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/winsplp/nf-winsplp-replyprinterchangenotification.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
