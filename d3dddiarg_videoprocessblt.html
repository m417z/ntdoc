<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3DDDIARG_VIDEOPROCESSBLT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3DDDIARG_VIDEOPROCESSBLT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3DDDIARG_VIDEOPROCESSBLT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dumddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _D3DDDIARG_VIDEOPROCESSBLT {
  [in] REFERENCE_TIME               TargetFrame;
  [in] HANDLE                       hVideoProcess;
  [in] RECT                         TargetRect;
  [in] SIZE                         ConstrictionSize;
  [in] <a href="uint" title="typedef unsigned int UINT;">UINT</a>                         StreamingFlags;
  [in] <a href="dxvaddi_ayuvsample16" title="typedef struct _DXVADDI_AYUVSAMPLE16 {&#10;  [in] USHORT Cr;&#10;  [in] USHORT Cb;&#10;  [in] USHORT Y;&#10;  [in] USHORT Alpha;&#10;} DXVADDI_AYUVSAMPLE16;">DXVADDI_AYUVSAMPLE16</a>         BackgroundColor;
  [in] <a href="dxvaddi_extendedformat" title="typedef struct _DXVADDI_EXTENDEDFORMAT {&#10;  union {&#10;    struct {&#10;      UINT SampleFormat : 8;&#10;      UINT VideoChromaSubsampling : 4;&#10;      UINT NominalRange : 3;&#10;      UINT VideoTransferMatrix : 3;&#10;      UINT VideoLighting : 4;&#10;      UINT VideoPrimaries : 5;&#10;      UINT VideoTransferFunction : 5;&#10;    };&#10;         UINT Value;&#10;  };&#10;} DXVADDI_EXTENDEDFORMAT;">DXVADDI_EXTENDEDFORMAT</a>       DestFormat;
  [in] <a href="dxvaddi_videoprocessbltflags" title="typedef struct _DXVADDI_VIDEOPROCESSBLTFLAGS {&#10;  union {&#10;    struct {&#10;      UINT BackgroundChanged : 1;&#10;      UINT TargetRectChanged : 1;&#10;      UINT ColorDataChanged : 1;&#10;      UINT AlphaChanged : 1;&#10;      UINT Reserved : 12;&#10;      UINT DestData : 16;&#10;    };&#10;    UINT Value;&#10;  };&#10;} DXVADDI_VIDEOPROCESSBLTFLAGS;">DXVADDI_VIDEOPROCESSBLTFLAGS</a> DestFlags;
  [in] <a href="dxvaddi_procampvalues" title="typedef struct _DXVADDI_PROCAMPVALUES {&#10;  [in] DXVADDI_FIXED32 Brightness;&#10;  [in] DXVADDI_FIXED32 Contrast;&#10;  [in] DXVADDI_FIXED32 Hue;&#10;  [in] DXVADDI_FIXED32 Saturation;&#10;} DXVADDI_PROCAMPVALUES;">DXVADDI_PROCAMPVALUES</a>        ProcAmpValues;
  [in] <a href="dxvaddi_fixed32" title="typedef struct _DXVADDI_FIXED32 {&#10;  union {&#10;    struct {&#10;      USHORT Fraction;&#10;      SHORT  Value;&#10;    };&#10;         LONG ll;&#10;  };&#10;} DXVADDI_FIXED32;">DXVADDI_FIXED32</a>              Alpha;
  [in] <a href="dxvaddi_filtervalues" title="typedef struct _DXVADDI_FILTERVALUES {&#10;  [in] DXVADDI_FIXED32 Level;&#10;  [in] DXVADDI_FIXED32 Threshold;&#10;  [in] DXVADDI_FIXED32 Radius;&#10;} DXVADDI_FILTERVALUES;">DXVADDI_FILTERVALUES</a>         NoiseFilterLuma;
  [in] <a href="dxvaddi_filtervalues" title="typedef struct _DXVADDI_FILTERVALUES {&#10;  [in] DXVADDI_FIXED32 Level;&#10;  [in] DXVADDI_FIXED32 Threshold;&#10;  [in] DXVADDI_FIXED32 Radius;&#10;} DXVADDI_FILTERVALUES;">DXVADDI_FILTERVALUES</a>         NoiseFilterChroma;
  [in] <a href="dxvaddi_filtervalues" title="typedef struct _DXVADDI_FILTERVALUES {&#10;  [in] DXVADDI_FIXED32 Level;&#10;  [in] DXVADDI_FIXED32 Threshold;&#10;  [in] DXVADDI_FIXED32 Radius;&#10;} DXVADDI_FILTERVALUES;">DXVADDI_FILTERVALUES</a>         DetailFilterLuma;
  [in] <a href="dxvaddi_filtervalues" title="typedef struct _DXVADDI_FILTERVALUES {&#10;  [in] DXVADDI_FIXED32 Level;&#10;  [in] DXVADDI_FIXED32 Threshold;&#10;  [in] DXVADDI_FIXED32 Radius;&#10;} DXVADDI_FILTERVALUES;">DXVADDI_FILTERVALUES</a>         DetailFilterChroma;
  [in] <a href="dxvaddi_videosample" title="typedef struct _DXVADDI_VIDEOSAMPLE {&#10;  [in] REFERENCE_TIME           Start;&#10;  [in] REFERENCE_TIME           End;&#10;  [in] DXVADDI_EXTENDEDFORMAT   SampleFormat;&#10;  [in] DXVADDI_VIDEOSAMPLEFLAGS SampleFlags;&#10;  [in] HANDLE                   SrcResource;&#10;  [in] UINT                     SrcSubResourceIndex;&#10;  [in] RECT                     SrcRect;&#10;  [in] RECT                     DstRect;&#10;       DXVADDI_AYUVSAMPLE8      Pal[16];&#10;  [in] DXVADDI_FIXED32          PlanarAlpha;&#10;} DXVADDI_VIDEOSAMPLE;">DXVADDI_VIDEOSAMPLE</a>          *pSrcSurfaces;
  [in] <a href="uint" title="typedef unsigned int UINT;">UINT</a>                         NumSrcSurfaces;
} D3DDDIARG_VIDEOPROCESSBLT;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_d3dddiarg_videoprocessblt">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3dddiarg_videoprocessblt.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dumddi-_d3dddiarg_videoprocessblt)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_d3dddiarg_videoprocessblt-structure">_D3DDDIARG_VIDEOPROCESSBLT structure</h1>

<h2 id="description">Description</h2>

<p>The D3DDDIARG_VIDEOPROCESSBLT structure describes a Microsoft DirectX Video Acceleration (VA) video processing operation to perform.</p>

<h2 id="members">Members</h2>

<h3 id="targetframe-in"><code>TargetFrame</code> [in]</h3>

<p>A REFERENCE_TIME value that identifies the location of the output frame within the sequence of input frames. If only deinterlacing is performed, the target time should coincide with either the starting display time of a sample, as defined by the **Start** member in the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_videosample">DXVADDI_VIDEOSAMPLE</a> structure, or the midpoint between the starting display time and the ending display time.</p>

<p>If a frame rate conversion is requested, the time in <strong>TargetFrame</strong> can be different from any of the times in the <strong>Start</strong> members of the samples.</p>

<h3 id="hvideoprocess-in"><code>hVideoProcess</code> [in]</h3>

<p>A handle to the DirectX VA video processing device. The user-mode display driver returns this handle in a call to its <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_createvideoprocessdevice">CreateVideoProcessDevice</a> function.</p>

<h3 id="targetrect-in"><code>TargetRect</code> [in]</h3>

<p>A pointer to a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/windef/ns-windef-rect">RECT</a> structure that describes the location within the destination surface to which the output image is written. Note that the output image is restricted to the pixels within the rectangle that is pointed to by <strong>TargetRect</strong>. That is, every pixel within this rectangle must be written to; pixels outside this rectangle must not be modified.</p>

<h3 id="constrictionsize-in"><code>ConstrictionSize</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/customize/desktop/unattend/microsoft-windows-smbserver-size">SIZE</a> structure that specifies, for protected content, the size to reduce the output image to. <strong>ConstrictionSize</strong> should be from (1, 1) to (width, height) of the target rectangle that is specified in the <strong>TargetRect</strong> member. <strong>ConstrictionSize</strong> should be (0, 0) to represent no constriction.</p>

<p>For example, consider video that natively has 1920 x 1080 pixels and that is displayed full screen on a 1920 x 1080-resolution monitor for which output protection is unsupported. If the video content specifies a rule that only 854 x 480 pixels of original information can be displayed, the driver must reduce the original image from 1920 x 1080 to 854 x 480 and then stretch the image again to 1920 x 1080. In this example, the SIZE structure in the <strong>ConstrictionSize</strong> member would specify a size of 854 x 480 pixels.</p>

<h3 id="streamingflags-in"><code>StreamingFlags</code> [in]</h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that identifies streaming flags. Currently, no streaming flags are defined.</p>

<h3 id="backgroundcolor-in"><code>BackgroundColor</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_ayuvsample16">DXVADDI_AYUVSAMPLE16</a> structure that identifies background color.</p>

<h3 id="destformat-in"><code>DestFormat</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_extendedformat">DXVADDI_EXTENDEDFORMAT</a> structure that identifies extended format information for the destination surface.</p>

<h3 id="destflags-in"><code>DestFlags</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_videoprocessbltflags">DXVADDI_VIDEOPROCESSBLTFLAGS</a> structure that identifies changes in the current destination surface from the previous destination surface.</p>

<h3 id="procampvalues-in"><code>ProcAmpValues</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_procampvalues">DXVADDI_PROCAMPVALUES</a> structure that specifies ProcAmp adjustment data that is output to the destination surface.</p>

<h3 id="alpha-in"><code>Alpha</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_fixed32">DXVADDI_FIXED32</a> structure that specifies the planar-transparency value of the output image as it is written to the destination surface. When the alpha value is 1.0, the background color is drawn opaque (without transparency and alpha blending). When the alpha value is 0.0, the background should not be drawn (transparent).</p>

<h3 id="noisefilterluma-in"><code>NoiseFilterLuma</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_filtervalues">DXVADDI_FILTERVALUES</a> structure that specifies the luma noise filter.</p>

<h3 id="noisefilterchroma-in"><code>NoiseFilterChroma</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_filtervalues">DXVADDI_FILTERVALUES</a> structure that specifies the chroma noise filter.</p>

<h3 id="detailfilterluma-in"><code>DetailFilterLuma</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_filtervalues">DXVADDI_FILTERVALUES</a> structure that specifies the luma detail filter.</p>

<h3 id="detailfilterchroma-in"><code>DetailFilterChroma</code> [in]</h3>

<p>A <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_filtervalues">DXVADDI_FILTERVALUES</a> structure that specifies the chroma detail filter.</p>

<h3 id="psrcsurfaces-in"><code>pSrcSurfaces</code> [in]</h3>

<p>An array of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_videosample">DXVADDI_VIDEOSAMPLE</a> structures that describe the input samples that are required for the deinterlacing, frame-rate conversion, and substream compositing operations. For more information about how input samples are arranged in this array, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/input-buffer-order">Input Buffer Order</a>.</p>

<h3 id="numsrcsurfaces-in"><code>NumSrcSurfaces</code> [in]</h3>

<p>The number of input samples in the array at <strong>pSrcSurfaces</strong>.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_createvideoprocessdevice">CreateVideoProcessDevice</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_ayuvsample8">DXVADDI_AYUVSAMPLE8</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_extendedformat">DXVADDI_EXTENDEDFORMAT</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_procampvalues">DXVADDI_PROCAMPVALUES</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_videoprocessbltflags">DXVADDI_VIDEOPROCESSBLTFLAGS</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_dxvaddi_videosample">DXVADDI_VIDEOSAMPLE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/windef/ns-windef-rect">RECT</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_videoprocessblt">VideoProcessBlt</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/ns-d3dumddi-_d3dddiarg_videoprocessblt">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dumddi/ns-d3dumddi-_d3dddiarg_videoprocessblt.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
