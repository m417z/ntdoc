<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="RILIMSI - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>RILIMSI - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            RILIMSI - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddrilapitypes.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">struct RILIMSI {
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> cbSize;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwParams;
  WCHAR wszImsi[MAXLENGTH_IMSI];
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwMcc;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> dwMnc;
};</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddrilapitypes/ns-ntddrilapitypes-rilimsi">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// rilapitypes.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _RILIMSI {
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>                  cbSize;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>                  dwParams;
  WCHAR [MAXLENGTH_IMSI] wszImsi;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>                  dwMcc;
  <a href="dword" title="typedef unsigned long DWORD;">DWORD</a>                  dwMnc;
} RILIMSI, RILIMSI;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/rilapitypes/ns-rilapitypes-rilimsi">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/rilimsi.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddrilapitypes-rilimsi)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="rilimsi-structure-ntddrilapitypesh">RILIMSI structure (ntddrilapitypes.h)</h1>

<h2 id="description">Description</h2>

<p><strong>Warning</strong> The Cellular COM API is deprecated in Windows 10. This content is provided to support maintenance of OEM and mobile operator created Windows Phone 8.1 applications.</p>

<p>This structure represents a RILIMSI.</p>

<p><code>const int MAXLENGTH_IMSI = 16</code></p>

<h2 id="members">Members</h2>

<h3 id="cbsize"><code>cbSize</code></h3>

<p>The size of the structure in bytes.</p>

<h3 id="dwparams"><code>dwParams</code></h3>

<p>A bitwise combination of <a rel="noopener" target="_blank" href="rilimsiparammask">RILIMSIPARAMMASK</a> enumeration values that indicates which members of the structure contain valid data. A member of the structure is valid if the corresponding bit flag is set.</p>

<h3 id="wszimsi"><code>wszImsi</code></h3>

<p>The IMSI as a null-terminated Unicode string.</p>

<h3 id="dwmcc"><code>dwMcc</code></h3>

<p>The mobile country code from the IMSI.</p>

<h3 id="dwmnc"><code>dwMnc</code></h3>

<p>The mobile network code from the IMSI.</p>

<h2 id="syntax">Syntax</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">RILIMSI</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w"> </span><span class="n">cbSize</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w"> </span><span class="n">dwParams</span><span class="p">;</span>
<span class="w">  </span><span class="n">WCHAR</span><span class="w"> </span><span class="n">wszImsi</span><span class="p">[</span><span class="n">MAXLENGTH_IMSI</span><span class="p">];</span>
<span class="w">  </span><span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w"> </span><span class="n">dwMcc</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w"> </span><span class="n">dwMnc</span><span class="p">;</span>
<span class="p">};</span>
</code></pre>
</div>

<h2 id="remarks">Remarks</h2>

<p>The RIL driver is responsible for determining whether the MNC comprises two or three digits and extracting it accordingly. (For 3GPP, the number of digits in the MNC is specified by the fourth byte of EFAD as specified in 3GPP TS 31.102 section 4.2.18.)</p>

<p>For 3GPP2, the IMSI_T is returned if it is programmed; otherwise, the IMSI_M is returned. For the IMSI_T, dwMcc contains the MCC_Tp and dwMnc contains IMSI_T_11_12p. For the IMSI_M, dwMcc contains the MCC_Mp and dwMnc is not defined (that is, the RIL_PARAM_IMSI_MNC bit in dwParams is 0).</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/cellular/dn946511(v=vs.85)">Cellular COM structures</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddrilapitypes/ns-ntddrilapitypes-rilimsi">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddrilapitypes/ns-ntddrilapitypes-rilimsi.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-rilapitypes-rilimsi)</h1>
</div>
<div class="ntdoc-description">
<h1>RILIMSI structure (rilapitypes.h)</h1>

<h2>Description</h2>

<p>This topic supports the Windows driver infrastructure and is not intended to be used directly from your code.</p>

<h2>Members</h2>

<h3><code>cbSize</code></h3>

<h3><code>dwParams</code></h3>

<h3><code>wszImsi</code></h3>

<h3><code>dwMcc</code></h3>

<h3><code>dwMnc</code></h3>

<h2>Syntax</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">_RILIMSI</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w">                  </span><span class="n">cbSize</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w">                  </span><span class="n">dwParams</span><span class="p">;</span>
<span class="w">  </span><span class="n">WCHAR</span><span class="w"> </span><span class="p">[</span><span class="n">MAXLENGTH_IMSI</span><span class="p">]</span><span class="w"> </span><span class="n">wszImsi</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w">                  </span><span class="n">dwMcc</span><span class="p">;</span>
<span class="w">  </span><span class="n"><a href="dword" title="typedef unsigned long DWORD;">DWORD</a></span><span class="w">                  </span><span class="n">dwMnc</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">RILIMSI</span><span class="p">,</span><span class="w"> </span><span class="n">RILIMSI</span><span class="p">;</span>
</code></pre>
</div>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/rilapitypes/ns-rilapitypes-rilimsi">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/rilapitypes/ns-rilapitypes-rilimsi.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
