<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HDAUDIO_STREAM_FORMAT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>HDAUDIO_STREAM_FORMAT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            HDAUDIO_STREAM_FORMAT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// hdaudio.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _HDAUDIO_STREAM_FORMAT {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  SampleRate;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> ValidBitsPerSample;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> ContainerSize;
  <a href="ushort" title="typedef unsigned short USHORT;">USHORT</a> NumberOfChannels;
} HDAUDIO_STREAM_FORMAT, *PHDAUDIO_STREAM_FORMAT;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/ns-hdaudio-_hdaudio_stream_format">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/hdaudio_stream_format.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-hdaudio-_hdaudio_stream_format)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_hdaudio_stream_format-structure">_HDAUDIO_STREAM_FORMAT structure</h1>

<h2 id="description">Description</h2>

<p>The HDAUDIO_STREAM_FORMAT structure describes the data format of a capture or render stream.</p>

<h2 id="members">Members</h2>

<h3 id="samplerate"><code>SampleRate</code></h3>

<p>Specifies the sample rate in samples per second. This member indicates the rate at which each channel should be played or recorded.</p>

<h3 id="validbitspersample"><code>ValidBitsPerSample</code></h3>

<p>Specifies the number of valid bits per sample. The valid bits are left justified within the container. Any unused bits to the right of the valid bits must be set to zero.</p>

<h3 id="containersize"><code>ContainerSize</code></h3>

<p>Specifies the size in bits of a sample container. Valid values for this member are 8, 16, 24, and 32.</p>

<h3 id="numberofchannels"><code>NumberOfChannels</code></h3>

<p>Specifies the number of channels of audio data. For monophonic audio, set this member to 1. For stereo, set this member to 2.</p>

<h2 id="remarks">Remarks</h2>

<p>The <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_capture_dma_engine">AllocateCaptureDmaEngine</a>, <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_render_dma_engine">AllocateRenderDmaEngine</a>, and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pchange_bandwidth_allocation">ChangeBandwidthAllocation</a> routines take as an input parameter an HDAUDIO_STREAM_FORMAT structure and output the corresponding <a rel="noopener" target="_blank" href="hdaudio_converter_format">HDAUDIO_CONVERTER_FORMAT</a> structure. The information in a valid HDAUDIO_STREAM_FORMAT value can be encoded as an <a href="hdaudio_converter_format" title="typedef struct _HDAUDIO_CONVERTER_FORMAT {&#10;  union {&#10;    struct {&#10;      USHORT NumberOfChannels : 4;&#10;      USHORT BitsPerSample : 3;&#10;      USHORT SampleRate : 7;&#10;      USHORT StreamType : 1;&#10;    };&#10;    USHORT ConverterFormat;&#10;  };&#10;} HDAUDIO_CONVERTER_FORMAT, *PHDAUDIO_CONVERTER_FORMAT;">HDAUDIO_CONVERTER_FORMAT</a> value.</p>

<p>This structure is similar to the <a rel="noopener" target="_blank" href="waveformatextensible">WAVEFORMATEXTENSIBLE</a> structure, but it omits certain parameters that are in <a href="waveformatextensible" title="typedef struct {&#10;  WAVEFORMATEX Format;&#10;  union {&#10;    WORD wValidBitsPerSample;&#10;    WORD wSamplesPerBlock;&#10;    WORD wReserved;&#10;  } Samples;&#10;  DWORD        dwChannelMask;&#10;  GUID         SubFormat;&#10;} WAVEFORMATEXTENSIBLE, *PWAVEFORMATEXTENSIBLE;">WAVEFORMATEXTENSIBLE</a> but are not relevant to the task of managing codecs that are connected to an HD Audio controller.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_capture_dma_engine">AllocateCaptureDmaEngine</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pallocate_render_dma_engine">AllocateRenderDmaEngine</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/nc-hdaudio-pchange_bandwidth_allocation">ChangeBandwidthAllocation</a></p>

<p><a rel="noopener" target="_blank" href="hdaudio_converter_format">HDAUDIO_CONVERTER_FORMAT</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hdaudio/ns-hdaudio-_hdaudio_stream_format">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/hdaudio/ns-hdaudio-_hdaudio_stream_format.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
