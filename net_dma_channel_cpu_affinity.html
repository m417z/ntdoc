<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NET_DMA_CHANNEL_CPU_AFFINITY - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NET_DMA_CHANNEL_CPU_AFFINITY - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NET_DMA_CHANNEL_CPU_AFFINITY - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// netdma.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NET_DMA_CHANNEL_CPU_AFFINITY {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DmaChannel;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CpuNumber;
} NET_DMA_CHANNEL_CPU_AFFINITY, *PNET_DMA_CHANNEL_CPU_AFFINITY;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netdma/ns-netdma-_net_dma_channel_cpu_affinity">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/net_dma_channel_cpu_affinity.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-netdma-_net_dma_channel_cpu_affinity)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_net_dma_channel_cpu_affinity-structure">_NET_DMA_CHANNEL_CPU_AFFINITY structure</h1>

<h2 id="description">Description</h2>

<p><strong>Note</strong> The NetDMA interface is not supported in Windows 8 and later.</p>

<p>The NET_DMA_CHANNEL_CPU_AFFINITY structure specifies the CPU affinity of a DMA channel.</p>

<h2 id="members">Members</h2>

<h3 id="dmachannel"><code>DmaChannel</code></h3>

<p>The DMA channel number. The values for this member range from zero through the maximum number of
DMA channels that the DMA engine supports minus one. The DMA provider driver specifies the maximum
number of DMA channels in the
<strong>MaxDmaChannelCount</strong> member of the
<a href="net_dma_provider_characteristics" title="typedef struct _NET_DMA_PROVIDER_CHARACTERISTICS {&#10;  UCHAR                             MajorVersion;&#10;  UCHAR                             MinorVersion;&#10;  USHORT                            Size;&#10;  ULONG                             Flags;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  ULONG                             MaxDmaChannelCount;&#10;  DMA_CHANNELS_CPU_AFFINITY_HANDLER SetDmaChannelCpuAffinity;&#10;  DMA_CHANNEL_ALLOCATE_HANDLER      AllocateDmaChannel;&#10;  DMA_CHANNEL_FREE_HANDLER          FreeDmaChannel;&#10;  DMA_START_HANDLER                 StartDma;&#10;  DMA_SUSPEND_HANDLER               SuspendDma;&#10;  DMA_RESUME_HANDLER                ResumeDma;&#10;  DMA_ABORT_HANDLER                 AbortDma;&#10;  DMA_APPEND_HANDLER                AppendDma;&#10;  DMA_RESET_HANDLER                 ResetChannel;&#10;  UNICODE_STRING                    FriendlyName;&#10;} NET_DMA_PROVIDER_CHARACTERISTICS, *PNET_DMA_PROVIDER_CHARACTERISTICS;">NET_DMA_PROVIDER_CHARACTERISTICS</a> structure.</p>

<h3 id="cpunumber"><code>CpuNumber</code></h3>

<p>The target CPU that the DMA provider driver should associate with the MSI-X interrupts that are
generated for the DMA channel that is specified in the
<strong>DmaChannel</strong> member.</p>

<h2 id="remarks">Remarks</h2>

<p>The NetDMA interface passes an array of NET_DMA_CHANNEL_CPU_AFFINITY structures to a DMA provider
driver's
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netdma/nc-netdma-dma_channels_cpu_affinity_handler">ProviderSetDmaChannelCpuAffinity</a> function to specify the CPU affinity of the DMA channels.</p>

<p>The NetDMA interface calls
<em>ProviderSetDmaChannelCpuAffinity</em> while in the context of the
<a href="netdmaregisterprovider" title="NET_DMA_EXPORT NTSTATUS NetDmaRegisterProvider(&#10;  [in] PVOID                             ProviderContext,&#10;  [in] PVOID                             *pNetDmaProviderHandle,&#10;  [in] PNET_DMA_PROVIDER_CHARACTERISTICS ProviderCharacteristics&#10;);">NetDmaRegisterProvider</a> function.</p>

<h2 id="see-also">See also</h2>

<p><a href="net_dma_provider_characteristics" title="typedef struct _NET_DMA_PROVIDER_CHARACTERISTICS {&#10;  UCHAR                             MajorVersion;&#10;  UCHAR                             MinorVersion;&#10;  USHORT                            Size;&#10;  ULONG                             Flags;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  ULONG                             MaxDmaChannelCount;&#10;  DMA_CHANNELS_CPU_AFFINITY_HANDLER SetDmaChannelCpuAffinity;&#10;  DMA_CHANNEL_ALLOCATE_HANDLER      AllocateDmaChannel;&#10;  DMA_CHANNEL_FREE_HANDLER          FreeDmaChannel;&#10;  DMA_START_HANDLER                 StartDma;&#10;  DMA_SUSPEND_HANDLER               SuspendDma;&#10;  DMA_RESUME_HANDLER                ResumeDma;&#10;  DMA_ABORT_HANDLER                 AbortDma;&#10;  DMA_APPEND_HANDLER                AppendDma;&#10;  DMA_RESET_HANDLER                 ResetChannel;&#10;  UNICODE_STRING                    FriendlyName;&#10;} NET_DMA_PROVIDER_CHARACTERISTICS, *PNET_DMA_PROVIDER_CHARACTERISTICS;">NET_DMA_PROVIDER_CHARACTERISTICS</a></p>

<p><a href="netdmaregisterprovider" title="NET_DMA_EXPORT NTSTATUS NetDmaRegisterProvider(&#10;  [in] PVOID                             ProviderContext,&#10;  [in] PVOID                             *pNetDmaProviderHandle,&#10;  [in] PNET_DMA_PROVIDER_CHARACTERISTICS ProviderCharacteristics&#10;);">NetDmaRegisterProvider</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netdma/nc-netdma-dma_channels_cpu_affinity_handler">ProviderSetDmaChannelCpuAffinity</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/netdma/ns-netdma-_net_dma_channel_cpu_affinity">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/netdma/ns-netdma-_net_dma_channel_cpu_affinity.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
