<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="CSV_SET_HANDLE_PROPERTIES_ECP_CONTEXT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>CSV_SET_HANDLE_PROPERTIES_ECP_CONTEXT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            CSV_SET_HANDLE_PROPERTIES_ECP_CONTEXT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntifs.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _CSV_SET_HANDLE_PROPERTIES_ECP_CONTEXT {
  <a href="size_t-2" title="typedef ULONG_PTR SIZE_T;">SIZE_T</a> Size;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  PauseTimeoutInSeconds;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  Flags;
} CSV_SET_HANDLE_PROPERTIES_ECP_CONTEXT, *PCSV_SET_HANDLE_PROPERTIES_ECP_CONTEXT;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/ns-ntifs-csv_set_handle_properties_ecp_context">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/csv_set_handle_properties_ecp_context.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntifs-csv_set_handle_properties_ecp_context)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The <strong>CSV_SET_HANDLE_PROPERTIES_ECP_CONTEXT</strong> structure contains the extra create parameter (ECP) context that can be sent to the Cluster Shared Volumes (CSV) file system to set properties for how it should handle IO arriving on this open.</p>

<h2 id="members">Members</h2>

<h3 id="size"><code>Size</code></h3>

<p>Size of this structure, in bytes.</p>

<h3 id="pausetimeoutinseconds"><code>PauseTimeoutInSeconds</code></h3>

<p>The number of seconds that CSVFS is allowed to hold IO issued on this file object in a pending state in case of CSV volume pause. Once time expires CSV will complete all IO issued on this file object with status STATUS_CSV_IO_PAUSE_TIMEOUT. This member can be one of the following values.</p>

<table>
<thead>
<tr>
  <th>Value</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0xFFFFFFFF</td>
  <td>Indicates that there is no timeout, and default behavior is requested.</td>
</tr>
<tr>
  <td>0</td>
  <td>CSV will not pause IO, and will complete IO immediately.</td>
</tr>
<tr>
  <td>Any other value</td>
  <td>CSV will round up all other values to a multiple of 10 seconds and use this value as the timeout. The maximum supported timeout value is 30 minutes. If the provided value is greater than 30 minutes, CSV will silently set the value to the maximum value.</td>
</tr>
</tbody>
</table>

<h3 id="flags"><code>Flags</code></h3>

<p>The set property flags. This member can be a bitwise OR of the following flags.</p>

<table>
<thead>
<tr>
  <th>Flag</th>
  <th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td>CSV_SET_HANDLE_PROPERTIES_ECP_CONTEXT_FLAGS_VALID_ONLY_IF_CSV_COORDINATOR</td>
  <td>Tells CSVFS that this file open should be valid only on the coordinating node. If the open comes to CSVFS and the node is not a coordinating node, the open will fail. If the file is opened and the coordinating node is moved, the file open will be invalidated. This flag is used only when the file is opened directly on CSVFS, and is ignored when the file is opened over SMB.</td>
</tr>
</tbody>
</table>

<p>The lower 16 bits of <strong>Flags</strong> are for flags that would cause the create to fail with STATUS_INVALID_PARAMETER if CSV does not recognize them. The upper 16 bits are for flags that would be silently ignored if CSVFS does not know how to handle them.</p>

<h2 id="remarks">Remarks</h2>

<p>The system-defined GUID_ECP_CSV_SET_HANDLE_PROPERTIES value is used with this ECP context structure when calling ECP-related support routines such as <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/fltkernel/nf-fltkernel-fltallocateextracreateparameter"><strong>FltAllocateExtraCreateParameter</strong></a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/nf-ntifs-fsrtlremoveextracreateparameter"><strong>FsRtlRemoveExtraCreateParameter</strong></a>.</p>

<p>See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ifs/introduction-to-extra-create-parameters">Introduction to extra create parameters</a> for more information.</p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/ns-ntifs-csv_set_handle_properties_ecp_context">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntifs/ns-ntifs-csv_set_handle_properties_ecp_context.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
