<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="URB - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>URB - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            URB - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// usb.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _URB {
  union {
#if ...
    <a href="_urb_header" title="struct _URB_HEADER {&#10;  USHORT      Length;&#10;  USHORT      Function;&#10;  USBD_STATUS Status;&#10;  PVOID       UsbdDeviceHandle;&#10;  ULONG       UsbdFlags;&#10;};">_URB_HEADER</a>                                     UrbHeader;
#else
    struct <a href="_urb_header" title="struct _URB_HEADER {&#10;  USHORT      Length;&#10;  USHORT      Function;&#10;  USBD_STATUS Status;&#10;  PVOID       UsbdDeviceHandle;&#10;  ULONG       UsbdFlags;&#10;};">_URB_HEADER</a>                              UrbHeader;
#endif
#if ...
    <a href="_urb_select_interface" title="struct _URB_SELECT_INTERFACE {&#10;  struct _URB_HEADER         Hdr;&#10;  USBD_CONFIGURATION_HANDLE  ConfigurationHandle;&#10;  USBD_INTERFACE_INFORMATION Interface;&#10;};">_URB_SELECT_INTERFACE</a>                           UrbSelectInterface;
#else
    struct <a href="_urb_select_interface" title="struct _URB_SELECT_INTERFACE {&#10;  struct _URB_HEADER         Hdr;&#10;  USBD_CONFIGURATION_HANDLE  ConfigurationHandle;&#10;  USBD_INTERFACE_INFORMATION Interface;&#10;};">_URB_SELECT_INTERFACE</a>                    UrbSelectInterface;
#endif
#if ...
    <a href="_urb_select_configuration" title="struct _URB_SELECT_CONFIGURATION {&#10;  struct _URB_HEADER            Hdr;&#10;  PUSB_CONFIGURATION_DESCRIPTOR ConfigurationDescriptor;&#10;  USBD_CONFIGURATION_HANDLE     ConfigurationHandle;&#10;  USBD_INTERFACE_INFORMATION    Interface;&#10;};">_URB_SELECT_CONFIGURATION</a>                       UrbSelectConfiguration;
#else
    struct <a href="_urb_select_configuration" title="struct _URB_SELECT_CONFIGURATION {&#10;  struct _URB_HEADER            Hdr;&#10;  PUSB_CONFIGURATION_DESCRIPTOR ConfigurationDescriptor;&#10;  USBD_CONFIGURATION_HANDLE     ConfigurationHandle;&#10;  USBD_INTERFACE_INFORMATION    Interface;&#10;};">_URB_SELECT_CONFIGURATION</a>                UrbSelectConfiguration;
#endif
#if ...
    <a href="_urb_pipe_request" title="struct _URB_PIPE_REQUEST {&#10;  struct _URB_HEADER Hdr;&#10;  USBD_PIPE_HANDLE   PipeHandle;&#10;  ULONG              Reserved;&#10;};">_URB_PIPE_REQUEST</a>                               UrbPipeRequest;
#else
    struct <a href="_urb_pipe_request" title="struct _URB_PIPE_REQUEST {&#10;  struct _URB_HEADER Hdr;&#10;  USBD_PIPE_HANDLE   PipeHandle;&#10;  ULONG              Reserved;&#10;};">_URB_PIPE_REQUEST</a>                        UrbPipeRequest;
#endif
#if ...
    _URB_FRAME_LENGTH_CONTROL                       UrbFrameLengthControl;
#else
    struct _URB_FRAME_LENGTH_CONTROL                UrbFrameLengthControl;
#endif
#if ...
    _URB_GET_FRAME_LENGTH                           UrbGetFrameLength;
#else
    struct _URB_GET_FRAME_LENGTH                    UrbGetFrameLength;
#endif
#if ...
    _URB_SET_FRAME_LENGTH                           UrbSetFrameLength;
#else
    struct _URB_SET_FRAME_LENGTH                    UrbSetFrameLength;
#endif
#if ...
    <a href="_urb_get_current_frame_number" title="struct _URB_GET_CURRENT_FRAME_NUMBER {&#10;  struct _URB_HEADER Hdr;&#10;  ULONG              FrameNumber;&#10;};">_URB_GET_CURRENT_FRAME_NUMBER</a>                   UrbGetCurrentFrameNumber;
#else
    struct <a href="_urb_get_current_frame_number" title="struct _URB_GET_CURRENT_FRAME_NUMBER {&#10;  struct _URB_HEADER Hdr;&#10;  ULONG              FrameNumber;&#10;};">_URB_GET_CURRENT_FRAME_NUMBER</a>            UrbGetCurrentFrameNumber;
#endif
#if ...
    <a href="_urb_control_transfer" title="struct _URB_CONTROL_TRANSFER {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                SetupPacket[8];&#10;};">_URB_CONTROL_TRANSFER</a>                           UrbControlTransfer;
#else
    struct <a href="_urb_control_transfer" title="struct _URB_CONTROL_TRANSFER {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                SetupPacket[8];&#10;};">_URB_CONTROL_TRANSFER</a>                    UrbControlTransfer;
#endif
#if ...
    <a href="_urb_control_transfer_ex" title="struct _URB_CONTROL_TRANSFER_EX {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  ULONG                Timeout;&#10;  ULONG                Pad;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                SetupPacket[8];&#10;};">_URB_CONTROL_TRANSFER_EX</a>                        UrbControlTransferEx;
#else
    struct <a href="_urb_control_transfer_ex" title="struct _URB_CONTROL_TRANSFER_EX {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  ULONG                Timeout;&#10;  ULONG                Pad;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                SetupPacket[8];&#10;};">_URB_CONTROL_TRANSFER_EX</a>                 UrbControlTransferEx;
#endif
#if ...
    <a href="_urb_bulk_or_interrupt_transfer" title="struct _URB_BULK_OR_INTERRUPT_TRANSFER {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;};">_URB_BULK_OR_INTERRUPT_TRANSFER</a>                 UrbBulkOrInterruptTransfer;
#else
    struct <a href="_urb_bulk_or_interrupt_transfer" title="struct _URB_BULK_OR_INTERRUPT_TRANSFER {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;};">_URB_BULK_OR_INTERRUPT_TRANSFER</a>          UrbBulkOrInterruptTransfer;
#endif
#if ...
    <a href="_urb_isoch_transfer" title="struct _URB_ISOCH_TRANSFER {&#10;  struct _URB_HEADER         Hdr;&#10;  USBD_PIPE_HANDLE           PipeHandle;&#10;  ULONG                      TransferFlags;&#10;  ULONG                      TransferBufferLength;&#10;  PVOID                      TransferBuffer;&#10;  PMDL                       TransferBufferMDL;&#10;  struct _URB                *UrbLink;&#10;  struct _URB_HCD_AREA       hca;&#10;  ULONG                      StartFrame;&#10;  ULONG                      NumberOfPackets;&#10;  ULONG                      ErrorCount;&#10;  USBD_ISO_PACKET_DESCRIPTOR IsoPacket[1];&#10;};">_URB_ISOCH_TRANSFER</a>                             UrbIsochronousTransfer;
#else
    struct <a href="_urb_isoch_transfer" title="struct _URB_ISOCH_TRANSFER {&#10;  struct _URB_HEADER         Hdr;&#10;  USBD_PIPE_HANDLE           PipeHandle;&#10;  ULONG                      TransferFlags;&#10;  ULONG                      TransferBufferLength;&#10;  PVOID                      TransferBuffer;&#10;  PMDL                       TransferBufferMDL;&#10;  struct _URB                *UrbLink;&#10;  struct _URB_HCD_AREA       hca;&#10;  ULONG                      StartFrame;&#10;  ULONG                      NumberOfPackets;&#10;  ULONG                      ErrorCount;&#10;  USBD_ISO_PACKET_DESCRIPTOR IsoPacket[1];&#10;};">_URB_ISOCH_TRANSFER</a>                      UrbIsochronousTransfer;
#endif
#if ...
    <a href="_urb_control_descriptor_request" title="struct _URB_CONTROL_DESCRIPTOR_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  USHORT               Reserved1;&#10;  UCHAR                Index;&#10;  UCHAR                DescriptorType;&#10;  USHORT               LanguageId;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_DESCRIPTOR_REQUEST</a>                 UrbControlDescriptorRequest;
#else
    struct <a href="_urb_control_descriptor_request" title="struct _URB_CONTROL_DESCRIPTOR_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  USHORT               Reserved1;&#10;  UCHAR                Index;&#10;  UCHAR                DescriptorType;&#10;  USHORT               LanguageId;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_DESCRIPTOR_REQUEST</a>          UrbControlDescriptorRequest;
#endif
#if ...
    <a href="_urb_control_get_status_request" title="struct _URB_CONTROL_GET_STATUS_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[4];&#10;  USHORT               Index;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_GET_STATUS_REQUEST</a>                 UrbControlGetStatusRequest;
#else
    struct <a href="_urb_control_get_status_request" title="struct _URB_CONTROL_GET_STATUS_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[4];&#10;  USHORT               Index;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_GET_STATUS_REQUEST</a>          UrbControlGetStatusRequest;
#endif
#if ...
    <a href="_urb_control_feature_request" title="struct _URB_CONTROL_FEATURE_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved2;&#10;  ULONG                Reserved3;&#10;  PVOID                Reserved4;&#10;  PMDL                 Reserved5;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  USHORT               Reserved0;&#10;  USHORT               FeatureSelector;&#10;  USHORT               Index;&#10;  USHORT               Reserved1;&#10;};">_URB_CONTROL_FEATURE_REQUEST</a>                    UrbControlFeatureRequest;
#else
    struct <a href="_urb_control_feature_request" title="struct _URB_CONTROL_FEATURE_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved2;&#10;  ULONG                Reserved3;&#10;  PVOID                Reserved4;&#10;  PMDL                 Reserved5;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  USHORT               Reserved0;&#10;  USHORT               FeatureSelector;&#10;  USHORT               Index;&#10;  USHORT               Reserved1;&#10;};">_URB_CONTROL_FEATURE_REQUEST</a>             UrbControlFeatureRequest;
#endif
#if ...
    <a href="_urb_control_vendor_or_class_request" title="struct _URB_CONTROL_VENDOR_OR_CLASS_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                RequestTypeReservedBits;&#10;  UCHAR                Request;&#10;  USHORT               Value;&#10;  USHORT               Index;&#10;  USHORT               Reserved1;&#10;};">_URB_CONTROL_VENDOR_OR_CLASS_REQUEST</a>            UrbControlVendorClassRequest;
#else
    struct <a href="_urb_control_vendor_or_class_request" title="struct _URB_CONTROL_VENDOR_OR_CLASS_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                RequestTypeReservedBits;&#10;  UCHAR                Request;&#10;  USHORT               Value;&#10;  USHORT               Index;&#10;  USHORT               Reserved1;&#10;};">_URB_CONTROL_VENDOR_OR_CLASS_REQUEST</a>     UrbControlVendorClassRequest;
#endif
#if ...
    <a href="_urb_control_get_interface_request" title="struct _URB_CONTROL_GET_INTERFACE_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[4];&#10;  USHORT               Interface;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_GET_INTERFACE_REQUEST</a>              UrbControlGetInterfaceRequest;
#else
    struct <a href="_urb_control_get_interface_request" title="struct _URB_CONTROL_GET_INTERFACE_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[4];&#10;  USHORT               Interface;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_GET_INTERFACE_REQUEST</a>       UrbControlGetInterfaceRequest;
#endif
#if ...
    <a href="_urb_control_get_configuration_request" title="struct _URB_CONTROL_GET_CONFIGURATION_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[8];&#10;};">_URB_CONTROL_GET_CONFIGURATION_REQUEST</a>          UrbControlGetConfigurationRequest;
#else
    struct <a href="_urb_control_get_configuration_request" title="struct _URB_CONTROL_GET_CONFIGURATION_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[8];&#10;};">_URB_CONTROL_GET_CONFIGURATION_REQUEST</a>   UrbControlGetConfigurationRequest;
#endif
#if ...
    <a href="_urb_os_feature_descriptor_request" title="struct _URB_OS_FEATURE_DESCRIPTOR_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Recipient : 5;&#10;  UCHAR                Reserved1 : 3;&#10;  UCHAR                Reserved2;&#10;  UCHAR                InterfaceNumber;&#10;  UCHAR                MS_PageIndex;&#10;  USHORT               MS_FeatureDescriptorIndex;&#10;  USHORT               Reserved3;&#10;};">_URB_OS_FEATURE_DESCRIPTOR_REQUEST</a>              UrbOSFeatureDescriptorRequest;
#else
    struct <a href="_urb_os_feature_descriptor_request" title="struct _URB_OS_FEATURE_DESCRIPTOR_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Recipient : 5;&#10;  UCHAR                Reserved1 : 3;&#10;  UCHAR                Reserved2;&#10;  UCHAR                InterfaceNumber;&#10;  UCHAR                MS_PageIndex;&#10;  USHORT               MS_FeatureDescriptorIndex;&#10;  USHORT               Reserved3;&#10;};">_URB_OS_FEATURE_DESCRIPTOR_REQUEST</a>       UrbOSFeatureDescriptorRequest;
#endif
#if ...
    <a href="_urb_open_static_streams" title="struct _URB_OPEN_STATIC_STREAMS {&#10;  struct _URB_HEADER       Hdr;&#10;  USBD_PIPE_HANDLE         PipeHandle;&#10;  ULONG                    NumberOfStreams;&#10;  USHORT                   StreamInfoVersion;&#10;  USHORT                   StreamInfoSize;&#10;  PUSBD_STREAM_INFORMATION Streams;&#10;};">_URB_OPEN_STATIC_STREAMS</a>                        UrbOpenStaticStreams;
#else
    struct <a href="_urb_open_static_streams" title="struct _URB_OPEN_STATIC_STREAMS {&#10;  struct _URB_HEADER       Hdr;&#10;  USBD_PIPE_HANDLE         PipeHandle;&#10;  ULONG                    NumberOfStreams;&#10;  USHORT                   StreamInfoVersion;&#10;  USHORT                   StreamInfoSize;&#10;  PUSBD_STREAM_INFORMATION Streams;&#10;};">_URB_OPEN_STATIC_STREAMS</a>                 UrbOpenStaticStreams;
#endif
#if ...
    <a href="_urb_get_isoch_pipe_transfer_path_delays" title="struct _URB_GET_ISOCH_PIPE_TRANSFER_PATH_DELAYS {&#10;  struct _URB_HEADER Hdr;&#10;  USBD_PIPE_HANDLE   PipeHandle;&#10;  ULONG              MaximumSendPathDelayInMilliSeconds;&#10;  ULONG              MaximumCompletionPathDelayInMilliSeconds;&#10;};">_URB_GET_ISOCH_PIPE_TRANSFER_PATH_DELAYS</a>        UrbGetIsochPipeTransferPathDelays;
#else
    struct <a href="_urb_get_isoch_pipe_transfer_path_delays" title="struct _URB_GET_ISOCH_PIPE_TRANSFER_PATH_DELAYS {&#10;  struct _URB_HEADER Hdr;&#10;  USBD_PIPE_HANDLE   PipeHandle;&#10;  ULONG              MaximumSendPathDelayInMilliSeconds;&#10;  ULONG              MaximumCompletionPathDelayInMilliSeconds;&#10;};">_URB_GET_ISOCH_PIPE_TRANSFER_PATH_DELAYS</a> UrbGetIsochPipeTransferPathDelays;
#endif
  };
} URB, *PURB;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/usb/ns-usb-_urb">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/urb.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-usb-_urb)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_urb-structure">_URB structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>URB</strong> structure is used by USB client drivers to describe USB request blocks (URBs) that send requests to the USB driver stack. The <strong>URB</strong> structure defines a format for all possible commands that can be sent to a USB device.</p>

<h2 id="members">Members</h2>

<h3 id="urbheader"><code>UrbHeader</code></h3>

<p>Provides basic information about the request being sent to the host controller driver. For more information, see <a href="_urb_header" title="struct _URB_HEADER {&#10;  USHORT      Length;&#10;  USHORT      Function;&#10;  USBD_STATUS Status;&#10;  PVOID       UsbdDeviceHandle;&#10;  ULONG       UsbdFlags;&#10;};">_URB_HEADER</a>.</p>

<h3 id="urbselectinterface"><code>UrbSelectInterface</code></h3>

<p>Defines the format of a select interface command for a USB device. For more information, see <a href="_urb_select_interface" title="struct _URB_SELECT_INTERFACE {&#10;  struct _URB_HEADER         Hdr;&#10;  USBD_CONFIGURATION_HANDLE  ConfigurationHandle;&#10;  USBD_INTERFACE_INFORMATION Interface;&#10;};">_URB_SELECT_INTERFACE</a>.</p>

<h3 id="urbselectconfiguration"><code>UrbSelectConfiguration</code></h3>

<p>Defines the format of a select configuration command for a USB device. For more information, see <a href="_urb_select_configuration" title="struct _URB_SELECT_CONFIGURATION {&#10;  struct _URB_HEADER            Hdr;&#10;  PUSB_CONFIGURATION_DESCRIPTOR ConfigurationDescriptor;&#10;  USBD_CONFIGURATION_HANDLE     ConfigurationHandle;&#10;  USBD_INTERFACE_INFORMATION    Interface;&#10;};">_URB_SELECT_CONFIGURATION</a>.</p>

<h3 id="urbpiperequest"><code>UrbPipeRequest</code></h3>

<p>Defines the format for a command for a pipe in a USB endpoint. For more information, see <a href="_urb_pipe_request" title="struct _URB_PIPE_REQUEST {&#10;  struct _URB_HEADER Hdr;&#10;  USBD_PIPE_HANDLE   PipeHandle;&#10;  ULONG              Reserved;&#10;};">_URB_PIPE_REQUEST</a>.</p>

<h3 id="urbframelengthcontrol"><code>UrbFrameLengthControl</code></h3>

<p>Deprecated in Windows 2000 and later operating systems and is not supported by Microsoft. Do not use.</p>

<h3 id="urbgetframelength"><code>UrbGetFrameLength</code></h3>

<p>Deprecated in Windows 2000 and later operating systems and is not supported by Microsoft. Do not use.</p>

<h3 id="urbsetframelength"><code>UrbSetFrameLength</code></h3>

<p>Deprecated in Windows 2000 and later operating systems and is not supported by Microsoft. Do not use.</p>

<h3 id="urbgetcurrentframenumber"><code>UrbGetCurrentFrameNumber</code></h3>

<p>Defines the format for a command to get the current frame number on a USB bus. For more information, see <a href="_urb_get_current_frame_number" title="struct _URB_GET_CURRENT_FRAME_NUMBER {&#10;  struct _URB_HEADER Hdr;&#10;  ULONG              FrameNumber;&#10;};">_URB_GET_CURRENT_FRAME_NUMBER</a>.</p>

<h3 id="urbcontroltransfer"><code>UrbControlTransfer</code></h3>

<p>Defines the format for a command to transmit or receive data on a control pipe. For more information, see <a href="_urb_control_transfer" title="struct _URB_CONTROL_TRANSFER {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                SetupPacket[8];&#10;};">_URB_CONTROL_TRANSFER</a>.</p>

<h3 id="urbcontroltransferex"><code>UrbControlTransferEx</code></h3>

<p>Defines the format for a command to transmit or receive data on a control pipe. For more information, see <a href="_urb_control_transfer_ex" title="struct _URB_CONTROL_TRANSFER_EX {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  ULONG                Timeout;&#10;  ULONG                Pad;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                SetupPacket[8];&#10;};">_URB_CONTROL_TRANSFER_EX</a>.</p>

<p>Defines the format for a command to transmit or receive data on a control pipe.</p>

<h3 id="urbbulkorinterrupttransfer"><code>UrbBulkOrInterruptTransfer</code></h3>

<p>Defines the format for a command to transmit or receive data on a bulk pipe, or to receive data from an interrupt pipe. For more information, see <a href="_urb_bulk_or_interrupt_transfer" title="struct _URB_BULK_OR_INTERRUPT_TRANSFER {&#10;  struct _URB_HEADER   Hdr;&#10;  USBD_PIPE_HANDLE     PipeHandle;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;};">_URB_BULK_OR_INTERRUPT_TRANSFER</a>.</p>

<h3 id="urbisochronoustransfer"><code>UrbIsochronousTransfer</code></h3>

<p>Defines the format of an isochronous transfer to a USB device. For more information, see <a href="_urb_isoch_transfer" title="struct _URB_ISOCH_TRANSFER {&#10;  struct _URB_HEADER         Hdr;&#10;  USBD_PIPE_HANDLE           PipeHandle;&#10;  ULONG                      TransferFlags;&#10;  ULONG                      TransferBufferLength;&#10;  PVOID                      TransferBuffer;&#10;  PMDL                       TransferBufferMDL;&#10;  struct _URB                *UrbLink;&#10;  struct _URB_HCD_AREA       hca;&#10;  ULONG                      StartFrame;&#10;  ULONG                      NumberOfPackets;&#10;  ULONG                      ErrorCount;&#10;  USBD_ISO_PACKET_DESCRIPTOR IsoPacket[1];&#10;};">_URB_ISOCH_TRANSFER</a>.</p>

<h3 id="urbcontroldescriptorrequest"><code>UrbControlDescriptorRequest</code></h3>

<p>Defines the format for a command to retrieve or set descriptor(s) on a USB device. For more information, see <a href="_urb_control_descriptor_request" title="struct _URB_CONTROL_DESCRIPTOR_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  USHORT               Reserved1;&#10;  UCHAR                Index;&#10;  UCHAR                DescriptorType;&#10;  USHORT               LanguageId;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_DESCRIPTOR_REQUEST</a>.</p>

<h3 id="urbcontrolgetstatusrequest"><code>UrbControlGetStatusRequest</code></h3>

<p>Defines the format for a command to get status from a device, interface, or endpoint. For more information, see <a href="_urb_control_get_status_request" title="struct _URB_CONTROL_GET_STATUS_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[4];&#10;  USHORT               Index;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_GET_STATUS_REQUEST</a>.</p>

<h3 id="urbcontrolfeaturerequest"><code>UrbControlFeatureRequest</code></h3>

<p>Defines the format for a command to set or clear USB-defined features on a device, interface, or endpoint. For more information, see <a href="_urb_control_feature_request" title="struct _URB_CONTROL_FEATURE_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved2;&#10;  ULONG                Reserved3;&#10;  PVOID                Reserved4;&#10;  PMDL                 Reserved5;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  USHORT               Reserved0;&#10;  USHORT               FeatureSelector;&#10;  USHORT               Index;&#10;  USHORT               Reserved1;&#10;};">_URB_CONTROL_FEATURE_REQUEST</a>.</p>

<h3 id="urbcontrolvendorclassrequest"><code>UrbControlVendorClassRequest</code></h3>

<p>Defines the format for a command to send or receive a vendor or class-specific request on a device, interface, endpoint, or other device-defined target. For more information, see <a href="_urb_control_vendor_or_class_request" title="struct _URB_CONTROL_VENDOR_OR_CLASS_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                TransferFlags;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                RequestTypeReservedBits;&#10;  UCHAR                Request;&#10;  USHORT               Value;&#10;  USHORT               Index;&#10;  USHORT               Reserved1;&#10;};">_URB_CONTROL_VENDOR_OR_CLASS_REQUEST</a>.</p>

<h3 id="urbcontrolgetinterfacerequest"><code>UrbControlGetInterfaceRequest</code></h3>

<p>Defines the format for a command to get the current alternate interface setting for a selected interface. For more information, see <a href="_urb_control_get_interface_request" title="struct _URB_CONTROL_GET_INTERFACE_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[4];&#10;  USHORT               Interface;&#10;  USHORT               Reserved2;&#10;};">_URB_CONTROL_GET_INTERFACE_REQUEST</a>.</p>

<h3 id="urbcontrolgetconfigurationrequest"><code>UrbControlGetConfigurationRequest</code></h3>

<p>Defines the format for a command to get the current configuration for a device. For more information, see <a href="_urb_control_get_configuration_request" title="struct _URB_CONTROL_GET_CONFIGURATION_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Reserved1[8];&#10;};">_URB_CONTROL_GET_CONFIGURATION_REQUEST</a>.</p>

<h3 id="urbosfeaturedescriptorrequest"><code>UrbOSFeatureDescriptorRequest</code></h3>

<p>Defines the format for a command to request a Microsoft OS Descriptor. For more information, see <a href="_urb_os_feature_descriptor_request" title="struct _URB_OS_FEATURE_DESCRIPTOR_REQUEST {&#10;  struct _URB_HEADER   Hdr;&#10;  PVOID                Reserved;&#10;  ULONG                Reserved0;&#10;  ULONG                TransferBufferLength;&#10;  PVOID                TransferBuffer;&#10;  PMDL                 TransferBufferMDL;&#10;  struct _URB          *UrbLink;&#10;  struct _URB_HCD_AREA hca;&#10;  UCHAR                Recipient : 5;&#10;  UCHAR                Reserved1 : 3;&#10;  UCHAR                Reserved2;&#10;  UCHAR                InterfaceNumber;&#10;  UCHAR                MS_PageIndex;&#10;  USHORT               MS_FeatureDescriptorIndex;&#10;  USHORT               Reserved3;&#10;};">_URB_OS_FEATURE_DESCRIPTOR_REQUEST</a>.</p>

<h3 id="urbopenstaticstreams"><code>UrbOpenStaticStreams</code></h3>

<p>Defines the format for a command to open streams in a bulk endpoint of a USB 3.0 device. For more information, see <a href="_urb_open_static_streams" title="struct _URB_OPEN_STATIC_STREAMS {&#10;  struct _URB_HEADER       Hdr;&#10;  USBD_PIPE_HANDLE         PipeHandle;&#10;  ULONG                    NumberOfStreams;&#10;  USHORT                   StreamInfoVersion;&#10;  USHORT                   StreamInfoSize;&#10;  PUSBD_STREAM_INFORMATION Streams;&#10;};">_URB_OPEN_STATIC_STREAMS</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/">How to Open and Close Static Streams in a USB Bulk Endpoint</a>.</p>

<h3 id="urbgetisochpipetransferpathdelays"><code>UrbGetIsochPipeTransferPathDelays</code></h3>

<p>Defines the format for a command to retrieve delays associated with isochronous transfer programming in the host controller and transfer completion so that the client driver can ensure that the device gets the isochronous packets in time.
For more information, see <a href="_urb_get_isoch_pipe_transfer_path_delays" title="struct _URB_GET_ISOCH_PIPE_TRANSFER_PATH_DELAYS {&#10;  struct _URB_HEADER Hdr;&#10;  USBD_PIPE_HANDLE   PipeHandle;&#10;  ULONG              MaximumSendPathDelayInMilliSeconds;&#10;  ULONG              MaximumCompletionPathDelayInMilliSeconds;&#10;};">_URB_GET_ISOCH_PIPE_TRANSFER_PATH_DELAYS</a>.</p>

<h2 id="remarks">Remarks</h2>

<p>For information about the function codes to set in each structure, see <a href="_urb_header" title="struct _URB_HEADER {&#10;  USHORT      Length;&#10;  USHORT      Function;&#10;  USBD_STATUS Status;&#10;  PVOID       UsbdDeviceHandle;&#10;  ULONG       UsbdFlags;&#10;};">_URB_HEADER</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="ioctl_internal_usb_submit_urb" title="// CTL_CODE(0x0022, 0x000, METHOD_NEITHER, FILE_ANY_ACCESS)&#10;#define IOCTL_INTERNAL_USB_SUBMIT_URB 0x00220003">IOCTL_INTERNAL_USB_SUBMIT_URB</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_usbref/#structures">USB Structures</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/usb/ns-usb-_urb">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/usb/ns-usb-_urb.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
