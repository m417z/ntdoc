<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IDE_TRANSFER_MODE_SELECT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IDE_TRANSFER_MODE_SELECT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IDE_TRANSFER_MODE_SELECT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// irb.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">IDE_TRANSFER_MODE_SELECT IdeTransferModeSelect;

BOOLEAN IdeTransferModeSelect(
  PVOID ControllerExtension,
  <a href="ide_transfer_mode_parameters" title="typedef struct _IDE_TRANSFER_MODE_PARAMETERS {&#10;  UCHAR           ChannelNumber;&#10;  IDE_DEVICE_TYPE DeviceType[MAX_IDE_DEVICE];&#10;  BOOLEAN         IoReadySupported[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeSupported[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeCurrent[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeSelected[MAX_IDE_DEVICE];&#10;} IDE_TRANSFER_MODE_PARAMETERS, *PIDE_TRANSFER_MODE_PARAMETERS;">PIDE_TRANSFER_MODE_PARAMETERS</a> TransferModeSelect
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/nc-irb-ide_transfer_mode_select">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ide_transfer_mode_select.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-irb-ide_transfer_mode_select)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="ide_transfer_mode_select-callback-function">IDE_TRANSFER_MODE_SELECT callback function</h1>

<h2 id="description">Description</h2>

<p>The <strong>AtaControllerTransferModeSelect</strong> miniport driver routine selects the transfer mode for all devices on the indicated ATA channel and programs the controller for the selected transfer mode.</p>

<blockquote>
  <p>[!NOTE]
  The ATA port driver and ATA miniport driver models may be altered or unavailable in the future. Instead, we recommend using the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-driver">Storport driver</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/storport-miniport-drivers">Storport miniport</a> driver models.</p>
</blockquote>

<h2 id="parameters">Parameters</h2>

<h3 id="controllerextension"><code>ControllerExtension</code></h3>

<p>[in] A pointer to the controller extension.</p>

<h3 id="transfermodeselect"><code>TransferModeSelect</code></h3>

<p>[in, out] A pointer to a structure of type <strong><a href="ide_transfer_mode_parameters" title="typedef struct _IDE_TRANSFER_MODE_PARAMETERS {&#10;  UCHAR           ChannelNumber;&#10;  IDE_DEVICE_TYPE DeviceType[MAX_IDE_DEVICE];&#10;  BOOLEAN         IoReadySupported[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeSupported[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeCurrent[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeSelected[MAX_IDE_DEVICE];&#10;} IDE_TRANSFER_MODE_PARAMETERS, *PIDE_TRANSFER_MODE_PARAMETERS;">IDE_TRANSFER_MODE_PARAMETERS</a></strong> that indicates to the miniport driver the channel on which to set the transfer modes and which transfer modes are available.</p>

<h2 id="return-value">Return value</h2>

<p><strong>AtaControllerTransferModeSelect</strong> returns TRUE to acknowledge the receipt of the transfer mode parameters. The miniport driver ignores a return value of FALSE.</p>

<h2 id="remarks">Remarks</h2>

<p>The <strong>AtaControllerTransferModeSelect</strong> miniport driver routine must select the appropriate timing modes and program the controller for the selected modes. The miniport driver must select at least one programmed input/output (PIO) mode for the indicated channel, and preferably at least one direct memory access (DMA) timing mode also. To communicate to the caller the transfer modes that it selected, the miniport driver sets the appropriate bits in the <strong>TransferModeSelected</strong> member of the <a href="ide_transfer_mode_parameters" title="typedef struct _IDE_TRANSFER_MODE_PARAMETERS {&#10;  UCHAR           ChannelNumber;&#10;  IDE_DEVICE_TYPE DeviceType[MAX_IDE_DEVICE];&#10;  BOOLEAN         IoReadySupported[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeSupported[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeCurrent[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeSelected[MAX_IDE_DEVICE];&#10;} IDE_TRANSFER_MODE_PARAMETERS, *PIDE_TRANSFER_MODE_PARAMETERS;">IDE_TRANSFER_MODE_PARAMETERS</a> structure.</p>

<p><strong>AtaControllerTransferModeSelect</strong> is an optional routine.</p>

<h2 id="see-also">See also</h2>

<p><strong><a href="ide_transfer_mode_parameters" title="typedef struct _IDE_TRANSFER_MODE_PARAMETERS {&#10;  UCHAR           ChannelNumber;&#10;  IDE_DEVICE_TYPE DeviceType[MAX_IDE_DEVICE];&#10;  BOOLEAN         IoReadySupported[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeSupported[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeCurrent[MAX_IDE_DEVICE];&#10;  ULONG           DeviceTransferModeSelected[MAX_IDE_DEVICE];&#10;} IDE_TRANSFER_MODE_PARAMETERS, *PIDE_TRANSFER_MODE_PARAMETERS;">IDE_TRANSFER_MODE_PARAMETERS</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/irb/nc-irb-ide_transfer_mode_select">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/irb/nc-irb-ide_transfer_mode_select.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
