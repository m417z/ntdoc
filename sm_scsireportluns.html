<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="SM_ScsiReportLuns - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>SM_ScsiReportLuns - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            SM_ScsiReportLuns - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// hbapiwmi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">void SM_ScsiReportLuns(
   [in, HBAType(&quot;HBA_WWN&quot;)] uint8               HbaPortWWN[8],
   [in, HBAType(&quot;HBA_WWN&quot;)] uint8               DiscoveredPortWWN[8],
   [in, HBAType(&quot;HBA_WWN&quot;)] uint8               DomainPortWWN[8],
   [in, HBAType(&quot;HBA_SCSILUN&quot;)] uint64          SmhbaLUN,
   [in] uint8                                   Cdb[12],
   [in] uint32                                  InRespBufferMaxSize,
   [in] uint32                                  InSenseBufferMaxSize,
   [out, HBA_STATUS_QUALIFIERS] HBA_STATUS      HBAStatus,
   [out] uint8                                  ScsiStatus,
   [out] uint32                                 TotalRespBufferSize,
   [out] uint32                                 OutRespBufferSize,
   [out] uint32                                 OutSenseBufferSize,
   [out, WmiSizeIs(&quot;OutRespBufferSize&quot;)] uint8  RespBuffer[],
   [out, WmiSizeIs(&quot;OutSenseBufferSize&quot;)] uint8 SenseBuffer[]
);</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/sm-scsireportluns">View the official Windows hardware development documentation</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/sm_scsireportluns.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows hardware development documentation (sm-scsireportluns)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="sm_scsireportluns-function">SM_ScsiReportLuns function</h1>

<p>The SM_ScsiReportLuns WMI method sends a SCSI Report LUNs command to the indicated device.</p>

<h2 id="parameters">Parameters</h2>

<p><em>HbaPortWWN</em>
A worldwide name (WWN) for the HBA through which the target is accessed. This information is delivered to the miniport driver in the HbaPortWWN member of a <strong><a href="scsiinquiry_in" title="typedef struct _ScsiInquiry_IN {&#10;  UCHAR     Cdb[6];&#10;  UCHAR     HbaPortWWN[8];&#10;  UCHAR     DiscoveredPortWWN[8];&#10;  ULONGLONG FcLun;&#10;} ScsiInquiry_IN, *PScsiInquiry_IN;">ScsiInquiry_IN</a></strong> structure.</p>

<p><em>DiscoveredPortWWN</em>
A worldwide name (WWN) for the port through which the target device is accessed. This information is delivered to the miniport driver in the DiscoveredPortWWN member of a <strong><a href="scsiinquiry_in" title="typedef struct _ScsiInquiry_IN {&#10;  UCHAR     Cdb[6];&#10;  UCHAR     HbaPortWWN[8];&#10;  UCHAR     DiscoveredPortWWN[8];&#10;  ULONGLONG FcLun;&#10;} ScsiInquiry_IN, *PScsiInquiry_IN;">ScsiInquiry_IN</a></strong> structure.</p>

<p><em>DomainPortWWN</em>
The worldwide name (WWN) for the callback. It is the Port_Identifier that has the smallest value of any Port_Identifier of an SMP port that is discovered by using the physical port. It has a value of zero if no SMP port has been discovered by using the physical port.</p>

<p><em>SmhbaLUN</em>
The logical unit number of the logical unit that will receive the SCSI inquiry command. This information is delivered to the miniport driver in the SmhbaLUN member of a <strong><a href="scsiinquiry_in" title="typedef struct _ScsiInquiry_IN {&#10;  UCHAR     Cdb[6];&#10;  UCHAR     HbaPortWWN[8];&#10;  UCHAR     DiscoveredPortWWN[8];&#10;  ULONGLONG FcLun;&#10;} ScsiInquiry_IN, *PScsiInquiry_IN;">ScsiInquiry_IN</a></strong> structure.</p>

<p><em>Cdb</em>
The command descriptor block that holds the SCSI inquiry command to be sent to the target device. This information is delivered to the miniport driver in the Cdb member of a <strong><a href="scsiinquiry_in" title="typedef struct _ScsiInquiry_IN {&#10;  UCHAR     Cdb[6];&#10;  UCHAR     HbaPortWWN[8];&#10;  UCHAR     DiscoveredPortWWN[8];&#10;  ULONGLONG FcLun;&#10;} ScsiInquiry_IN, *PScsiInquiry_IN;">ScsiInquiry_IN</a></strong> structure.</p>

<p><em>InRespBufferMaxSize</em>
The maximum size, in bytes, of the response buffer.</p>

<p><em>InSenseBufferMaxSize</em>
The maximum size, in bytes, for the sense buffer in the response.</p>

<p><em>HBAStatus</em>
The status of the operation. For a list of allowed values and their descriptions, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/hba-status">HBA_STATUS</a>. The miniport driver returns this information in the HBAStatus member of a <strong><a href="scsiinquiry_out" title="typedef struct _ScsiInquiry_OUT {&#10;  ULONG HBAStatus;&#10;  ULONG ResponseBufferSize;&#10;  ULONG SenseBufferSize;&#10;  UCHAR ScsiStatus;&#10;  UCHAR ResponseBuffer[1];&#10;} ScsiInquiry_OUT, *PScsiInquiry_OUT;">ScsiInquiry_OUT</a></strong> structure.</p>

<p><em>ScsiStatus</em>
The status of the SCSI inquiry command. The miniport driver returns this information in the ScsiStatus member of a <strong><a href="scsiinquiry_out" title="typedef struct _ScsiInquiry_OUT {&#10;  ULONG HBAStatus;&#10;  ULONG ResponseBufferSize;&#10;  ULONG SenseBufferSize;&#10;  UCHAR ScsiStatus;&#10;  UCHAR ResponseBuffer[1];&#10;} ScsiInquiry_OUT, *PScsiInquiry_OUT;">ScsiInquiry_OUT</a></strong> structure.</p>

<p><em>TotalRespBufferSize</em>
The size, in bytes, of the results of the report luns command.</p>

<p><em>OutRespBufferSize</em>
The size, in bytes, of the buffer that will hold the results of the SCSI inquiry command. The miniport driver returns this information in the ResponseBufferSize member of a <strong><a href="scsiinquiry_out" title="typedef struct _ScsiInquiry_OUT {&#10;  ULONG HBAStatus;&#10;  ULONG ResponseBufferSize;&#10;  ULONG SenseBufferSize;&#10;  UCHAR ScsiStatus;&#10;  UCHAR ResponseBuffer[1];&#10;} ScsiInquiry_OUT, *PScsiInquiry_OUT;">ScsiInquiry_OUT</a></strong> structure.</p>

<p><em>OutSenseBufferSize</em>
The size, in bytes, of the buffer that will hold the SCSI sense data that results from the SCSI inquiry command. The miniport driver returns this information in the SenseBufferSize member of a <strong><a href="scsiinquiry_out" title="typedef struct _ScsiInquiry_OUT {&#10;  ULONG HBAStatus;&#10;  ULONG ResponseBufferSize;&#10;  ULONG SenseBufferSize;&#10;  UCHAR ScsiStatus;&#10;  UCHAR ResponseBuffer[1];&#10;} ScsiInquiry_OUT, *PScsiInquiry_OUT;">ScsiInquiry_OUT</a></strong> structure.</p>

<p><em>RespBuffer</em>
The results of the SCSI inquiry command. The miniport driver returns this information in the ResponseBuffer member of a <strong><a href="scsiinquiry_out" title="typedef struct _ScsiInquiry_OUT {&#10;  ULONG HBAStatus;&#10;  ULONG ResponseBufferSize;&#10;  ULONG SenseBufferSize;&#10;  UCHAR ScsiStatus;&#10;  UCHAR ResponseBuffer[1];&#10;} ScsiInquiry_OUT, *PScsiInquiry_OUT;">ScsiInquiry_OUT</a></strong> structure.</p>

<p><em>SenseBuffer</em>
The SCSI sense data that results from the SCSI inquiry command. The miniport driver returns this information in the SenseBuffer member of a <strong><a href="scsiinquiry_out" title="typedef struct _ScsiInquiry_OUT {&#10;  ULONG HBAStatus;&#10;  ULONG ResponseBufferSize;&#10;  ULONG SenseBufferSize;&#10;  UCHAR ScsiStatus;&#10;  UCHAR ResponseBuffer[1];&#10;} ScsiInquiry_OUT, *PScsiInquiry_OUT;">ScsiInquiry_OUT</a></strong> structure.</p>

<h2 id="return-value">Return value</h2>

<p>Not applicable to WMI methods.</p>

<h2 id="remarks">Remarks</h2>

<p>This WMI method belongs to the MS_SM_ScsiInformationMethods WMI Class.</p>

<h2 id="requirements">Requirements</h2>

<table>
<thead>
<tr>
  <th></th>
  <th></th>
</tr>
</thead>
<tbody>
<tr>
  <td>Target platform</td>
  <td>Desktop</td>
</tr>
<tr>
  <td>Header</td>
  <td>Hbapiwmi.h</td>
</tr>
</tbody>
</table>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/hba-status">HBA_STATUS</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/sm-scsireportluns">View the official Windows hardware development documentation</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs/blob/staging/windows-driver-docs-pr/storage/sm-scsireportluns.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
