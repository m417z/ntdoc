<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WDF_DRIVER_CONFIG - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WDF_DRIVER_CONFIG - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WDF_DRIVER_CONFIG - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdfdriver.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _WDF_DRIVER_CONFIG {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                     Size;
  PFN_WDF_DRIVER_DEVICE_ADD EvtDriverDeviceAdd;
  PFN_WDF_DRIVER_UNLOAD     EvtDriverUnload;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                     DriverInitFlags;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                     DriverPoolTag;
} WDF_DRIVER_CONFIG, *PWDF_DRIVER_CONFIG;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdriver/ns-wdfdriver-_wdf_driver_config">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/wdf_driver_config.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-wdfdriver-_wdf_driver_config)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_wdf_driver_config-structure">_WDF_DRIVER_CONFIG structure</h1>

<h2 id="description">Description</h2>

<p>[Applies to KMDF and UMDF]</p>

<p>The WDF_DRIVER_CONFIG structure is an input parameter to <a href="wdfdrivercreate" title="NTSTATUS WdfDriverCreate(&#10;  [in]            PDRIVER_OBJECT         DriverObject,&#10;  [in]            PCUNICODE_STRING       RegistryPath,&#10;  [in, optional]  PWDF_OBJECT_ATTRIBUTES DriverAttributes,&#10;  [in]            PWDF_DRIVER_CONFIG     DriverConfig,&#10;  [out, optional] WDFDRIVER              *Driver&#10;);">WdfDriverCreate</a>.</p>

<h2 id="members">Members</h2>

<h3 id="size"><code>Size</code></h3>

<p>The size, in bytes, of this structure.</p>

<h3 id="evtdriverdeviceadd"><code>EvtDriverDeviceAdd</code></h3>

<p>A pointer to a driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdriver/nc-wdfdriver-evt_wdf_driver_device_add">EvtDriverDeviceAdd</a> callback function.</p>

<h3 id="evtdriverunload"><code>EvtDriverUnload</code></h3>

<p>A pointer to a driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdriver/nc-wdfdriver-evt_wdf_driver_unload">EvtDriverUnload</a> callback function.</p>

<h3 id="driverinitflags"><code>DriverInitFlags</code></h3>

<p>A bitwise OR of one or more <a href="wdf_driver_init_flags" title="typedef enum _WDF_DRIVER_INIT_FLAGS {&#10;  WdfDriverInitNonPnpDriver = 0x00000001,&#10;  WdfDriverInitNoDispatchOverride = 0x00000002,&#10;  WdfVerifyOn = 0x00000004,&#10;  WdfVerifierOn = 0x00000008,&#10;  WdfDriverInitCompanion = 0x00000010&#10;} WDF_DRIVER_INIT_FLAGS;">WDF_DRIVER_INIT_FLAGS</a>-typed values that identify driver initialization flags.</p>

<h3 id="driverpooltag"><code>DriverPoolTag</code></h3>

<p>(KMDF versions 1.5 and later.) A driver-defined pool tag that the framework will assign to all of the driver's pool allocations. Debuggers display this tag. For more information about specifying a pool tag, see the following Remarks section.</p>

<h2 id="remarks">Remarks</h2>

<p>Your driver can optionally specify a pool tag that the framework will assign to all of the driver's pool allocations. Drivers typically specify a character string of up to four characters, delimited by single quotation marks, in reverse order (for example, 'dcba'). The ASCII value of each character in the tag must be between 0 and 127.</p>

<p>If <strong>DriverPoolTag</strong> is zero, the framework creates a default pool tag by using the first four characters of your driver's kernel-mode service name. If the service name begins with "WDF" (the name is not case sensitive and does not include the quotation marks), the next four characters are used. If fewer than four characters are available, "FxDr" is used.</p>

<p>To initialize a WDF_DRIVER_CONFIG structure, drivers must call <a href="wdf_driver_config_init" title="VOID WDF_DRIVER_CONFIG_INIT(&#10;  [out]          PWDF_DRIVER_CONFIG        Config,&#10;  [in, optional] PFN_WDF_DRIVER_DEVICE_ADD EvtDriverDeviceAdd&#10;);">WDF_DRIVER_CONFIG_INIT</a>.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdriver/nc-wdfdriver-evt_wdf_driver_device_add">EvtDriverDeviceAdd</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdriver/nc-wdfdriver-evt_wdf_driver_unload">EvtDriverUnload</a></p>

<p><a href="wdf_driver_config_init" title="VOID WDF_DRIVER_CONFIG_INIT(&#10;  [out]          PWDF_DRIVER_CONFIG        Config,&#10;  [in, optional] PFN_WDF_DRIVER_DEVICE_ADD EvtDriverDeviceAdd&#10;);">WDF_DRIVER_CONFIG_INIT</a></p>

<p><a href="wdf_driver_init_flags" title="typedef enum _WDF_DRIVER_INIT_FLAGS {&#10;  WdfDriverInitNonPnpDriver = 0x00000001,&#10;  WdfDriverInitNoDispatchOverride = 0x00000002,&#10;  WdfVerifyOn = 0x00000004,&#10;  WdfVerifierOn = 0x00000008,&#10;  WdfDriverInitCompanion = 0x00000010&#10;} WDF_DRIVER_INIT_FLAGS;">WDF_DRIVER_INIT_FLAGS</a></p>

<p><a href="wdfdrivercreate" title="NTSTATUS WdfDriverCreate(&#10;  [in]            PDRIVER_OBJECT         DriverObject,&#10;  [in]            PCUNICODE_STRING       RegistryPath,&#10;  [in, optional]  PWDF_OBJECT_ATTRIBUTES DriverAttributes,&#10;  [in]            PWDF_DRIVER_CONFIG     DriverConfig,&#10;  [out, optional] WDFDRIVER              *Driver&#10;);">WdfDriverCreate</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfdriver/ns-wdfdriver-_wdf_driver_config">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdfdriver/ns-wdfdriver-_wdf_driver_config.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
