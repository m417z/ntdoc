<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IOCTL_PWM_CONTROLLER_SET_DESIRED_PERIOD - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IOCTL_PWM_CONTROLLER_SET_DESIRED_PERIOD - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IOCTL_PWM_CONTROLLER_SET_DESIRED_PERIOD - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pwm.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">// <a href="ctl_code" title="void CTL_CODE(&#10;  DeviceType,&#10;  Function,&#10;  Method,&#10;  Access&#10;);">CTL_CODE</a>(0x0004, 0x002, METHOD_BUFFERED, FILE_WRITE_ACCESS)
#define IOCTL_PWM_CONTROLLER_SET_DESIRED_PERIOD 0x00048008</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/pwm/ni-pwm-ioctl_pwm_controller_set_desired_period">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ioctl_pwm_controller_set_desired_period.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ni-pwm-ioctl_pwm_controller_set_desired_period)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="ioctl_pwm_controller_set_desired_period-ioctl">IOCTL_PWM_CONTROLLER_SET_DESIRED_PERIOD IOCTL</h1>

<h2 id="description">Description</h2>

<p>Sets the output signal period of a Pulse Width Modulation (PWM) controller to a suggested value.</p>

<h2 id="parameters">Parameters</h2>

<h3 id="input-buffer">Input buffer</h3>

<p>A pointer to a buffer that contains a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/pwm/ns-pwm-pwm_controller_set_desired_period_input">PWM_CONTROLLER_SET_DESIRED_PERIOD_INPUT</a> struct. The associated value is the requested output signal period, in picoseconds, for the controller. This value must be greater than zero (0). It must be in the controller supported range of periods, which is between the <strong>MinimumPeriod</strong> and <strong>MaximumPeriod</strong> values, inclusive, which you can obtain by using <a href="ioctl_pwm_controller_get_info" title="// CTL_CODE(0x0004, 0x000, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_PWM_CONTROLLER_GET_INFO 0x00040000">IOCTL_PWM_CONTROLLER_GET_INFO</a>.</p>

<h3 id="input-buffer-length">Input buffer length</h3>

<p>The size of the input buffer, in bytes.</p>

<h3 id="output-buffer">Output buffer</h3>

<p>A pointer to a buffer that contains a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/pwm/ns-pwm-pwm_controller_set_desired_period_input">PWM_CONTROLLER_SET_DESIRED_PERIOD_INPUT</a> struct. The associated value is the effective output signal period of the Pulse Width Modulation (PWM) controller. It can later be retrieved by using <a href="ioctl_pwm_controller_get_actual_period" title="// CTL_CODE(0x0004, 0x001, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_PWM_CONTROLLER_GET_ACTUAL_PERIOD 0x00040004">IOCTL_PWM_CONTROLLER_GET_ACTUAL_PERIOD</a>.</p>

<h3 id="output-buffer-length">Output buffer length</h3>

<p>The size of the output buffer, in bytes.</p>

<h3 id="inputoutput-buffer">Input/output buffer</h3>

<h3 id="inputoutput-buffer-length">Input/output buffer length</h3>

<h3 id="status-block">Status block</h3>

<p>If the operation completes successfully,
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol">DeviceIoControl</a> returns a nonzero
value.</p>

<p>If the operation fails or is pending,
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol">DeviceIoControl</a> returns zero. To get extended error
information, call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror">GetLastError</a>.</p>

<h2 id="remarks">Remarks</h2>

<p>To perform this operation, call the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol">DeviceIoControl</a>
function with the following parameters.</p>

<pre><code>BOOL
   WINAPI
   DeviceIoControl( (HANDLE)       hDevice,         // handle to device
                    (<a href="dword" title="typedef unsigned long DWORD;">DWORD</a>)        IOCTL_PWM_CONTROLLER_SET_DESIRED_PERIOD, // dwIoControlCode(LPDWORD)      lpInBuffer,      // input buffer
                    (<a href="dword" title="typedef unsigned long DWORD;">DWORD</a>)        nInBufferSize,   // size of input buffer
                    (LPDWORD)      lpOutBuffer,     // output buffer
                    (<a href="dword" title="typedef unsigned long DWORD;">DWORD</a>)        nOutBufferSize,  // size of output buffer
                    (LPDWORD)      lpBytesReturned, // number of bytes returned
                    (LPOVERLAPPED) lpOverlapped );  // OVERLAPPED structure
</code></pre>

<table>
<thead>
<tr>
  <th>Parameters</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><em>hDevice</em> [in]</td>
  <td>A handle to the device. To obtain a device handle, call the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/fileapi/nf-fileapi-createfilea">CreateFile</a> function.</td>
</tr>
<tr>
  <td><em>dwIoControlCode</em> [in]</td>
  <td>The control code for the operation. Use <strong>IOCTL_PWM_CONTROLLER_SET_DESIRED_PERIOD</strong> for this operation.</td>
</tr>
<tr>
  <td><em>lpInBuffer</em></td>
  <td>A pointer to a buffer that contains a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/pwm/ns-pwm-pwm_controller_set_desired_period_input">PWM_CONTROLLER_SET_DESIRED_PERIOD_INPUT</a> struct. The associated value is the requested output signal period, in picoseconds, for the controller. This value must be greater than zero (0). It must be in the controller supported range of periods, which is between the <strong>MinimumPeriod</strong> and <strong>MaximumPeriod</strong> values, inclusive, which you can obtain by using <a href="ioctl_pwm_controller_get_info" title="// CTL_CODE(0x0004, 0x000, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_PWM_CONTROLLER_GET_INFO 0x00040000">IOCTL_PWM_CONTROLLER_GET_INFO</a>.</td>
</tr>
<tr>
  <td><em>nInBufferSize</em> [in]</td>
  <td>The size of the input buffer, in bytes.</td>
</tr>
<tr>
  <td><em>lpOutBuffer</em> [out]</td>
  <td>A pointer to a buffer that contains a <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/pwm/ns-pwm-pwm_controller_set_desired_period_input">PWM_CONTROLLER_SET_DESIRED_PERIOD_INPUT</a> struct. The associated value is the effective output signal period of the Pulse Width Modulation (PWM) controller. It can later be retrieved by using <a href="ioctl_pwm_controller_get_actual_period" title="// CTL_CODE(0x0004, 0x001, METHOD_BUFFERED, FILE_ANY_ACCESS)&#10;#define IOCTL_PWM_CONTROLLER_GET_ACTUAL_PERIOD 0x00040004">IOCTL_PWM_CONTROLLER_GET_ACTUAL_PERIOD</a>.</td>
</tr>
<tr>
  <td><em>nOutBufferSize</em> [in]</td>
  <td>The size of the output buffer, in bytes.</td>
</tr>
<tr>
  <td><em>lpBytesReturned</em> [out]</td>
  <td><strong>LPDWORD</strong><br><br>A pointer to a variable that receives the size of the data stored in the output buffer, in bytes.<br><br>If the output buffer is too small, the call fails, <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror">GetLastError</a> returns <strong>ERROR_INSUFFICIENT_BUFFER</strong>, and <em>lpBytesReturned</em> is zero.<br><br>If <em>lpOverlapped</em> is <strong>NULL</strong>, <em>lpBytesReturned</em> cannot be <strong>NULL</strong>. Even when an operation returns no output data and <em>lpOutBuffer</em> is <strong>NULL</strong>, <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol">DeviceIoControl</a> makes use of <em>lpBytesReturned</em>. After such an operation, the value of <em>lpBytesReturned</em> is meaningless.<br><br>If <em>lpOverlapped</em> is not <strong>NULL</strong>, <em>lpBytesReturned</em> can be <strong>NULL</strong>. If this parameter is not <strong>NULL</strong> and the operation returns data, <em>lpBytesReturned</em> is meaningless until the overlapped operation has completed. To retrieve the number of bytes returned, call <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ioapiset/nf-ioapiset-getoverlappedresult">GetOverlappedResult</a>. If the <em>hDevice</em> parameter is associated with an I/O completion port, you can retrieve the number of bytes returned by calling <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ioapiset/nf-ioapiset-getqueuedcompletionstatus">GetQueuedCompletionStatus</a>.</td>
</tr>
<tr>
  <td><em>lpOverlapped</em> [in]</td>
  <td><strong>LPOVERLAPPED</strong><br><br>A pointer to an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/minwinbase/ns-minwinbase-overlapped">OVERLAPPED</a> structure.<br><br>If <em>hDevice</em> was opened without specifying <strong>FILE_FLAG_OVERLAPPED</strong>, <em>lpOverlapped</em> is ignored.<br><br>If <em>hDevice</em> was opened with the <strong>FILE_FLAG_OVERLAPPED</strong> flag, the operation is performed as an overlapped (asynchronous) operation. In this case, <em>lpOverlapped</em> must point to a valid <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/minwinbase/ns-minwinbase-overlapped">OVERLAPPED</a> structure that contains a handle to an event object. Otherwise, the function fails in unpredictable ways.<br><br>For overlapped operations, <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol">DeviceIoControl</a> returns immediately, and the event object is signaled when the operation has been completed. Otherwise, the function does not return until the operation has been completed or an error occurs.</td>
</tr>
</tbody>
</table>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol">DeviceIoControl</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/pwm/ni-pwm-ioctl_pwm_controller_set_desired_period">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/pwm/ni-pwm-ioctl_pwm_controller_set_desired_period.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
