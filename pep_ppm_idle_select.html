<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="PEP_PPM_IDLE_SELECT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PEP_PPM_IDLE_SELECT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            PEP_PPM_IDLE_SELECT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// pep_x.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _PEP_PPM_IDLE_SELECT {
  [in]  <a href="pep_processor_idle_constraints" title="typedef struct _PEP_PROCESSOR_IDLE_CONSTRAINTS {&#10;  ULONGLONG               IdleDuration;&#10;  BOOLEAN                 Interruptible;&#10;  PEP_PROCESSOR_IDLE_TYPE Type;&#10;} PEP_PROCESSOR_IDLE_CONSTRAINTS, *PPEP_PROCESSOR_IDLE_CONSTRAINTS;">PPEP_PROCESSOR_IDLE_CONSTRAINTS</a> Constraints;
  [out] BOOLEAN                         AbortTransition;
  [out] <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                           IdleStateIndex;
  [out] <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                           DependencyArrayUsed;
  [in]  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                           DependencyArrayCount;
  [in]  <a href="pep_processor_idle_dependency" title="typedef struct _PEP_PROCESSOR_IDLE_DEPENDENCY {&#10;  POHANDLE TargetProcessor;&#10;  UCHAR    ExpectedState;&#10;  BOOLEAN  AllowDeeperStates;&#10;  BOOLEAN  LooseDependency;&#10;} PEP_PROCESSOR_IDLE_DEPENDENCY, *PPEP_PROCESSOR_IDLE_DEPENDENCY;">PPEP_PROCESSOR_IDLE_DEPENDENCY</a>  DependencyArray;
  [out] <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                           PlatformIdleStateIndex;
} PEP_PPM_IDLE_SELECT, *PPEP_PPM_IDLE_SELECT;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_ppm_idle_select">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/pep_ppm_idle_select.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-pep_x-_pep_ppm_idle_select)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_pep_ppm_idle_select-structure">_PEP_PPM_IDLE_SELECT structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>PEP_PPM_IDLE_SELECT</strong> structure describes the most energy-efficient idle state that the processor can enter and still satisfy the constraints specified by the operating system.</p>

<h2 id="members">Members</h2>

<h3 id="constraints-in"><code>Constraints</code> [in]</h3>

<p>A pointer to a <a rel="noopener" target="_blank" href="pep_processor_idle_constraints">PEP_PROCESSOR_IDLE_CONSTRAINTS</a> structure that specifies the constraints that the selected processor idle state must satisfy. The operating system sets the values in this structure. The platform extension plug-in (PEP) must select a processor idle state that satisfies these constraints.</p>

<h3 id="aborttransition-out"><code>AbortTransition</code> [out]</h3>

<p>Whether to cancel the pending transition to a processor idle state. Set this member to TRUE if the PEP requires the operating system to cancel the pending transition, and to FALSE otherwise. The PEP selects this option if it wants to queue work and have the Windows kernel process this work before the processor enters idle.</p>

<h3 id="idlestateindex-out"><code>IdleStateIndex</code> [out]</h3>

<p>The index that identifies the idle state that the processor is to enter. This member is ignored if <strong>AbortTransition</strong> = TRUE. If the processor supports N idle states, idle state indexes range from 0 to Nâ€“1. The PEP supplied the number of supported idle states for this processor in response to a previous <a rel="noopener" target="_blank" href="pep_ppm_query_idle_states">PEP_NOTIFY_PPM_QUERY_IDLE_STATES</a> notification.</p>

<h3 id="dependencyarrayused-out"><code>DependencyArrayUsed</code> [out]</h3>

<p>The number of array elements that the PEP has actually written to the output buffer pointed to the <strong>DependencyArray</strong> member.</p>

<h3 id="dependencyarraycount-in"><code>DependencyArrayCount</code> [in]</h3>

<p>The maximum number of elements in the array pointed to by the <strong>DependencyArray</strong> member. The <strong>DependencyArrayCount</strong> member value is equal to the <strong>MaximumCoordinatedProcessors</strong> value that the PEP previously supplied in response to the <a rel="noopener" target="_blank" href="pep_ppm_query_idle_states">PEP_NOTIFY_PPM_QUERY_IDLE_STATES</a> notification.</p>

<h3 id="dependencyarray-in"><code>DependencyArray</code> [in]</h3>

<p>A pointer to an output buffer to which the PEP writes an array of <a rel="noopener" target="_blank" href="pep_processor_idle_dependency">PEP_PROCESSOR_IDLE_DEPENDENCY</a> structures. The elements of this array specify processor idle dependencies or wake dependencies that must be met for this idle transition to succeed. The PEP sets the <strong>DependencyArrayUsed</strong> member to the actual number of array elements that the PEP writes to the buffer. The output buffer is allocated by the Windows <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/_kernel/#device-power-management">power management framework</a> (PoFx) and is guaranteed to be large enough to contain the number of array elements specified by the <strong>DependencyArrayCount</strong> member.</p>

<h3 id="platformidlestateindex-out"><code>PlatformIdleStateIndex</code> [out]</h3>

<p>The index of the platform idle state that the platform is to enter when the processor enters the selected processor idle state. The PEP should set this member only if the platform enters an idle state at the same time as the processor. This member is ignored if <strong>AbortTransition</strong> is TRUE.</p>

<h2 id="remarks">Remarks</h2>

<p>This structure is used by the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_ppm_idle_select">PEP_NOTIFY_PPM_IDLE_SELECT</a> notification. The <strong>Constraints</strong>, <strong>DependencyArrayCount</strong>, and <strong>DependencyArray</strong> members of the structure contain input values supplied by PoFx when this notification is sent. The remaining members contain output values that the PEP writes to the structure in response to the notification.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_ppm_idle_select">PEP_NOTIFY_PPM_IDLE_SELECT</a></p>

<p><a rel="noopener" target="_blank" href="pep_ppm_query_idle_states">PEP_NOTIFY_PPM_QUERY_IDLE_STATES</a></p>

<p><a rel="noopener" target="_blank" href="pep_processor_idle_constraints">PEP_PROCESSOR_IDLE_CONSTRAINTS</a></p>

<p><a rel="noopener" target="_blank" href="pep_processor_idle_dependency">PEP_PROCESSOR_IDLE_DEPENDENCY</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/pep_x/ns-pep_x-_pep_ppm_idle_select">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/pep_x/ns-pep_x-_pep_ppm_idle_select.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
