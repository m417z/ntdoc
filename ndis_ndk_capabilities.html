<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_NDK_CAPABILITIES - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_NDK_CAPABILITIES - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_NDK_CAPABILITIES - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NDIS_NDK_CAPABILITIES {
  <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> Header;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              Flags;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxQpCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxCqCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxMrCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxPdCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxInboundReadLimit;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxOutboundReadLimit;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxMwCount;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxSrqCount;
  <a href="ulong64" title="typedef unsigned __int64 ULONG64;">ULONG64</a>            MissingCounterMask;
  NDK_ADAPTER_INFO   *NdkInfo;
} NDIS_NDK_CAPABILITIES, *PNDIS_NDK_CAPABILITIES;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_ndk_capabilities">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_ndk_capabilities.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddndis-_ndis_ndk_capabilities)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ndis_ndk_capabilities-structure">_NDIS_NDK_CAPABILITIES structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>NDIS_NDK_CAPABILITIES</strong> structure specifies the capabilities of an NDK adapter.</p>

<h2 id="members">Members</h2>

<h3 id="header"><code>Header</code></h3>

<p>The <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> structure that describes this <strong>NDIS_NDK_CAPABILITIES</strong> structure. Set the members of the <strong><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></strong> structure as follows:</p>

<ul>
<li>Set the <strong>Type</strong> member to <strong>NDIS_OBJECT_TYPE_DEFAULT</strong>.</li>
<li>Set the <strong>Revision</strong> member to <strong>NDIS_NDK_CAPABILITIES_REVISION_1</strong>.</li>
<li>Set the <strong>Size</strong> member to <strong>NDIS_SIZEOF_NDK_CAPABILITIES_REVISION_1</strong>.</li>
</ul>

<h3 id="flags"><code>Flags</code></h3>

<h3 id="maxqpcount"><code>MaxQpCount</code></h3>

<p>The maximum number of queue pairs (QPs) that can be supported by the adapter.</p>

<h3 id="maxcqcount"><code>MaxCqCount</code></h3>

<p>The maximum number of completion queues (CQs) that can be supported by the adapter.</p>

<h3 id="maxmrcount"><code>MaxMrCount</code></h3>

<p>The maximum number of memory regions (MRs) that can be supported by the adapter.</p>

<h3 id="maxpdcount"><code>MaxPdCount</code></h3>

<p>The maximum number of protection domains (PDs) that can be supported by the adapter</p>

<h3 id="maxinboundreadlimit"><code>MaxInboundReadLimit</code></h3>

<p>The maximum number of incoming outstanding read requests that can be supported by the adapter.
If this member is zero, there is no adapter limit. In this case, there is still a limit for each queue pair. The limit for each queue pair is specified in the <strong>MaxInboundReadLimit</strong> member of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ndkinfo/ns-ndkinfo-ndk_adapter_info">NDK_ADAPTER_INFO</a> structure.</p>

<h3 id="maxoutboundreadlimit"><code>MaxOutboundReadLimit</code></h3>

<p>The maximum number of outgoing outstanding read requests that can be supported by the adapter.
If this member is zero, there is no adapter-wide limit. In this case, there is still a limit for each queue pair. The limit for each queue pair is specified in the <strong>MaxOutboundReadLimit</strong> member of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ndkinfo/ns-ndkinfo-ndk_adapter_info">NDK_ADAPTER_INFO</a> structure.</p>

<h3 id="maxmwcount"><code>MaxMwCount</code></h3>

<p>The maximum number of memory windows (MWs) that are supported by the adapter.</p>

<h3 id="maxsrqcount"><code>MaxSrqCount</code></h3>

<p>The maximum number of shared receive queues (SRQs) that are supported by the adapter.</p>

<h3 id="missingcountermask"><code>MissingCounterMask</code></h3>

<p>A bitmask that identifies counters that an NDK provider does not support. NDK providers are required to support all the performance counters that are included
in the <a href="ndis_ndk_performance_counters" title="typedef struct _NDIS_NDK_PERFORMANCE_COUNTERS {&#10;  ULONG64 Connect;&#10;  ULONG64 Accept;&#10;  ULONG64 ConnectFailure;&#10;  ULONG64 ConnectionError;&#10;  ULONG64 ActiveConnection;&#10;  ULONG64 Reserved01;&#10;  ULONG64 Reserved02;&#10;  ULONG64 Reserved03;&#10;  ULONG64 Reserved04;&#10;  ULONG64 Reserved05;&#10;  ULONG64 Reserved06;&#10;  ULONG64 Reserved07;&#10;  ULONG64 Reserved08;&#10;  ULONG64 Reserved09;&#10;  ULONG64 Reserved10;&#10;  ULONG64 Reserved11;&#10;  ULONG64 Reserved12;&#10;  ULONG64 Reserved13;&#10;  ULONG64 Reserved14;&#10;...">NDIS_NDK_PERFORMANCE_COUNTERS</a> structure. However, in the rare case that
a provider cannot support a counter due to extreme implementation difficulties,
the provider must indicate any unsupported counters with the mask value for the
counter which it cannot support.</p>

<h3 id="ndkinfo"><code>NdkInfo</code></h3>

<p>A pointer to an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ndkinfo/ns-ndkinfo-ndk_adapter_info">NDK_ADAPTER_INFO</a> structure that specifies NDK adapter capabilities and limits that are relevant for a specific NDK consumer. These capabilities can be different from system-wide limits.</p>

<h2 id="remarks">Remarks</h2>

<p><strong>NDIS_NDK_CAPABILITIES</strong> specifies capacity limits that are relevant for
system-wide management or partitioning of resources that are available on a given NDK adapter.</p>

<p>Independent of whether NDK functionality of an adapter is currently enabled or disabled,
an NDK-capable adapter must always indicate its capabilities during miniport initialization.</p>

<p>The <strong>NDIS_NDK_CAPABILITIES</strong> structure is used in the <a href="ndis_miniport_adapter_ndk_attributes" title="typedef struct _NDIS_MINIPORT_ADAPTER_NDK_ATTRIBUTES {&#10;  NDIS_OBJECT_HEADER     Header;&#10;  BOOLEAN                Enabled;&#10;  PNDIS_NDK_CAPABILITIES NdkCapabilities;&#10;} NDIS_MINIPORT_ADAPTER_NDK_ATTRIBUTES, *PNDIS_MINIPORT_ADAPTER_NDK_ATTRIBUTES;">NDIS_MINIPORT_ADAPTER_NDK_ATTRIBUTES</a> structure.</p>

<h2 id="see-also">See also</h2>

<p><a href="ndis_miniport_adapter_ndk_attributes" title="typedef struct _NDIS_MINIPORT_ADAPTER_NDK_ATTRIBUTES {&#10;  NDIS_OBJECT_HEADER     Header;&#10;  BOOLEAN                Enabled;&#10;  PNDIS_NDK_CAPABILITIES NdkCapabilities;&#10;} NDIS_MINIPORT_ADAPTER_NDK_ATTRIBUTES, *PNDIS_MINIPORT_ADAPTER_NDK_ATTRIBUTES;">NDIS_MINIPORT_ADAPTER_NDK_ATTRIBUTES</a></p>

<p><a href="ndis_ndk_performance_counters" title="typedef struct _NDIS_NDK_PERFORMANCE_COUNTERS {&#10;  ULONG64 Connect;&#10;  ULONG64 Accept;&#10;  ULONG64 ConnectFailure;&#10;  ULONG64 ConnectionError;&#10;  ULONG64 ActiveConnection;&#10;  ULONG64 Reserved01;&#10;  ULONG64 Reserved02;&#10;  ULONG64 Reserved03;&#10;  ULONG64 Reserved04;&#10;  ULONG64 Reserved05;&#10;  ULONG64 Reserved06;&#10;  ULONG64 Reserved07;&#10;  ULONG64 Reserved08;&#10;  ULONG64 Reserved09;&#10;  ULONG64 Reserved10;&#10;  ULONG64 Reserved11;&#10;  ULONG64 Reserved12;&#10;  ULONG64 Reserved13;&#10;  ULONG64 Reserved14;&#10;...">NDIS_NDK_PERFORMANCE_COUNTERS</a></p>

<p><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows/win32/api/ndkinfo/ns-ndkinfo-ndk_adapter_info">NDK_ADAPTER_INFO</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_ndk_capabilities">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddndis/ns-ntddndis-_ndis_ndk_capabilities.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
