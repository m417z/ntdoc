<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGKDDI_QUERY_CHILD_RELATIONS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGKDDI_QUERY_CHILD_RELATIONS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGKDDI_QUERY_CHILD_RELATIONS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// dispmprt.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">DXGKDDI_QUERY_CHILD_RELATIONS DxgkddiQueryChildRelations;

<a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> DxgkddiQueryChildRelations(
  [in]      IN_CONST_PVOID MiniportDeviceContext,
  [in, out] <a href="dxgk_child_descriptor" title="typedef struct _DXGK_CHILD_DESCRIPTOR {&#10;  DXGK_CHILD_DEVICE_TYPE  ChildDeviceType;&#10;  DXGK_CHILD_CAPABILITIES ChildCapabilities;&#10;  ULONG                   AcpiUid;&#10;  ULONG                   ChildUid;&#10;} DXGK_CHILD_DESCRIPTOR, *PDXGK_CHILD_DESCRIPTOR;">PDXGK_CHILD_DESCRIPTOR</a> ChildRelations,
  [in]      <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ChildRelationsSize
)
{...}</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_query_child_relations">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgkddi_query_child_relations.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (nc-dispmprt-dxgkddi_query_child_relations)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>DXGKDDI_QUERY_CHILD_RELATIONS callback function</h1>
<h2>Description</h2>
<p>The <em>DxgkDdiQueryChildRelations</em> function enumerates the child devices of a display adapter.</p>
<h2>Parameters</h2>
<h3><code>MiniportDeviceContext</code> [in]</h3>
<p>A handle to a context block associated with a display adapter. The display miniport driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_add_device">DxgkDdiAddDevice</a> function previously provided this handle to the DirectX graphics kernel subsystem.</p>
<h3><code>ChildRelations</code> [in, out]</h3>
<p>A pointer to an array of <a href="dxgk_child_descriptor" title="typedef struct _DXGK_CHILD_DESCRIPTOR {&#10;  DXGK_CHILD_DEVICE_TYPE  ChildDeviceType;&#10;  DXGK_CHILD_CAPABILITIES ChildCapabilities;&#10;  ULONG                   AcpiUid;&#10;  ULONG                   ChildUid;&#10;} DXGK_CHILD_DESCRIPTOR, *PDXGK_CHILD_DESCRIPTOR;">DXGK_CHILD_DESCRIPTOR</a> structures allocated and zeroed by the caller. The number of elements in the array is one greater than the value returned by <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_start_device">DxgkDdiStartDevice</a> in the <em>NumberOfChildren</em> parameter. <em>DxgkDdiQueryChildRelations</em> must fill in all but the last structure in the array with information that describes the child devices of the display adapter. The last structure in the array must remain zeroed.</p>
<h3><code>ChildRelationsSize</code> [in]</h3>
<p>The total size, in bytes, of the <em>ChildRelations</em> array including the zeroed structure at the end.</p>
<h2>Return value</h2>
<p><em>DxgkDdiQueryChildRelations</em> returns <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> if it succeeds; otherwise, it returns one of the error codes defined in <em>Ntstatus.h</em>.</p>
<h2>Remarks</h2>
<p>All child devices of the display adapter are onboard; monitors and other external devices that connect to the display adapter are not considered child devices.</p>
<p>The display miniport driver must fill in an array of <a href="dxgk_child_descriptor" title="typedef struct _DXGK_CHILD_DESCRIPTOR {&#10;  DXGK_CHILD_DEVICE_TYPE  ChildDeviceType;&#10;  DXGK_CHILD_CAPABILITIES ChildCapabilities;&#10;  ULONG                   AcpiUid;&#10;  ULONG                   ChildUid;&#10;} DXGK_CHILD_DESCRIPTOR, *PDXGK_CHILD_DESCRIPTOR;">DXGK_CHILD_DESCRIPTOR</a> structures, one for each of the display adapter's children. The array must contain <a href="dxgk_child_descriptor" title="typedef struct _DXGK_CHILD_DESCRIPTOR {&#10;  DXGK_CHILD_DEVICE_TYPE  ChildDeviceType;&#10;  DXGK_CHILD_CAPABILITIES ChildCapabilities;&#10;  ULONG                   AcpiUid;&#10;  ULONG                   ChildUid;&#10;} DXGK_CHILD_DESCRIPTOR, *PDXGK_CHILD_DESCRIPTOR;">DXGK_CHILD_DESCRIPTOR</a> structures for all current child devices and all potential child devices. For example, if docking a portable computer will result in new video outputs becoming available, those video outputs must have descriptors in the array, even if they are not currently available.</p>
<p>The <em>DxgkDdiQueryChildRelations</em> function should be made pageable.</p>
<h2>See also</h2>
<p><a href="dxgk_child_descriptor" title="typedef struct _DXGK_CHILD_DESCRIPTOR {&#10;  DXGK_CHILD_DEVICE_TYPE  ChildDeviceType;&#10;  DXGK_CHILD_CAPABILITIES ChildCapabilities;&#10;  ULONG                   AcpiUid;&#10;  ULONG                   ChildUid;&#10;} DXGK_CHILD_DESCRIPTOR, *PDXGK_CHILD_DESCRIPTOR;">DXGK_CHILD_DESCRIPTOR</a></p>
<p><a href="dxgk_child_status" title="typedef struct _DXGK_CHILD_STATUS {&#10;  DXGK_CHILD_STATUS_TYPE Type;&#10;  ULONG                  ChildUid;&#10;  union {&#10;    struct {&#10;      BOOLEAN Connected;&#10;    } HotPlug;&#10;    struct {&#10;      UCHAR Angle;&#10;    } Rotation;&#10;    struct {&#10;      BOOLEAN                         Connected;&#10;      D3DKMDT_VIDEO_OUTPUT_TECHNOLOGY MiracastMonitorType;&#10;    } Miracast;&#10;  };&#10;} DXGK_CHILD_STATUS, *PDXGK_CHILD_STATUS;">DXGK_CHILD_STATUS</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_query_child_status">DxgkDdiQueryChildStatus</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_query_device_descriptor">DxgkDdiQueryDeviceDescriptor</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_query_child_relations">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/dispmprt/nc-dispmprt-dxgkddi_query_child_relations.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
