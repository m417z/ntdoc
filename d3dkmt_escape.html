<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3DKMT_ESCAPE - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3DKMT_ESCAPE - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3DKMT_ESCAPE - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmthk.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _D3DKMT_ESCAPE {
  [in]     D3DKMT_HANDLE      hAdapter;
  [in]     D3DKMT_HANDLE      hDevice;
  [in]     <a href="d3dkmt_escapetype" title="typedef enum _D3DKMT_ESCAPETYPE {&#10;  D3DKMT_ESCAPE_DRIVERPRIVATE,&#10;  D3DKMT_ESCAPE_VIDMM,&#10;  D3DKMT_ESCAPE_TDRDBGCTRL,&#10;  D3DKMT_ESCAPE_VIDSCH,&#10;  D3DKMT_ESCAPE_DEVICE,&#10;  D3DKMT_ESCAPE_DMM,&#10;  D3DKMT_ESCAPE_DEBUG_SNAPSHOT,&#10;  D3DKMT_ESCAPE_DRT_TEST,&#10;  D3DKMT_ESCAPE_DIAGNOSTICS,&#10;  D3DKMT_ESCAPE_OUTPUTDUPL_SNAPSHOT,&#10;  D3DKMT_ESCAPE_OUTPUTDUPL_DIAGNOSTICS,&#10;  D3DKMT_ESCAPE_BDD_PNP,&#10;  D3DKMT_ESCAPE_BDD_FALLBACK,&#10;  D3DKMT_ESCAPE_ACTIVATE_SPECIFIC_DIAG,&#10;  D3DKMT_ESCAPE_MODES_PRUNED_OUT,&#10;  D3DKMT_ESCAPE_WHQL_INFO,&#10;  D3DKMT_ESCAPE_BRIGHTNESS,&#10;  D3DKMT_ESCAPE_EDID_CACHE,&#10;  D3DKMT_ESCAPE_MIRACAST_DISPLAY_REQUEST,&#10;...">D3DKMT_ESCAPETYPE</a>  Type;
  [in]     <a href="d3dddi_escapeflags" title="typedef struct _D3DDDI_ESCAPEFLAGS {&#10;  union {&#10;    struct {&#10;      UINT HardwareAccess : 1;&#10;      UINT DeviceStatusQuery : 1;&#10;      UINT ChangeFrameLatency : 1;&#10;      UINT NoAdapterSynchronization : 1;&#10;#if ...&#10;      UINT Reserved : 1;&#10;      UINT VirtualMachineData : 1;&#10;      UINT DriverKnownEscape : 1;&#10;      UINT DriverCommonEscape : 1;&#10;#if ...&#10;      UINT Reserved2 : 24;&#10;#else&#10;      UINT Reserved2 : 26;&#10;#endif&#10;#elif&#10;      UINT Reserved : 28;&#10;#elif&#10;...">D3DDDI_ESCAPEFLAGS</a> Flags;
  [in/out] VOID               *pPrivateDriverData;
  [in]     <a href="uint" title="typedef unsigned int UINT;">UINT</a>               PrivateDriverDataSize;
  [in]     D3DKMT_HANDLE      hContext;
} D3DKMT_ESCAPE;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmthk/ns-d3dkmthk-_d3dkmt_escape">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3dkmt_escape.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmthk-_d3dkmt_escape)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="d3dkmt_escape-structure">D3DKMT_ESCAPE structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>D3DKMT_ESCAPE</strong> structure describes information that is exchanged between a user-mode display driver (UMD) (or client driver) and the kernel-mode display miniport driver (KMD).</p>

<h2 id="members">Members</h2>

<h3 id="hadapter-in"><code>hAdapter</code> [in]</h3>

<p>A handle to the graphics adapter that information is exchanged on.</p>

<h3 id="hdevice-in"><code>hDevice</code> [in]</h3>

<p>A handle to a display device that is optionally specified if the information to be exchanged is specific to a particular device.</p>

<h3 id="type-in"><code>Type</code> [in]</h3>

<p>A <strong><a href="d3dkmt_escapetype" title="typedef enum _D3DKMT_ESCAPETYPE {&#10;  D3DKMT_ESCAPE_DRIVERPRIVATE,&#10;  D3DKMT_ESCAPE_VIDMM,&#10;  D3DKMT_ESCAPE_TDRDBGCTRL,&#10;  D3DKMT_ESCAPE_VIDSCH,&#10;  D3DKMT_ESCAPE_DEVICE,&#10;  D3DKMT_ESCAPE_DMM,&#10;  D3DKMT_ESCAPE_DEBUG_SNAPSHOT,&#10;  D3DKMT_ESCAPE_DRT_TEST,&#10;  D3DKMT_ESCAPE_DIAGNOSTICS,&#10;  D3DKMT_ESCAPE_OUTPUTDUPL_SNAPSHOT,&#10;  D3DKMT_ESCAPE_OUTPUTDUPL_DIAGNOSTICS,&#10;  D3DKMT_ESCAPE_BDD_PNP,&#10;  D3DKMT_ESCAPE_BDD_FALLBACK,&#10;  D3DKMT_ESCAPE_ACTIVATE_SPECIFIC_DIAG,&#10;  D3DKMT_ESCAPE_MODES_PRUNED_OUT,&#10;  D3DKMT_ESCAPE_WHQL_INFO,&#10;  D3DKMT_ESCAPE_BRIGHTNESS,&#10;  D3DKMT_ESCAPE_EDID_CACHE,&#10;  D3DKMT_ESCAPE_MIRACAST_DISPLAY_REQUEST,&#10;...">D3DKMT_ESCAPETYPE</a></strong> enumeration value that indicates either to exchange information with the KMD or to control kernel-mode components. The following table shows the possible values.</p>

<table>
<thead>
<tr>
  <th style="text-align:left;"><strong>Value</strong></th>
  <th style="text-align:left;"><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DRIVERPRIVATE (0)</td>
  <td style="text-align:left;">The <strong>pPrivateDriverData</strong> member is targeted at the KMD. The hardware vendor defines the format of the escape data.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_VIDMM (1)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. The UMD/client driver controls the video memory manager (<em>VidMm</em>). The buffer that <strong>pPrivateDriverData</strong> points to contains a <a href="d3dkmt_vidmm_escape" title="typedef struct _D3DKMT_VIDMM_ESCAPE {&#10;  D3DKMT_VIDMMESCAPETYPE Type;&#10;  union {&#10;    struct {&#10;      union {&#10;        struct {&#10;          ULONG ProbeAndLock : 1;&#10;          ULONG SplitPoint : 1;&#10;          ULONG NoDemotion : 1;&#10;          ULONG SwizzlingAperture : 1;&#10;          ULONG PagingPathLockSubRange : 1;&#10;          ULONG PagingPathLockMinRange : 1;&#10;          ULONG ComplexLock : 1;&#10;          ULONG FailVARotation : 1;&#10;          ULONG NoWriteCombined : 1;&#10;          ULONG NoPrePatching : 1;&#10;          ULONG AlwaysRepatch : 1;&#10;          ULONG ExpectPreparationFailure : 1;&#10;          ULONG FailUserModeVAMapping : 1;&#10;          ULONG NeverDiscardOfferedAllocation : 1;&#10;...">D3DKMT_VIDMM_ESCAPE</a> structure that supports various types of control of <em>VidMm</em>.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_TDRDBGCTRL (2)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. The escape operation lets the user control the behavior of the operating system's Timeout Detection and Recovery (TDR) process. This functionality is disabled by default. To enable this functionality, the TdrTestMode = TdrTestMode <a href="dword" title="typedef unsigned long DWORD;">DWORD</a> registry value, which is stored in the HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\GraphicsDrivers key, must be set to 1. The <strong>PrivateDriverDataSize</strong> member is set to sizeof(int). The <strong>pPrivateDriverData</strong> member is set to an integer with a value from the <a href="d3dkmt_tdrdbgctrltype" title="typedef enum _D3DKMT_TDRDBGCTRLTYPE {&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCETDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_DISABLEBREAK,&#10;  D3DKMT_TDRDBGCTRLTYPE_ENABLEBREAK,&#10;  D3DKMT_TDRDBGCTRLTYPE_UNCONDITIONAL,&#10;  D3DKMT_TDRDBGCTRLTYPE_VSYNCTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_GPUTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCEDODTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCEDODVSYNCTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_ENGINETDR&#10;} D3DKMT_TDRDBGCTRLTYPE;">D3DKMT_TDRDBGCTRLTYPE</a> enumeration type.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_VIDSCH (3)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. The UMD/client driver controls the GPU scheduler (which is part of <em>Dxgkrnl</em>). The buffer that <strong>pPrivateDriverData</strong> points to contains a <a href="d3dkmt_vidsch_escape" title="typedef struct _D3DKMT_VIDSCH_ESCAPE {&#10;  D3DKMT_VIDSCHESCAPETYPE            Type;&#10;  union {&#10;    BOOL                              PreemptionControl;&#10;    BOOL                              EnableContextDelay;&#10;    struct {&#10;      ULONG TdrControl;&#10;      union {&#10;        ULONG NodeOrdinal;&#10;      };&#10;    } TdrControl2;&#10;    BOOL                              SuspendScheduler;&#10;    ULONG                             TdrControl;&#10;    ULONG                             SuspendTime;&#10;    struct {&#10;      UINT Count;&#10;      UINT Time;&#10;    } TdrLimit;&#10;    D3DKMT_ESCAPE_PFN_CONTROL_COMMAND PfnControl;&#10;  };&#10;...">D3DKMT_VIDSCH_ESCAPE</a> structure that supports preemption control and suspending or resuming the scheduler.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DEVICE (4)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. The UMD/client driver controls the display device. The buffer that <strong>pPrivateDriverData</strong> points to contains a <a href="d3dkmt_device_escape" title="typedef struct _D3DKMT_DEVICE_ESCAPE {&#10;        D3DKMT_DEVICEESCAPE_TYPE Type;&#10;  union {&#10;    struct {&#10;      D3DKMT_HANDLE                  hPrimaryAllocation;&#10;      D3DDDI_VIDEO_PRESENT_SOURCE_ID VidPnSourceId;&#10;    } VidPnFromAllocation;&#10;  };&#10;} D3DKMT_DEVICE_ESCAPE;">D3DKMT_DEVICE_ESCAPE</a> structure that supports obtaining the video present source from the primary allocation.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DMM (5)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. The UMD/client driver controls the display mode manager. The buffer that <strong>pPrivateDriverData</strong> points to contains a <a href="d3dkmt_dmm_escape" title="typedef struct _D3DKMT_DMM_ESCAPE {&#10;  D3DKMT_DMMESCAPETYPE         Type;&#10;  D3DKMT_ALIGN64 D3DKMT_SIZE_T ProvidedBufferSize;&#10;  D3DKMT_ALIGN64 D3DKMT_SIZE_T MinRequiredBufferSize;&#10;  UCHAR                        Data[1];&#10;} D3DKMT_DMM_ESCAPE;">D3DKMT_DMM_ESCAPE</a> structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DEBUG_SNAPSHOT (6)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. The UMD/client driver retrieves a debug snapshot buffer. The buffer that <strong>pPrivateDriverData</strong> points to contains a <a href="d3dkmt_debug_snapshot_escape" title="typedef struct _D3DKMT_DEBUG_SNAPSHOT_ESCAPE {&#10;  [out] ULONG Length;&#10;        BYTE  Buffer[1];&#10;} D3DKMT_DEBUG_SNAPSHOT_ESCAPE;">D3DKMT_DEBUG_SNAPSHOT_ESCAPE</a> structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_SETDRIVERUPDATESTATUS (7)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. The UMD/client driver sets the KMD update status.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DRT_TEST (8)</td>
  <td style="text-align:left;">Don't use; for testing purposes only.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DIAGNOSTICS (9)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_OUTPUTDUPL_SNAPSHOT (10)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_OUTPUTDUPL_DIAGNOSTICS (11)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_BDD_PNP (12)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_BDD_FALLBACK (13)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_ACTIVATE_SPECIFIC_DIAG(14)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_MODES_PRUNED_OUT(15)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_WQHL_INFO(16)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_BRIGHTNESS(17)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_EDID_CACHE(18)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_GENERIC_ADAPTER_DIAG_INFO(19)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_MIRACAST_DISPLAY_REQUEST (20)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.1.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_HISTORY_BUFFER_STATUS (21)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.1.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_MIRACAST_ADAPTER_DIAG_INFO (23)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.1.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_WIN32K_START(1024)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_WIN32K_HIP_DEVICE_INFO(1024)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_WIN32K_QUERY_CD_ROTATION_BLOCK (1025)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_WIN32K_DPI_INFO (1026)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.1.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_WIN32K_PRESENTER_VIEW_INFO (1027)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.1.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_WIN32K_SYSTEM_DPI (1028)</td>
  <td style="text-align:left;">Don't use; for testing purposes only. Supported starting with Windows 8.1.</td>
</tr>
</tbody>
</table>

<h3 id="flags-in"><code>Flags</code> [in]</h3>

<p>A <strong><a href="d3dddi_escapeflags" title="typedef struct _D3DDDI_ESCAPEFLAGS {&#10;  union {&#10;    struct {&#10;      UINT HardwareAccess : 1;&#10;      UINT DeviceStatusQuery : 1;&#10;      UINT ChangeFrameLatency : 1;&#10;      UINT NoAdapterSynchronization : 1;&#10;#if ...&#10;      UINT Reserved : 1;&#10;      UINT VirtualMachineData : 1;&#10;      UINT DriverKnownEscape : 1;&#10;      UINT DriverCommonEscape : 1;&#10;#if ...&#10;      UINT Reserved2 : 24;&#10;#else&#10;      UINT Reserved2 : 26;&#10;#endif&#10;#elif&#10;      UINT Reserved : 28;&#10;#elif&#10;...">D3DDDI_ESCAPEFLAGS</a></strong> structure that indicates, in bit-field flags, how to share information. The UMD/client driver should specify the <strong>HardwareAccess</strong> bit-field flag to indicate that the KMD must access graphics hardware in such a way that the OS must perform the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/threading-and-synchronization-second-level">second level of synchronization</a> into the KMD for the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_escape"><strong>DxgkDdiEscape</strong></a> call.</p>

<p><strong>HardwareAccess</strong> should be set to zero when virtualization is being used. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/gpu-paravirtualization">GPU paravirtualization</a>.</p>

<h3 id="pprivatedriverdata-inout"><code>pPrivateDriverData</code> [in/out]</h3>

<p>A pointer to a buffer that the UMD or client driver allocates that contains a known driver escape structure. This structure contains information that the driver either exchanges with the KMD or uses to control kernel-mode components. The following table describes the content of the buffer that <strong>pPrivateDriverData</strong> points to, depending on the value of <strong>Type</strong>.</p>

<table>
<thead>
<tr>
  <th style="text-align:left;">Value of Type</th>
  <th style="text-align:left;">Content of the pPrivateDriverData buffer</th>
</tr>
</thead>
<tbody>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DRIVERPRIVATE</td>
  <td style="text-align:left;">Driver-specific. The buffer isn't usable unless a tight coupling exists between the UMD/client driver and the KMD.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_VIDMM</td>
  <td style="text-align:left;">Don't use; for testing purposes only. A <a href="d3dkmt_vidmm_escape" title="typedef struct _D3DKMT_VIDMM_ESCAPE {&#10;  D3DKMT_VIDMMESCAPETYPE Type;&#10;  union {&#10;    struct {&#10;      union {&#10;        struct {&#10;          ULONG ProbeAndLock : 1;&#10;          ULONG SplitPoint : 1;&#10;          ULONG NoDemotion : 1;&#10;          ULONG SwizzlingAperture : 1;&#10;          ULONG PagingPathLockSubRange : 1;&#10;          ULONG PagingPathLockMinRange : 1;&#10;          ULONG ComplexLock : 1;&#10;          ULONG FailVARotation : 1;&#10;          ULONG NoWriteCombined : 1;&#10;          ULONG NoPrePatching : 1;&#10;          ULONG AlwaysRepatch : 1;&#10;          ULONG ExpectPreparationFailure : 1;&#10;          ULONG FailUserModeVAMapping : 1;&#10;          ULONG NeverDiscardOfferedAllocation : 1;&#10;...">D3DKMT_VIDMM_ESCAPE</a> structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_TDRDBGCTRL</td>
  <td style="text-align:left;">Don't use; for testing purposes only. A <a href="d3dkmt_tdrdbgctrltype" title="typedef enum _D3DKMT_TDRDBGCTRLTYPE {&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCETDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_DISABLEBREAK,&#10;  D3DKMT_TDRDBGCTRLTYPE_ENABLEBREAK,&#10;  D3DKMT_TDRDBGCTRLTYPE_UNCONDITIONAL,&#10;  D3DKMT_TDRDBGCTRLTYPE_VSYNCTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_GPUTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCEDODTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCEDODVSYNCTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_ENGINETDR&#10;} D3DKMT_TDRDBGCTRLTYPE;">D3DKMT_TDRDBGCTRLTYPE</a> enumeration type.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_VIDSCH</td>
  <td style="text-align:left;">Don't use; for testing purposes only. A <a href="d3dkmt_vidsch_escape" title="typedef struct _D3DKMT_VIDSCH_ESCAPE {&#10;  D3DKMT_VIDSCHESCAPETYPE            Type;&#10;  union {&#10;    BOOL                              PreemptionControl;&#10;    BOOL                              EnableContextDelay;&#10;    struct {&#10;      ULONG TdrControl;&#10;      union {&#10;        ULONG NodeOrdinal;&#10;      };&#10;    } TdrControl2;&#10;    BOOL                              SuspendScheduler;&#10;    ULONG                             TdrControl;&#10;    ULONG                             SuspendTime;&#10;    struct {&#10;      UINT Count;&#10;      UINT Time;&#10;    } TdrLimit;&#10;    D3DKMT_ESCAPE_PFN_CONTROL_COMMAND PfnControl;&#10;  };&#10;...">D3DKMT_VIDSCH_ESCAPE</a> structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DEVICE</td>
  <td style="text-align:left;">Don't use; for testing purposes only. A <a href="d3dkmt_device_escape" title="typedef struct _D3DKMT_DEVICE_ESCAPE {&#10;        D3DKMT_DEVICEESCAPE_TYPE Type;&#10;  union {&#10;    struct {&#10;      D3DKMT_HANDLE                  hPrimaryAllocation;&#10;      D3DDDI_VIDEO_PRESENT_SOURCE_ID VidPnSourceId;&#10;    } VidPnFromAllocation;&#10;  };&#10;} D3DKMT_DEVICE_ESCAPE;">D3DKMT_DEVICE_ESCAPE</a> structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DMM</td>
  <td style="text-align:left;">Don't use; for testing purposes only. A <a href="d3dkmt_dmm_escape" title="typedef struct _D3DKMT_DMM_ESCAPE {&#10;  D3DKMT_DMMESCAPETYPE         Type;&#10;  D3DKMT_ALIGN64 D3DKMT_SIZE_T ProvidedBufferSize;&#10;  D3DKMT_ALIGN64 D3DKMT_SIZE_T MinRequiredBufferSize;&#10;  UCHAR                        Data[1];&#10;} D3DKMT_DMM_ESCAPE;">D3DKMT_DMM_ESCAPE</a> structure.</td>
</tr>
<tr>
  <td style="text-align:left;">D3DKMT_ESCAPE_DEBUG_SNAPSHOT</td>
  <td style="text-align:left;">Don't use; for testing purposes only. A <strong><a href="d3dkmt_debug_snapshot_escape" title="typedef struct _D3DKMT_DEBUG_SNAPSHOT_ESCAPE {&#10;  [out] ULONG Length;&#10;        BYTE  Buffer[1];&#10;} D3DKMT_DEBUG_SNAPSHOT_ESCAPE;">D3DKMT_DEBUG_SNAPSHOT_ESCAPE</a></strong> structure.</td>
</tr>
</tbody>
</table>

<h3 id="privatedriverdatasize-in"><code>PrivateDriverDataSize</code> [in]</h3>

<p>The size, in bytes, of the buffer that <strong>pPrivateDriverData</strong> points to. The UMD/client driver must specify the size of the buffer when it calls the <strong><a href="d3dkmtescape" title="NTSTATUS D3DKMTEscape(&#10;  [in] const D3DKMT_ESCAPE *unnamedParam1&#10;);">D3DKMTEscape</a></strong> function.</p>

<h3 id="hcontext-in"><code>hContext</code> [in]</h3>

<p>A handle to a context that is optionally specified if the information to be exchanged is specific to a particular device context. If the UMD/client driver sets <strong>hContext</strong> to a non-NULL value, the driver must have also set <strong>hDevice</strong> to a non-NULL value, and <strong>hDevice</strong> must correspond to the device that owns the context.</p>

<h2 id="see-also">See also</h2>

<p><strong><a href="d3dkmtescape" title="NTSTATUS D3DKMTEscape(&#10;  [in] const D3DKMT_ESCAPE *unnamedParam1&#10;);">D3DKMTEscape</a></strong></p>

<p><strong><a href="d3dkmt_debug_snapshot_escape" title="typedef struct _D3DKMT_DEBUG_SNAPSHOT_ESCAPE {&#10;  [out] ULONG Length;&#10;        BYTE  Buffer[1];&#10;} D3DKMT_DEBUG_SNAPSHOT_ESCAPE;">D3DKMT_DEBUG_SNAPSHOT_ESCAPE</a></strong></p>

<p><strong><a href="d3dkmt_device_escape" title="typedef struct _D3DKMT_DEVICE_ESCAPE {&#10;        D3DKMT_DEVICEESCAPE_TYPE Type;&#10;  union {&#10;    struct {&#10;      D3DKMT_HANDLE                  hPrimaryAllocation;&#10;      D3DDDI_VIDEO_PRESENT_SOURCE_ID VidPnSourceId;&#10;    } VidPnFromAllocation;&#10;  };&#10;} D3DKMT_DEVICE_ESCAPE;">D3DKMT_DEVICE_ESCAPE</a></strong></p>

<p><strong><a href="d3dkmt_dmm_escape" title="typedef struct _D3DKMT_DMM_ESCAPE {&#10;  D3DKMT_DMMESCAPETYPE         Type;&#10;  D3DKMT_ALIGN64 D3DKMT_SIZE_T ProvidedBufferSize;&#10;  D3DKMT_ALIGN64 D3DKMT_SIZE_T MinRequiredBufferSize;&#10;  UCHAR                        Data[1];&#10;} D3DKMT_DMM_ESCAPE;">D3DKMT_DMM_ESCAPE</a></strong></p>

<p><strong><a href="d3dkmt_tdrdbgctrltype" title="typedef enum _D3DKMT_TDRDBGCTRLTYPE {&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCETDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_DISABLEBREAK,&#10;  D3DKMT_TDRDBGCTRLTYPE_ENABLEBREAK,&#10;  D3DKMT_TDRDBGCTRLTYPE_UNCONDITIONAL,&#10;  D3DKMT_TDRDBGCTRLTYPE_VSYNCTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_GPUTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCEDODTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_FORCEDODVSYNCTDR,&#10;  D3DKMT_TDRDBGCTRLTYPE_ENGINETDR&#10;} D3DKMT_TDRDBGCTRLTYPE;">D3DKMT_TDRDBGCTRLTYPE</a></strong></p>

<p><strong><a href="d3dkmt_vidmm_escape" title="typedef struct _D3DKMT_VIDMM_ESCAPE {&#10;  D3DKMT_VIDMMESCAPETYPE Type;&#10;  union {&#10;    struct {&#10;      union {&#10;        struct {&#10;          ULONG ProbeAndLock : 1;&#10;          ULONG SplitPoint : 1;&#10;          ULONG NoDemotion : 1;&#10;          ULONG SwizzlingAperture : 1;&#10;          ULONG PagingPathLockSubRange : 1;&#10;          ULONG PagingPathLockMinRange : 1;&#10;          ULONG ComplexLock : 1;&#10;          ULONG FailVARotation : 1;&#10;          ULONG NoWriteCombined : 1;&#10;          ULONG NoPrePatching : 1;&#10;          ULONG AlwaysRepatch : 1;&#10;          ULONG ExpectPreparationFailure : 1;&#10;          ULONG FailUserModeVAMapping : 1;&#10;          ULONG NeverDiscardOfferedAllocation : 1;&#10;...">D3DKMT_VIDMM_ESCAPE</a></strong></p>

<p><strong><a href="d3dkmt_vidsch_escape" title="typedef struct _D3DKMT_VIDSCH_ESCAPE {&#10;  D3DKMT_VIDSCHESCAPETYPE            Type;&#10;  union {&#10;    BOOL                              PreemptionControl;&#10;    BOOL                              EnableContextDelay;&#10;    struct {&#10;      ULONG TdrControl;&#10;      union {&#10;        ULONG NodeOrdinal;&#10;      };&#10;    } TdrControl2;&#10;    BOOL                              SuspendScheduler;&#10;    ULONG                             TdrControl;&#10;    ULONG                             SuspendTime;&#10;    struct {&#10;      UINT Count;&#10;      UINT Time;&#10;    } TdrLimit;&#10;    D3DKMT_ESCAPE_PFN_CONTROL_COMMAND PfnControl;&#10;  };&#10;...">D3DKMT_VIDSCH_ESCAPE</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmthk/ns-d3dkmthk-_d3dkmt_escape">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmthk/ns-d3dkmthk-_d3dkmt_escape.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
