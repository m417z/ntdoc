<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="DXGK_SETVIDPNSOURCEADDRESS_FLAGS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>DXGK_SETVIDPNSOURCEADDRESS_FLAGS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            DXGK_SETVIDPNSOURCEADDRESS_FLAGS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3dkmddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _DXGK_SETVIDPNSOURCEADDRESS_FLAGS {
  union {
    struct {
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> ModeChange : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> FlipImmediate : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> FlipOnNextVSync : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> FlipStereo : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> FlipStereoTemporaryMono : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> FlipStereoPreferRight : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> SharedPrimaryTransition : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> IndependentFlipExclusive : 1;
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> MoveFlip : 1;
#if ...
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 23;
#elif
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 24;
#elif
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 25;
#else
      <a href="uint" title="typedef unsigned int UINT;">UINT</a> Reserved : 29;
#endif
    };
         <a href="uint" title="typedef unsigned int UINT;">UINT</a> Value;
  };
} DXGK_SETVIDPNSOURCEADDRESS_FLAGS;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_setvidpnsourceaddress_flags">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/dxgk_setvidpnsourceaddress_flags.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3dkmddi-_dxgk_setvidpnsourceaddress_flags)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_DXGK_SETVIDPNSOURCEADDRESS_FLAGS structure</h1>

<h2>Description</h2>

<p>The DXGK_SETVIDPNSOURCEADDRESS_FLAGS structure identifies the specific type of operation to perform in a call to the display miniport driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/drivers/ff560767(v=vs.85)">DxgkDdiSetVidPnSourceAddress</a> or <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_setvidpnsourceaddresswithmultiplaneoverlay">DxgkDdiSetVidPnSourceAddressWithMultiPlaneOverlay</a> functions.</p>

<h2>Members</h2>

<h3><code>ModeChange</code></h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies for the driver to switch the display mode.</p>

<p>Setting this member is equivalent to setting the first bit of the 32-bit <strong>Value</strong> member (0x00000001).</p>

<h3><code>FlipImmediate</code></h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies for the driver to perform a flip operation that occurs without vertical sync.</p>

<p>Setting this member is equivalent to setting the second bit of the 32-bit <strong>Value</strong> member (0x00000002).</p>

<h3><code>FlipOnNextVSync</code></h3>

<p>A <a href="uint" title="typedef unsigned int UINT;">UINT</a> value that specifies for the driver to perform a flip operation that occurs on the next vertical sync.</p>

<p>Setting this member is equivalent to setting the third bit of the 32-bit <strong>Value</strong> member (0x00000004).</p>

<h3><code>FlipStereo</code> [in]</h3>

<p>Supported beginning with Windows 8.</p>

<p>Specifies whether the driver flips both left and right images of a stereo allocation.</p>

<p>If the <strong>FlipOnNextVSync</strong> member of the <strong>DXGK_SETVIDPNSOURCEADDRESS_FLAGS</strong> structure is set, the driver completes the flip to the left image on the next VSync and then completes the flip to the right image on the following VSync.</p>

<p>If the <strong>FlipImmediate</strong> member of the <strong>DXGK_SETVIDPNSOURCEADDRESS_FLAGS</strong> structure is set, the driver immediately starts to scan out from the new allocation. For example, if the driver was scanning a right image, it starts the new scan from the same relative offset in the right image of the new allocation.</p>

<p>The <strong>FlipStereo</strong> and <strong>FlipStereoTemporaryMono</strong> members cannot both be set at the same time.</p>

<p>For more requirements, see the Remarks section.</p>

<p>Setting this member is equivalent to setting the fourth bit of the 32-bit <strong>Value</strong> member (0x00000008).</p>

<h3><code>FlipStereoTemporaryMono</code> [in]</h3>

<p>Supported beginning with Windows 8.</p>

<p>Specifies whether the driver uses the left image of a stereo allocation for the right and left portions of a stereo frame. The driver performs the same present operation as with <strong>FlipStereo</strong>, except that it scans out only from the left image to produce both images of a stereo frame.</p>

<p>This member should be set only if the driver reports support for this option in the current display mode by setting the <strong>Type</strong> member of the <a href="d3dkmdt_vidpn_source_mode" title="typedef struct _D3DKMDT_VIDPN_SOURCE_MODE {&#10;  D3DKMDT_VIDEO_PRESENT_SOURCE_MODE_ID Id;&#10;  D3DKMDT_VIDPN_SOURCE_MODE_TYPE       Type;&#10;  union {&#10;    D3DKMDT_GRAPHICS_RENDERING_FORMAT Graphics;&#10;    D3DKMDT_TEXT_RENDERING_FORMAT     Text;&#10;  } Format;&#10;} D3DKMDT_VIDPN_SOURCE_MODE;">D3DKMDT_VIDPN_SOURCE_MODE</a> structure to D3DKMDT_RMT_GRAPHICS_STEREO_ADVANCED_SCAN.</p>

<p>The <strong>FlipStereo</strong> and <strong>FlipStereoTemporaryMono</strong> members cannot both be set at the same time.</p>

<p>The <strong>FlipStereoTemporaryMono</strong> and <strong>FlipStereoPreferRight</strong> members cannot both be set at the same time.</p>

<p>For more requirements, see the Remarks section.</p>

<p>Setting this member is equivalent to setting the fifth bit of the 32-bit <strong>Value</strong> member (0x00000010).</p>

<h3><code>FlipStereoPreferRight</code> [in]</h3>

<p>Supported beginning with Windows 8.</p>

<p>Specifies that when the driver clones a stereo primary allocation to a mono monitor, it uses the right image.</p>

<p>The <strong>FlipStereoTemporaryMono</strong> and <strong>FlipStereoPreferRight</strong> members cannot both be set at the same time.</p>

<p>For more requirements, see the Remarks section.</p>

<p>Setting this member is equivalent to setting the sixth bit of the 32-bit <strong>Value</strong> member (0x00000020).</p>

<h3><code>SharedPrimaryTransition</code> [in]</h3>

<p>Supported beginning with Windows 8.</p>

<p>Specifies that the driver is transitioning to or from a shared managed primary allocation.</p>

<p>This member is set if either of the following transitions occurs:</p>

<ul>
<li>The current primary allocation is not a shared primary allocation, but the new one is.</li>
<li>The current primary allocation is a shared primary allocation, but the new one is not.</li>
</ul>

<p>When <strong>SharedPrimaryTransition</strong> is set, the display miniport driver must validate that the hardware can seamlessly switch back and forth between primary and shared primary allocations, and it must perform any hardware programming needed to make the seamless switch occur.</p>

<p>Setting this member is equivalent to setting the seventh bit of the 32-bit <strong>Value</strong> member (0x00000040).</p>

<h3><code>IndependentFlipExclusive</code> [in]</h3>

<p>Supported beginning with Windows 10.</p>

<p>When <strong>IndependentFlipExlusive</strong> is set, the flip is done in the independent flip exclusive mode. The front buffer is accessed only by the display hardware (not by the DWM) and the kernel mode driver can apply vertical sync-related optimizations.</p>

<h3><code>MoveFlip</code> [in]</h3>

<p>Supported beginning with Windows 10.</p>

<p>When <strong>MoveFlip</strong> is set, the driver is notified to use any state that has been saved from the previous flip to configure the new scanout request.</p>

<h3><code>Reserved</code> [in]</h3>

<p>This member is reserved and should be set to zero. Setting this member to zero is equivalent to setting the remaining 23 bits (0xFFFFFF00) of the 32-bit <strong>Value</strong> member to zeros.</p>

<h3><code>Value</code></h3>

<p>A member in the union that DXGK_SETVIDPNSOURCEADDRESS_FLAGS contains that can hold a 32-bit value that identifies operation type.</p>

<h2>Remarks</h2>

<p>If any of the <strong>FlipStereo</strong>, <strong>FlipStereoTemporaryMono</strong>, or <strong>FlipStereoPreferRight</strong> members are set, these conditions apply:</p>

<ul>
<li>The <strong>hAllocation</strong> member of the <a href="dxgkarg_setvidpnsourceaddress" title="typedef struct _DXGKARG_SETVIDPNSOURCEADDRESS {&#10;       D3DDDI_VIDEO_PRESENT_SOURCE_ID   VidPnSourceId;&#10;       UINT                             PrimarySegment;&#10;       PHYSICAL_ADDRESS                 PrimaryAddress;&#10;  [in] HANDLE                           hAllocation;&#10;  [in] UINT                             ContextCount;&#10;       HANDLE                           Context[1 + D3DDDI_MAX_BROADCAST_CONTEXT];&#10;  [in] DXGK_SETVIDPNSOURCEADDRESS_FLAGS Flags;&#10;       UINT                             Duration;&#10;       DXGK_PRIMARYDATA                 PrimaryData[D3DDDI_MAX_BROADCAST_CONTEXT];&#10;       UINT                             DriverPrivateDataSize;&#10;       PVOID                            pDriverPrivateData;&#10;} DXGKARG_SETVIDPNSOURCEADDRESS;">DXGKARG_SETVIDPNSOURCEADDRESS</a> structure points to an allocation that is created with the <strong>Stereo</strong> member set in the <strong>Flags</strong> member of the <a href="d3dkmt_displaymode" title="typedef struct _D3DKMT_DISPLAYMODE {&#10;  [out] UINT                                  Width;&#10;  [out] UINT                                  Height;&#10;  [out] D3DDDIFORMAT                          Format;&#10;  [out] UINT                                  IntegerRefreshRate;&#10;  [out] D3DDDI_RATIONAL                       RefreshRate;&#10;  [out] D3DDDI_VIDEO_SIGNAL_SCANLINE_ORDERING ScanLineOrdering;&#10;  [out] D3DDDI_ROTATION                       DisplayOrientation;&#10;  [out] UINT                                  DisplayFixedOutput;&#10;  [out] D3DKMDT_DISPLAYMODE_FLAGS             Flags;&#10;} D3DKMT_DISPLAYMODE;">D3DKMT_DISPLAYMODE</a> structure.</li>
<li>The <strong>PrimarySegment</strong> and <strong>PrimaryAddress</strong> members of <a href="dxgkarg_setvidpnsourceaddress" title="typedef struct _DXGKARG_SETVIDPNSOURCEADDRESS {&#10;       D3DDDI_VIDEO_PRESENT_SOURCE_ID   VidPnSourceId;&#10;       UINT                             PrimarySegment;&#10;       PHYSICAL_ADDRESS                 PrimaryAddress;&#10;  [in] HANDLE                           hAllocation;&#10;  [in] UINT                             ContextCount;&#10;       HANDLE                           Context[1 + D3DDDI_MAX_BROADCAST_CONTEXT];&#10;  [in] DXGK_SETVIDPNSOURCEADDRESS_FLAGS Flags;&#10;       UINT                             Duration;&#10;       DXGK_PRIMARYDATA                 PrimaryData[D3DDDI_MAX_BROADCAST_CONTEXT];&#10;       UINT                             DriverPrivateDataSize;&#10;       PVOID                            pDriverPrivateData;&#10;} DXGKARG_SETVIDPNSOURCEADDRESS;">DXGKARG_SETVIDPNSOURCEADDRESS</a> point to the starting physical address of the allocation.</li>
<li>The driver honors the settings of the <strong>FlipImmediate</strong> and <strong>FlipOnNextVSync</strong> members of the <strong>DXGK_SETVIDPNSOURCEADDRESS_FLAGS</strong> structure.</li>
</ul>

<p>Beginning with Windows 8, the display miniport driver can fail a call to the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/drivers/ff560767(v=vs.85)">DxgkDdiSetVidPnSourceAddress</a> function, returning STATUS_INVALID_PARAMETER, when the <strong>SharedPrimaryTransition</strong> member is set in <em>pSetVidPnSourceAddress</em>-><strong>Flags</strong>. However, such a failure is not expected unless there is an error in either the user mode driver's implementation of the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dumddi/nc-d3dumddi-pfnd3dddi_checkdirectflipsupport">CheckDirectFlipSupport</a> function or in the Desktop Window Manager (DWM). If such a failure occurs, the operating system will not seamlessly fail back to composition mode, and presentation will be incorrect.</p>

<h2>See also</h2>

<p><a href="d3dkmt_displaymode" title="typedef struct _D3DKMT_DISPLAYMODE {&#10;  [out] UINT                                  Width;&#10;  [out] UINT                                  Height;&#10;  [out] D3DDDIFORMAT                          Format;&#10;  [out] UINT                                  IntegerRefreshRate;&#10;  [out] D3DDDI_RATIONAL                       RefreshRate;&#10;  [out] D3DDDI_VIDEO_SIGNAL_SCANLINE_ORDERING ScanLineOrdering;&#10;  [out] D3DDDI_ROTATION                       DisplayOrientation;&#10;  [out] UINT                                  DisplayFixedOutput;&#10;  [out] D3DKMDT_DISPLAYMODE_FLAGS             Flags;&#10;} D3DKMT_DISPLAYMODE;">D3DKMT_DISPLAYMODE</a></p>

<p><a href="dxgkarg_setvidpnsourceaddress" title="typedef struct _DXGKARG_SETVIDPNSOURCEADDRESS {&#10;       D3DDDI_VIDEO_PRESENT_SOURCE_ID   VidPnSourceId;&#10;       UINT                             PrimarySegment;&#10;       PHYSICAL_ADDRESS                 PrimaryAddress;&#10;  [in] HANDLE                           hAllocation;&#10;  [in] UINT                             ContextCount;&#10;       HANDLE                           Context[1 + D3DDDI_MAX_BROADCAST_CONTEXT];&#10;  [in] DXGK_SETVIDPNSOURCEADDRESS_FLAGS Flags;&#10;       UINT                             Duration;&#10;       DXGK_PRIMARYDATA                 PrimaryData[D3DDDI_MAX_BROADCAST_CONTEXT];&#10;       UINT                             DriverPrivateDataSize;&#10;       PVOID                            pDriverPrivateData;&#10;} DXGKARG_SETVIDPNSOURCEADDRESS;">DXGKARG_SETVIDPNSOURCEADDRESS</a></p>

<p>DXGK_SETVIDPNSOURCEADDRESS_FLAGS</p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/drivers/ff560767(v=vs.85)">DxgkDdiSetVidPnSourceAddress</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/nc-d3dkmddi-dxgkddi_setvidpnsourceaddresswithmultiplaneoverlay">DxgkDdiSetVidPnSourceAddressWithMultiPlaneOverlay</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_setvidpnsourceaddress_flags">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3dkmddi/ns-d3dkmddi-_dxgk_setvidpnsourceaddress_flags.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
