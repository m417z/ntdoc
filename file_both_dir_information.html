<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="FILE_BOTH_DIR_INFORMATION - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>FILE_BOTH_DIR_INFORMATION - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            FILE_BOTH_DIR_INFORMATION - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">#ifndef _NTIOAPI_H

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">_Struct_size_bytes_(NextEntryOffset)
typedef struct _FILE_BOTH_DIR_INFORMATION
{
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> NextEntryOffset;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> FileIndex;
    LARGE_INTEGER CreationTime;
    LARGE_INTEGER LastAccessTime;
    LARGE_INTEGER LastWriteTime;
    LARGE_INTEGER ChangeTime;
    LARGE_INTEGER EndOfFile;
    LARGE_INTEGER AllocationSize;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> FileAttributes;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> FileNameLength;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> EaSize;
    <a href="cchar" title="typedef char CCHAR;">CCHAR</a> ShortNameLength;
    WCHAR ShortName[12];
    _Field_size_bytes_(FileNameLength) WCHAR FileName[1];
} FILE_BOTH_DIR_INFORMATION, *PFILE_BOTH_DIR_INFORMATION;
</span><span class="ntdoc-code-footer language-cpp">
#endif
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://github.com/winsiderss/systeminformer/blob/ce637280222e4b568e7e4c20d6ba21dcca705f21/phnt/include/ntioapi.h#L1449">View code on GitHub</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// ntifs.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef struct _FILE_BOTH_DIR_INFORMATION {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         NextEntryOffset;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         FileIndex;
  LARGE_INTEGER CreationTime;
  LARGE_INTEGER LastAccessTime;
  LARGE_INTEGER LastWriteTime;
  LARGE_INTEGER ChangeTime;
  LARGE_INTEGER EndOfFile;
  LARGE_INTEGER AllocationSize;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         FileAttributes;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         FileNameLength;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>         EaSize;
  <a href="cchar" title="typedef char CCHAR;">CCHAR</a>         ShortNameLength;
  WCHAR         ShortName[12];
  WCHAR         FileName[1];
} FILE_BOTH_DIR_INFORMATION, *PFILE_BOTH_DIR_INFORMATION;</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/ns-ntifs-_file_both_dir_information">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/file_both_dir_information.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntifs-_file_both_dir_information)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>FILE_BOTH_DIR_INFORMATION structure</h1>
<h2>Description</h2>
<p>The <strong>FILE_BOTH_DIR_INFORMATION</strong> structure is used to query detailed information for the files in a directory.</p>
<h2>Members</h2>
<h3><code>NextEntryOffset</code></h3>
<p>Byte offset of the next FILE_BOTH_DIR_INFORMATION entry, if multiple entries are present in a buffer. This member is zero if no other entries follow this one.</p>
<h3><code>FileIndex</code></h3>
<p>Byte offset of the file within the parent directory. This member is undefined for file systems, such as NTFS, in which the position of a file within the parent directory is not fixed and can be changed at any time to maintain sort order.</p>
<h3><code>CreationTime</code></h3>
<p>Time when the file was created.</p>
<h3><code>LastAccessTime</code></h3>
<p>Last time the file was accessed.</p>
<h3><code>LastWriteTime</code></h3>
<p>Last time information was written to the file.</p>
<h3><code>ChangeTime</code></h3>
<p>Last time the file was changed.</p>
<h3><code>EndOfFile</code></h3>
<p>Absolute new end-of-file position as a byte offset from the start of the file. <strong>EndOfFile</strong> specifies the byte offset to the end of the file. Because this value is zero-based, it actually refers to the first free byte in the file. In other words, <strong>EndOfFile</strong> is the offset to the byte immediately following the last valid byte in the file.</p>
<h3><code>AllocationSize</code></h3>
<p>File allocation size, in bytes. Usually, this value is a multiple of the sector or cluster size of the underlying physical device.</p>
<h3><code>FileAttributes</code></h3>
<p>File attributes, which can be any valid combination of the following:</p>
<ul>
<li>FILE_ATTRIBUTE_READONLY</li>
<li>FILE_ATTRIBUTE_HIDDEN</li>
<li>FILE_ATTRIBUTE_SYSTEM</li>
<li>FILE_ATTRIBUTE_DIRECTORY</li>
<li>FILE_ATTRIBUTE_ARCHIVE</li>
<li>FILE_ATTRIBUTE_DEVICE</li>
<li>FILE_ATTRIBUTE_NORMAL</li>
<li>FILE_ATTRIBUTE_TEMPORARY</li>
<li>FILE_ATTRIBUTE_SPARSE_FILE</li>
<li>FILE_ATTRIBUTE_REPARSE_POINT</li>
<li>FILE_ATTRIBUTE_COMPRESSED</li>
<li>FILE_ATTRIBUTE_OFFLINE</li>
<li>FILE_ATTRIBUTE_NOT_CONTENT_INDEXED</li>
<li>FILE_ATTRIBUTE_ENCRYPTED</li>
</ul>
<h3><code>FileNameLength</code></h3>
<p>Specifies the length, in bytes, of the file name string.</p>
<h3><code>EaSize</code></h3>
<p>Combined length, in bytes, of the extended attributes (EA) for the file.</p>
<h3><code>ShortNameLength</code></h3>
<p>Specifies the length, in bytes, of the short file name string.</p>
<h3><code>ShortName</code></h3>
<p>Unicode string containing the short (8.3) name for the file.</p>
<h3><code>FileName</code></h3>
<p>Specifies the first character of the file name string. This is followed in memory by the remainder of the string.</p>
<h2>Remarks</h2>
<p>This information can be queried in either of the following ways:</p>
<ul>
<li>
<p>Call <strong><a href="ntquerydirectoryfile" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtQueryDirectoryFile(&#10;    _In_ HANDLE FileHandle,&#10;    _In_opt_ HANDLE Event,&#10;    _In_opt_ PIO_APC_ROUTINE ApcRoutine,&#10;    _In_opt_ PVOID ApcContext,&#10;    _Out_ PIO_STATUS_BLOCK IoStatusBlock,&#10;    _Out_writes_bytes_(Length) PVOID FileInformation,&#10;    _In_ ULONG Length,&#10;    _In_ FILE_INFORMATION_CLASS FileInformationClass,&#10;    _In_ BOOLEAN ReturnSingleEntry,&#10;    _In_opt_ PCUNICODE_STRING FileName,&#10;    _In_ BOOLEAN RestartScan&#10;    );">ZwQueryDirectoryFile</a></strong>, passing FileBothDirectoryInformation as the value of <strong>FileInformationClass</strong> and passing a caller-allocated, FILE_BOTH_DIR_INFORMATION-structured buffer as the value of <strong>FileInformation</strong>.</p>
</li>
<li>
<p>Create an <a href="irp" title="typedef struct _IRP {&#10;  CSHORT                    Type;&#10;  USHORT                    Size;&#10;  PMDL                      MdlAddress;&#10;  ULONG                     Flags;&#10;  union {&#10;    struct _IRP     *MasterIrp;&#10;    __volatile LONG IrpCount;&#10;    PVOID           SystemBuffer;&#10;  } AssociatedIrp;&#10;  LIST_ENTRY                ThreadListEntry;&#10;  IO_STATUS_BLOCK           IoStatus;&#10;  KPROCESSOR_MODE           RequestorMode;&#10;  BOOLEAN                   PendingReturned;&#10;  CHAR                      StackCount;&#10;  CHAR                      CurrentLocation;&#10;  BOOLEAN                   Cancel;&#10;  KIRQL                     CancelIrql;&#10;  CCHAR                     ApcEnvironment;&#10;  UCHAR                     AllocationFlags;&#10;...">IRP</a> with major function code <a href="irp_mj_directory_control" title="#define IRP_MJ_DIRECTORY_CONTROL 0x0c">IRP_MJ_DIRECTORY_CONTROL</a> and minor function code IRP_MN_QUERY_DIRECTORY.</p>
</li>
</ul>
<p>No specific access rights are required to query this information.</p>
<p>All dates and times are in absolute system-time format. Absolute system time is the number of 100-nanosecond intervals since the start of the year 1601.</p>
<p>This structure must be aligned on a <a href="longlong" title="typedef __int64 LONGLONG;">LONGLONG</a> (8-byte) boundary. If a buffer contains two or more of these structures, the <strong>NextEntryOffset</strong> value in each entry, except the last, falls on an 8-byte boundary.</p>
<h2>See also</h2>
<p><strong><a href="fsrtlnotifyfullchangedirectory" title="VOID FsRtlNotifyFullChangeDirectory(&#10;  [in]           PNOTIFY_SYNC               NotifySync,&#10;  [in]           PLIST_ENTRY                NotifyList,&#10;  [in]           PVOID                      FsContext,&#10;  [in]           PSTRING                    FullDirectoryName,&#10;  [in]           BOOLEAN                    WatchTree,&#10;  [in]           BOOLEAN                    IgnoreBuffer,&#10;  [in]           ULONG                      CompletionFilter,&#10;  [in, optional] PIRP                       NotifyIrp,&#10;  [in, optional] PCHECK_FOR_TRAVERSE_ACCESS TraverseCallback,&#10;  [in, optional] PSECURITY_SUBJECT_CONTEXT  SubjectContext&#10;);">FsRtlNotifyFullChangeDirectory</a></strong></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ifs/irp-mj-directory-control"><strong>IRP_MJ_DIRECTORY_CONTROL</strong></a></p>
<p><strong><a href="ntquerydirectoryfile" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtQueryDirectoryFile(&#10;    _In_ HANDLE FileHandle,&#10;    _In_opt_ HANDLE Event,&#10;    _In_opt_ PIO_APC_ROUTINE ApcRoutine,&#10;    _In_opt_ PVOID ApcContext,&#10;    _Out_ PIO_STATUS_BLOCK IoStatusBlock,&#10;    _Out_writes_bytes_(Length) PVOID FileInformation,&#10;    _In_ ULONG Length,&#10;    _In_ FILE_INFORMATION_CLASS FileInformationClass,&#10;    _In_ BOOLEAN ReturnSingleEntry,&#10;    _In_opt_ PCUNICODE_STRING FileName,&#10;    _In_ BOOLEAN RestartScan&#10;    );">ZwQueryDirectoryFile</a></strong></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntifs/ns-ntifs-_file_both_dir_information">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntifs/ns-ntifs-_file_both_dir_information.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>NTinternals.net (undocumented.ntinternals.net)</h1>
</div>
<div class="ntdoc-description">
<p>This structure is <a rel="noopener" target="_blank" href="https://learn.microsoft.com/en-us/windows-hardware/drivers/ddi/ntifs/ns-ntifs-_file_both_dir_information">documented in Windows Driver Kit</a>.</p>
<hr />
<p>Structure <code>FILE_BOTH_DIR_INFORMATION</code> is returned as a result of call <code><a href="ntquerydirectoryfile" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtQueryDirectoryFile(&#10;    _In_ HANDLE FileHandle,&#10;    _In_opt_ HANDLE Event,&#10;    _In_opt_ PIO_APC_ROUTINE ApcRoutine,&#10;    _In_opt_ PVOID ApcContext,&#10;    _Out_ PIO_STATUS_BLOCK IoStatusBlock,&#10;    _Out_writes_bytes_(Length) PVOID FileInformation,&#10;    _In_ ULONG Length,&#10;    _In_ FILE_INFORMATION_CLASS FileInformationClass,&#10;    _In_ BOOLEAN ReturnSingleEntry,&#10;    _In_opt_ PCUNICODE_STRING FileName,&#10;    _In_ BOOLEAN RestartScan&#10;    );">NtQueryDirectoryFile</a></code> with <code>FileBothDirectoryInformation</code> <br />
information class. It's extended version of <code><a href="file_full_dir_information" title="_Struct_size_bytes_(NextEntryOffset)&#10;typedef struct _FILE_FULL_DIR_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    ULONG FileIndex;&#10;    LARGE_INTEGER CreationTime;&#10;    LARGE_INTEGER LastAccessTime;&#10;    LARGE_INTEGER LastWriteTime;&#10;    LARGE_INTEGER ChangeTime;&#10;    LARGE_INTEGER EndOfFile;&#10;    LARGE_INTEGER AllocationSize;&#10;    ULONG FileAttributes;&#10;    ULONG FileNameLength;&#10;    ULONG EaSize;&#10;    _Field_size_bytes_(FileNameLength) WCHAR FileName[1];&#10;} FILE_FULL_DIR_INFORMATION, *PFILE_FULL_DIR_INFORMATION;">FILE_FULL_DIR_INFORMATION</a></code> structure, <br />
additionally containing short file name. It's used in <em>Win32 API</em> calls <code>FindFirstFile</code> and <code>FindNextFile</code>.</p>
<h3>NextEntryOffset</h3>
<p>Offset (in bytes) of next <code>FILE_BOTH_DIR_INFORMATION</code> structure placed in result buffer. If there's no more entries, <code>NextEntryOffset</code> is set to zero.</p>
<h3>FileIndex</h3>
<p>File index value, or zero, if directory indexing is not available.</p>
<h3>CreationTime</h3>
<p>Time of object creation.</p>
<h3>LastAccessTime</h3>
<p>Last access time. Means time when last open operation was performed.</p>
<h3>LastWriteTime</h3>
<p>Time of last write data.</p>
<h3>ChangeTime</h3>
<p>Time of last change.</p>
<h3>EndOfFile</h3>
<p>Specify length of file, in bytes.</p>
<h3>AllocationSize</h3>
<p>Specify real size of file on device. It must be equal or greater to <code>EndOfFile</code> member.</p>
<h3>FileAttributes</h3>
<p>Attributes of file.</p>
<h3>FileNameLength</h3>
<p>Length of <code>FileName</code> array, in bytes.</p>
<h3>EaSize</h3>
<p>Size of Extended Attributes associated with file. See also <code><a href="file_ea_information" title="typedef struct _FILE_EA_INFORMATION&#10;{&#10;    ULONG EaSize;&#10;} FILE_EA_INFORMATION, *PFILE_EA_INFORMATION;">FILE_EA_INFORMATION</a></code> structure.</p>
<h3>ShortNameLength</h3>
<p>Length <code>ShortName</code> array, in bytes.</p>
<h3>ShortName[12]</h3>
<p>Alternate file name, in UNICODE format. Empty string means:</p>
<ol>
<li>Primary name is compatible with <code>8DOT3</code> <strong>(MS DOS)</strong> standard, and there's no reason to set the same name twice;</li>
<li>File system don't improve short names;</li>
</ol>
<h3>FileName[1]</h3>
<p>UNICODE string specifying file name.</p>
<h1>Documented by</h1>
<ul>
<li>Tomasz Nowak</li>
<li>Bo Branten</li>
</ul>
<h1>See also</h1>
<ul>
<li><code><a href="file_directory_information" title="_Struct_size_bytes_(NextEntryOffset)&#10;typedef struct _FILE_DIRECTORY_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    ULONG FileIndex;&#10;    LARGE_INTEGER CreationTime;&#10;    LARGE_INTEGER LastAccessTime;&#10;    LARGE_INTEGER LastWriteTime;&#10;    LARGE_INTEGER ChangeTime;&#10;    LARGE_INTEGER EndOfFile;&#10;    LARGE_INTEGER AllocationSize;&#10;    ULONG FileAttributes;&#10;    ULONG FileNameLength;&#10;    _Field_size_bytes_(FileNameLength) WCHAR FileName[1];&#10;} FILE_DIRECTORY_INFORMATION, *PFILE_DIRECTORY_INFORMATION;">FILE_DIRECTORY_INFORMATION</a></code></li>
<li><code><a href="file_full_dir_information" title="_Struct_size_bytes_(NextEntryOffset)&#10;typedef struct _FILE_FULL_DIR_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    ULONG FileIndex;&#10;    LARGE_INTEGER CreationTime;&#10;    LARGE_INTEGER LastAccessTime;&#10;    LARGE_INTEGER LastWriteTime;&#10;    LARGE_INTEGER ChangeTime;&#10;    LARGE_INTEGER EndOfFile;&#10;    LARGE_INTEGER AllocationSize;&#10;    ULONG FileAttributes;&#10;    ULONG FileNameLength;&#10;    ULONG EaSize;&#10;    _Field_size_bytes_(FileNameLength) WCHAR FileName[1];&#10;} FILE_FULL_DIR_INFORMATION, *PFILE_FULL_DIR_INFORMATION;">FILE_FULL_DIR_INFORMATION</a></code></li>
<li><code><a href="file_information_class" title="typedef enum _FILE_INFORMATION_CLASS&#10;{&#10;    FileDirectoryInformation = 1,                   // q: FILE_DIRECTORY_INFORMATION (requires FILE_LIST_DIRECTORY) (NtQueryDirectoryFile[Ex])&#10;    FileFullDirectoryInformation,                   // q: FILE_FULL_DIR_INFORMATION (requires FILE_LIST_DIRECTORY) (NtQueryDirectoryFile[Ex])&#10;    FileBothDirectoryInformation,                   // q: FILE_BOTH_DIR_INFORMATION (requires FILE_LIST_DIRECTORY) (NtQueryDirectoryFile[Ex])&#10;    FileBasicInformation,                           // qs: FILE_BASIC_INFORMATION (q: requires FILE_READ_ATTRIBUTES; s: requires FILE_WRITE_ATTRIBUTES)&#10;    FileStandardInformation,                        // q: FILE_STANDARD_INFORMATION, FILE_STANDARD_INFORMATION_EX&#10;    FileInternalInformation,                        // q: FILE_INTERNAL_INFORMATION&#10;    FileEaInformation,                              // q: FILE_EA_INFORMATION (requires FILE_READ_EA)&#10;    FileAccessInformation,                          // q: FILE_ACCESS_INFORMATION&#10;    FileNameInformation,                            // q: FILE_NAME_INFORMATION&#10;    FileRenameInformation,                          // s: FILE_RENAME_INFORMATION (requires DELETE) // 10&#10;    FileLinkInformation,                            // s: FILE_LINK_INFORMATION&#10;    FileNamesInformation,                           // q: FILE_NAMES_INFORMATION (requires FILE_LIST_DIRECTORY) (NtQueryDirectoryFile[Ex])&#10;    FileDispositionInformation,                     // s: FILE_DISPOSITION_INFORMATION (requires DELETE)&#10;    FilePositionInformation,                        // qs: FILE_POSITION_INFORMATION (q: requires FILE_READ_ATTRIBUTES; s: requires FILE_WRITE_ATTRIBUTES)&#10;    FileFullEaInformation,                          // q: FILE_FULL_EA_INFORMATION (requires FILE_READ_EA)&#10;    FileModeInformation,                            // qs: FILE_MODE_INFORMATION (q: requires FILE_READ_ATTRIBUTES; s: requires FILE_WRITE_ATTRIBUTES)&#10;    FileAlignmentInformation,                       // q: FILE_ALIGNMENT_INFORMATION&#10;    FileAllInformation,                             // q: FILE_ALL_INFORMATION&#10;...">FILE_INFORMATION_CLASS</a></code></li>
<li><code><a href="file_name_information" title="typedef struct _FILE_NAME_INFORMATION&#10;{&#10;    ULONG FileNameLength;&#10;    _Field_size_bytes_(FileNameLength) WCHAR FileName[1];&#10;} FILE_NAME_INFORMATION, *PFILE_NAME_INFORMATION;">FILE_NAME_INFORMATION</a></code></li>
<li><code><a href="file_names_information" title="_Struct_size_bytes_(NextEntryOffset)&#10;typedef struct _FILE_NAMES_INFORMATION&#10;{&#10;    ULONG NextEntryOffset;&#10;    ULONG FileIndex;&#10;    ULONG FileNameLength;&#10;    _Field_size_bytes_(FileNameLength) WCHAR FileName[1];&#10;} FILE_NAMES_INFORMATION, *PFILE_NAMES_INFORMATION;">FILE_NAMES_INFORMATION</a></code></li>
<li><code><a href="ntquerydirectoryfile" title="NTSYSCALLAPI&#10;NTSTATUS&#10;NTAPI&#10;NtQueryDirectoryFile(&#10;    _In_ HANDLE FileHandle,&#10;    _In_opt_ HANDLE Event,&#10;    _In_opt_ PIO_APC_ROUTINE ApcRoutine,&#10;    _In_opt_ PVOID ApcContext,&#10;    _Out_ PIO_STATUS_BLOCK IoStatusBlock,&#10;    _Out_writes_bytes_(Length) PVOID FileInformation,&#10;    _In_ ULONG Length,&#10;    _In_ FILE_INFORMATION_CLASS FileInformationClass,&#10;    _In_ BOOLEAN ReturnSingleEntry,&#10;    _In_opt_ PCUNICODE_STRING FileName,&#10;    _In_ BOOLEAN RestartScan&#10;    );">NtQueryDirectoryFile</a></code></li>
<li><code>NtQueryOleDirectoryFile</code></li>
</ul>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/undocumented.ntinternals.net/file_both_dir_information.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
