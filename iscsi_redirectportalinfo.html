<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="ISCSI_RedirectPortalInfo - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ISCSI_RedirectPortalInfo - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            ISCSI_RedirectPortalInfo - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// iscsimgt.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _ISCSI_RedirectPortalInfo {
  <a href="ulonglong" title="typedef unsigned __int64 ULONGLONG;">ULONGLONG</a>        UniqueConnectionId;
  <a href="iscsi_ip_address" title="typedef struct _ISCSI_IP_Address {&#10;  ULONG Type;&#10;  ULONG IpV4Address;&#10;  UCHAR IpV6Address[16];&#10;  ULONG IpV6FlowInfo;&#10;  ULONG IpV6ScopeId;&#10;  WCHAR TextAddress[256 + 1];&#10;} ISCSI_IP_Address, *PISCSI_IP_Address;">ISCSI_IP_Address</a> OriginalIPAddr;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            OriginalPort;
  <a href="iscsi_ip_address" title="typedef struct _ISCSI_IP_Address {&#10;  ULONG Type;&#10;  ULONG IpV4Address;&#10;  UCHAR IpV6Address[16];&#10;  ULONG IpV6FlowInfo;&#10;  ULONG IpV6ScopeId;&#10;  WCHAR TextAddress[256 + 1];&#10;} ISCSI_IP_Address, *PISCSI_IP_Address;">ISCSI_IP_Address</a> RedirectedIPAddr;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>            RedirectedPort;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>            Redirected;
  <a href="uchar" title="typedef unsigned char UCHAR;">UCHAR</a>            TemporaryRedirect;
} ISCSI_RedirectPortalInfo, *PISCSI_RedirectPortalInfo;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iscsimgt/ns-iscsimgt-_iscsi_redirectportalinfo">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/iscsi_redirectportalinfo.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-iscsimgt-_iscsi_redirectportalinfo)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_iscsi_redirectportalinfo-structure">_ISCSI_RedirectPortalInfo structure</h1>

<h2 id="description">Description</h2>

<p>This ISCSI_RedirectPortalInfo structure contains information about a collection of iSCSI portals that can be used during portal hopping or portal redirect operations. If a target portal is not available for login, the initiator can "hop" through the list of target portals that it discovered and that can be used for login operations. That is, the initiator will continue to try the list of portals that are available until it finds one that can be used for login, so it can then log in to the available target portal.</p>

<h2 id="members">Members</h2>

<h3 id="uniqueconnectionid"><code>UniqueConnectionId</code></h3>

<p>The connection identifier (ID) that the operating system and application software use to uniquely identify the connection. The <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/logintotarget">LoginToTarget</a> and <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/addconnectiontosession">AddConnectionToSession</a> methods both return this value in the UniqueConnectionId parameter. This value is not to be confused with the connection ID (CID).</p>

<h3 id="originalipaddr"><code>OriginalIPAddr</code></h3>

<p>This is the original IP address given during login from which redirection is to be set, and the IP address is provided via the <a href="iscsi_ip_address" title="typedef struct _ISCSI_IP_Address {&#10;  ULONG Type;&#10;  ULONG IpV4Address;&#10;  UCHAR IpV6Address[16];&#10;  ULONG IpV6FlowInfo;&#10;  ULONG IpV6ScopeId;&#10;  WCHAR TextAddress[256 + 1];&#10;} ISCSI_IP_Address, *PISCSI_IP_Address;">ISCSI_IP_Address</a> structure.</p>

<h3 id="originalport"><code>OriginalPort</code></h3>

<p>This is the original portals socket number given during login.</p>

<h3 id="redirectedipaddr"><code>RedirectedIPAddr</code></h3>

<p>This is the IP address to which traffic needs to be redirected. The IP address is provided via the <a href="iscsi_ip_address" title="typedef struct _ISCSI_IP_Address {&#10;  ULONG Type;&#10;  ULONG IpV4Address;&#10;  UCHAR IpV6Address[16];&#10;  ULONG IpV6FlowInfo;&#10;  ULONG IpV6ScopeId;&#10;  WCHAR TextAddress[256 + 1];&#10;} ISCSI_IP_Address, *PISCSI_IP_Address;">ISCSI_IP_Address</a> structure.</p>

<h3 id="redirectedport"><code>RedirectedPort</code></h3>

<p>This is the socket number for the redirected target portal.</p>

<h3 id="redirected"><code>Redirected</code></h3>

<p>This indicates whether the login is redirected. If this value is <strong>TRUE</strong>, RedirectedIPAddr and RedirectedPort are valid.</p>

<h3 id="temporaryredirect"><code>TemporaryRedirect</code></h3>

<p>This value is <strong>true</strong> if redirection is temporary.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/addconnectiontosession">AddConnectionToSession</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/storage/logintotarget">LoginToTarget</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/iscsimgt/ns-iscsimgt-_iscsi_redirectportalinfo">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/iscsimgt/ns-iscsimgt-_iscsi_redirectportalinfo.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
