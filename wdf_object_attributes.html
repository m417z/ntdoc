<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="WDF_OBJECT_ATTRIBUTES - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WDF_OBJECT_ATTRIBUTES - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            WDF_OBJECT_ATTRIBUTES - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// wdfobject.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _WDF_OBJECT_ATTRIBUTES {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                          Size;
  PFN_WDF_OBJECT_CONTEXT_CLEANUP EvtCleanupCallback;
  PFN_WDF_OBJECT_CONTEXT_DESTROY EvtDestroyCallback;
  <a href="wdf_execution_level" title="typedef enum _WDF_EXECUTION_LEVEL {&#10;  WdfExecutionLevelInvalid = 0x00,&#10;  WdfExecutionLevelInheritFromParent,&#10;  WdfExecutionLevelPassive,&#10;  WdfExecutionLevelDispatch&#10;} WDF_EXECUTION_LEVEL;">WDF_EXECUTION_LEVEL</a>            ExecutionLevel;
  <a href="wdf_synchronization_scope" title="typedef enum _WDF_SYNCHRONIZATION_SCOPE {&#10;  WdfSynchronizationScopeInvalid = 0x00,&#10;  WdfSynchronizationScopeInheritFromParent,&#10;  WdfSynchronizationScopeDevice,&#10;  WdfSynchronizationScopeQueue,&#10;  WdfSynchronizationScopeNone&#10;} WDF_SYNCHRONIZATION_SCOPE;">WDF_SYNCHRONIZATION_SCOPE</a>      SynchronizationScope;
  WDFOBJECT                      ParentObject;
  <a href="size_t" title="typedef unsigned __int64 size_t;">size_t</a>                         ContextSizeOverride;
  PCWDF_OBJECT_CONTEXT_TYPE_INFO ContextTypeInfo;
} WDF_OBJECT_ATTRIBUTES, *PWDF_OBJECT_ATTRIBUTES;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfobject/ns-wdfobject-_wdf_object_attributes">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/wdf_object_attributes.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-wdfobject-_wdf_object_attributes)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_wdf_object_attributes-structure">_WDF_OBJECT_ATTRIBUTES structure</h1>

<h2 id="description">Description</h2>

<p>[Applies to KMDF and UMDF]</p>

<p>The WDF_OBJECT_ATTRIBUTES structure describes attributes that can be associated with any framework object.</p>

<h2 id="members">Members</h2>

<h3 id="size"><code>Size</code></h3>

<p>The size, in bytes, of this structure.</p>

<h3 id="evtcleanupcallback"><code>EvtCleanupCallback</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfobject/nc-wdfobject-evt_wdf_object_context_cleanup">EvtCleanupCallback</a> callback function, or <strong>NULL</strong>.</p>

<h3 id="evtdestroycallback"><code>EvtDestroyCallback</code></h3>

<p>A pointer to the driver's <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfobject/nc-wdfobject-evt_wdf_object_context_destroy">EvtDestroyCallback</a> callback function, or <strong>NULL</strong>.</p>

<h3 id="executionlevel"><code>ExecutionLevel</code></h3>

<p>A <a href="wdf_execution_level" title="typedef enum _WDF_EXECUTION_LEVEL {&#10;  WdfExecutionLevelInvalid = 0x00,&#10;  WdfExecutionLevelInheritFromParent,&#10;  WdfExecutionLevelPassive,&#10;  WdfExecutionLevelDispatch&#10;} WDF_EXECUTION_LEVEL;">WDF_EXECUTION_LEVEL</a>-typed value that specifies the maximum IRQL at which the framework will call the object's event callback functions. For a list of framework objects for which the driver can specify an <strong>ExecutionLevel</strong> value, see <a href="wdf_execution_level" title="typedef enum _WDF_EXECUTION_LEVEL {&#10;  WdfExecutionLevelInvalid = 0x00,&#10;  WdfExecutionLevelInheritFromParent,&#10;  WdfExecutionLevelPassive,&#10;  WdfExecutionLevelDispatch&#10;} WDF_EXECUTION_LEVEL;">WDF_EXECUTION_LEVEL</a>.</p>

<h3 id="synchronizationscope"><code>SynchronizationScope</code></h3>

<p>A <a href="wdf_synchronization_scope" title="typedef enum _WDF_SYNCHRONIZATION_SCOPE {&#10;  WdfSynchronizationScopeInvalid = 0x00,&#10;  WdfSynchronizationScopeInheritFromParent,&#10;  WdfSynchronizationScopeDevice,&#10;  WdfSynchronizationScopeQueue,&#10;  WdfSynchronizationScopeNone&#10;} WDF_SYNCHRONIZATION_SCOPE;">WDF_SYNCHRONIZATION_SCOPE</a>-typed value that specifies how the framework will synchronize execution of the object's event callback functions. For a list of framework objects for which the driver can specify a <strong>SynchronizationScope</strong> value, see <a href="wdf_synchronization_scope" title="typedef enum _WDF_SYNCHRONIZATION_SCOPE {&#10;  WdfSynchronizationScopeInvalid = 0x00,&#10;  WdfSynchronizationScopeInheritFromParent,&#10;  WdfSynchronizationScopeDevice,&#10;  WdfSynchronizationScopeQueue,&#10;  WdfSynchronizationScopeNone&#10;} WDF_SYNCHRONIZATION_SCOPE;">WDF_SYNCHRONIZATION_SCOPE</a>.</p>

<h3 id="parentobject"><code>ParentObject</code></h3>

<p>A handle to the object's parent object, or <strong>NULL</strong> if the object does not have a driver-specified parent.</p>

<p>See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/summary-of-framework-objects">Summary of Framework Objects</a> for a table that shows the objects that allow a driver-specified parent. The table also shows the default parent of each object.</p>

<h3 id="contextsizeoverride"><code>ContextSizeOverride</code></h3>

<p>If not zero, this value overrides the <strong>ContextSize</strong> member of the <a href="wdf_object_context_type_info" title="typedef struct _WDF_OBJECT_CONTEXT_TYPE_INFO {&#10;  ULONG                          Size;&#10;  LPCSTR                         ContextName;&#10;  size_t                         ContextSize;&#10;  PCWDF_OBJECT_CONTEXT_TYPE_INFO UniqueType;&#10;  PFN_GET_UNIQUE_CONTEXT_TYPE    EvtDriverGetUniqueContextType;&#10;} WDF_OBJECT_CONTEXT_TYPE_INFO, *PWDF_OBJECT_CONTEXT_TYPE_INFO;">WDF_OBJECT_CONTEXT_TYPE_INFO</a> structure that the <strong>ContextTypeInfo</strong> member references. This value is optional and can be zero. If the value is not zero, it must specify a size, in bytes, that is larger than the value that is specified for the <strong>ContextSize</strong> member of the <a href="wdf_object_context_type_info" title="typedef struct _WDF_OBJECT_CONTEXT_TYPE_INFO {&#10;  ULONG                          Size;&#10;  LPCSTR                         ContextName;&#10;  size_t                         ContextSize;&#10;  PCWDF_OBJECT_CONTEXT_TYPE_INFO UniqueType;&#10;  PFN_GET_UNIQUE_CONTEXT_TYPE    EvtDriverGetUniqueContextType;&#10;} WDF_OBJECT_CONTEXT_TYPE_INFO, *PWDF_OBJECT_CONTEXT_TYPE_INFO;">WDF_OBJECT_CONTEXT_TYPE_INFO</a> structure. For more information, see the following Remarks section.</p>

<h3 id="contexttypeinfo"><code>ContextTypeInfo</code></h3>

<p>A pointer to a <a href="wdf_object_context_type_info" title="typedef struct _WDF_OBJECT_CONTEXT_TYPE_INFO {&#10;  ULONG                          Size;&#10;  LPCSTR                         ContextName;&#10;  size_t                         ContextSize;&#10;  PCWDF_OBJECT_CONTEXT_TYPE_INFO UniqueType;&#10;  PFN_GET_UNIQUE_CONTEXT_TYPE    EvtDriverGetUniqueContextType;&#10;} WDF_OBJECT_CONTEXT_TYPE_INFO, *PWDF_OBJECT_CONTEXT_TYPE_INFO;">WDF_OBJECT_CONTEXT_TYPE_INFO</a> structure. The <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/wdf-object-attributes-set-context-type">WDF_OBJECT_ATTRIBUTES_SET_CONTEXT_TYPE</a> macro sets this pointer.</p>

<h2 id="remarks">Remarks</h2>

<p>The WDF_OBJECT_ATTRIBUTES structure is used as an input argument to several methods that create framework objects.</p>

<p>To initialize a WDF_OBJECT_ATTRIBUTES structure, the driver must call <a href="wdf_object_attributes_init" title="VOID WDF_OBJECT_ATTRIBUTES_INIT(&#10;  [out] PWDF_OBJECT_ATTRIBUTES Attributes&#10;);">WDF_OBJECT_ATTRIBUTES_INIT</a>.</p>

<p>Additionally, if you are defining object-specific context information for an object, you must use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/wdf-object-attributes-set-context-type">WDF_OBJECT_ATTRIBUTES_SET_CONTEXT_TYPE</a> macro.</p>

<p>Alternatively, you can use the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/wdf-object-attributes-init-context-type">WDF_OBJECT_ATTRIBUTES_INIT_CONTEXT_TYPE</a> macro instead of the <a href="wdf_object_attributes_init" title="VOID WDF_OBJECT_ATTRIBUTES_INIT(&#10;  [out] PWDF_OBJECT_ATTRIBUTES Attributes&#10;);">WDF_OBJECT_ATTRIBUTES_INIT</a> and WDF_OBJECT_ATTRIBUTES_SET_CONTEXT_TYPE macros.</p>

<p>For more information about using these macros, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/framework-object-context-space">Framework Object Context Space</a>.</p>

<p>Use the <strong>ContextSizeOverride</strong> member of WDF_OBJECT_ATTRIBUTES if you want to create <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/framework-object-context-space">object context space</a> that has a variable length. For example, you might define a context space structure that contains an array, as follows:</p>

<pre><code>typedef struct _MY_REQUEST_CONTEXT {
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>  ByteCount;
  <a href="byte" title="typedef unsigned char BYTE;">BYTE</a>  Bytes[1];
} MY_REQUEST_CONTEXT, *PMY_REQUEST_CONTEXT;

WDF_DECLARE_CONTEXT_TYPE(MY_REQUEST_CONTEXT);
</code></pre>

<p>When your driver creates an object that uses the context space structure, it can use the <strong>ContextSizeOverride</strong> member to specify the context size that is needed for each individual object. For example, your driver might calculate the number of bytes that are needed in the array from the preceding example and then use <strong>ContextSizeOverride</strong> to specify the extra bytes, as follows:</p>

<pre><code>WDF_OBJECT_ATTRIBUTES MyRequestObjectAttributes;
PMY_REQUEST_CONTEXT pMyContext;

WDF_OBJECT_ATTRIBUTES_INIT_CONTEXT_TYPE(
                                        &amp;MyRequestObjectAttributes,
                                        MY_REQUEST_CONTEXT
                                        );
MyRequestObjectAttributes.ContextSizeOverride =
                          sizeof(MY_REQUEST_CONTEXT) + Num_Extra_Bytes - 1;
</code></pre>

<p>The driver can then create an object with a customized context size.</p>

<pre><code>status = <a href="wdfrequestcreate" title="NTSTATUS WdfRequestCreate(&#10;  [in, optional] PWDF_OBJECT_ATTRIBUTES RequestAttributes,&#10;  [in, optional] WDFIOTARGET            IoTarget,&#10;  [out]          WDFREQUEST             *Request&#10;);">WdfRequestCreate</a>(
                          &amp;MyRequestObjectAttributes,
                          ioTarget,
                          &amp;newRequest
                          );
</code></pre>

<p>For more information about the cleanup rules for a framework object hierarchy, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/framework-object-life-cycle">Framework Object Life Cycle</a>.</p>

<h2 id="see-also">See also</h2>

<p><a href="wdf_object_attributes_init" title="VOID WDF_OBJECT_ATTRIBUTES_INIT(&#10;  [out] PWDF_OBJECT_ATTRIBUTES Attributes&#10;);">WDF_OBJECT_ATTRIBUTES_INIT</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/wdf-object-attributes-init-context-type">WDF_OBJECT_ATTRIBUTES_INIT_CONTEXT_TYPE</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/wdf/wdf-object-attributes-set-context-type">WDF_OBJECT_ATTRIBUTES_SET_CONTEXT_TYPE</a></p>

<p><a href="wdfobjectallocatecontext" title="NTSTATUS WdfObjectAllocateContext(&#10;  [in]  WDFOBJECT              Handle,&#10;  [in]  PWDF_OBJECT_ATTRIBUTES ContextAttributes,&#10;  [out] PVOID                  *Context&#10;);">WdfObjectAllocateContext</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/wdfobject/ns-wdfobject-_wdf_object_attributes">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/wdfobject/ns-wdfobject-_wdf_object_attributes.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
