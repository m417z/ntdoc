<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3D12DDIARG_CREATE_VIDEO_DECODER_HEAP_0072 - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3D12DDIARG_CREATE_VIDEO_DECODER_HEAP_0072 - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3D12DDIARG_CREATE_VIDEO_DECODER_HEAP_0072 - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d12umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct D3D12DDIARG_CREATE_VIDEO_DECODER_HEAP_0072 {
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                     NodeMask;
  <a href="d3d12ddi_video_decode_configuration_0020" title="typedef struct D3D12DDI_VIDEO_DECODE_CONFIGURATION_0020 {&#10;  GUID                                     DecodeProfile;&#10;  GUID                                     BitstreamEncryption;&#10;  D3D12DDI_VIDEO_CODED_INTERLACE_TYPE_0020 InterlaceType;&#10;} D3D12DDI_VIDEO_DECODE_CONFIGURATION_0020;">D3D12DDI_VIDEO_DECODE_CONFIGURATION_0020</a> Configuration;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                     DecodeWidth;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                     DecodeHeight;
  DXGI_FORMAT                              Format;
  DXGI_RATIONAL                            FrameRate;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                     BitRate;
  <a href="uint" title="typedef unsigned int UINT;">UINT</a>                                     MaxDecodePictureBufferCount;
  D3D12DDI_HPROTECTEDRESOURCESESSION_0030  hDrvProtectedResourceSession;
} D3D12DDIARG_CREATE_VIDEO_DECODER_HEAP_0072;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddiarg_create_video_decoder_heap_0072">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3d12ddiarg_create_video_decoder_heap_0072.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-d3d12umddi-d3d12ddiarg_create_video_decoder_heap_0072)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2>Description</h2>
<p>Structure used to create a video decoder heap for a decode session.</p>
<h2>Members</h2>
<h3><code>NodeMask</code></h3>
<p>Represents the set of nodes. For single GPU operation, set this to zero. If there are multiple GPU nodes, set a bit to identify the node (the device's physical adapter) to which the command queue applies. Each bit in the mask corresponds to a single node. Only 1 bit may be set.</p>
<h3><code>Configuration</code></h3>
<p>The decode profile and bitstream encryption. See <a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_decode_configuration_0020"><strong>D3D12DDI_VIDEO_DECODE_CONFIGURATION</strong></a>.</p>
<h3><code>DecodeWidth</code></h3>
<p>The width of the bitstream to be decoded.</p>
<h3><code>DecodeHeight</code></h3>
<p>The height of the bitstream to be decoded.</p>
<h3><code>Format</code></h3>
<p>The resource data format.</p>
<h3><code>FrameRate</code></h3>
<p>The frame rate of the input video stream.</p>
<h3><code>BitRate</code></h3>
<p>The bits per second data compression rate for the compressed video stream.</p>
<h3><code>MaxDecodePictureBufferCount</code></h3>
<p>The maximum number of decode picture buffers this stream can have.</p>
<h3><code>hDrvProtectedResourceSession</code></h3>
<p>Handle to the protected resource session acquired at object creation time.</p>
<h2>Remarks</h2>
<p>The decoder heap holds the allocations for a decode session, and may contain state including reference related data such as motion vectors. In the event of a resolution change or a <strong>MaxDecodePictureBufferCount</strong> change, a new instance of this object is created. It is codec specific when these properties can change.</p>
<p>The decode width and height specify the native stream resolution before any scale. The maximum Decode Picture Buffer (DPB) count specifies the largest DPB count that can be used without recreating the video decode stream.</p>
<p>The Bitrate and FrameRate parameters may be used by drivers to inform heuristics such as intermediate allocation sizes or performance optimizations.</p>
<p>Decoding a frame can fail if the Bitrate and FrameRate values are insufficient for the video stream. If decode fails for this reason, the query D3D12DDI_QUERY_TYPE_VIDEO_DECODE_STATISTICS must return Status D3D12DDI_VIDEO_DECODE_STATUS_RATE_EXCEEDED.</p>
<p>The Bitrate and FrameRate parameters may also be set to zero. When these values are used, drivers must make worst case assumptions and are not allowed to fail with D3D12DDI_VIDEO_DECODE_STATUS_RATE_EXCEEDED.</p>
<p>See the <a href="https://microsoft.github.io/DirectX-Specs/d3d/D3D12_Video_ProtectedResourceSupport.html">D3D Video Protected Resource Support Specification</a> for more information.</p>
<h2>See also</h2>
<p><a href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddi_video_decode_configuration_0020"><strong>D3D12DDI_VIDEO_DECODE_CONFIGURATION</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ns-d3d12umddi-d3d12ddiarg_create_video_decoder_heap_0072">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/ns-d3d12umddi-d3d12ddiarg_create_video_decoder_heap_0072.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
