<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="IOCTL_HID_READ_REPORT - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IOCTL_HID_READ_REPORT - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            IOCTL_HID_READ_REPORT - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// hidport.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">// <a href="ctl_code" title="void CTL_CODE(&#10;  DeviceType,&#10;  Function,&#10;  Method,&#10;  Access&#10;);">CTL_CODE</a>(0x000b, 0x002, METHOD_NEITHER, FILE_ANY_ACCESS)
#define IOCTL_HID_READ_REPORT 0x000B000B</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidport/ni-hidport-ioctl_hid_read_report">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ioctl_hid_read_report.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ni-hidport-ioctl_hid_read_report)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>IOCTL_HID_READ_REPORT IOCTL</h1>
<h2>Description</h2>
<p>The IOCTL_HID_READ_REPORT request transfers an input report from a HIDClass device into the HID class driver's buffer.</p>
<p>For general information about HIDClass devices, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/hid/hid-collections">HID Collections</a>.</p>
<h2>Parameters</h2>
<h3>Major code</h3>
<h3>Input buffer</h3>
<p><strong>Parameters.DeviceIoControl.OutputBufferLength</strong> contains the size of the buffer provided at <strong>Irp-&gt;UserBuffer</strong>.</p>
<h3>Input buffer length</h3>
<p>The size of <strong>OutputBufferLength</strong></p>
<h3>Output buffer</h3>
<p>HID minidriver fills the system-resident buffer pointed to by <strong>Irp-&gt;UserBuffer</strong> with the report data retrieved from the device.</p>
<h3>Output buffer length</h3>
<p>The size of the <strong>UserBuffer</strong>.</p>
<h3>Input/output buffer</h3>
<h3>Input/output buffer length</h3>
<h3>Status block</h3>
<p>HID minidrivers that carry out the I/O to the device set the following fields of <strong>Irp-&gt;IoStatus</strong>:</p>
<ul>
<li><strong>Information</strong> is set to the number of bytes transferred from the device.</li>
<li><strong>Status</strong> is set to <a href="status_success" title="#define STATUS_SUCCESS ((NTSTATUS)0x00000000L)">STATUS_SUCCESS</a> if the transfer completed without error. Otherwise, it is set to an appropriate <a href="ntstatus" title="typedef _Return_type_success_(return &gt;= 0) long NTSTATUS;">NTSTATUS</a> error code.</li>
</ul>
<p>HID minidrivers that call other drivers with this <a href="irp" title="typedef struct _IRP {&#10;  CSHORT                    Type;&#10;  USHORT                    Size;&#10;  PMDL                      MdlAddress;&#10;  ULONG                     Flags;&#10;  union {&#10;    struct _IRP     *MasterIrp;&#10;    __volatile LONG IrpCount;&#10;    PVOID           SystemBuffer;&#10;  } AssociatedIrp;&#10;  LIST_ENTRY                ThreadListEntry;&#10;  IO_STATUS_BLOCK           IoStatus;&#10;  KPROCESSOR_MODE           RequestorMode;&#10;  BOOLEAN                   PendingReturned;&#10;  CHAR                      StackCount;&#10;  CHAR                      CurrentLocation;&#10;  BOOLEAN                   Cancel;&#10;  KIRQL                     CancelIrql;&#10;  CCHAR                     ApcEnvironment;&#10;  UCHAR                     AllocationFlags;&#10;...">IRP</a> to carry out the I/O to their device should ensure that the <strong>Information</strong> field of the status block is correct and not change the contents of the <strong>Status</strong> field.</p>
<h2>Remarks</h2>
<p>IOCTL_HID_READ_REPORT is typically used for continuously completing input reports that are sent by the device. This IOCTL is sent down by the HID class driver (HIDCLASS) in ping-pong fashion. In other words, as soon as a request is fulfilled (completed), another one can be sent down to the device, allowing for continuous reporting of data. This is an “asynchronous” mechanism, so for example, the device can use it to send data up to the host, regarding changes in state as those changes occur.</p>
<h2>See also</h2>
<p><a href="hidd_getfeature" title="BOOLEAN HidD_GetFeature(&#10;  [in]  HANDLE HidDeviceObject,&#10;  [out] PVOID  ReportBuffer,&#10;  [in]  ULONG  ReportBufferLength&#10;);">HidD_GetFeature</a></p>
<p><a href="hidd_getinputreport" title="BOOLEAN HidD_GetInputReport(&#10;  [in]  HANDLE HidDeviceObject,&#10;  [out] PVOID  ReportBuffer,&#10;  [in]  ULONG  ReportBufferLength&#10;);">HidD_GetInputReport</a></p>
<p><a href="hidd_setfeature" title="BOOLEAN HidD_SetFeature(&#10;  [in] HANDLE HidDeviceObject,&#10;  [in] PVOID  ReportBuffer,&#10;  [in] ULONG  ReportBufferLength&#10;);">HidD_SetFeature</a></p>
<p><a href="hidd_setoutputreport" title="BOOLEAN HidD_SetOutputReport(&#10;  [in] HANDLE HidDeviceObject,&#10;  [in] PVOID  ReportBuffer,&#10;  [in] ULONG  ReportBufferLength&#10;);">HidD_SetOutputReport</a></p>
<p><a href="ioctl_hid_get_feature" title="// CTL_CODE(0x000b, 0x064, METHOD_OUT_DIRECT, FILE_ANY_ACCESS)&#10;#define IOCTL_HID_GET_FEATURE 0x000B0192">IOCTL_HID_GET_FEATURE</a></p>
<p><a href="ioctl_hid_get_input_report" title="// CTL_CODE(0x000b, 0x068, METHOD_OUT_DIRECT, FILE_ANY_ACCESS)&#10;#define IOCTL_HID_GET_INPUT_REPORT 0x000B01A2">IOCTL_HID_GET_INPUT_REPORT</a></p>
<p><a href="ioctl_hid_set_feature" title="// CTL_CODE(0x000b, 0x064, METHOD_IN_DIRECT, FILE_ANY_ACCESS)&#10;#define IOCTL_HID_SET_FEATURE 0x000B0191">IOCTL_HID_SET_FEATURE</a></p>
<p><a href="ioctl_hid_set_output_report" title="// CTL_CODE(0x000b, 0x065, METHOD_IN_DIRECT, FILE_ANY_ACCESS)&#10;#define IOCTL_HID_SET_OUTPUT_REPORT 0x000B0195">IOCTL_HID_SET_OUTPUT_REPORT</a></p>
<p><a href="ioctl_hid_write_report" title="// CTL_CODE(0x000b, 0x003, METHOD_NEITHER, FILE_ANY_ACCESS)&#10;#define IOCTL_HID_WRITE_REPORT 0x000B000F">IOCTL_HID_WRITE_REPORT</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/hidport/ni-hidport-ioctl_hid_read_report">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/hidport/ni-hidport-ioctl_hid_read_report.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
