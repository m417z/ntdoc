<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAGS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAGS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAGS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// d3d12umddi.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef enum D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAGS {
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_NONE = 0,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_QUANTIZATION = 0x1,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_QUANTIZATION_DELTA = 0x2,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_LOOP_FILTER = 0x4,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_LOOP_FILTER_DELTA = 0x8,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_CDEF_DATA = 0x10,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_CONTEXT_UPDATE_TILE_ID = 0x20,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_COMPOUND_PREDICTION_MODE = 0x40,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_PRIMARY_REF_FRAME = 0x80,
  D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_REFERENCE_INDICES = 0x100
} ;</span><span class="ntdoc-code-footer">
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_video_encoder_av1_post_encode_values_0095_flags">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/d3d12ddi_video_encoder_av1_post_encode_values_0095_flags.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ne-d3d12umddi-d3d12ddi_video_encoder_av1_post_encode_values_0095_flags)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h2 id="description">Description</h2>

<p>The <strong>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAGS</strong> enumeration specifies which AV1 encoding features the underlying encoder is able to override (partially or totally) the associated AV1 syntax values or honor API Client exact configuration input otherwise.</p>

<h2 id="constants">Constants</h2>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_none0"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_NONE:0</code></h3>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_quantization0x1"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_QUANTIZATION:0x1</code></h3>

<p>Related to <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_codec_av1_quantization_config_0095"><strong>D3D12DDI_VIDEO_ENCODER_CODEC_AV1_QUANTIZATION_CONFIG_0095</strong></a> values. Used to code quantization_params().</p>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_quantization_delta0x2"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_QUANTIZATION_DELTA:0x2</code></h3>

<p>Related to <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_codec_av1_quantization_delta_config_0095"><strong>D3D12DDI_VIDEO_ENCODER_CODEC_AV1_QUANTIZATION_DELTA_CONFIG_0095</strong></a> values. Used to code delta_q_params().</p>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_loop_filter0x4"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_LOOP_FILTER:0x4</code></h3>

<p>Related to <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_codec_av1_loop_filter_config_0095"><strong>D3D12DDI_VIDEO_ENCODER_CODEC_AV1_LOOP_FILTER_CONFIG_0095</strong></a> values. Used to code AV1 syntax loop_filter_params().</p>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_loop_filter_delta0x8"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_LOOP_FILTER_DELTA:0x8</code></h3>

<p>Related to <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_codec_av1_loop_filter_delta_config_0095"><strong>D3D12DDI_VIDEO_ENCODER_CODEC_AV1_LOOP_FILTER_DELTA_CONFIG_0095</strong></a> values. Used to code AV1 syntax delta_lf_params().</p>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_cdef_data0x10"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_CDEF_DATA:0x10</code></h3>

<p>Related to <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_av1_cdef_config_0095"><strong>D3D12DDI_VIDEO_ENCODER_AV1_CDEF_CONFIG_0095</strong></a> values. Used to code AV1 syntax cdef_params().</p>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_context_update_tile_id0x20"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_CONTEXT_UPDATE_TILE_ID:0x20</code></h3>

<p>Related to the <strong>ContextUpdateTileId</strong> member in <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_av1_picture_control_subregions_layout_data_tiles_0095"><strong>D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_SUBREGIONS_LAYOUT_DATA_TILES_0095</strong></a>. Used to code AV1 element syntax context_update_tile_id in tile_info().</p>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_compound_prediction_mode0x40"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_COMPOUND_PREDICTION_MODE:0x40</code></h3>

<p>Related to <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_av1_comp_prediction_type_0095"><strong>D3D12DDI_VIDEO_ENCODER_AV1_COMP_PREDICTION_TYPE_0095</strong></a> values.</p>

<p>When API Client selects <strong>D3D12DDI_VIDEO_ENCODER_AV1_COMP_PREDICTION_TYPE_COMPOUND_REFERENCE</strong> and this flag is set, the driver will return <strong>D3D12DDI_VIDEO_ENCODER_AV1_COMP_PREDICTION_TYPE</strong> in post encode values. The returned value must be used to code reference_select = 0 (SINGLE) or reference_select = 1 (COMPOUND) syntax accordingly.</p>

<p>When API Client selects <strong>D3D12DDI_VIDEO_ENCODER_AV1_COMP_PREDICTION_TYPE_COMPOUND_SINGLE</strong> and this flag is set, the driver will return <strong>D3D12DDI_VIDEO_ENCODER_AV1_COMP_PREDICTION_TYPE_COMPOUND_SINGLE</strong> and reference_select must be coded as 0 (SINGLE).</p>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_primary_ref_frame0x80"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_PRIMARY_REF_FRAME:0x80</code></h3>

<p>Related to the <strong>PrimaryRefFrame</strong> element in <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_av1_picture_control_codec_data_0095"><strong>D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_CODEC_DATA_0095</strong></a>. Used to code AV1 element syntax primary_ref_frame in uncompressed_header().</p>

<h3 id="d3d12ddi_video_encoder_av1_post_encode_values_0095_flag_reference_indices0x100"><code>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095_FLAG_REFERENCE_INDICES:0x100</code></h3>

<p>When the flag is reported by the driver, the driver may reorder/remap (but not change the number of references) of the <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_av1_post_encode_values_0095"><strong>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095</strong></a><strong>.ReferenceIndices</strong> array output, based on the user input <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_av1_picture_control_codec_data_0095"><strong>D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_CODEC_DATA_0095</strong></a><strong>.ReferenceIndices</strong>. Otherwise, the driver must copy each array entry of this post encode output parameter as-is from <strong><a href="d3d12ddi_video_encoder_av1_picture_control_codec_data_0095" title="typedef struct D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_CODEC_DATA_0095 {&#10;  D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_0095_FLAGS           Flags;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_FRAME_TYPE_0095                      FrameType;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_COMP_PREDICTION_TYPE_0095            CompoundPredictionType;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_INTERPOLATION_FILTERS_0095           InterpolationFilter;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_RESTORATION_CONFIG_0095              FrameRestorationConfig;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_TX_MODE_0095                         TxMode;&#10;  UINT                                                            SuperResDenominator;&#10;  UINT                                                            OrderHint;&#10;  UINT                                                            PictureIndex;&#10;  UINT                                                            TemporalLayerIndexPlus1;&#10;  UINT                                                            SpatialLayerIndexPlus1;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_REFERENCE_PICTURE_DESCRIPTOR_0095    ReferenceFramesReconPictureDescriptors[8];&#10;  UINT                                                            ReferenceIndices[7];&#10;  UINT                                                            PrimaryRefFrame;&#10;  UINT                                                            RefreshFrameFlags;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_AV1_LOOP_FILTER_CONFIG_0095        LoopFilter;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_AV1_LOOP_FILTER_DELTA_CONFIG_0095  LoopFilterDelta;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_AV1_QUANTIZATION_CONFIG_0095       Quantization;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_AV1_QUANTIZATION_DELTA_CONFIG_0095 QuantizationDelta;&#10;...">D3D12DDI_VIDEO_ENCODER_AV1_PICTURE_CONTROL_CODEC_DATA_0095</a>.ReferenceIndices</strong>.</p>

<p>API Client will write the picture header ref_frame_idx AV1 syntax from this output parameter.</p>

<h2 id="remarks">Remarks</h2>

<p>When the bitflag is SET for a given feature, the driver receives the related API Client input and is able to override all or certain parameters of the associated structure with the given reported flag, which will then write back in <a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_av1_post_encode_values_0095"><strong>D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095</strong></a> with the final values for the API Client to repack the AV1 headers accordingly. API Client can compare this to the associated input structure to determine the driver changes, if any.</p>

<p>When the bitflag is NOT SET for a given feature, the driver honors the related API Client input exactly and copies the input values in <strong><a href="d3d12ddi_video_encoder_av1_post_encode_values_0095" title="typedef struct D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095 {&#10;  UINT64                                                          CompoundPredictionType;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_AV1_LOOP_FILTER_CONFIG_0095        LoopFilter;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_AV1_LOOP_FILTER_DELTA_CONFIG_0095  LoopFilterDelta;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_AV1_QUANTIZATION_CONFIG_0095       Quantization;&#10;  D3D12DDI_VIDEO_ENCODER_CODEC_AV1_QUANTIZATION_DELTA_CONFIG_0095 QuantizationDelta;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_CDEF_CONFIG_0095                     CDEF;&#10;  D3D12DDI_VIDEO_ENCODER_AV1_SEGMENTATION_CONFIG_0095             SegmentationConfig;&#10;  UINT64                                                          PrimaryRefFrame;&#10;  UINT64                                                          ReferenceIndices[7];&#10;} D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095;">D3D12DDI_VIDEO_ENCODER_AV1_POST_ENCODE_VALUES_0095</a></strong>. In this way, the client can always copy the post encode values to pack the headers directly.</p>

<p>See <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/display/video-encoding-d3d12-av1">D3D12 AV1 video encoding</a> for more information.</p>

<h2 id="see-also">See also</h2>

<p><a rel="noopener" target="_blank" href="d3d12ddi_video_encoder_av1_codec_configuration_support_0095"><strong>D3D12DDI_VIDEO_ENCODER_AV1_CODEC_CONFIGURATION_SUPPORT_0095</strong></a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/d3d12umddi/ne-d3d12umddi-d3d12ddi_video_encoder_av1_post_encode_values_0095_flags">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/d3d12umddi/ne-d3d12umddi-d3d12ddi_video_encoder_av1_post_encode_values_0095_flags.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
