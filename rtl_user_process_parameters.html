<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="RTL_USER_PROCESS_PARAMETERS - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>RTL_USER_PROCESS_PARAMETERS - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github.ntdoc.min.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/highlight.js/styles/github-dark-dimmed.ntdoc.min.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            RTL_USER_PROCESS_PARAMETERS - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">#ifndef _NTRTL_H

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef struct _RTL_USER_PROCESS_PARAMETERS
{
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> MaximumLength;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Length;

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> Flags;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DebugFlags;

    HANDLE ConsoleHandle;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ConsoleFlags;
    HANDLE StandardInput;
    HANDLE StandardOutput;
    HANDLE StandardError;

    <a href="curdir" title="typedef struct _CURDIR&#10;{&#10;    UNICODE_STRING DosPath;&#10;    HANDLE Handle;&#10;} CURDIR, *PCURDIR;">CURDIR</a> CurrentDirectory;
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> DllPath;
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> ImagePathName;
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> CommandLine;
    PVOID Environment;

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> StartingX;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> StartingY;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CountX;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CountY;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CountCharsX;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> CountCharsY;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> FillAttribute;

    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> WindowFlags;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ShowWindowFlags;
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> WindowTitle;
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> DesktopInfo;
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> ShellInfo;
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> RuntimeData;
    <a href="rtl_drive_letter_curdir" title="typedef struct _RTL_DRIVE_LETTER_CURDIR&#10;{&#10;    USHORT Flags;&#10;    USHORT Length;&#10;    ULONG TimeStamp;&#10;    STRING DosPath;&#10;} RTL_DRIVE_LETTER_CURDIR, *PRTL_DRIVE_LETTER_CURDIR;">RTL_DRIVE_LETTER_CURDIR</a> CurrentDirectories[<a href="rtl_max_drive_letters" title="#define RTL_MAX_DRIVE_LETTERS 32">RTL_MAX_DRIVE_LETTERS</a>];

    <a href="ulong_ptr" title="typedef [public] unsigned __int3264 ULONG_PTR;">ULONG_PTR</a> EnvironmentSize;
    <a href="ulong_ptr" title="typedef [public] unsigned __int3264 ULONG_PTR;">ULONG_PTR</a> EnvironmentVersion;

    PVOID PackageDependencyData;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> ProcessGroupId;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> LoaderThreads; // THRESHOLD
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> RedirectionDllName; // REDSTONE5
    <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> HeapPartitionName; // 19H1
    PULONGLONG DefaultThreadpoolCpuSetMasks;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DefaultThreadpoolCpuSetMaskCount;
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> DefaultThreadpoolThreadMaximum; // 20H1
    <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> HeapMemoryTypeMask; // WIN11 22H2
} RTL_USER_PROCESS_PARAMETERS, *PRTL_USER_PROCESS_PARAMETERS;
</span><span class="ntdoc-code-footer language-cpp">
#endif
</span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://github.com/winsiderss/systeminformer/blob/163d205482d654b16259e736b1d199685b2cc090/phnt/include/ntrtl.h#L3716">View code on GitHub</a></span></code></pre></div>
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header language-cpp">// winternl.h

</span><span class="ntdoc-code-intro language-cpp"></span><span class="ntdoc-code-body language-cpp">typedef struct _RTL_USER_PROCESS_PARAMETERS {
  <a href="byte" title="typedef unsigned char BYTE;">BYTE</a>           Reserved1[16];
  PVOID          Reserved2[10];
  <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> ImagePathName;
  <a href="unicode_string" title="typedef struct _UNICODE_STRING&#10;{&#10;    USHORT Length;&#10;    USHORT MaximumLength;&#10;    _Field_size_bytes_part_opt_(MaximumLength, Length) PWCH Buffer;&#10;} UNICODE_STRING, *PUNICODE_STRING;">UNICODE_STRING</a> CommandLine;
} RTL_USER_PROCESS_PARAMETERS, *PRTL_USER_PROCESS_PARAMETERS;</span><span class="ntdoc-code-footer language-cpp"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winternl/ns-winternl-rtl_user_process_parameters">View the official Win32 API reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h3>MaximumLength</h3>
<p>Specifies the total size, in bytes, of memory allocated for the structure. Up to <code>MaximumLength</code> bytes may be written into the buffer without trampling memory.</p>
<h3>Length</h3>
<p>Total size of the process parameter block, including the fixed structure and the following variable-length string data stored contiguously after the structure:</p>
<ul>
<li><code>CurrentDirectory.DosPath</code></li>
<li><code>DllPath</code></li>
<li><code>ImagePathName</code></li>
<li><code>CommandLine</code></li>
<li><code>WindowTitle</code></li>
<li><code>DesktopInfo</code></li>
<li><code>ShellInfo</code></li>
<li><code>RuntimeData</code></li>
<li><code>RedirectionDllName</code></li>
</ul>
<p>Note that this does not include data allocated separately and referenced via pointers that are always absolute, such as the <code>Environment</code> pointer.</p>
<h3>Flags</h3>
<p>Process parameter flags. These flags control various behaviors during process creation and initialization.</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a href="rtl_user_proc_params_normalized" title="#define RTL_USER_PROC_PARAMS_NORMALIZED 0x00000001">RTL_USER_PROC_PARAMS_NORMALIZED</a></code></td>
<td><code>0x00000001</code></td>
<td>Structure is normalized by <code><a href="rtlnormalizeprocessparams" title="NTSYSAPI&#10;PRTL_USER_PROCESS_PARAMETERS&#10;NTAPI&#10;RtlNormalizeProcessParams(&#10;    _Inout_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters&#10;    );">RtlNormalizeProcessParams</a></code>. Pointers that are specified above (in the <code>Length</code> field description) are absolute addresses rather than offsets.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_profile_user" title="#define RTL_USER_PROC_PROFILE_USER 0x00000002">RTL_USER_PROC_PROFILE_USER</a></code></td>
<td><code>0x00000002</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_profile_kernel" title="#define RTL_USER_PROC_PROFILE_KERNEL 0x00000004">RTL_USER_PROC_PROFILE_KERNEL</a></code></td>
<td><code>0x00000004</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_profile_server" title="#define RTL_USER_PROC_PROFILE_SERVER 0x00000008">RTL_USER_PROC_PROFILE_SERVER</a></code></td>
<td><code>0x00000008</code></td>
<td></td>
</tr>
<tr>
<td><code>RTL_USER_PROC_UNKNOWN</code></td>
<td><code>0x00000010</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_reserve_1mb" title="#define RTL_USER_PROC_RESERVE_1MB 0x00000020">RTL_USER_PROC_RESERVE_1MB</a></code></td>
<td><code>0x00000020</code></td>
<td>The system should reserve a region at the lower addresses (the NULL page) at process creation. See also <code><a href="ps_memory_reserve" title="typedef struct _PS_MEMORY_RESERVE&#10;{&#10;    PVOID ReserveAddress;&#10;    SIZE_T ReserveSize;&#10;} PS_MEMORY_RESERVE, *PPS_MEMORY_RESERVE;">PS_MEMORY_RESERVE</a></code> and <code><a href="ps_attribute_memory_reserve" title="#define PS_ATTRIBUTE_MEMORY_RESERVE \&#10;    PsAttributeValue(PsAttributeMemoryReserve, FALSE, TRUE, FALSE)">PS_ATTRIBUTE_MEMORY_RESERVE</a></code>.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_reserve_16mb" title="#define RTL_USER_PROC_RESERVE_16MB 0x00000040">RTL_USER_PROC_RESERVE_16MB</a></code></td>
<td><code>0x00000040</code></td>
<td>The system should reserve a region at the lower addresses (the NULL page) at process creation. See also <code><a href="ps_memory_reserve" title="typedef struct _PS_MEMORY_RESERVE&#10;{&#10;    PVOID ReserveAddress;&#10;    SIZE_T ReserveSize;&#10;} PS_MEMORY_RESERVE, *PPS_MEMORY_RESERVE;">PS_MEMORY_RESERVE</a></code> and <code><a href="ps_attribute_memory_reserve" title="#define PS_ATTRIBUTE_MEMORY_RESERVE \&#10;    PsAttributeValue(PsAttributeMemoryReserve, FALSE, TRUE, FALSE)">PS_ATTRIBUTE_MEMORY_RESERVE</a></code>.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_case_sensitive" title="#define RTL_USER_PROC_CASE_SENSITIVE 0x00000080">RTL_USER_PROC_CASE_SENSITIVE</a></code></td>
<td><code>0x00000080</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_disable_heap_decommit" title="#define RTL_USER_PROC_DISABLE_HEAP_DECOMMIT 0x00000100">RTL_USER_PROC_DISABLE_HEAP_DECOMMIT</a></code></td>
<td><code>0x00000100</code></td>
<td></td>
</tr>
<tr>
<td><code>RTL_USER_PROC_PROCESS_OR_1</code></td>
<td><code>0x00000200</code></td>
<td></td>
</tr>
<tr>
<td><code>RTL_USER_PROC_PROCESS_OR_2</code></td>
<td><code>0x00000400</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_dll_redirection_local" title="#define RTL_USER_PROC_DLL_REDIRECTION_LOCAL 0x00001000">RTL_USER_PROC_DLL_REDIRECTION_LOCAL</a></code></td>
<td><code>0x00001000</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_app_manifest_present" title="#define RTL_USER_PROC_APP_MANIFEST_PRESENT 0x00002000">RTL_USER_PROC_APP_MANIFEST_PRESENT</a></code></td>
<td><code>0x00002000</code></td>
<td>The system has detected an application manifest upon process creation.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_image_key_missing" title="#define RTL_USER_PROC_IMAGE_KEY_MISSING 0x00004000">RTL_USER_PROC_IMAGE_KEY_MISSING</a></code></td>
<td><code>0x00004000</code></td>
<td>The corresponding Image File Execution Options (IFEO) key was not found at process creation.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_dev_override_enabled" title="#define RTL_USER_PROC_DEV_OVERRIDE_ENABLED 0x00008000">RTL_USER_PROC_DEV_OVERRIDE_ENABLED</a></code></td>
<td><code>0x00008000</code></td>
<td>Required for DotLocal to work on certain codepaths. Set in <code>PspSetupUserProcessAddressSpace</code> from <code>PspGlobalFlags.DevOverrideEnabled</code>. Controlled by system-global IFEO <code>DevOverrideEnable</code>. <a rel="noopener" target="_blank" href="https://x.com/sixtyvividtails/status/1719785195086266581">Documented by sixtyvividtails</a>.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_optin_process" title="#define RTL_USER_PROC_OPTIN_PROCESS 0x00020000">RTL_USER_PROC_OPTIN_PROCESS</a></code></td>
<td><code>0x00020000</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_session_owner" title="#define RTL_USER_PROC_SESSION_OWNER 0x00040000">RTL_USER_PROC_SESSION_OWNER</a></code></td>
<td><code>0x00040000</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_handle_user_callback_exceptions" title="#define RTL_USER_PROC_HANDLE_USER_CALLBACK_EXCEPTIONS 0x00080000">RTL_USER_PROC_HANDLE_USER_CALLBACK_EXCEPTIONS</a></code></td>
<td><code>0x00080000</code></td>
<td></td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_protected_process" title="#define RTL_USER_PROC_PROTECTED_PROCESS 0x00400000">RTL_USER_PROC_PROTECTED_PROCESS</a></code></td>
<td><code>0x00400000</code></td>
<td></td>
</tr>
<tr>
<td><code>RTL_USER_PROC_NO_IMAGE_EXPANSION_MITIGATION</code></td>
<td><code>0x02000000</code></td>
<td></td>
</tr>
<tr>
<td><code>RTL_USER_PROC_APPX_LOADER_ALTERNATE_FORWARDER</code></td>
<td><code>0x04000000</code></td>
<td></td>
</tr>
<tr>
<td><code>RTL_USER_PROC_APPX_GLOBAL_OVERRIDE</code></td>
<td><code>0x08000000</code></td>
<td></td>
</tr>
<tr>
<td><code>RTL_USER_PROC_ONECORE_FORWARDERS_ENABLED</code></td>
<td><code>0x20000000</code></td>
<td>Enables the loader to use OneCore API set forwarders when resolving DLL imports. Set in <code>PspSetupUserProcessAddressSpace</code> from <code>_ESERVERSILO_GLOBALS.OneCoreForwardersEnabled</code>. <a rel="noopener" target="_blank" href="https://x.com/sixtyvividtails/status/1832175457229255082">Documented by sixtyvividtails</a>.</td>
</tr>
<tr>
<td><code>RTL_USER_PROC_EXIT_PROCESS_NORMAL</code></td>
<td><code>0x40000000</code></td>
<td>Allows processes with <code>AppModelPolicy_ProcessEnd_TerminateProcess</code> to opt back in to the normal <code>ExitProcess</code> path that detaches from DLLs on exit.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_secure_process" title="#define RTL_USER_PROC_SECURE_PROCESS 0x80000000">RTL_USER_PROC_SECURE_PROCESS</a></code></td>
<td><code>0x80000000</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3>DebugFlags</h3>
<h3>ConsoleHandle</h3>
<p>Handle identifying the console session associated with the process. Inherited from parent process by default, or set to a special value during process creation:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a href="rtl_user_proc_detached_process" title="#define RTL_USER_PROC_DETACHED_PROCESS ((HANDLE)(LONG_PTR)-1)">RTL_USER_PROC_DETACHED_PROCESS</a></code></td>
<td>Process was created with the <code>DETACHED_PROCESS</code> flag.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_create_new_console" title="#define RTL_USER_PROC_CREATE_NEW_CONSOLE ((HANDLE)(LONG_PTR)-2)">RTL_USER_PROC_CREATE_NEW_CONSOLE</a></code></td>
<td>Process was created with the <code>CREATE_NEW_CONSOLE</code> flag.</td>
</tr>
<tr>
<td><code><a href="rtl_user_proc_create_no_window" title="#define RTL_USER_PROC_CREATE_NO_WINDOW ((HANDLE)(LONG_PTR)-3)">RTL_USER_PROC_CREATE_NO_WINDOW</a></code></td>
<td>Process was created with the <code>CREATE_NO_WINDOW</code> flag.</td>
</tr>
</tbody>
</table>
<p>For running console processes, this field usually stores the console connection handle (<code>\Device\ConDrv\Connect</code>).</p>
<h3>ConsoleFlags</h3>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CONSOLE_IGNORE_CTRL_C</code></td>
<td><code>0x01</code></td>
<td>Set when process is created with <code>CREATE_NEW_PROCESS_GROUP</code> without <code>CREATE_NEW_CONSOLE</code>. Allows the process to temporarily block Ctrl+C requests. You can set/remove this flag via <code>SetConsoleCtrlHandler(NULL, TRUE/FALSE)</code>.</td>
</tr>
</tbody>
</table>
<h3>StandardInput</h3>
<p>Handle to the standard input stream. Corresponds to <code>STARTUPINFO.hStdInput</code>.</p>
<p>For console processes, this field usually stores a <code>\Device\ConDrv\Input</code> handle.</p>
<h3>StandardOutput</h3>
<p>Handle to the standard output stream. Corresponds to <code>STARTUPINFO.hStdOutput</code>.</p>
<p>For console processes, this field usually stores a <code>\Device\ConDrv\Output</code> handle.</p>
<h3>StandardError</h3>
<p>Handle to the standard error stream. Corresponds to <code>STARTUPINFO.hStdError</code>.</p>
<p>For console processes, this field usually stores a <code>\Device\ConDrv\Output</code> handle (same as the standard output).</p>
<h3>CurrentDirectory</h3>
<p>A <code><a href="curdir" title="typedef struct _CURDIR&#10;{&#10;    UNICODE_STRING DosPath;&#10;    HANDLE Handle;&#10;} CURDIR, *PCURDIR;">CURDIR</a></code> structure containing the current directory path and handle.</p>
<p>The <code>DosPath</code> member is specified as a DOS-like path, e.g., <code>C:\Windows\System32</code>.</p>
<p>The <code>Handle</code> member is an open handle to the current directory file object.</p>
<p>Note that the caller should always check the normalization flag before attempting to use <code>DosPath</code> as-is.</p>
<h3>DllPath</h3>
<p>DOS-like paths separated by <code>;</code> where the system should search for DLL files.</p>
<p>Note that the caller should always check the normalization flag before attempting to use the value as is.</p>
<h3>ImagePathName</h3>
<p>Full path in DOS-like format to the process executable image, e.g., <code>C:\Windows\System32\notepad.exe</code>.</p>
<p>Note that the caller should always check the normalization flag before attempting to use the value as is.</p>
<h3>CommandLine</h3>
<p>The command line string passed to the process.</p>
<p>Note that the caller should always check the normalization flag before attempting to use the value as is.</p>
<h3>Environment</h3>
<p>Pointer to the environment block. See <code><a href="rtlcreateenvironment" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlCreateEnvironment(&#10;    _In_ BOOLEAN CloneCurrentEnvironment,&#10;    _Out_ PVOID *Environment&#10;    );">RtlCreateEnvironment</a></code> for creating environment blocks.</p>
<h3>StartingX</h3>
<p>Initial X position of the window in pixels. Corresponds to <code>STARTUPINFO.dwX</code>. Only used if <code>WindowFlags</code> includes <code>STARTF_USEPOSITION</code>.</p>
<h3>StartingY</h3>
<p>Initial Y position of the window in pixels. Corresponds to <code>STARTUPINFO.dwY</code>. Only used if <code>WindowFlags</code> includes <code>STARTF_USEPOSITION</code>.</p>
<h3>CountX</h3>
<p>Initial width of the window in pixels. Corresponds to <code>STARTUPINFO.dwXSize</code>. Only used if <code>WindowFlags</code> includes <code>STARTF_USESIZE</code>.</p>
<h3>CountY</h3>
<p>Initial height of the window in pixels. Corresponds to <code>STARTUPINFO.dwYSize</code>. Only used if <code>WindowFlags</code> includes <code>STARTF_USESIZE</code>.</p>
<h3>CountCharsX</h3>
<p>Screen buffer width in character columns. Corresponds to <code>STARTUPINFO.dwXCountChars</code>. Only used if <code>WindowFlags</code> includes <code>STARTF_USECOUNTCHARS</code>.</p>
<h3>CountCharsY</h3>
<p>Screen buffer height in character rows. Corresponds to <code>STARTUPINFO.dwYCountChars</code>. Only used if <code>WindowFlags</code> includes <code>STARTF_USECOUNTCHARS</code>.</p>
<h3>FillAttribute</h3>
<p>Initial text and background colors for console windows. Corresponds to <code>STARTUPINFO.dwFillAttribute</code>. Only used if <code>WindowFlags</code> includes <code>STARTF_USEFILLATTRIBUTE</code>. Uses console color attributes (e.g., <code>FOREGROUND_RED | BACKGROUND_BLUE</code>).</p>
<h3>WindowFlags</h3>
<p>Flags indicating which <code>STARTUPINFO</code> fields contain valid data. Corresponds to <code>STARTUPINFO.dwFlags</code>. Common values:</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>STARTF_USESHOWWINDOW</code></td>
<td><code>0x0001</code></td>
<td>Use <code>ShowWindowFlags</code> value</td>
</tr>
<tr>
<td><code>STARTF_USESIZE</code></td>
<td><code>0x0002</code></td>
<td>Use <code>CountX</code> and <code>CountY</code></td>
</tr>
<tr>
<td><code>STARTF_USEPOSITION</code></td>
<td><code>0x0004</code></td>
<td>Use <code>StartingX</code> and <code>StartingY</code></td>
</tr>
<tr>
<td><code>STARTF_USECOUNTCHARS</code></td>
<td><code>0x0008</code></td>
<td>Use <code>CountCharsX</code> and <code>CountCharsY</code></td>
</tr>
<tr>
<td><code>STARTF_USEFILLATTRIBUTE</code></td>
<td><code>0x0010</code></td>
<td>Use <code>FillAttribute</code></td>
</tr>
<tr>
<td><code>STARTF_RUNFULLSCREEN</code></td>
<td><code>0x0020</code></td>
<td>Run full screen (x86 console only)</td>
</tr>
<tr>
<td><code>STARTF_FORCEONFEEDBACK</code></td>
<td><code>0x0040</code></td>
<td>Force feedback cursor on</td>
</tr>
<tr>
<td><code>STARTF_FORCEOFFFEEDBACK</code></td>
<td><code>0x0080</code></td>
<td>Force feedback cursor off</td>
</tr>
<tr>
<td><code>STARTF_USESTDHANDLES</code></td>
<td><code>0x0100</code></td>
<td>Use Standard* handle fields</td>
</tr>
<tr>
<td><code>STARTF_USEHOTKEY</code></td>
<td><code>0x0200</code></td>
<td><code>StandardInput</code> contains a hotkey value instead of a handle.</td>
</tr>
<tr>
<td><code>STARTF_HASSHELLDATA</code></td>
<td><code>0x0400</code></td>
<td><code>StandardOutput</code> contains either a monitor handle (to specify the monitor on which to start the process) or an icon handle (legacy, NT 3.x only). When set, <code>STARTF_USESTDHANDLES</code> is ignored.</td>
</tr>
<tr>
<td><code>STARTF_TITLEISLINKNAME</code></td>
<td><code>0x0800</code></td>
<td><code>WindowTitle</code> is a shortcut file path (<code>.lnk</code>).</td>
</tr>
<tr>
<td><code>STARTF_TITLEISAPPID</code></td>
<td><code>0x1000</code></td>
<td><code>WindowTitle</code> is an AppUserModelID</td>
</tr>
<tr>
<td><code>STARTF_PREVENTPINNING</code></td>
<td><code>0x2000</code></td>
<td>Prevent taskbar pinning</td>
</tr>
<tr>
<td><code>STARTF_UNTRUSTEDSOURCE</code></td>
<td><code>0x8000</code></td>
<td>Process started from untrusted source</td>
</tr>
<tr>
<td><code>STARTF_INHERITDESKTOP</code></td>
<td><code>0x40000000</code></td>
<td>Inherit desktop from parent process.</td>
</tr>
<tr>
<td><code>STARTF_SCREENSAVER</code></td>
<td><code>0x80000000</code></td>
<td>Process starts at <code>NORMAL_PRIORITY</code>, then drops to <code>IDLE_PRIORITY</code> on first <code>GetMessage</code> call. Only WinLogon is permitted to use this flag.</td>
</tr>
</tbody>
</table>
<h3>ShowWindowFlags</h3>
<p>Specifies how the window should be shown. Corresponds to <code>STARTUPINFO.wShowWindow</code>. Uses the <code>SW_*</code> values from <code>ShowWindow()</code>, e.g., <code>SW_SHOW</code>, <code>SW_HIDE</code>, <code>SW_MAXIMIZE</code>. Only used if <code>WindowFlags</code> includes <code>STARTF_USESHOWWINDOW</code>.</p>
<h3>WindowTitle</h3>
<p>For console processes, the title displayed in the title bar if a new console window is created. If <code>NULL</code>, the executable file name is used. When <code>STARTF_TITLEISAPPID</code> is set, contains an AppUserModelID instead. Corresponds to <code>STARTUPINFO.lpTitle</code>.</p>
<p>Note that the caller should always check the normalization flag before attempting to use the value as is.</p>
<h3>DesktopInfo</h3>
<p>Name of the WindowStation and Desktop objects where the process is assigned, in the format <code>WindowStation\Desktop</code>, e.g., <code>WinSta0\Default</code>. Corresponds to <code>STARTUPINFO.lpDesktop</code>.</p>
<p>Note that the caller should always check the normalization flag before attempting to use the value as is.</p>
<h3>ShellInfo</h3>
<p>Corresponds to <code>STARTUPINFO.lpReserved</code>. Historically used by Program Manager to pass startup information as a comma-separated string in format <code>dde.#,hotkey.#,ntvdm.#</code>.</p>
<p>Source: <a rel="noopener" target="_blank" href="https://www.catch22.net/tuts/system/undocumented-createprocess/">Undocumented CreateProcess</a> by Catch22.</p>
<p>Note that the caller should always check the normalization flag before attempting to use the value as is.</p>
<h3>RuntimeData</h3>
<p>Corresponds to <code>STARTUPINFO.lpReserved2</code>/<code>cbReserved2</code>. Used by the C runtime to pass open file handles to child processes.</p>
<p>Source: <a rel="noopener" target="_blank" href="https://www.catch22.net/tuts/system/undocumented-createprocess/">Undocumented CreateProcess</a> by Catch22.</p>
<p>Note that the caller should always check the normalization flag before attempting to use the value as is.</p>
<h3>CurrentDirectories[<a href="rtl_max_drive_letters" title="#define RTL_MAX_DRIVE_LETTERS 32">RTL_MAX_DRIVE_LETTERS</a>]</h3>
<p>Array of 32 <code><a href="rtl_drive_letter_curdir" title="typedef struct _RTL_DRIVE_LETTER_CURDIR&#10;{&#10;    USHORT Flags;&#10;    USHORT Length;&#10;    ULONG TimeStamp;&#10;    STRING DosPath;&#10;} RTL_DRIVE_LETTER_CURDIR, *PRTL_DRIVE_LETTER_CURDIR;">RTL_DRIVE_LETTER_CURDIR</a></code> structures. The intended purpose was keeping a current directory for each drive letter, but no code is known that uses this array.</p>
<p>Source: <a rel="noopener" target="_blank" href="https://www.geoffchappell.com/studies/windows/km/ntoskrnl/inc/api/pebteb/rtl_drive_letter_curdir.htm">Geoff Chappell</a>.</p>
<h3>EnvironmentSize</h3>
<p>Specifies the total size, in bytes, of memory allocated for the <code>Environment</code> structure.</p>
<p>Added in Windows Vista.</p>
<h3>EnvironmentVersion</h3>
<p>The number of times the environment block has changed. Incremented every time by <code><a href="rtlsetenvironmentstrings" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlSetEnvironmentStrings(&#10;    _In_ PCWSTR NewEnvironment,&#10;    _In_ SIZE_T NewEnvironmentSize&#10;    );">RtlSetEnvironmentStrings</a></code> and <code><a href="rtlsetenvironmentvar" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlSetEnvironmentVar(&#10;    _Inout_opt_ PVOID *Environment,&#10;    _In_reads_(NameLength) PCWSTR Name,&#10;    _In_ SIZE_T NameLength,&#10;    _In_reads_(ValueLength) PCWSTR Value,&#10;    _In_opt_ SIZE_T ValueLength&#10;    );">RtlSetEnvironmentVar</a></code>.</p>
<p>Added in Windows 7.</p>
<h3>PackageDependencyData</h3>
<p>Added in Windows 8.</p>
<h3>ProcessGroupId</h3>
<p>The console group identifier to narrow down control signal delivery.</p>
<p>Added in Windows 8.</p>
<h3>LoaderThreads</h3>
<p>Number of worker threads for parallel DLL loading during process initialization. If 0, defaults to 4; if greater than 16, capped at 16. The thread pool is created with one less than this value since the main thread also participates in loading. Can be overridden via IFEO <code>MaxLoaderThreads</code> registry value.</p>
<p>Source: <a rel="noopener" target="_blank" href="https://web.archive.org/web/20251114020746/https://blogs.blackberry.com/en/2017/10/windows-10-parallel-loading-breakdown">Windows 10 Parallel Loading Breakdown</a> by BlackBerry.</p>
<p>Added in Windows 10.</p>
<h3>RedirectionDllName</h3>
<p>Path to a DLL that provides import redirection for packaged applications (Desktop Bridge). If set, the loader calls <code>LdrpLoadDll</code> to load it during process initialization. For non-packaged apps, the DLL must be Microsoft-signed. Configured via <code>ImportRedirectionTable</code> in the app manifest.</p>
<p>Source: <a rel="noopener" target="_blank" href="https://www.tiraniddo.dev/2020/02/dll-import-redirection-in-windows-10_8.html">DLL Import Redirection in Windows 10 1909</a> by James Forshaw.</p>
<p>Note that the caller should always check the normalization flag before attempting to use the value as is.</p>
<p>Added in Windows 10 version 1809.</p>
<h3>HeapPartitionName</h3>
<p>Added in Windows 10 version 1903.</p>
<h3>DefaultThreadpoolCpuSetMasks</h3>
<p>Added in Windows 10 version 1903.</p>
<h3>DefaultThreadpoolCpuSetMaskCount</h3>
<p>Added in Windows 10 version 1903.</p>
<h3>DefaultThreadpoolThreadMaximum</h3>
<p>Added in Windows 10 version 2004.</p>
<h3>HeapMemoryTypeMask</h3>
<p>Added in Windows 11 version 22H2.</p>
<h1>Related Win32 structs</h1>
<ul>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/en-us/windows/win32/api/processthreadsapi/ns-processthreadsapi-startupinfoa"><code>STARTUPINFOA</code></a></li>
<li><a rel="noopener" target="_blank" href="https://learn.microsoft.com/en-us/windows/win32/api/processthreadsapi/ns-processthreadsapi-startupinfow"><code>STARTUPINFOW</code></a></li>
</ul>
<h1>See also</h1>
<ul>
<li><code><a href="rtlcreateprocessparameters" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlCreateProcessParameters(&#10;    _Out_ PRTL_USER_PROCESS_PARAMETERS *ProcessParameters,&#10;    _In_ PCUNICODE_STRING ImagePathName,&#10;    _In_opt_ PCUNICODE_STRING DllPath,&#10;    _In_opt_ PCUNICODE_STRING CurrentDirectory,&#10;    _In_opt_ PCUNICODE_STRING CommandLine,&#10;    _In_opt_ PVOID Environment,&#10;    _In_opt_ PCUNICODE_STRING WindowTitle,&#10;    _In_opt_ PCUNICODE_STRING DesktopInfo,&#10;    _In_opt_ PCUNICODE_STRING ShellInfo,&#10;    _In_opt_ PCUNICODE_STRING RuntimeData&#10;    );">RtlCreateProcessParameters</a></code></li>
<li><code><a href="rtldestroyprocessparameters" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlDestroyProcessParameters(&#10;    _In_ _Post_invalid_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters&#10;    );">RtlDestroyProcessParameters</a></code></li>
<li><code><a href="rtlnormalizeprocessparams" title="NTSYSAPI&#10;PRTL_USER_PROCESS_PARAMETERS&#10;NTAPI&#10;RtlNormalizeProcessParams(&#10;    _Inout_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters&#10;    );">RtlNormalizeProcessParams</a></code></li>
<li><code><a href="rtldenormalizeprocessparams" title="NTSYSAPI&#10;PRTL_USER_PROCESS_PARAMETERS&#10;NTAPI&#10;RtlDeNormalizeProcessParams(&#10;    _Inout_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters&#10;    );">RtlDeNormalizeProcessParams</a></code></li>
<li><code><a href="rtlcreateuserprocess" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlCreateUserProcess(&#10;    _In_ PCUNICODE_STRING NtImagePathName,&#10;    _In_ ULONG ExtendedParameters, // HIWORD(NumaNodeNumber), LOWORD(Reserved)&#10;    _In_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters,&#10;    _In_opt_ PSECURITY_DESCRIPTOR ProcessSecurityDescriptor,&#10;    _In_opt_ PSECURITY_DESCRIPTOR ThreadSecurityDescriptor,&#10;    _In_opt_ HANDLE ParentProcess,&#10;    _In_ BOOLEAN InheritHandles,&#10;    _In_opt_ HANDLE DebugPort,&#10;    _In_opt_ HANDLE TokenHandle, // used to be ExceptionPort&#10;    _Out_ PRTL_USER_PROCESS_INFORMATION ProcessInformation&#10;    );">RtlCreateUserProcess</a></code></li>
<li><code><a href="peb" title="typedef struct _PEB&#10;{&#10;    //&#10;    // The process was cloned with an inherited address space.&#10;    //&#10;    BOOLEAN InheritedAddressSpace;&#10;&#10;    //&#10;    // The process has image file execution options (IFEO).&#10;    //&#10;    BOOLEAN ReadImageFileExecOptions;&#10;&#10;    //&#10;    // The process has a debugger attached.&#10;    //&#10;    BOOLEAN BeingDebugged;&#10;&#10;    union&#10;    {&#10;        BOOLEAN BitField;&#10;...">PEB</a></code></li>
</ul>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/rtl_user_process_parameters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Win32 API reference (ns-winternl-rtl_user_process_parameters)</h1>
</div>
<div class="ntdoc-description">
<h1>RTL_USER_PROCESS_PARAMETERS structure</h1>
<h2>Description</h2>
<p>[This structure may be altered in future versions of Windows.]</p>
<p>Contains process parameter information.</p>
<h2>Members</h2>
<h3><code>Reserved1</code></h3>
<p>Reserved for internal use by the operating system.</p>
<h3><code>Reserved2</code></h3>
<p>Reserved for internal use by the operating system.</p>
<h3><code>ImagePathName</code></h3>
<p>The path of the image file for the process.</p>
<h3><code>CommandLine</code></h3>
<p>The command-line string passed to the process.</p>
<h2>See also</h2>
<p><a href="peb" title="typedef struct _PEB&#10;{&#10;    //&#10;    // The process was cloned with an inherited address space.&#10;    //&#10;    BOOLEAN InheritedAddressSpace;&#10;&#10;    //&#10;    // The process has image file execution options (IFEO).&#10;    //&#10;    BOOLEAN ReadImageFileExecOptions;&#10;&#10;    //&#10;    // The process has a debugger attached.&#10;    //&#10;    BOOLEAN BeingDebugged;&#10;&#10;    union&#10;    {&#10;        BOOLEAN BitField;&#10;...">PEB</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows/win32/api/winternl/ns-winternl-rtl_user_process_parameters">View the official Win32 API reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/sdk-api/blob/docs/sdk-api-src/content/winternl/ns-winternl-rtl_user_process_parameters.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>NTinternals.net (undocumented.ntinternals.net)</h1>
</div>
<div class="ntdoc-description">
<p>This structure is <a rel="noopener" target="_blank" href="https://learn.microsoft.com/en-us/windows/win32/api/winternl/ns-winternl-rtl_user_process_parameters">documented in Windows SDK</a>.</p>
<hr />
<h3>MaximumLength</h3>
<p>Should be set before call <code><a href="rtlcreateprocessparameters" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlCreateProcessParameters(&#10;    _Out_ PRTL_USER_PROCESS_PARAMETERS *ProcessParameters,&#10;    _In_ PCUNICODE_STRING ImagePathName,&#10;    _In_opt_ PCUNICODE_STRING DllPath,&#10;    _In_opt_ PCUNICODE_STRING CurrentDirectory,&#10;    _In_opt_ PCUNICODE_STRING CommandLine,&#10;    _In_opt_ PVOID Environment,&#10;    _In_opt_ PCUNICODE_STRING WindowTitle,&#10;    _In_opt_ PCUNICODE_STRING DesktopInfo,&#10;    _In_opt_ PCUNICODE_STRING ShellInfo,&#10;    _In_opt_ PCUNICODE_STRING RuntimeData&#10;    );">RtlCreateProcessParameters</a></code>.</p>
<h3>Length</h3>
<p>Length of valid structure.</p>
<h3>Flags</h3>
<p>Currently only one flag is known:</p>
<pre><code>PPF_NORMALIZED  (1)     // Means that structure is normalized by call <a href="rtlnormalizeprocessparams" title="NTSYSAPI&#10;PRTL_USER_PROCESS_PARAMETERS&#10;NTAPI&#10;RtlNormalizeProcessParams(&#10;    _Inout_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters&#10;    );">RtlNormalizeProcessParams</a>
</code></pre>
<h3>DebugFlags</h3>
<h3>ConsoleHandle</h3>
<p><code>HWND</code> to console window associated with process (if any).</p>
<h3>ConsoleFlags</h3>
<h3>StdInputHandle</h3>
<h3>StdOutputHandle</h3>
<h3>StdErrorHandle</h3>
<h3>CurrentDirectoryPath</h3>
<p>Specified in DOS-like symbolic link path, ex: <strong>&quot;C:\WinNT\SYSTEM32&quot;</strong></p>
<h3>CurrentDirectoryHandle</h3>
<p>Handle to <code>FILE</code> object.</p>
<h3>DllPath</h3>
<p>DOS-like paths separated by <strong>';'</strong> where system should search for DLL files.</p>
<h3>ImagePathName</h3>
<p>Full path in DOS-like format to process'es file image.</p>
<h3>CommandLine</h3>
<p>Command line.</p>
<h3>Environment</h3>
<p>Pointer to environment block (see <code><a href="rtlcreateenvironment" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlCreateEnvironment(&#10;    _In_ BOOLEAN CloneCurrentEnvironment,&#10;    _Out_ PVOID *Environment&#10;    );">RtlCreateEnvironment</a></code>).</p>
<h3>StartingPositionLeft</h3>
<h3>StartingPositionTop</h3>
<h3>Width</h3>
<h3>Height</h3>
<h3>CharWidth</h3>
<h3>CharHeight</h3>
<h3>ConsoleTextAttributes</h3>
<h3>WindowFlags</h3>
<h3>ShowWindowFlags</h3>
<h3>WindowTitle</h3>
<h3>DesktopName</h3>
<p>Name of <em>WindowStation</em> and <em>Desktop</em> objects, where process is assigned.</p>
<h3>ShellInfo</h3>
<h3>RuntimeData</h3>
<h3>DLCurrentDirectory[0x20]</h3>
<p>???</p>
<hr />
<p><code>RTL_USER_PROCESS_PARAMETERS</code> is located at address <em>0x20000</em> (for all processes created by call <em>WIN32 API</em> <code>CreateProcess</code>).</p>
<h1>Documented by</h1>
<ul>
<li>ReactOS</li>
<li>Tomasz Nowak</li>
</ul>
<h1>See also</h1>
<ul>
<li><code><a href="peb" title="typedef struct _PEB&#10;{&#10;    //&#10;    // The process was cloned with an inherited address space.&#10;    //&#10;    BOOLEAN InheritedAddressSpace;&#10;&#10;    //&#10;    // The process has image file execution options (IFEO).&#10;    //&#10;    BOOLEAN ReadImageFileExecOptions;&#10;&#10;    //&#10;    // The process has a debugger attached.&#10;    //&#10;    BOOLEAN BeingDebugged;&#10;&#10;    union&#10;    {&#10;        BOOLEAN BitField;&#10;...">PEB</a></code></li>
<li><code><a href="rtl_drive_letter_curdir" title="typedef struct _RTL_DRIVE_LETTER_CURDIR&#10;{&#10;    USHORT Flags;&#10;    USHORT Length;&#10;    ULONG TimeStamp;&#10;    STRING DosPath;&#10;} RTL_DRIVE_LETTER_CURDIR, *PRTL_DRIVE_LETTER_CURDIR;">RTL_DRIVE_LETTER_CURDIR</a></code></li>
<li><code><a href="rtlcreateenvironment" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlCreateEnvironment(&#10;    _In_ BOOLEAN CloneCurrentEnvironment,&#10;    _Out_ PVOID *Environment&#10;    );">RtlCreateEnvironment</a></code></li>
<li><code><a href="rtlcreateprocessparameters" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlCreateProcessParameters(&#10;    _Out_ PRTL_USER_PROCESS_PARAMETERS *ProcessParameters,&#10;    _In_ PCUNICODE_STRING ImagePathName,&#10;    _In_opt_ PCUNICODE_STRING DllPath,&#10;    _In_opt_ PCUNICODE_STRING CurrentDirectory,&#10;    _In_opt_ PCUNICODE_STRING CommandLine,&#10;    _In_opt_ PVOID Environment,&#10;    _In_opt_ PCUNICODE_STRING WindowTitle,&#10;    _In_opt_ PCUNICODE_STRING DesktopInfo,&#10;    _In_opt_ PCUNICODE_STRING ShellInfo,&#10;    _In_opt_ PCUNICODE_STRING RuntimeData&#10;    );">RtlCreateProcessParameters</a></code></li>
<li><code><a href="rtlcreateuserprocess" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlCreateUserProcess(&#10;    _In_ PCUNICODE_STRING NtImagePathName,&#10;    _In_ ULONG ExtendedParameters, // HIWORD(NumaNodeNumber), LOWORD(Reserved)&#10;    _In_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters,&#10;    _In_opt_ PSECURITY_DESCRIPTOR ProcessSecurityDescriptor,&#10;    _In_opt_ PSECURITY_DESCRIPTOR ThreadSecurityDescriptor,&#10;    _In_opt_ HANDLE ParentProcess,&#10;    _In_ BOOLEAN InheritHandles,&#10;    _In_opt_ HANDLE DebugPort,&#10;    _In_opt_ HANDLE TokenHandle, // used to be ExceptionPort&#10;    _Out_ PRTL_USER_PROCESS_INFORMATION ProcessInformation&#10;    );">RtlCreateUserProcess</a></code></li>
<li><code><a href="rtldenormalizeprocessparams" title="NTSYSAPI&#10;PRTL_USER_PROCESS_PARAMETERS&#10;NTAPI&#10;RtlDeNormalizeProcessParams(&#10;    _Inout_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters&#10;    );">RtlDeNormalizeProcessParams</a></code></li>
<li><code><a href="rtldestroyprocessparameters" title="NTSYSAPI&#10;NTSTATUS&#10;NTAPI&#10;RtlDestroyProcessParameters(&#10;    _In_ _Post_invalid_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters&#10;    );">RtlDestroyProcessParameters</a></code></li>
<li><code><a href="rtlnormalizeprocessparams" title="NTSYSAPI&#10;PRTL_USER_PROCESS_PARAMETERS&#10;NTAPI&#10;RtlNormalizeProcessParams(&#10;    _Inout_ PRTL_USER_PROCESS_PARAMETERS ProcessParameters&#10;    );">RtlNormalizeProcessParams</a></code></li>
</ul>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/undocumented.ntinternals.net/rtl_user_process_parameters.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script src="modules/highlight.js/highlight.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
