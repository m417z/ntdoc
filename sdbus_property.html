<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="SDBUS_PROPERTY - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>SDBUS_PROPERTY - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            SDBUS_PROPERTY - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddsd.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef enum {
  SDP_MEDIA_CHANGECOUNT,
  SDP_MEDIA_STATE,
  SDP_WRITE_PROTECTED,
  SDP_FUNCTION_NUMBER,
  SDP_FUNCTION_TYPE,
  SDP_BUS_DRIVER_VERSION,
  SDP_BUS_WIDTH,
  SDP_BUS_CLOCK,
  SDP_BUS_INTERFACE_CONTROL,
  SDP_HOST_BLOCK_LENGTH,
  SDP_FUNCTION_BLOCK_LENGTH,
  SDP_FN0_BLOCK_LENGTH,
  SDP_FUNCTION_INT_ENABLE,
  SDP_SET_CARD_INTERRUPT_FORWARD,
  SDP_SET_WAKE_INTERRUPT_FORWARD,
  SDP_HIGH_CAPACITY_SUPPORTED,
  SDP_CHAINED_MDL_SUPPORTED,
  SDP_HPI_SUPPORTED
} SDBUS_PROPERTY;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddsd/ne-ntddsd-sdbus_property">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/sdbus_property.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ne-ntddsd-sdbus_property)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>SDBUS_PROPERTY enumeration</h1>
<h2>Description</h2>
<p>The SDBUS_PROPERTY enumeration lists the properties of a Secure Digital (SD) card that an SD device driver can set with an SD request.</p>
<h2>Constants</h2>
<h3><code>SDP_MEDIA_CHANGECOUNT</code></h3>
<p>Indicates that the operation applies to the media change count property. This property includes 4 bytes of data (<a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>) that describe SD storage functions. This property is read-only.</p>
<h3><code>SDP_MEDIA_STATE</code></h3>
<p>Indicates that the operation applies to the media state property. Provided for compatibility with SD storage-only host controllers. Valid only for SD storage functions. For a list of valid media states, see <a href="sdprop_media_state" title="typedef enum {&#10;  SDPMS_NO_MEDIA,&#10;  SDPMS_MEDIA_INSERTED&#10;} SDPROP_MEDIA_STATE;">SDPROP_MEDIA_STATE</a>. This property is read-only.</p>
<h3><code>SDP_WRITE_PROTECTED</code></h3>
<p>Indicates that the operation applies to the write-protected property and the state of the WriteProtect switch on the SD card. This property is read-only.</p>
<h3><code>SDP_FUNCTION_NUMBER</code></h3>
<p>Indicates that the operation applies to the function number property. This property is read-only.</p>
<h3><code>SDP_FUNCTION_TYPE</code></h3>
<p>v2.0 SDBUS_FUNCTION_TYPE</p>
<h3><code>SDP_BUS_DRIVER_VERSION</code></h3>
<p>Indicates that the operation applies to the driver version property. This property is read-only. This property is only supported in version 2.0 or later of the driver.</p>
<h3><code>SDP_BUS_WIDTH</code></h3>
<p>Indicates that the operation applies to the bus width property. The value of this property is either 1 or 4. This property is only supported in version 2.0 or later of the driver.</p>
<h3><code>SDP_BUS_CLOCK</code></h3>
<p>Indicates that the operation applies to the bus clock speed property. The value of this property is in KHz. This property is only supported in version 2.0 or later of the driver.</p>
<h3><code>SDP_BUS_INTERFACE_CONTROL</code></h3>
<p>Indicates that the operation applies to the SDIO bus interface control property.This property is corresponding to CCCR[7], which is defined in the <em>Secure Digital I/O (SDIO) Card Specification</em>. For setting bus width, SDP_BUS_WIDTH should be used to synchronize the memory function of a combination card. This property is only supported in version 2.0 or later of the driver.</p>
<h3><code>SDP_HOST_BLOCK_LENGTH</code></h3>
<p>Indicates that the operation applies to the host block length property, which is the maximum block length that is supported by the controller. This property is read-only. This property is only supported in version 2.0 or later of the driver.</p>
<h3><code>SDP_FUNCTION_BLOCK_LENGTH</code></h3>
<p>Indicates that the operation applies to the SDIO function block length property. This property is only supported in version 2.0 or later of the driver.</p>
<h3><code>SDP_FN0_BLOCK_LENGTH</code></h3>
<p>Indicates that the operation applies to the SDIO function zero block length property. This property is shared by all functions of the SDIO card. This property is only supported in version 2.0 or later of the driver.</p>
<h3><code>SDP_FUNCTION_INT_ENABLE</code></h3>
<p>Indicates that the operation applies to the SDIO function interrupt enable property. It is a Boolean-type property and only applies to the current function. This property is only supported in version 2.0 or later of the driver.</p>
<h3><code>SDP_SET_CARD_INTERRUPT_FORWARD</code></h3>
<h3><code>SDP_SET_WAKE_INTERRUPT_FORWARD</code></h3>
<h3><code>SDP_HIGH_CAPACITY_SUPPORTED</code></h3>
<h3><code>SDP_CHAINED_MDL_SUPPORTED</code></h3>
<h3><code>SDP_HPI_SUPPORTED</code></h3>
<h2>Remarks</h2>
<p>To read or set a property on an SD device, a device driver must do the following:</p>
<ol>
<li>Set the <strong>RequestFunction</strong> member of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/drivers/ff537931(v=vs.85)">SDBUS_REQUEST_PACKET</a> to an <a href="sd_request_function" title="typedef enum {&#10;  SDRF_GET_PROPERTY,&#10;  SDRF_SET_PROPERTY,&#10;  SDRF_DEVICE_COMMAND,&#10;  SDRF_ERASE_COMMAND,&#10;  SDRF_MMC_SOFT_RESET,&#10;  SDRF_MMC_HPI&#10;} SD_REQUEST_FUNCTION;">SD_REQUEST_FUNCTION</a> enumeration value of either SDRF_GET_PROPERTY or SDRF_SET_PROPERTY.</li>
<li>Set the <strong>Property</strong> member of <a href="sdbus_request_packet" title="typedef struct _SDBUS_REQUEST_PACKET {&#10;  SD_REQUEST_FUNCTION RequestFunction;&#10;  PVOID               UserContext[3];&#10;  ULONG_PTR           Information;&#10;  union {&#10;    UCHAR        AsUCHAR[16];&#10;    ULONG        AsULONG[4];&#10;    SDRESP_TYPE3 Type3;&#10;  } ResponseData;&#10;  UCHAR               ResponseLength;&#10;  UCHAR               Reserved;&#10;  USHORT              Flags;&#10;  union {&#10;    struct {&#10;      SDBUS_PROPERTY Property;&#10;      PVOID          Buffer;&#10;      ULONG          Length;&#10;    } GetSetProperty;&#10;    struct {&#10;      SDCMD_DESCRIPTOR CmdDesc;&#10;...">SDBUS_REQUEST_PACKET</a> to the SDBUS_PROPERTY enumeration value that specifies the property to read or change.</li>
<li>Send the request to the bus driver by passing the initialized <a href="sdbus_request_packet" title="typedef struct _SDBUS_REQUEST_PACKET {&#10;  SD_REQUEST_FUNCTION RequestFunction;&#10;  PVOID               UserContext[3];&#10;  ULONG_PTR           Information;&#10;  union {&#10;    UCHAR        AsUCHAR[16];&#10;    ULONG        AsULONG[4];&#10;    SDRESP_TYPE3 Type3;&#10;  } ResponseData;&#10;  UCHAR               ResponseLength;&#10;  UCHAR               Reserved;&#10;  USHORT              Flags;&#10;  union {&#10;    struct {&#10;      SDBUS_PROPERTY Property;&#10;      PVOID          Buffer;&#10;      ULONG          Length;&#10;    } GetSetProperty;&#10;    struct {&#10;      SDCMD_DESCRIPTOR CmdDesc;&#10;...">SDBUS_REQUEST_PACKET</a> structure to either <a href="sdbussubmitrequest" title="NTSTATUS SdBusSubmitRequest(&#10;  [in] PVOID                 InterfaceContext,&#10;       PSDBUS_REQUEST_PACKET Packet&#10;);">SdBusSubmitRequest</a> or <a href="sdbussubmitrequestasync" title="NTSTATUS SdBusSubmitRequestAsync(&#10;  [in] PVOID                  InterfaceContext,&#10;  [in] PSDBUS_REQUEST_PACKET  Packet,&#10;  [in] PIRP                   Irp,&#10;  [in] PIO_COMPLETION_ROUTINE CompletionRoutine,&#10;  [in] PVOID                  UserContext&#10;);">SdBusSubmitRequestAsync</a>.</li>
</ol>
<h2>See also</h2>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/previous-versions/windows/hardware/drivers/ff537931(v=vs.85)">SDBUS_REQUEST_PACKET</a></p>
<p><a href="sd_request_function" title="typedef enum {&#10;  SDRF_GET_PROPERTY,&#10;  SDRF_SET_PROPERTY,&#10;  SDRF_DEVICE_COMMAND,&#10;  SDRF_ERASE_COMMAND,&#10;  SDRF_MMC_SOFT_RESET,&#10;  SDRF_MMC_HPI&#10;} SD_REQUEST_FUNCTION;">SD_REQUEST_FUNCTION</a></p>
<p><a href="sdbussubmitrequest" title="NTSTATUS SdBusSubmitRequest(&#10;  [in] PVOID                 InterfaceContext,&#10;       PSDBUS_REQUEST_PACKET Packet&#10;);">SdBusSubmitRequest</a></p>
<p><a href="sdbussubmitrequestasync" title="NTSTATUS SdBusSubmitRequestAsync(&#10;  [in] PVOID                  InterfaceContext,&#10;  [in] PSDBUS_REQUEST_PACKET  Packet,&#10;  [in] PIRP                   Irp,&#10;  [in] PIO_COMPLETION_ROUTINE CompletionRoutine,&#10;  [in] PVOID                  UserContext&#10;);">SdBusSubmitRequestAsync</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddsd/ne-ntddsd-sdbus_property">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddsd/ne-ntddsd-sdbus_property.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
