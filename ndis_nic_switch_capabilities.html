<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_NIC_SWITCH_CAPABILITIES - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_NIC_SWITCH_CAPABILITIES - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_NIC_SWITCH_CAPABILITIES - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NDIS_NIC_SWITCH_CAPABILITIES {
  <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> Header;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              Flags;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved1;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NumTotalMacAddresses;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NumMacAddressesPerPort;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NumVlansPerPort;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved2;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved3;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NicSwitchCapabilities;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxNumSwitches;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxNumVPorts;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved4;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxNumVFs;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxNumQueuePairs;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved5;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved6;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved7;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxNumQueuePairsPerNonDefaultVPort;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved8;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved9;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved10;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved11;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved12;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxNumMacAddresses;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved13;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved14;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved15;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved16;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NdisReserved17;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxNumRssCapableNonDefaultPFVPorts;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NumberOfIndirectionTableEntriesForDefaultVPort;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              NumberOfIndirectionTableEntriesPerNonDefaultPFVPort;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>              MaxNumQueuePairsForDefaultVPort;
} NDIS_NIC_SWITCH_CAPABILITIES, *PNDIS_NIC_SWITCH_CAPABILITIES;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_nic_switch_capabilities">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_nic_switch_capabilities.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddndis-_ndis_nic_switch_capabilities)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1 id="_ndis_nic_switch_capabilities-structure">_NDIS_NIC_SWITCH_CAPABILITIES structure</h1>

<h2 id="description">Description</h2>

<p>The <strong>NDIS_NIC_SWITCH_CAPABILITIES</strong> structure specifies the capabilities of a NIC switch on the network adapter.</p>

<h2 id="members">Members</h2>

<h3 id="header"><code>Header</code></h3>

<p>The type, revision, and size of the <strong>NDIS_NIC_SWITCH_CAPABILITIES</strong> structure. This member is formatted as an <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/objectheader/ns-objectheader-ndis_object_header">NDIS<em>OBJECT</em>HEADER</a> structure.</p>

<p>The miniport driver must set the <strong>Type</strong> member of <strong>Header</strong> to NDIS_OBJECT_TYPE_DEFAULT. To specify the version of the <strong>NDIS_NIC_SWITCH_CAPABILITIES</strong> structure, the driver must set the <strong>Revision</strong> member of <strong>Header</strong> to one of the following values:</p>

<h4 id="ndis_nic_switch_capabilities_revision_3">NDIS_NIC_SWITCH_CAPABILITIES_REVISION_3</h4>

<p>Added the RSS interface members for NDIS 6.60.</p>

<p><strong>Note</strong> Revision 3 of this structure is supported only on Windows Server 2016 and later versions of Windows Server.</p>

<p>Set the <strong>Size</strong> member to NDIS_SIZEOF_NIC_SWITCH_CAPABILITIES_REVISION_3.</p>

<h4 id="ndis_nic_switch_capabilities_revision_2">NDIS_NIC_SWITCH_CAPABILITIES_REVISION_2</h4>

<p>Added the single root I/O virtualization (SR-IOV) interface members for NDIS 6.30.</p>

<p><strong>Note</strong> Revision 2 of this structure is supported only on Windows Server 2012 and later versions of Windows Server.</p>

<p>Set the <strong>Size</strong> member to NDIS_SIZEOF_NIC_SWITCH_CAPABILITIES_REVISION_2.</p>

<h4 id="ndis_nic_switch_capabilities_revision_1">NDIS_NIC_SWITCH_CAPABILITIES_REVISION_1</h4>

<p>Original version for NDIS 6.20.</p>

<p>Set the <strong>Size</strong> member to NDIS_SIZEOF_NIC_SWITCH_CAPABILITIES_REVISION_1.</p>

<h3 id="flags"><code>Flags</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that contains a bitwise OR of flags. This member is reserved for NDIS.</p>

<h3 id="ndisreserved1"><code>NdisReserved1</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="numtotalmacaddresses"><code>NumTotalMacAddresses</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that contains the total number of media access control (MAC) addresses that the network adapter supports.</p>

<p><strong>Note</strong> Drivers must set this member to zero for revision 2 and later revisions of this structure.</p>

<h3 id="nummacaddressesperport"><code>NumMacAddressesPerPort</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that contains the number of MAC addresses that are supported for each port.</p>

<p><strong>Note</strong> Drivers must set this member to zero for revision 2 and later revisions of this structure.</p>

<h3 id="numvlansperport"><code>NumVlansPerPort</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that contains the number of VLANs that are supported for each port.</p>

<p><strong>Note</strong> Drivers must set this member to zero for revision 2 and later revisions of this structure.</p>

<h3 id="ndisreserved2"><code>NdisReserved2</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved3"><code>NdisReserved3</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="nicswitchcapabilities"><code>NicSwitchCapabilities</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that contains a bitwise OR of the following flags that specify the capabilities of the NIC switch:</p>

<h4 id="ndis_nic_switch_caps_rss_on_pf_vports_supported">NDIS_NIC_SWITCH_CAPS_RSS_ON_PF_VPORTS_SUPPORTED</h4>

<p><strong>Note</strong> This flag is supported in Windows Server 2016 and later. It was introduced in NDIS 6.60.</p>

<p>Specifies that the NIC supports VMMQ for PF VPorts.</p>

<h4 id="ndis_nic_switch_caps_rss_per_pf_vport_indirection_table_supported">NDIS_NIC_SWITCH_CAPS_RSS_PER_PF_VPORT_INDIRECTION_TABLE_SUPPORTED</h4>

<p><strong>Note</strong> This flag is supported in Windows Server 2016 and later. It was introduced in NDIS 6.60.</p>

<p>If set to <strong>1</strong>, specifies that the NIC is able to maintain per-PF VPort indirection tables.</p>

<h4 id="ndis_nic_switch_caps_rss_per_pf_vport_hash_function_supported">NDIS_NIC_SWITCH_CAPS_RSS_PER_PF_VPORT_HASH_FUNCTION_SUPPORTED</h4>

<p><strong>Note</strong> This flag is supported in Windows Server 2016 and later. It was introduced in NDIS 6.60.</p>

<p>If set to <strong>1</strong>, specifies that the NIC supports setting a different hash function per PF VPort. If this flag is set, <strong>NDIS_NIC_SWITCH_CAPS_RSS_PER_PF_VPORT_HASH_KEY_SUPPORTED</strong> must be set as well.</p>

<h4 id="ndis_nic_switch_caps_rss_per_pf_vport_hash_type_supported">NDIS_NIC_SWITCH_CAPS_RSS_PER_PF_VPORT_HASH_TYPE_SUPPORTED</h4>

<p><strong>Note</strong> This flag is supported in Windows Server 2016 and later. It was introduced in NDIS 6.60.</p>

<p>If set to <strong>1</strong>, specifies that the NIC supports setting different hash types per PF VPort.</p>

<h4 id="ndis_nic_switch_caps_rss_per_pf_vport_hash_key_supported">NDIS_NIC_SWITCH_CAPS_RSS_PER_PF_VPORT_HASH_KEY_SUPPORTED</h4>

<p><strong>Note</strong> This flag is supported in Windows Server 2016 and later. It was introduced in NDIS 6.60.</p>

<p>If set to <strong>1</strong>, specifies that the NIC supports setting a different hash secret key per PF VPort. This flag must be set if <strong>NDIS_NIC_SWITCH_CAPS_RSS_PER_PF_VPORT_HASH_FUNCTION_SUPPORTED</strong> is set.</p>

<h4 id="ndis_nic_switch_caps_rss_per_pf_vport_indirection_table_size_restricted">NDIS_NIC_SWITCH_CAPS_RSS_PER_PF_VPORT_INDIRECTION_TABLE_SIZE_RESTRICTED</h4>

<p><strong>Note</strong> This flag is supported in Windows Server 2016 and later. It was introduced in NDIS 6.60.</p>

<p>If set to <strong>1</strong>, specifies that the NIC has a limitation on indirection table size for PF VPorts. This flag forces the issuer of an RSS OID to use a per-PF VPort indirection table size equal to the number of VPort queues rounded up to the next power of two. This only applies to PF VPorts and does not apply to VF VPorts. This flag can be combined with the <strong>NDIS_NIC_SWITCH_CAPS_ASYMMETRIC_QUEUE_PAIRS_FOR_NONDEFAULT_VPORT_SUPPORTED</strong> flag (different PF VPorts can have different numbers of queues). This flag prevents VMMQ users from performing fine-grained queue steering.</p>

<h4 id="ndis_nic_switch_caps_nic_switch_without_iov_supported">NDIS_NIC_SWITCH_CAPS_NIC_SWITCH_WITHOUT_IOV_SUPPORTED</h4>

<p><strong>Note</strong> This flag is supported in Windows Server 2016 and later.</p>

<p>This flag, introduced with NDIS 6.60, specifies that a NIC switch can be created without the use of SR-IOV. This flag allows for separating a NIC switch from the *SRIOV keyword, meaning that a NIC switch can be created via <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-create-switch">OID_NIC_SWITCH_CREATE_SWITCH</a> even if *SRIOV = 0.</p>

<p>For more information about reporting NIC switch capabilities for NDIS 6.60 and later miniport drivers, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/determining-nic-switch-capabilities">Determining NIC Switch Capabilities</a>.</p>

<h4 id="ndis_nic_switch_caps_vlan_supported">NDIS_NIC_SWITCH_CAPS_VLAN_SUPPORTED</h4>

<p>This flag specifies that the NIC switch supports hardware packet filtering based on the virtual local area network (VLAN) identifier (ID).</p>

<p><strong>Note</strong> This flag should be set only if the NIC switch supports VLAN ID filtering on individual SR-IOV virtual ports (VPorts).</p>

<h4 id="ndis_nic_switch_caps_per_vport_interrupt_moderation_supported">NDIS_NIC_SWITCH_CAPS_PER_VPORT_INTERRUPT_MODERATION_SUPPORTED</h4>

<p>This flag specifies that the NIC switch can support interrupt moderation configuration on individual VPorts.</p>

<h4 id="ndis_nic_switch_caps_asymmetric_queue_pairs_for_nondefault_vport_supported">NDIS_NIC_SWITCH_CAPS_ASYMMETRIC_QUEUE_PAIRS_FOR_NONDEFAULT_VPORT_SUPPORTED</h4>

<p>This flag specifies that the NIC switch can configure a different number of queue pairs for each nondefault VPort. This means that each nondefault VPort can be configured asymmetrically to have a different number of queue pairs.</p>

<p>If this flag is not set, all nondefault VPorts must be configured symmetrically to have the same number of queue pairs.</p>

<p>Regardless of whether this flag is set, the NIC switch must support the ability to set the number of queue pairs on the default VPort. These may differ from the number of queue-pairs that are set on the nondefault VPorts.</p>

<p><strong>Note</strong> A queue pair consists of a transmit queue and receive queue. Queue pairs associated with the default VPort are configured at the time of switch creation through an OID method request of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-create-switch">OID_NIC_SWITCH_CREATE_SWITCH</a>.
One or more queue pairs are configured on a nondefault VPort through an OID method request of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-create-vport">OID_NIC_SWITCH_CREATE_VPORT</a>.</p>

<p>For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/symmetric-and-asymmetric-assignment-of-queue-pairs">Symmetric and Asymmetric Assignment of Queue Pairs</a>.</p>

<h4 id="ndis_nic_switch_caps_vf_rss_supported">NDIS_NIC_SWITCH_CAPS_VF_RSS_SUPPORTED</h4>

<p>This flag specifies that queue pairs from nondefault VPorts that are attached to a PCI Express (PCIe) Virtual Function (VF) can be used for receive side scaling (RSS). The VF miniport driver runs in the guest operating system of a Hyper-V child partition.</p>

<p>If this flag is set, the miniport driver supports RSS on a VF and can use one or more of the queue pairs from the nondefault VPort for RSS.</p>

<p><strong>Note</strong> Starting with Windows Server 2012, only one nondefault VPort can be attached to a VF.</p>

<h4 id="ndis_nic_switch_caps_single_vport_pool">NDIS_NIC_SWITCH_CAPS_SINGLE_VPORT_POOL</h4>

<p>This flag specifies that the nondefault VPorts can be created in a non-reserved manner from the VPort pool on the network adapter. This allows available nondefault VPorts to be created and assigned on an as-needed basis to the PF and allocated VFs. If the network adapter supports the virtual machine queue (VMQ) interface, nondefault VPorts that are assigned to the PF can also be used for VM receive queues.</p>

<p><strong>Note</strong> The default VPort is always reserved for assignment to the PF.</p>

<p>If this flag is set, available nondefault VPorts are created and assigned to the PF and allocated VFs. However, this mechanism does not reserve nondefault VPorts for VF creation and assignment. As a result, situations may occur where a VF may not be assigned a VPort if the pool has been exhausted of available VPorts.</p>

<p><strong>Note</strong> If a VF cannot be assigned a VPort, packet traffic over the VF occurs over the SR-IOV synthetic data path. For more information about this data path, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/sr-iov-data-paths">SR-IOV Data Paths</a>.</p>

<p>If this flag is not set, the creation and assignment of nondefault VPorts is reserved for VF assignment. Additional nondefault VPorts can be created and assigned to the PF.</p>

<p>For more information about VMQ, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/virtual-machine-queue-architecture">Virtual Machine Queue (VMQ)</a>.</p>

<p>For more information about VPorts, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/managing-virtual-ports">Managing Virtual Ports</a>.</p>

<h3 id="maxnumswitches"><code>MaxNumSwitches</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the maximum number of switches that can be created on the network adapter's PCI Express (PCIe) Physical Function (PF).</p>

<p><strong>Note</strong> Starting with Windows Server 2012, Windows only supports the default NIC switch on the network adapter. Therefore, this member must always be set to one.</p>

<h3 id="maxnumvports"><code>MaxNumVPorts</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the maximum number of VPorts that can be created on a network adapter. This includes the default VPort that is always attached to the PF.</p>

<p><strong>Note</strong> The NIC switch must support at least (<strong>MaxNumVFs</strong> + 1) VPorts.</p>

<h3 id="ndisreserved4"><code>NdisReserved4</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="maxnumvfs"><code>MaxNumVFs</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the maximum number of VFs that can be created on the NIC switch.</p>

<p><strong>Note</strong> Depending on the available hardware resources on the network adapter, the miniport driver can set the <strong>MaxNumVFs</strong> member to a value that is less than its *<strong>NumVFs</strong>
keyword. For more information about this keyword, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/standardized-inf-keywords-for-sr-iov">Standardized INF Keywords for SR-IOV</a>.</p>

<h3 id="maxnumqueuepairs"><code>MaxNumQueuePairs</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the maximum number of queue pairs that can be assigned to all VPorts. This includes the default VPort that is attached to the PF.</p>

<p><strong>Note</strong> This value must be greater than or equal to the value of <strong>MaxNumVPorts</strong>.</p>

<h3 id="ndisreserved5"><code>NdisReserved5</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved6"><code>NdisReserved6</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved7"><code>NdisReserved7</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="maxnumqueuepairspernondefaultvport"><code>MaxNumQueuePairsPerNonDefaultVPort</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the maximum number of queue pairs that can be assigned to a nondefault VPort.</p>

<p>This value is specified in powers of 2, and provides for asymmetric configuration and assignment of queue pairs to VPorts. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/symmetric-and-asymmetric-assignment-of-queue-pairs">Symmetric and Asymmetric Assignment of Queue Pairs</a>.</p>

<h3 id="ndisreserved8"><code>NdisReserved8</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved9"><code>NdisReserved9</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved10"><code>NdisReserved10</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved11"><code>NdisReserved11</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved12"><code>NdisReserved12</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="maxnummacaddresses"><code>MaxNumMacAddresses</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the maximum number of unicast MAC address filters that are available on the NIC switch.</p>

<p><strong>Note</strong> This value must be greater than or equal to the value of <strong>MaxNumVPorts</strong>. This enables each VPort (including the default VPort) to be configured to have at least one unicast MAC address filter.</p>

<h3 id="ndisreserved13"><code>NdisReserved13</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved14"><code>NdisReserved14</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved15"><code>NdisReserved15</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved16"><code>NdisReserved16</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="ndisreserved17"><code>NdisReserved17</code></h3>

<p>Reserved for NDIS.</p>

<h3 id="maxnumrsscapablenondefaultpfvports"><code>MaxNumRssCapableNonDefaultPFVPorts</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the maximum number of RSS-capable non-default PFVPorts.</p>

<h3 id="numberofindirectiontableentriesfordefaultvport"><code>NumberOfIndirectionTableEntriesForDefaultVPort</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the number of indirection table entries for the default VPort.</p>

<h3 id="numberofindirectiontableentriespernondefaultpfvport"><code>NumberOfIndirectionTableEntriesPerNonDefaultPFVPort</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the number of indirection table entries for each non-default PFVPort.</p>

<h3 id="maxnumqueuepairsfordefaultvport"><code>MaxNumQueuePairsForDefaultVPort</code></h3>

<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the maximum number of queue pairs that can be assigned to the default VPort.</p>

<p>This value is specified in powers of 2, and provides for asymmetric configuration and assignment of queue pairs to VPorts. For more information, see <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/symmetric-and-asymmetric-assignment-of-queue-pairs">Symmetric and Asymmetric Assignment of Queue Pairs</a>.</p>

<h2 id="remarks">Remarks</h2>

<p>The <strong>NDIS_NIC_SWITCH_CAPABILITIES</strong> structure is used in the
members of the following structures:</p>

<ul>
<li>The <strong>HardwareNicSwitchCapabilities</strong> and
<strong>CurrentNicSwitchCapabilities</strong> members of the
<a href="ndis_miniport_adapter_hardware_assist_attributes" title="typedef struct _NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_HD_SPLIT_ATTRIBUTES         HDSplitAttributes;&#10;  PNDIS_RECEIVE_FILTER_CAPABILITIES HardwareReceiveFilterCapabilities;&#10;  PNDIS_RECEIVE_FILTER_CAPABILITIES CurrentReceiveFilterCapabilities;&#10;  PNDIS_NIC_SWITCH_CAPABILITIES     HardwareNicSwitchCapabilities;&#10;  PNDIS_NIC_SWITCH_CAPABILITIES     CurrentNicSwitchCapabilities;&#10;  PNDIS_SRIOV_CAPABILITIES          HardwareSriovCapabilities;&#10;  PNDIS_SRIOV_CAPABILITIES          CurrentSriovCapabilities;&#10;  PNDIS_QOS_CAPABILITIES            HardwareQosCapabilities;&#10;  PNDIS_QOS_CAPABILITIES            CurrentQosCapabilities;&#10;  PNDIS_GFT_OFFLOAD_CAPABILITIES    HardwareGftOffloadCapabilities;&#10;  PNDIS_GFT_OFFLOAD_CAPABILITIES    CurrentGftOffloadCapabilities;&#10;} NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES, *PNDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES;">NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES</a> structure.</li>
<li>The
<strong>NicSwitchCapabilities</strong> member of the
<a href="ndis_filter_attach_parameters" title="typedef struct _NDIS_FILTER_ATTACH_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  NET_IFINDEX                       IfIndex;&#10;  NET_LUID                          NetLuid;&#10;  PNDIS_STRING                      FilterModuleGuidName;&#10;  NET_IFINDEX                       BaseMiniportIfIndex;&#10;  PNDIS_STRING                      BaseMiniportInstanceName;&#10;  PNDIS_STRING                      BaseMiniportName;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NET_IF_MEDIA_DUPLEX_STATE         MediaDuplexState;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIUM                       MiniportMediaType;&#10;  NDIS_PHYSICAL_MEDIUM              MiniportPhysicalMediaType;&#10;  NDIS_HANDLE                       MiniportMediaSpecificAttributes;&#10;  PNDIS_OFFLOAD                     DefaultOffloadConfiguration;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NET_LUID                          BaseMiniportNetLuid;&#10;  NET_IFINDEX                       LowerIfIndex;&#10;...">NDIS_FILTER_ATTACH_PARAMETERS</a> and
<a href="ndis_bind_parameters" title="typedef struct _NDIS_BIND_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_STRING                      ProtocolSection;&#10;  PNDIS_STRING                      AdapterName;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  NDIS_MEDIUM                       MediaType;&#10;  ULONG                             MtuSize;&#10;  ULONG64                           MaxXmitLinkSpeed;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           MaxRcvLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NDIS_MEDIA_DUPLEX_STATE           MediaDuplexState;&#10;  ULONG                             LookaheadSize;&#10;  PNDIS_PNP_CAPABILITIES            PowerManagementCapabilities;&#10;  ULONG                             SupportedPacketFilters;&#10;  ULONG                             MaxMulticastListSize;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NDIS_PHYSICAL_MEDIUM              PhysicalMediumType;&#10;...">NDIS_BIND_PARAMETERS</a> structures.</li>
</ul>

<p>OID query requests of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-current-capabilities">OID_NIC_SWITCH_CURRENT_CAPABILITIES</a> and
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-hardware-capabilities">OID_NIC_SWITCH_HARDWARE_CAPABILITIES</a> return an <strong>NDIS_NIC_SWITCH_CAPABILITIES</strong> structure.</p>

<h2 id="see-also">See also</h2>

<p><a href="ndis_bind_parameters" title="typedef struct _NDIS_BIND_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_STRING                      ProtocolSection;&#10;  PNDIS_STRING                      AdapterName;&#10;  PDEVICE_OBJECT                    PhysicalDeviceObject;&#10;  NDIS_MEDIUM                       MediaType;&#10;  ULONG                             MtuSize;&#10;  ULONG64                           MaxXmitLinkSpeed;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           MaxRcvLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NDIS_MEDIA_DUPLEX_STATE           MediaDuplexState;&#10;  ULONG                             LookaheadSize;&#10;  PNDIS_PNP_CAPABILITIES            PowerManagementCapabilities;&#10;  ULONG                             SupportedPacketFilters;&#10;  ULONG                             MaxMulticastListSize;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NDIS_PHYSICAL_MEDIUM              PhysicalMediumType;&#10;...">NDIS_BIND_PARAMETERS</a></p>

<p><a href="ndis_filter_attach_parameters" title="typedef struct _NDIS_FILTER_ATTACH_PARAMETERS {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  NET_IFINDEX                       IfIndex;&#10;  NET_LUID                          NetLuid;&#10;  PNDIS_STRING                      FilterModuleGuidName;&#10;  NET_IFINDEX                       BaseMiniportIfIndex;&#10;  PNDIS_STRING                      BaseMiniportInstanceName;&#10;  PNDIS_STRING                      BaseMiniportName;&#10;  NDIS_MEDIA_CONNECT_STATE          MediaConnectState;&#10;  NET_IF_MEDIA_DUPLEX_STATE         MediaDuplexState;&#10;  ULONG64                           XmitLinkSpeed;&#10;  ULONG64                           RcvLinkSpeed;&#10;  NDIS_MEDIUM                       MiniportMediaType;&#10;  NDIS_PHYSICAL_MEDIUM              MiniportPhysicalMediaType;&#10;  NDIS_HANDLE                       MiniportMediaSpecificAttributes;&#10;  PNDIS_OFFLOAD                     DefaultOffloadConfiguration;&#10;  USHORT                            MacAddressLength;&#10;  UCHAR                             CurrentMacAddress[NDIS_MAX_PHYS_ADDRESS_LENGTH];&#10;  NET_LUID                          BaseMiniportNetLuid;&#10;  NET_IFINDEX                       LowerIfIndex;&#10;...">NDIS_FILTER_ATTACH_PARAMETERS</a></p>

<p><a href="ndis_miniport_adapter_hardware_assist_attributes" title="typedef struct _NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES {&#10;  NDIS_OBJECT_HEADER                Header;&#10;  PNDIS_HD_SPLIT_ATTRIBUTES         HDSplitAttributes;&#10;  PNDIS_RECEIVE_FILTER_CAPABILITIES HardwareReceiveFilterCapabilities;&#10;  PNDIS_RECEIVE_FILTER_CAPABILITIES CurrentReceiveFilterCapabilities;&#10;  PNDIS_NIC_SWITCH_CAPABILITIES     HardwareNicSwitchCapabilities;&#10;  PNDIS_NIC_SWITCH_CAPABILITIES     CurrentNicSwitchCapabilities;&#10;  PNDIS_SRIOV_CAPABILITIES          HardwareSriovCapabilities;&#10;  PNDIS_SRIOV_CAPABILITIES          CurrentSriovCapabilities;&#10;  PNDIS_QOS_CAPABILITIES            HardwareQosCapabilities;&#10;  PNDIS_QOS_CAPABILITIES            CurrentQosCapabilities;&#10;  PNDIS_GFT_OFFLOAD_CAPABILITIES    HardwareGftOffloadCapabilities;&#10;  PNDIS_GFT_OFFLOAD_CAPABILITIES    CurrentGftOffloadCapabilities;&#10;} NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES, *PNDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES;">NDIS_MINIPORT_ADAPTER_HARDWARE_ASSIST_ATTRIBUTES</a></p>

<p><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-create-vport">OID_NIC_SWITCH_CREATE_VPORT</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-current-capabilities">OID_NIC_SWITCH_CURRENT_CAPABILITIES</a></p>

<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-nic-switch-hardware-capabilities">OID_NIC_SWITCH_HARDWARE_CAPABILITIES</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_nic_switch_capabilities">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddndis/ns-ntddndis-_ndis_nic_switch_capabilities.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
