<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="NDIS_RECEIVE_QUEUE_INFO - NtDoc, the native NT API online documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NDIS_RECEIVE_QUEUE_INFO - NtDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <noscript id="dark-mode-toggle-stylesheets">
        <link rel="stylesheet" href="modules/water-2.1.1-light.css" media="(prefers-color-scheme: light)">
        <link rel="stylesheet" href="modules/water-2.1.1-dark.css" media="(prefers-color-scheme: dark)">
    </noscript>
    <script src="dark-mode-toggle-stylesheets-loader.min.js"></script>
    <link rel="stylesheet" href="modules/virtual-select/virtual-select.css">
    <link rel="stylesheet" href="modules/pygments-css.css">
    <link rel="stylesheet" href="ntdoc.css">
    <noscript>
        <link rel="stylesheet" href="ntdoc-noscript.css">
    </noscript>
</head>
<body>
    <header>
        <a href="."><img class="ntdoc-title-logo" src="logo.png" alt="logo"></a>
        <h1 class="ntdoc-title">
            NDIS_RECEIVE_QUEUE_INFO - NtDoc
        </h1>
        <div class="ntdoc-subtitle">
            Native API online documentation, based on the System Informer
            (formerly Process Hacker) <a target="_blank"
            href="https://github.com/winsiderss/systeminformer/tree/master/phnt">phnt
            headers</a>
        </div>
        <div id="ntdoc-search-select"></div>
    </header>
    <div class="ntdoc-code-elements">
<div class="ntdoc-code-element">
<pre class="ntdoc-code-pre"><code class="ntdoc-code"><span class="ntdoc-code-header">// ntddndis.h

</span><span class="ntdoc-code-intro"></span><span class="ntdoc-code-body">typedef struct _NDIS_RECEIVE_QUEUE_INFO {
  <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a>                   Header;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                                Flags;
  <a href="ndis_receive_queue_type" title="typedef enum _NDIS_RECEIVE_QUEUE_TYPE {&#10;  NdisReceiveQueueTypeUnspecified,&#10;  NdisReceiveQueueTypeVMQueue,&#10;  NdisReceiveQueueTypeMaximum&#10;} NDIS_RECEIVE_QUEUE_TYPE, *PNDIS_RECEIVE_QUEUE_TYPE;">NDIS_RECEIVE_QUEUE_TYPE</a>              QueueType;
  NDIS_RECEIVE_QUEUE_ID                QueueId;
  NDIS_RECEIVE_QUEUE_GROUP_ID          QueueGroupId;
  <a href="ndis_receive_queue_operational_state" title="typedef enum _NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE {&#10;  NdisReceiveQueueOperationalStateUndefined,&#10;  NdisReceiveQueueOperationalStateRunning,&#10;  NdisReceiveQueueOperationalStatePaused,&#10;  NdisReceiveQueueOperationalStateDmaStopped,&#10;  NdisReceiveQueueOperationalStateMaximum&#10;} NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE, *PNDIS_RECEIVE_QUEUE_OPERATIONAL_STATE;">NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE</a> QueueState;
  <a href="group_affinity" title="typedef struct _GROUP_AFFINITY {&#10;  KAFFINITY Mask;&#10;  USHORT    Group;&#10;  USHORT    Reserved[3];&#10;} GROUP_AFFINITY, *PGROUP_AFFINITY;">GROUP_AFFINITY</a>                       ProcessorAffinity;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                                NumSuggestedReceiveBuffers;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                                MSIXTableEntry;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                                LookaheadSize;
  NDIS_VM_NAME                         VmName;
  NDIS_QUEUE_NAME                      QueueName;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                                NumFilters;
  <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a>                                InterruptCoalescingDomainId;
} NDIS_RECEIVE_QUEUE_INFO, *PNDIS_RECEIVE_QUEUE_INFO;</span><span class="ntdoc-code-footer"></span><span class="ntdoc-code-links"><hr><a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_receive_queue_info">View the official Windows Driver Kit DDI reference</a></span></code></pre></div>
</div>
<div class="ntdoc-descriptions">
<div class="ntdoc-description-title">
<h1>NtDoc</h1>
</div>
<div class="ntdoc-description">
<div class="ntdoc-description-none">
<p>No description available.</p>
</div>
<div class="ntdoc-description-links">
<a target="_blank" href="https://github.com/m417z/ntdoc/blob/main/descriptions/ndis_receive_queue_info.md">Edit description on GitHub</a>
</div>
</div>
<div class="ntdoc-description-title">
<h1>Windows Driver Kit DDI reference (ns-ntddndis-_ndis_receive_queue_info)</h1>
</div>
<div class="ntdoc-description ntdoc-description-selected">
<h1>_NDIS_RECEIVE_QUEUE_INFO structure</h1>
<h2>Description</h2>
<p>The <strong>NDIS_RECEIVE_QUEUE_INFO</strong> structure contains information about a receive queue on a network adapter.</p>
<h2>Members</h2>
<h3><code>Header</code></h3>
<p>The type, revision, and size of the <strong>NDIS_RECEIVE_QUEUE_INFO</strong> structure. This member is formatted as an <a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a> structure.</p>
<p>The miniport driver must set the <strong>Type</strong> member of <strong>Header</strong> to NDIS_OBJECT_TYPE_DEFAULT. To specify the version of the <strong>NDIS_RECEIVE_QUEUE_INFO</strong> structure, the driver must set the <strong>Revision</strong> member of <strong>Header</strong> to one of the following values:</p>
<h4>NDIS_RECEIVE_QUEUE_INFO_REVISION_2</h4>
<p>Added additional members for NDIS 6.30.</p>
<p><strong>Note</strong> Revision 2 of this structure is supported only on Windows Server 2012 and later versions of Windows Server.</p>
<p>Set the <strong>Size</strong> member to <strong>NDIS_SIZEOF_RECEIVE_QUEUE_INFO_REVISION_2</strong>.</p>
<h4>NDIS_RECEIVE_QUEUE_INFO_REVISION_1</h4>
<p>Original version for NDIS 6.20.</p>
<p>Set the <strong>Size</strong> member to <strong>NDIS_SIZEOF_RECEIVE_QUEUE_INFO_REVISION_1</strong>.</p>
<h3><code>Flags</code></h3>
<p>A <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> value that contains a bitwise <strong>OR</strong> of flags. This member is reserved for NDIS.</p>
<h3><code>QueueType</code></h3>
<p>An <a href="ndis_receive_queue_type" title="typedef enum _NDIS_RECEIVE_QUEUE_TYPE {&#10;  NdisReceiveQueueTypeUnspecified,&#10;  NdisReceiveQueueTypeVMQueue,&#10;  NdisReceiveQueueTypeMaximum&#10;} NDIS_RECEIVE_QUEUE_TYPE, *PNDIS_RECEIVE_QUEUE_TYPE;">NDIS_RECEIVE_QUEUE_TYPE</a> enumeration
value that specifies the type of the receive queue.</p>
<h3><code>QueueId</code></h3>
<p>An <strong>NDIS_RECEIVE_QUEUE_ID</strong> type value that contains a receive queue identifier. This identifier is an
integer value between zero and the number of queues that the network adapter supports. A value of <strong>NDIS_DEFAULT_RECEIVE_QUEUE_ID</strong> specifies
the default receive queue.</p>
<h3><code>QueueGroupId</code></h3>
<p>This member is reserved for NDIS.</p>
<h3><code>QueueState</code></h3>
<p>An <a href="ndis_receive_queue_operational_state" title="typedef enum _NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE {&#10;  NdisReceiveQueueOperationalStateUndefined,&#10;  NdisReceiveQueueOperationalStateRunning,&#10;  NdisReceiveQueueOperationalStatePaused,&#10;  NdisReceiveQueueOperationalStateDmaStopped,&#10;  NdisReceiveQueueOperationalStateMaximum&#10;} NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE, *PNDIS_RECEIVE_QUEUE_OPERATIONAL_STATE;">NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE</a> enumeration value that specifies the operational state of the
receive queue.</p>
<h3><code>ProcessorAffinity</code></h3>
<p>A <strong><a href="group_affinity" title="typedef struct _GROUP_AFFINITY {&#10;  KAFFINITY Mask;&#10;  USHORT    Group;&#10;  USHORT    Reserved[3];&#10;} GROUP_AFFINITY, *PGROUP_AFFINITY;">GROUP_AFFINITY</a></strong> bitmap that specifies the CPU that the queue has affinity with. For example,
setting bit 0 indicates that CPU 0 is used, setting bit 1 indicates that CPU 1 is used, and so on. Because a VM queue is associated with one CPU, all receive indications for the queue are handled on that processor.</p>
<h3><code>NumSuggestedReceiveBuffers</code></h3>
<p>A <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> value that contains a suggested value for the number of receive buffers that the network adapter should use to support the queue. This number can be adjusted relative to the resources that the
miniport driver has available or in proportion to the number that the network adapter uses for other
queues. For example, the actual number of receive buffers could be double or half of this suggested
value.</p>
<h3><code>MSIXTableEntry</code></h3>
<p>A <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> value that contains the MSI-X table entry index for the queue.</p>
<h3><code>LookaheadSize</code></h3>
<p>A <strong><a href="ulong" title="typedef unsigned long ULONG;">ULONG</a></strong> value for the size, in bytes, of the lookahead size requirement for this queue. A network adapter that supports lookahead in VM queues splits a received packet at an offset that is equal to or
greater than the requested lookahead size and uses DMA to transfer the lookahead data and the
post-lookahead data to separate shared memory segments.</p>
<p><strong>Note</strong> Starting with NDIS 6.30, splitting packet data into separate lookahead buffers is no longer supported. The value of this member must be set to zero.</p>
<h3><code>VmName</code></h3>
<p>An <strong>NDIS_VM_NAME</strong> value that contains the user-friendly description of the virtual machine.</p>
<h3><code>QueueName</code></h3>
<p>An <strong>NDIS_QUEUE_NAME</strong> value that contains the user-friendly description of the queue.</p>
<h3><code>NumFilters</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that specifies the number of receive filters that have been configured on the network adapter.</p>
<p><strong>Note</strong> Starting with NDIS 6.30, the miniport driver must maintain a counter for the current number of receive filters that are set on the network adapter. The driver must increment the counter each time a receive filter is set through an OID set request of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-set-filter">OID_RECEIVE_FILTER_SET_FILTER</a>. The driver must also decrement the counter each time a receive filter is cleared through an OID set request of <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-clear-filter">OID_RECEIVE_FILTER_CLEAR_FILTER</a>.</p>
<h3><code>InterruptCoalescingDomainId</code></h3>
<p>A <a href="ulong" title="typedef unsigned long ULONG;">ULONG</a> value that is reserved for use by NDIS. This value is used for informational purposes by the miniport driver.</p>
<h2>Remarks</h2>
<p>The <strong>NDIS_RECEIVE_QUEUE_INFO</strong> structure is used with the
<a href="ndis_receive_queue_info_array" title="typedef struct _NDIS_RECEIVE_QUEUE_INFO_ARRAY {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              FirstElementOffset;&#10;  ULONG              NumElements;&#10;  ULONG              ElementSize;&#10;} NDIS_RECEIVE_QUEUE_INFO_ARRAY, *PNDIS_RECEIVE_QUEUE_INFO_ARRAY;">NDIS_RECEIVE_QUEUE_INFO_ARRAY</a> structure for the
<a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-enum-queues">OID_RECEIVE_FILTER_ENUM_QUEUES</a> OID that enumerates receive queues on a network adapter.</p>
<p>With a successful return from the <a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-enum-queues">OID_RECEIVE_FILTER_ENUM_QUEUES</a>, NDIS provides an
<a href="ndis_receive_queue_info_array" title="typedef struct _NDIS_RECEIVE_QUEUE_INFO_ARRAY {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              FirstElementOffset;&#10;  ULONG              NumElements;&#10;  ULONG              ElementSize;&#10;} NDIS_RECEIVE_QUEUE_INFO_ARRAY, *PNDIS_RECEIVE_QUEUE_INFO_ARRAY;">NDIS_RECEIVE_QUEUE_INFO_ARRAY</a> structure that defines the properties of the receive queue array. Each
element in the array is an <strong>NDIS_RECEIVE_QUEUE_INFO</strong> structure.</p>
<h2>See also</h2>
<p><a href="ndis_object_header" title="typedef struct _NDIS_OBJECT_HEADER {&#10;  UCHAR  Type;&#10;  UCHAR  Revision;&#10;  USHORT Size;&#10;} NDIS_OBJECT_HEADER, *PNDIS_OBJECT_HEADER;">NDIS_OBJECT_HEADER</a></p>
<p><a href="ndis_receive_queue_info_array" title="typedef struct _NDIS_RECEIVE_QUEUE_INFO_ARRAY {&#10;  NDIS_OBJECT_HEADER Header;&#10;  ULONG              FirstElementOffset;&#10;  ULONG              NumElements;&#10;  ULONG              ElementSize;&#10;} NDIS_RECEIVE_QUEUE_INFO_ARRAY, *PNDIS_RECEIVE_QUEUE_INFO_ARRAY;">NDIS_RECEIVE_QUEUE_INFO_ARRAY</a></p>
<p><a href="ndis_receive_queue_operational_state" title="typedef enum _NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE {&#10;  NdisReceiveQueueOperationalStateUndefined,&#10;  NdisReceiveQueueOperationalStateRunning,&#10;  NdisReceiveQueueOperationalStatePaused,&#10;  NdisReceiveQueueOperationalStateDmaStopped,&#10;  NdisReceiveQueueOperationalStateMaximum&#10;} NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE, *PNDIS_RECEIVE_QUEUE_OPERATIONAL_STATE;">NDIS_RECEIVE_QUEUE_OPERATIONAL_STATE</a></p>
<p><a href="ndis_receive_queue_type" title="typedef enum _NDIS_RECEIVE_QUEUE_TYPE {&#10;  NdisReceiveQueueTypeUnspecified,&#10;  NdisReceiveQueueTypeVMQueue,&#10;  NdisReceiveQueueTypeMaximum&#10;} NDIS_RECEIVE_QUEUE_TYPE, *PNDIS_RECEIVE_QUEUE_TYPE;">NDIS_RECEIVE_QUEUE_TYPE</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-clear-filter">OID_RECEIVE_FILTER_CLEAR_FILTER</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-enum-queues">OID_RECEIVE_FILTER_ENUM_QUEUES</a></p>
<p><a rel="noopener" target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/network/oid-receive-filter-set-filter">OID_RECEIVE_FILTER_SET_FILTER</a></p>
<hr>
<div class="ntdoc-description-links">
<p>
<a target="_blank" href="https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ns-ntddndis-_ndis_receive_queue_info">View the official Windows Driver Kit DDI reference</a>
</p>
<a target="_blank" href="https://github.com/MicrosoftDocs/windows-driver-docs-ddi/blob/staging/wdk-ddi-src/content/ntddndis/ns-ntddndis-_ndis_receive_queue_info.md">Edit description on GitHub</a>
</div>
</div>
</div>

    <!-- For sticky footer: https://stackoverflow.com/a/34146411 -->
    <div class="spacer"></div>
    <footer>
        By <a href="https://m417z.com/" target="_blank" rel="noopener">m417z</a> &bull;
        content by <a href="https://github.com/diversenok" target="_blank" rel="noopener">diversenok</a> &bull;
        <a href="https://github.com/m417z/ntdoc" target="_blank" rel="noopener">GitHub repository</a> &bull;
        <dark-mode-toggle permanent></dark-mode-toggle>
    </footer>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWF4NP61SX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YWF4NP61SX');
    </script>
    <script src="modules/jquery-3.7.0.min.js"></script>
    <script src="modules/q-1.5.1.js"></script>
    <script src="modules/virtual-select/virtual-select-jquery.min.js"></script>
    <script src="modules/popper-2.11.8.min.js"></script>
    <script src="modules/tippy-6.3.7.min.js"></script>
    <script src="modules/anchor-5.0.0.min.js"></script>
    <script type="module" src="modules/dark-mode-toggle-0.14.6.min.mjs"></script>
    <script src="ntdoc.js"></script>
</body>
</html>
